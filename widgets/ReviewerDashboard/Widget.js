// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"esri/tasks/datareviewer/DashboardTask":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/Deferred dojo/has ./_DRSBaseTask ./DashboardResult ./ReviewerFilters ../../kernel ../../request".split(" "),function(x,B,p,u,r,a,h,e,b,d){x=x(a,{declaredClass:"esri.tasks.datareviewer.DashboardTask",constructor:function(f){this.onGetDashboardResultsComplete=p.hitch(this,this.onGetDashboardResultsComplete);this.onGetDashboardFieldNamesComplete=p.hitch(this,this.onGetDashboardFieldNamesComplete)},
getDashboardResults:function(f,l){var c=this._successHandler,k=this._errorHandler,g=this._appendQueryParams,m=new u;null===l||void 0===l?(f=this._url+"/Dashboard/reviewerResultsBy/"+f,l={f:"json"}):(f=this._url+"/Dashboard/reviewerResultsBy/"+f+"/filter",l={f:"json",filtersArray:l.toJSON()});f=g(f);d({callbackParamName:"callback",url:f,content:l}).then(p.hitch(this,function(t,n){if(void 0!==t.error)n=Error(),n.message=t.error.message,n.code=t.error.code,k(n,m);else try{if(void 0===t.dashboardResults)k(null,
m);else{var q=new h;B.forEach(t.dashboardResults,function(A,C){q.fieldValues.push(A.fieldValue);q.counts.push(A.count)});q.fieldName=t.fieldName;var v=new e;v.createFromJsonObject(t);q.filters=v;c({dashboardResult:q},"onGetDashboardResultsComplete",m)}}catch(A){k(A,m)}}),function(t,n){k(t,m)});return m},getDashboardFieldNames:function(){var f=this._successHandler,l=this._errorHandler,c=this._appendQueryParams,k=this._url+"/Dashboard";k=c(k);var g=new u;d({callbackParamName:"callback",url:k,content:{f:"json"}}).then(p.hitch(this,
function(m,t){if(void 0!==m.error)t=Error(),t.message=m.error.message,t.code=m.error.code,l(t,g);else try{var n=[];B.forEach(m.reviewerResultsBy,function(q,v){n.push(q.name)});f({fieldNames:n},"onGetDashboardFieldNamesComplete",g)}catch(q){l(q,g)}}),function(m,t){l(m,g)});return g},onGetDashboardResultsComplete:function(f){},onGetDashboardFieldNamesComplete:function(f){}});r("extend-esri")&&p.setObject("tasks.datareviewer.DashboardTask",x,b);return x})},"esri/tasks/datareviewer/_DRSBaseTask":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/has ../../request ../../urlUtils ../../kernel ../Task ./ReviewerSession".split(" "),
function(x,B,p,u,r,a,h,e,b,d){x=x(b,{declaredClass:"esri.tasks.datareviewer.DRSBaseTask",_url:null,_queryParams:null,_reviewerMapServerUrl:null,constructor:function(f){"/"==f[f.length-1]&&(f=f.slice(0,-1));f=h.urlToObject(f);this._url=f.path;this._queryParams=f.query;f=this._url.toLowerCase().lastIndexOf("/exts/");0<f&&(this._reviewerMapServerUrl=this._url.substring(0,f));this._successHandler=B.hitch(this,this._successHandler);this._errorHandler=B.hitch(this,this._errorHandler);this._appendQueryParams=
B.hitch(this,this._appendQueryParams);this.onError=B.hitch(this,this.onError)},_appendQueryParams:function(f){if(this._queryParams)for(var l in this._queryParams)f=h.urlToObject(f).query?f+("\x26"+l+"\x3d"+this._queryParams[l]):f+("?"+l+"\x3d"+this._queryParams[l]);return f},_successHandler:function(f,l,c){l&&this[l].apply(this,[f]);c&&c.resolve(f)},_errorHandler:function(f,l){null===f&&(f=Error("Unexpected response received from server"),f.code=500);this.onError(f);l&&l.reject(f)},getReviewerMapServerUrl:function(){var f=
null;if(f=this._reviewerMapServerUrl){if(this._queryParams)for(var l in this._queryParams)f=h.urlToObject(f).query?f+("\x26"+l+"\x3d"+this._queryParams[l]):f+("?"+l+"\x3d"+this._queryParams[l]);return f}return null},getLifecycleStatusStrings:function(){var f=this._successHandler,l=this._errorHandler,c=this._appendQueryParams,k=this._url+"/Utilities/getLifecycleStatusStrings";k=c(k);var g=new u;a({callbackParamName:"callback",url:k,content:{f:"json"}}).then(B.hitch(this,function(m,t){if(void 0!==m.error)t=
Error(),t.message=m.error.message,t.code=m.error.code,l(t,g);else try{var n=m.lifecycleStatusString;if(void 0===n)l(null,g);else{var q=[];p.forEach(n,function(v,A){q[v.descriptionCode]=v.descriptionString});f({lifecycleStatusStrings:q},"onGetLifecycleStatusStringsComplete",g)}}catch(v){l(v,g)}}),function(m,t){l(m,g)});return g},createReviewerSession:function(f,l){var c=this._successHandler,k=this._errorHandler,g=this._appendQueryParams,m=this._url+"/Utilities/createReviewerSession";m=g(m);var t=new u;
a({callbackParamName:"callback",url:m,content:{sessionName:f,sessionProperties:l.toJsonSessionOptions(),f:"json"}}).then(B.hitch(this,function(n,q){if(void 0!==n.error)q=Error(),q.message=n.error.message,q.code=n.error.code,k(q,t);else try{if(void 0===n.sessionAttributes)k(null,t);else{var v=n.sessionAttributes,A=new d(v.sessionId,v.sessionName,v.userName,v.versionName);c({reviewerSession:A},"onCreateReviewerSessionComplete",t)}}catch(C){k(C,t)}}),function(n,q){k(n,t)});return t},getReviewerSessions:function(){var f=
this._successHandler,l=this._errorHandler,c=this._appendQueryParams,k=this._url+"/Utilities/getReviewerSessions";k=c(k);var g=new u;a({callbackParamName:"callback",url:k,content:{f:"json"}}).then(B.hitch(this,function(m,t){if(void 0!==m.error)t=Error(),t.message=m.error.message,t.code=m.error.code,l(t,g);else try{var n=m.sessionAttributes;if(void 0===n)l(null,g);else{var q=[];p.forEach(n,function(v,A){q[A]=new d(v.sessionId,v.sessionName,v.userName,v.versionName)});f({reviewerSessions:q},"onGetReviewerSessionsComplete",
g)}}catch(v){l(v,g)}}),function(m,t){l(m,g)});return g},getCustomFieldNames:function(){var f=this._successHandler,l=this._errorHandler,c="BATCHJOBCHECKGROUP CHECKTITLE FEATUREOBJECTCLASS LIFECYCLEPHASE LIFECYCLESTATUS SESSIONID SEVERITY SUBTYPE".split(" "),k=this._appendQueryParams,g=this._url+"/Dashboard";g=k(g);var m=new u;a({callbackParamName:"callback",url:g,content:{f:"json"}}).then(B.hitch(this,function(t,n){if(void 0!==t.error)n=Error(),n.message=t.error.message,n.code=t.error.code,l(n,m);
else try{var q=[];void 0===t.reviewerResultsBy&&l(null,m);p.forEach(t.reviewerResultsBy,function(v,A){-1===c.indexOf(v.name)&&q.push(v.name)});f({customFieldNames:q},"onGetCustomFieldNamesComplete",m)}catch(v){l(v,m)}}),function(t,n){l(t,m)});return m},onGetLifecycleStatusStringsComplete:function(f){},onGetReviewerSessionsComplete:function(f){},onCreateReviewerSessionComplete:function(f){},onGetCustomFieldNamesComplete:function(f){},onError:function(f){}});r("extend-esri")&&B.setObject("tasks.datareviewer.DRSBaseTask",
x,e);return x})},"esri/tasks/datareviewer/ReviewerSession":function(){define(["dojo/_base/declare","dojo/has","dojo/_base/lang","../../kernel"],function(x,B,p,u){x=x(null,{declaredClass:"esri.tasks.datareviewer.ReviewerSession",sessionId:NaN,sessionName:"",userName:"",versionName:"",constructor:function(r,a,h,e){this.sessionId=r;this.sessionName=a;this.userName=h;void 0!==e&&(this.versionName=e)},toString:function(){return isNaN(this.sessionId)?null:"Session "+this.sessionId+" : "+this.sessionName}});
B("extend-esri")&&p.setObject("tasks.datareviewer.ReviewerSession",x,u);return x})},"esri/tasks/datareviewer/DashboardResult":function(){define(["dojo/_base/declare","dojo/has","dojo/_base/lang","../../kernel"],function(x,B,p,u){x=x(null,{declaredClass:"esri.tasks.datareviewer.DashboardResult",fieldName:null,fieldValues:null,counts:null,filters:null,constructor:function(){this.fieldName="";this.fieldValues=[];this.counts=[]},getCount:function(r){if(0<this.fieldValues.length&&0<this.counts.length&&
this.fieldValues.length===this.counts.length)for(var a=0;a<this.fieldValues.length;a++)if(this.fieldValues[a]===r)return this.counts[a];return 0}});B("extend-esri")&&p.setObject("tasks.datareviewer.DashboardResult",x,u);return x})},"esri/tasks/datareviewer/ReviewerFilters":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/json ../../geometry/Polygon dojo/has ../../kernel".split(" "),function(x,B,p,u,r,a,h){x=x(null,{declaredClass:"esri.tasks.datareviewer.ReviewerFilters",
constructor:function(){this.singleAttributeFilters=[];this.listAttributeFilters=[];this.rangeAttributeFilters=[];this.spatialFilters=[]},addAttributeFilter:function(e,b){var d={};d.fieldName=e;p.isArray(b)?1<b.length?(d.fieldValue=b,this.listAttributeFilters.push(d)):(d.fieldValue=b[0],this.singleAttributeFilters.push(d)):(d.fieldValue=b,this.singleAttributeFilters.push(d))},addRangeFilter:function(e,b,d){var f={},l={};l.minFieldValue=b;l.maxFieldValue=d;f.fieldName=e;f.fieldValue=l;this.rangeAttributeFilters.push(f)},
addSpatialFilter:function(e){var b={};e&&"rings"in e&&"spatialReference"in e&&(b.rings=e.rings,b.spatialReference=e.spatialReference,this.spatialFilters.push(b))},toJSON:function(){var e=[];null!==this.singleAttributeFilters&&0<this.singleAttributeFilters.length&&e.push({singleAttributeFilter:this.singleAttributeFilters});null!==this.listAttributeFilters&&0<this.listAttributeFilters.length&&e.push({listAttributeFilter:this.listAttributeFilters});null!==this.rangeAttributeFilters&&0<this.rangeAttributeFilters.length&&
e.push({rangeAttributeFilter:this.rangeAttributeFilters});null!==this.spatialFilters&&0<this.spatialFilters.length&&e.push({spatialFilter:this.spatialFilters});return 0===e.length?"":u.stringify({filtersArray:e})},getCount:function(){var e=0;null!==this.singleAttributeFilters&&0<this.singleAttributeFilters.length&&(e+=this.singleAttributeFilters.length);null!==this.listAttributeFilters&&0<this.listAttributeFilters.length&&(e+=this.listAttributeFilters.length);null!==this.rangeAttributeFilters&&0<
this.rangeAttributeFilters.length&&(e+=this.rangeAttributeFilters.length);null!==this.spatialFilters&&0<this.spatialFilters.length&&(e+=this.spatialFilters.length);return e},addReviewerFilters:function(e){if(!e)return 0;var b=0;B.forEach(e.singleAttributeFilters,function(d){this.addAttributeFilter(d.fieldName,d.fieldValue);b++});B.forEach(e.listAttributeFilters,function(d){this.addAttributeFilter(d.fieldName,d.fieldValue);b++});B.forEach(e.rangeAttributeFilters,function(d){this.addRangeFilter(d.fieldName,
d.minValue,d.maxValue);b++});B.forEach(e.spatialFilters,function(d){this.addSpatialFilter(d);b++});return b},createFromJsonObject:function(e){e&&e.filters&&p.isArray(e.filters)&&B.forEach(e.filters,p.hitch(this,function(b){"spatialFilter"in b?B.forEach(b.spatialFilter,p.hitch(this,function(d){this.addSpatialFilter(new r(d))})):"singleAttributeFilter"in b?B.forEach(b.singleAttributeFilter,p.hitch(this,function(d){this.addAttributeFilter(d.fieldName,d.fieldValue)})):"listAttributeFilter"in b?B.forEach(b.listAttributeFilter,
p.hitch(this,function(d){this.addAttributeFilter(d.fieldName,d.fieldValue)})):"rangeAttributeFilter"in b&&B.forEach(b.rangeAttributeFilter,p.hitch(this,function(d){this.addRangeFilter(d.fieldName,d.minValue,d.maxValue)}))}))}});a("extend-esri")&&p.setObject("tasks.datareviewer.ReviewerFilters",x,h);return x})},"widgets/ReviewerDashboard/ReviewerMapHelper":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/Color dojo/Deferred esri/symbols/SimpleMarkerSymbol esri/symbols/SimpleLineSymbol esri/symbols/SimpleFillSymbol esri/request esri/main esri/layers/LayerDrawingOptions esri/renderers/UniqueValueRenderer".split(" "),
function(x,B,p,u,r,a,h,e,b,d,f,l){return x(null,{_drsExtensionUrl:null,_queryParams:null,_reviewerMapServerUrl:null,pointSymbol:null,lineSymbol:null,polySymbol:null,_fieldQualifier:null,_colorMapCache:null,SEVERITY_COLORS:{1:"#D80202",2:"#DF370C",3:"#E76D16",4:"#E76D16",5:"#FFEC5A"},LIFECYCLEPHASE_COLORS:{2:"#C00000",4:"#FFFF00",6:"#92D050"},DEFAULT_COLOR:"#00C5FF",defaultColor:null,constructor:function(c,k,g,m,t){c=d.urlToObject(c);this._drsExtensionUrl=c.path;this._queryParams=c.query;c=this._drsExtensionUrl.toLowerCase().lastIndexOf("/exts/");
0<c&&(this._reviewerMapServerUrl=this._drsExtensionUrl.substring(0,c));this.defaultColor=null!==t?t:new u(this.DEFAULT_COLOR);this.pointSymbol=null!==k?k:new a(a.STYLE_CIRCLE,7,null,this.defaultColor);this.lineSymbol=null!==g?g:new h(h.STYLE_SOLID,this.defaultColor,5);this.polySymbol=null!==m?m:new e(e.STYLE_SOLID,null,this.defaultColor);this._colorMapCache={}},getLayerDrawingOptions:function(c,k,g){var m=new r;if(!c)return m;var t=this._reviewerMapServerUrl+"/0";null!==this._fieldQualifier?this._generateLayerDrawingOptions(c,
k,g,m):b({url:t,content:{f:"json"},callbackParamName:"callback"}).then(p.hitch(this,function(n){var q=new RegExp(/severity/i);B.forEach(n.fields,p.hitch(this,function(v){if(v.name.match(q))try{var A=v.name.split(q);this._fieldQualifier=1<A.length?A[0]:"";this._generateLayerDrawingOptions(c,k,g,m)}catch(C){this._errorHandler(C,m)}}))}),p.hitch(this,function(n){this._errorHandler(n,m)}));return m},_generateLayerDrawingOptions:function(c,k,g,m){var t=[];var n=this._mapDashboardFieldNameToFullyQualifiedName(c.fieldName).toLowerCase();
t=c.fieldValues;k=this._updateColorMapAndCache(c.fieldName,t,k,g);c=this._createPolyRenderer(n,t,k);g=this._createLineRenderer(n,t,k);n=this._createPointRenderer(n,t,k);k={layerDrawingOptions:{layerDrawingOptionsArray:[this._createLayerDrawingOptions(0,n),this._createLayerDrawingOptions(1,g),this._createLayerDrawingOptions(2,c)],colorMap:k}};m.resolve(k)},_updateColorMapAndCache:function(c,k,g,m){if(null===g){if(0<=c.toLowerCase().indexOf("severity")||0<=c.toLowerCase().indexOf("lifecyclephase"))m=
!0;g=this._colorMapCache.hasOwnProperty(c)?this._colorMapCache[c]:this._createDefaultColorMap(c)}k=this._appendMissingValuesToColorMap(k,g,m);return this._colorMapCache[c]=k},_appendMissingValuesToColorMap:function(c,k,g){var m=0,t;for(t in k)k.hasOwnProperty(t)&&++m;for(m=0;m<c.length;m++)k.hasOwnProperty(c[m])||(k[c[m]]=g?this.defaultColor:new u(this.getColor(m)));return k},getColor:function(c){var k="#E8940C #98C000 #0CBDE8 #F2DA9A #E74327 #DECF3F #878786 #452B7F #9A8B76 #B2912F #9893da #139887".split(" ");
return 11>c?k[c]:"#"+Math.floor(16777215*Math.random()).toString(16)},_createLayerDrawingOptions:function(c,k){var g=new f;g.layerId=c;g.renderer=k;return g},_createDefaultColorMap:function(c){return 0<=c.toLowerCase().indexOf("severity")?this._getColorMap(this.SEVERITY_COLORS):0<=c.toLowerCase().indexOf("lifecyclephase")?this._getColorMap(this.LIFECYCLEPHASE_COLORS):{}},_getColorMap:function(c){var k={},g;for(g in c)k[g]=new u(c[g]);return k},_mapDashboardFieldNameToFullyQualifiedName:function(c){if(!c||
""===c)return"";"FEATUREOBJECTCLASS"===c.toUpperCase()&&(c="ORIGINTABLE");return null!==this._fieldQualifier&&0<this._fieldQualifier.length?this._fieldQualifier+c:c},_createPolyRenderer:function(c,k,g){for(var m=new l(this.polySymbol,c),t=0;t<k.length;t++){var n=k[t],q=new e;q.style=this.polySymbol.style;g.hasOwnProperty(n)?q.color=g[n]:q.color=this.defaultColor;if(null!==this.polySymbol.outline){var v=new h;v.color=q.color;v.style=this.polySymbol.outline.style;v.width=this.polySymbol.outline.width;
q.outline=v}else q.outline=new h(h.STYLE_SOLID,q.color,1);"\x3cNull\x3e"===n&&(m=new l(q,c));m.addValue(n,q)}return m},_createLineRenderer:function(c,k,g){for(var m=new l(this.lineSymbol,c),t=0;t<k.length;t++){var n=k[t],q=new h;g.hasOwnProperty(n)?q.color=g[n]:q.color=this.defaultColor;q.style=this.lineSymbol.style;q.width=this.lineSymbol.width;"\x3cNull\x3e"===n&&(m=new l(q,c));m.addValue(n,q)}return m},_createPointRenderer:function(c,k,g){for(var m=new l(this.pointSymbol,c),t=0;t<k.length;t++){var n=
k[t],q=new a;g.hasOwnProperty(n)?q.color=g[n]:q.color=this.defaultColor;q.outline=this.pointSymbol.outline;q.size=this.pointSymbol.size;q.style=this.pointSymbol.style;"\x3cNull\x3e"===n&&(m=new l(q,c));m.addValue(n,q)}return m},_errorHandler:function(c,k){null===c&&(c=Error("Unexpected response received from server"),c.code=500);k&&k.reject(c)}})})},"esri/tasks/datareviewer/ReviewerResultsTask":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/json dojo/has ./_DRSBaseTask ../../request ../FeatureSet ../../layers/FeatureEditResult ../../kernel".split(" "),
function(x,B,p,u,r,a,h,e,b,d,f){x=x(h,{declaredClass:"esri.tasks.datareviewer.ReviewerResultsTask",constructor:function(l){this.onGetResultsComplete=B.hitch(this,this.onGetResultsComplete);this.onWriteResultComplete=B.hitch(this,this.onWriteResultComplete);this.onWriteFeatureAsResultComplete=B.hitch(this,this.onWriteFeatureAsResultComplete);this.onGetLayerDefinitionComplete=B.hitch(this,this.onGetLayerDefinitionComplete);this.onGetBatchRunDetailsComplete=B.hitch(this,this.onGetBatchRunDetailsComplete)},
getResults:function(l,c){var k=this._successHandler,g=this._errorHandler,m=this._appendQueryParams,t=this._url+"/ReviewerResults/getResults";t=m(t);var n=new u;l={queryParameters:l.toJSON(),f:"json"};null!==c&&void 0!==c&&(l.filtersArray=c.toJSON());e({callbackParamName:"callback",url:t,content:l}).then(B.hitch(this,function(q,v){if(void 0!==q.error)v=Error(),v.message=q.error.message,v.code=q.error.code,g(v,n);else try{if(void 0===q.features||void 0===q.fieldAliases||void 0===q.fields)g(null,n);
else{var A=new b(q);k({featureSet:A},"onGetResultsComplete",n)}}catch(C){g(C,n)}}),function(q,v){g(q,n)});return n},writeResult:function(l,c){var k=this._successHandler,g=this._errorHandler,m=this._appendQueryParams,t=this._url+"/ReviewerResults/writeResult";t=m(t);var n=new u;e({callbackParamName:"callback",url:t,content:{reviewerAttributes:l.toJSON(),geometry:r.stringify(c.toJson()),f:"json"}}).then(B.hitch(this,function(q,v){v=Error();if(void 0!==q.error)v.message=q.error.message,v.code=q.error.code,
g(v,n);else try{void 0!==q.result&&"error"===q.result?(v.message=q.messages,v.code=q.result,g(v,n)):"success"===q.result?k({success:!0},"onWriteResultComplete",n):g(null,n)}catch(A){g(A,n)}}),function(q,v){g(q,n)});return n},writeFeatureAsResult:function(l,c){var k=this._successHandler,g=this._errorHandler,m=this._appendQueryParams,t=this._url+"/ReviewerResults/writeFeatureAsResult";t=m(t);var n=new u;e({callbackParamName:"callback",url:t,content:{reviewerAttributes:l.toJSON(),feature:r.stringify(c.toJson()),
f:"json"}}).then(B.hitch(this,function(q,v){v=Error();if(void 0!==q.error)v.message=q.error.message,v.code=q.error.code,g(v,n);else try{void 0!==q.result&&"error"===q.result?(v.message=q.messages,v.code=q.result,g(v,n)):"success"===q.result?k({success:!0},"onWriteFeatureAsResultComplete",n):g(null,n)}catch(A){g(A,n)}}),function(q,v){g(q,n)});return n},getLayerDefinition:function(l){var c=this._successHandler,k=this._errorHandler,g=this._appendQueryParams,m=this._url+"/ReviewerResults/getLayerDefinition";
m=g(m);var t=new u;g={f:"json"};if(null!==l||void 0!==l)g.filtersArray=l.toJSON();e({callbackParamName:"callback",url:m,content:g}).then(B.hitch(this,function(n,q){if(void 0!==n.error)q=Error(),q.message=n.error.message,q.code=n.error.code,k(q,t);else try{void 0===n.whereClause?k(null,t):c({whereClause:n.whereClause},"onGetLayerDefinitionComplete",t)}catch(v){k(v,t)}}),function(n,q){k(n,t)});return t},getBatchRunDetails:function(l){var c=this._successHandler,k=this._errorHandler,g=this._appendQueryParams,
m=this._url+"/ReviewerResults/getBatchRunDetails";m=g(m);var t=new u;e({callbackParamName:"callback",url:m,content:{batchRunIds:r.stringify(l),f:"json"}}).then(B.hitch(this,function(n,q){if(void 0!==n.error)q=Error(),q.message=n.error.message,q.code=n.error.code,k(q,t);else try{if(void 0===n.features||void 0===n.fieldAliases||void 0===n.fields)k(null,t);else{var v=new b(n);c({featureSet:v},"onGetBatchRunDetailsComplete",t)}}catch(A){k(A,t)}}),function(n,q){k(n,t)});return t},updateLifecycleStatus:function(l,
c,k,g){var m=this._successHandler,t=this._errorHandler,n=this._appendQueryParams,q=this._url+"/ReviewerResults/updateLifecycleStatus";q=n(q);var v=new u;e({callbackParamName:"callback",url:q,content:{sessionId:l,lifecycleStatus:c,technicianName:k,filtersArray:g.toJSON(),f:"json"}}).then(B.hitch(this,function(A,C){if(void 0!==A.error)C=Error(),C.message=A.error.message,C.code=A.error.code,t(C,v);else try{var I=[];p.forEach(A.updateResults,function(M){var O=new d;O.error=Error(M.description);O.success=
M.success;O.objectId=M.objectId;I.push(O)});m({featureEditResults:I},"onUpdateLifecycleStatusComplete",v)}catch(M){t(M,v)}}),function(A,C){t(A,v)});return v},getResultsFieldNames:function(){return"recordId objectId subtype category sessionId checktitle resourceName checkName notes severity reviewStatus correctionStatus verificationStatus reviewTechnician correctionTechnician verificationTechnician reviewDateUtc correctionDateUtc verificationDateUtc lifecycleStatus".split(" ")},onGetResultsComplete:function(l){},
onWriteResultComplete:function(l){},onWriteFeatureAsResultComplete:function(l){},onGetLayerDefinitionComplete:function(l){},onGetBatchRunDetailsComplete:function(l){},onUpdateLifecycleStatusComplete:function(l){}});a("extend-esri")&&B.setObject("tasks.datareviewer.ReviewerResultsTask",x,f);return x})},"esri/tasks/datareviewer/ReviewerLifecycle":function(){define(["dojo/_base/declare","dojo/has","dojo/_base/lang","../../kernel"],function(x,B,p,u){x={declaredClass:"esri.tasks.datareviewer.ReviewerLifecycle",
UNKNOWN:0,REVIEWED:1,RESOLVED:2,MARK_AS_EXCPETION:3,ACCEPTABLE:4,UNRESOLVED_EXCEPTION:5,UNACCEPTABLE:6,UNRESOLVED_UNACCEPTABLE:7,UNRESOLVED_ACCEPTABLE:8,EXCEPTION:9,NEW:10,PASSED:11,FAILED:12,REVIEW:2,CORRECTION:4,VERIFICATION:6,LIFECYCLESTATUS_DESCRIPTIONS:{0:"Unknown",1:"Reviewed",2:"Resolved",3:"Mark As Exception",4:"Acceptable",6:"Unacceptable",9:"Exception",10:"New",11:"Passed",12:"Failed"},LIFECYCLEPHASE_DESCRIPTIONS:{2:"Review",4:"Correction",6:"Verification"},getLifecycleInfo:function(r){if(null===
r||0===r.length)return null;r.sort();var a=[];a=this._getNextStatus(r[0]);for(var h=1;h<r.length;h++){for(var e=this._getNextStatus(r[h]),b=[],d=0;d<e.length;d++)-1!=a.indexOf(e[d])&&b.push(e[d]);if(0<b.length)a=b;else{a.length=0;break}}r=null;0<a.length&&(r={nextLifecycleStatus:a,nextLifecyclePhase:this._getNextLifecyclePhase(a[0])});return r},toLifecycleStatusString:function(r){return isNaN(r)||!1===this.LIFECYCLESTATUS_DESCRIPTIONS.hasOwnProperty(r)?null:this.LIFECYCLESTATUS_DESCRIPTIONS[r]},toLifecyclePhaseString:function(r){return isNaN(r)||
!1===this.LIFECYCLEPHASE_DESCRIPTIONS.hasOwnProperty(r)?null:this.LIFECYCLEPHASE_DESCRIPTIONS[r]},getCurrentLifecyclePhase:function(r){if(isNaN(r)||!1===this.LIFECYCLESTATUS_DESCRIPTIONS.hasOwnProperty(r))return null;var a=-1;switch(r){case this.UNKNOWN:case this.REVIEWED:case this.UNACCEPTABLE:case this.UNRESOLVED_UNACCEPTABLE:case this.NEW:a=this.REVIEW;break;case this.RESOLVED:case this.MARK_AS_EXCPETION:a=this.CORRECTION;break;case this.ACCEPTABLE:case this.EXCEPTION:case this.UNRESOLVED_EXCEPTION:case this.UNRESOLVED_ACCEPTABLE:case this.PASSED:case this.FAILED:a=
this.VERIFICATION}return this.LIFECYCLEPHASE_DESCRIPTIONS[a]},_getNextStatus:function(r){var a=[];switch(r){case this.UNKNOWN:a.push(this.RESOLVED);a.push(this.MARK_AS_EXCPETION);a.push(this.PASSED);a.push(this.FAILED);break;case this.REVIEWED:a.push(this.RESOLVED);a.push(this.MARK_AS_EXCPETION);break;case this.NEW:a.push(this.PASSED);a.push(this.FAILED);break;case this.UNACCEPTABLE:case this.UNRESOLVED_UNACCEPTABLE:a.push(this.RESOLVED);a.push(this.MARK_AS_EXCPETION);break;case this.RESOLVED:a.push(this.ACCEPTABLE);
a.push(this.UNACCEPTABLE);break;case this.MARK_AS_EXCPETION:case this.UNRESOLVED_EXCEPTION:case this.UNRESOLVED_ACCEPTABLE:a.push(this.EXCEPTION);a.push(this.UNACCEPTABLE);break;case this.ACCEPTABLE:a.push(this.UNACCEPTABLE);break;case this.EXCEPTION:a.push(this.UNACCEPTABLE);break;case this.PASSED:a.push(this.FAILED);break;case this.FAILED:a.push(this.PASSED)}return a},_getNextLifecyclePhase:function(r){var a=-1;switch(r){case this.UNKNOWN:case this.REVIEWED:case this.UNACCEPTABLE:case this.UNRESOLVED_UNACCEPTABLE:a=
this.CORRECTION;break;case this.NEW:case this.RESOLVED:case this.MARK_AS_EXCPETION:case this.PASSED:case this.FAILED:a=this.VERIFICATION;break;case this.ACCEPTABLE:case this.EXCEPTION:case this.UNRESOLVED_EXCEPTION:case this.UNRESOLVED_ACCEPTABLE:a=this.REVIEW}return a}};B("extend-esri")&&p.setObject("tasks.datareviewer.ReviewerLifecycle",x,u);return x})},"dojox/charting/Chart":function(){define("../main dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/dom-style dojo/dom dojo/dom-geometry dojo/dom-construct dojo/_base/Color dojo/sniff ./Element ./SimpleTheme ./Series ./axis2d/common ./plot2d/common dojox/gfx/shape dojox/gfx dojo/has!dojo-bidi?./bidi/Chart dojox/lang/functional dojox/lang/functional/fold dojox/lang/functional/reversed".split(" "),
function(x,B,p,u,r,a,h,e,b,d,f,l,c,k,g,m,t,n,q){function v(y){return y.clear()}function A(y){return y.destroy()}function C(y){return y.dirty=!1}function I(y){return y.dirty=!0}function M(y){return y.name}function O(y,z){y&&z&&(y.min=Math.min(y.min,z.min),y.max=Math.max(y.max,z.max));return y||z}function L(y,z){var F={},J={};p.forEach(y,function(H){var D=F[H.name]=H.getSeriesStats();H.hAxis&&(J[H.hAxis]=O(J[H.hAxis],{min:D.hmin,max:D.hmax}));H.vAxis&&(J[H.vAxis]=O(J[H.vAxis],{min:D.vmin,max:D.vmax}))});
p.forEach(y,function(H){var D=F[H.name];if(H.hAxis){var S=J[H.hAxis];D.hmin=S.min;D.hmax=S.max}H.vAxis&&(S=J[H.vAxis],D.vmin=S.min,D.vmax=S.max);H.initializeScalers(z,D)})}var T=B.getObject("charting",!0,x),X={l:10,t:10,r:10,b:10};x=u(d("dojo-bidi")?"dojox.charting.NonBidiChart":"dojox.charting.Chart",null,{constructor:function(y,z){z||(z={});this.margins=z.margins||X;this._customMargins=!!z.margins;this.stroke=z.stroke;this.fill=z.fill;this.delayInMs=z.delayInMs||200;this.title=z.title;this.titleGap=
z.titleGap;this.titlePos=z.titlePos;this.titleFont=z.titleFont;this.titleFontColor=z.titleFontColor;this.titleAlign=z.titleAlign;this.chartTitle=null;this.htmlLabels=!0;"htmlLabels"in z&&(this.htmlLabels=z.htmlLabels);this.theme=null;this.axes={};this.stack=[];this.plots={};this.series=[];this.runs={};this.dirty=!0;this.node=a.byId(y);y=h.getMarginBox(y);this.surface=t.createSurface(this.node,y.w||400,y.h||300);-1==this.surface.declaredClass.indexOf("vml")&&(this._nativeClip=!0)},destroy:function(){p.forEach(this.series,
A);p.forEach(this.stack,A);q.forIn(this.axes,A);this.surface.destroy();this.chartTitle&&this.chartTitle.tagName&&e.destroy(this.chartTitle)},getCoords:function(){var y=this.node,z=r.getComputedStyle(y);z=h.getMarginBox(y,z);y=h.position(y,!0);z.x=y.x;z.y=y.y;return z},setTheme:function(y){this.theme=y.clone();this._customMargins||(this.margins=this.theme.chart.margins||X);this.dirty=!0;return this},addAxis:function(y,z){var F=z&&z.type||"Default";if("string"==typeof F){if(!T.axis2d||!T.axis2d[F])throw Error("Can't find axis: "+
F+" - Check require() dependencies.");z=new T.axis2d[F](this,z)}else z=new F(this,z);z.name=y;z.dirty=!0;y in this.axes&&this.axes[y].destroy();this.axes[y]=z;this.dirty=!0;return this},getAxis:function(y){return this.axes[y]},removeAxis:function(y){y in this.axes&&(this.axes[y].destroy(),delete this.axes[y],this.dirty=!0);return this},addPlot:function(y,z){var F=z&&z.type||"Default";if("string"==typeof F){if(!T.plot2d||!T.plot2d[F])throw Error("Can't find plot: "+F+" - didn't you forget to dojo.require() it?");
z=new T.plot2d[F](this,z)}else z=new F(this,z);z.name=y;z.dirty=!0;y in this.plots?(this.stack[this.plots[y]].destroy(),this.stack[this.plots[y]]=z):(this.plots[y]=this.stack.length,this.stack.push(z));this.dirty=!0;return this},getPlot:function(y){return this.stack[this.plots[y]]},removePlot:function(y){if(y in this.plots){var z=this.plots[y];delete this.plots[y];this.stack[z].destroy();this.stack.splice(z,1);q.forIn(this.plots,function(J,H,D){J>z&&(D[H]=J-1)});var F=p.filter(this.series,function(J){return J.plot!=
y});F.length<this.series.length&&(p.forEach(this.series,function(J){J.plot==y&&J.destroy()}),this.runs={},p.forEach(F,function(J,H){this.runs[J.plot]=H},this),this.series=F);this.dirty=!0}return this},getPlotOrder:function(){return q.map(this.stack,M)},setPlotOrder:function(y){var z={},F=q.filter(y,function(J){if(!(J in this.plots)||J in z)return!1;z[J]=1;return!0},this);F.length<this.stack.length&&q.forEach(this.stack,function(J){J=J.name;J in z||F.push(J)});y=q.map(F,function(J){return this.stack[this.plots[J]]},
this);q.forEach(y,function(J,H){this.plots[J.name]=H},this);this.stack=y;this.dirty=!0;return this},movePlotToFront:function(y){if(y in this.plots){var z=this.plots[y];if(z){var F=this.getPlotOrder();F.splice(z,1);F.unshift(y);return this.setPlotOrder(F)}}return this},movePlotToBack:function(y){if(y in this.plots){var z=this.plots[y];if(z<this.stack.length-1){var F=this.getPlotOrder();F.splice(z,1);F.push(y);return this.setPlotOrder(F)}}return this},addSeries:function(y,z,F){z=new c(this,z,F);z.name=
y;y in this.runs?(this.series[this.runs[y]].destroy(),this.series[this.runs[y]]=z):(this.runs[y]=this.series.length,this.series.push(z));this.dirty=!0;!("ymin"in z)&&"min"in z&&(z.ymin=z.min);!("ymax"in z)&&"max"in z&&(z.ymax=z.max);return this},getSeries:function(y){return this.series[this.runs[y]]},removeSeries:function(y){if(y in this.runs){var z=this.runs[y];delete this.runs[y];this.series[z].destroy();this.series.splice(z,1);q.forIn(this.runs,function(F,J,H){F>z&&(H[J]=F-1)});this.dirty=!0}return this},
updateSeries:function(y,z,F){y in this.runs&&(y=this.series[this.runs[y]],y.update(z),F?this.dirty=!0:(this._invalidateDependentPlots(y.plot,!1),this._invalidateDependentPlots(y.plot,!0)));return this},getSeriesOrder:function(y){return q.map(q.filter(this.series,function(z){return z.plot==y}),M)},setSeriesOrder:function(y){var z,F={},J=q.filter(y,function(H){if(!(H in this.runs)||H in F)return!1;var D=this.series[this.runs[H]];if(z){if(D.plot!=z)return!1}else z=D.plot;F[H]=1;return!0},this);q.forEach(this.series,
function(H){var D=H.name;D in F||H.plot!=z||J.push(D)});this.series=q.map(J,function(H){return this.series[this.runs[H]]},this).concat(q.filter(this.series,function(H){return H.plot!=z}));q.forEach(this.series,function(H,D){this.runs[H.name]=D},this);this.dirty=!0;return this},moveSeriesToFront:function(y){if(y in this.runs){var z=this.runs[y],F=this.getSeriesOrder(this.series[z].plot);if(y!=F[0])return F.splice(z,1),F.unshift(y),this.setSeriesOrder(F)}return this},moveSeriesToBack:function(y){if(y in
this.runs){var z=this.runs[y],F=this.getSeriesOrder(this.series[z].plot);if(y!=F[F.length-1])return F.splice(z,1),F.push(y),this.setSeriesOrder(F)}return this},resize:function(y,z){switch(arguments.length){case 1:h.setMarginBox(this.node,y);break;case 2:h.setMarginBox(this.node,{w:y,h:z})}var F=h.getMarginBox(this.node),J=this.surface.getDimensions();return J.width!=F.w||J.height!=F.h?(this.surface.setDimensions(F.w,F.h),this.dirty=!0,this.render()):this},getGeometry:function(){var y={};q.forIn(this.axes,
function(z){z.initialized()&&(y[z.name]={name:z.name,vertical:z.vertical,scaler:z.scaler,ticks:z.ticks})});return y},setAxisWindow:function(y,z,F,J){var H=this.axes[y];H&&(H.setWindow(z,F),p.forEach(this.stack,function(D){if(D.hAxis==y||D.vAxis==y)D.zoom=J}));return this},setWindow:function(y,z,F,J,H){"plotArea"in this||this.calculateGeometry();q.forIn(this.axes,function(D){var S=D.getScaler().bounds;var w=S.span/(S.upper-S.lower);D.vertical?(S=z,w=J/w/S):(S=y,w=F/w/S);D.setWindow(S,w)});p.forEach(this.stack,
function(D){D.zoom=H});return this},zoomIn:function(y,z,F){var J=this.axes[y];if(J){J=J.getScaler().bounds;var H=Math.min(z[0],z[1]),D=Math.max(z[0],z[1]);H=z[0]<J.lower?J.lower:H;D=z[1]>J.upper?J.upper:D;this.setAxisWindow(y,(J.upper-J.lower)/(D-H),H-J.lower);F?this.delayedRender():this.render()}},calculateGeometry:function(){if(this.dirty)return this.fullGeometry();var y=p.filter(this.stack,function(z){return z.dirty||z.hAxis&&this.axes[z.hAxis].dirty||z.vAxis&&this.axes[z.vAxis].dirty},this);L(y,
this.plotArea);return this},fullGeometry:function(){this._makeDirty();p.forEach(this.stack,v);this.theme||this.setTheme(new l);p.forEach(this.series,function(H){if(!(H.plot in this.plots)){if(!T.plot2d||!T.plot2d.Default)throw Error("Can't find plot: Default - didn't you forget to dojo.require() it?");var D=new T.plot2d.Default(this,{});D.name=H.plot;this.plots[H.plot]=this.stack.length;this.stack.push(D)}this.stack[this.plots[H.plot]].addSeries(H)},this);p.forEach(this.stack,function(H){H.assignAxes&&
H.assignAxes(this.axes)},this);var y=this.dim=this.surface.getDimensions();y.width=t.normalizedLength(y.width);y.height=t.normalizedLength(y.height);q.forIn(this.axes,v);L(this.stack,y);var z=this.offsets={l:0,r:0,t:0,b:0},F=this;q.forIn(this.axes,function(H){d("dojo-bidi")&&F._resetLeftBottom(H);q.forIn(H.getOffsets(),function(D,S){z[S]=Math.max(D,z[S])})});if(this.title){this.titleGap=0==this.titleGap?0:this.titleGap||this.theme.chart.titleGap||20;this.titlePos=this.titlePos||this.theme.chart.titlePos||
"top";this.titleFont=this.titleFont||this.theme.chart.titleFont;this.titleFontColor=this.titleFontColor||this.theme.chart.titleFontColor||"black";this.titleAlign=this.titleAlign||this.theme&&this.theme.chart&&this.theme.chart.titleAlign||"middle";var J=t.normalizedLength(t.splitFontString(this.titleFont).size);z["top"==this.titlePos?"t":"b"]+=J+this.titleGap}q.forIn(this.margins,function(H,D){z[D]+=H});this.plotArea={width:y.width-z.l-z.r,height:y.height-z.t-z.b};q.forIn(this.axes,v);L(this.stack,
this.plotArea);return this},render:function(){this._delayedRenderHandle&&(clearTimeout(this._delayedRenderHandle),this._delayedRenderHandle=null);this.theme&&this.theme.clear();if(this.dirty)return this.fullRender();this.calculateGeometry();q.forEachRev(this.stack,function(y){y.render(this.dim,this.offsets)},this);q.forIn(this.axes,function(y){y.render(this.dim,this.offsets)},this);this._makeClean();return this},fullRender:function(){this.fullGeometry();var y=this.offsets,z=this.dim,F=Math.max(0,
z.width-y.l-y.r),J=Math.max(0,z.height-y.t-y.b);p.forEach(this.series,g.purgeGroup);q.forIn(this.axes,g.purgeGroup);p.forEach(this.stack,g.purgeGroup);var H=this.surface.children;if(m.dispose)for(var D=0;D<H.length;++D)m.dispose(H[D]);this.chartTitle&&this.chartTitle.tagName&&e.destroy(this.chartTitle);this.surface.clear();this.chartTitle=null;this._renderChartBackground(z,y);this._renderPlotBackground(z,y,F,J);q.foldr(this.stack,function(S,w){return w.render(z,y),0},0);this._nativeClip||this._renderChartBackground(z,
y);this.title&&this._renderTitle(z,y);q.forIn(this.axes,function(S){S.render(z,y)});this._makeClean();return this},_renderTitle:function(y,z){var F="canvas"==t.renderer&&this.htmlLabels||!d("ie")&&!d("opera")&&this.htmlLabels?"html":"gfx",J=t.normalizedLength(t.splitFontString(this.titleFont).size),H=t._base._getTextBox(this.title,{font:this.titleFont}),D=this.titleAlign,S=d("dojo-bidi")&&this.isRightToLeft(),w=y.width/2;"edge"===D?(D="left",w=S?y.width-(z.r+H.w):z.l):"middle"!=D&&(S&&(D="left"===
D?"right":"left"),"left"===D?w=this.margins.l:"right"===D&&(D="left",w=y.width-(this.margins.l+H.w)));this.chartTitle=k.createText[F](this,this.surface,w,"top"==this.titlePos?J+this.margins.t:y.height-this.margins.b,D,this.title,this.titleFont,this.titleFontColor)},_renderChartBackground:function(y,z){var F=this.theme,J=void 0!==this.fill?this.fill:F.chart&&F.chart.fill;F=void 0!==this.stroke?this.stroke:F.chart&&F.chart.stroke;if("inherit"==J){var H=this.node;for(J=new b(r.get(H,"backgroundColor"));0==
J.a&&H!=document.documentElement;)J=new b(r.get(H,"backgroundColor")),H=H.parentNode}J&&(this._nativeClip?(J=f.prototype._shapeFill(f.prototype._plotFill(J,y),{x:0,y:0,width:y.width+1,height:y.height+1}),this.surface.createRect({width:y.width+1,height:y.height+1}).setFill(J)):(J=f.prototype._plotFill(J,y,z),z.l&&(H={x:0,y:0,width:z.l,height:y.height+1},this.surface.createRect(H).setFill(f.prototype._shapeFill(J,H))),z.r&&(H={x:y.width-z.r,y:0,width:z.r+1,height:y.height+2},this.surface.createRect(H).setFill(f.prototype._shapeFill(J,
H))),z.t&&(H={x:0,y:0,width:y.width+1,height:z.t},this.surface.createRect(H).setFill(f.prototype._shapeFill(J,H))),z.b&&(H={x:0,y:y.height-z.b,width:y.width+1,height:z.b+2},this.surface.createRect(H).setFill(f.prototype._shapeFill(J,H)))));F&&this.surface.createRect({width:y.width-1,height:y.height-1}).setStroke(F)},_renderPlotBackground:function(y,z,F,J){var H=this.theme,D=H.plotarea&&H.plotarea.fill;H=H.plotarea&&H.plotarea.stroke;var S={x:z.l-1,y:z.t-1,width:F+2,height:J+2};D&&(D=f.prototype._shapeFill(f.prototype._plotFill(D,
y,z),S),this.surface.createRect(S).setFill(D));H&&this.surface.createRect({x:z.l,y:z.t,width:F+1,height:J+1}).setStroke(H)},delayedRender:function(){this._delayedRenderHandle||(this._delayedRenderHandle=setTimeout(B.hitch(this,function(){this.render()}),this.delayInMs));return this},connectToPlot:function(y,z,F){return y in this.plots?this.stack[this.plots[y]].connect(z,F):null},fireEvent:function(y,z,F){if(y in this.runs){var J=this.series[this.runs[y]].plot;J in this.plots&&(J=this.stack[this.plots[J]])&&
J.fireEvent(y,z,F)}return this},_makeClean:function(){p.forEach(this.axes,C);p.forEach(this.stack,C);p.forEach(this.series,C);this.dirty=!1},_makeDirty:function(){p.forEach(this.axes,I);p.forEach(this.stack,I);p.forEach(this.series,I);this.dirty=!0},_invalidateDependentPlots:function(y,z){if(y in this.plots){var F=this.stack[this.plots[y]],J=z?"vAxis":"hAxis";F[J]?(y=this.axes[F[J]])&&y.dependOnData()&&(y.dirty=!0,p.forEach(this.stack,function(H){H[J]&&H[J]==F[J]&&(H.dirty=!0)})):F.dirty=!0}},setDir:function(y){return this},
_resetLeftBottom:function(y){},formatTruncatedLabel:function(y,z,F){}});return d("dojo-bidi")?u("dojox.charting.Chart",[x,n]):x})},"dojox/charting/Element":function(){define(["dojo/_base/array","dojo/dom-construct","dojo/_base/declare","dojox/gfx","dojox/gfx/shape"],function(x,B,p,u,r){return p("dojox.charting.Element",null,{chart:null,group:null,htmlElements:null,dirty:!0,renderingOptions:null,constructor:function(a,h){this.chart=a;this.group=null;this.htmlElements=[];this.dirty=!0;this.trailingSymbol=
"...";this._events=[];h&&h.renderingOptions&&(this.renderingOptions=h.renderingOptions)},purgeGroup:function(){this.destroyHtmlElements();if(this.group){this.getGroup().removeShape();var a=this.getGroup().children;if(r.dispose)for(var h=0;h<a.length;++h)r.dispose(a[h],!0);this.getGroup().rawNode&&B.empty(this.getGroup().rawNode);this.getGroup().clear();r.dispose&&r.dispose(this.getGroup(),!0);this.getGroup()!=this.group&&(this.group.rawNode&&B.empty(this.group.rawNode),this.group.clear(),r.dispose&&
r.dispose(this.group,!0));this.group=null}this.dirty=!0;this._events.length&&(x.forEach(this._events,function(e){e.shape.disconnect(e.handle)}),this._events=[]);return this},cleanGroup:function(a){this.destroyHtmlElements();a||(a=this.chart.surface);if(this.group){a=this.getGroup().children;if(r.dispose)for(var h=0;h<a.length;++h)r.dispose(a[h],!0);if(this.getGroup().rawNode){var e=this.getGroup().bgNode;B.empty(this.getGroup().rawNode)}this.getGroup().clear();e&&this.getGroup().rawNode.appendChild(e)}else if(this.group=
a.createGroup(),this.renderingOptions&&this.group.rawNode&&"http://www.w3.org/2000/svg"==this.group.rawNode.namespaceURI)for(h in this.renderingOptions)this.group.rawNode.setAttribute(h,this.renderingOptions[h]);this.dirty=!0;return this},getGroup:function(){return this.group},destroyHtmlElements:function(){this.htmlElements.length&&(x.forEach(this.htmlElements,B.destroy),this.htmlElements=[])},destroy:function(){this.purgeGroup()},overrideShape:function(a,h){},getTextWidth:function(a,h){return u._base._getTextBox(a,
{font:h}).w||0},getTextWithLimitLength:function(a,h,e,b){if(!a||0>=a.length)return{text:"",truncated:b||!1};if(!e||0>=e)return{text:a,truncated:b||!1};var d=a.substring(0,1)+this.trailingSymbol,f=this.getTextWidth(d,h);if(e<=f)return{text:d,truncated:!0};if(this.getTextWidth(a,h)<=e)return{text:a,truncated:b||!1};b=0;for(d=a.length;b<d;){if(2>=d-b){for(;this.getTextWidth(a.substring(0,b)+this.trailingSymbol,h)>e;)--b;return{text:a.substring(0,b)+this.trailingSymbol,truncated:!0}}f=b+Math.round(.618*
(d-b));this.getTextWidth(a.substring(0,f),h)<e?b=f:d=f}},getTextWithLimitCharCount:function(a,h,e,b){return!a||0>=a.length?{text:"",truncated:b||!1}:!e||0>=e||a.length<=e?{text:a,truncated:b||!1}:{text:a.substring(0,e)+this.trailingSymbol,truncated:!0}},_plotFill:function(a,h,e){if(!a||!a.type||!a.space)return a;var b=a.space;switch(a.type){case "linear":if("plot"===b||"shapeX"===b||"shapeY"===b){a=u.makeParameters(u.defaultLinearGradient,a);a.space=b;if("plot"===b||"shapeX"===b){var d=h.height-e.t-
e.b;a.y1=e.t+d*a.y1/100;a.y2=e.t+d*a.y2/100}if("plot"===b||"shapeY"===b)d=h.width-e.l-e.r,a.x1=e.l+d*a.x1/100,a.x2=e.l+d*a.x2/100}break;case "radial":"plot"===b&&(a=u.makeParameters(u.defaultRadialGradient,a),a.space=b,b=h.width-e.l-e.r,h=h.height-e.t-e.b,a.cx=e.l+b*a.cx/100,a.cy=e.t+h*a.cy/100,a.r=a.r*Math.sqrt(b*b+h*h)/200);break;case "pattern":if("plot"===b||"shapeX"===b||"shapeY"===b){a=u.makeParameters(u.defaultPattern,a);a.space=b;if("plot"===b||"shapeX"===b)d=h.height-e.t-e.b,a.y=e.t+d*a.y/
100,a.height=d*a.height/100;if("plot"===b||"shapeY"===b)d=h.width-e.l-e.r,a.x=e.l+d*a.x/100,a.width=d*a.width/100}}return a},_shapeFill:function(a,h){if(!a||!a.space)return a;var e=a.space;switch(a.type){case "linear":if("shape"===e||"shapeX"===e||"shapeY"===e){a=u.makeParameters(u.defaultLinearGradient,a);a.space=e;if("shape"===e||"shapeX"===e){var b=h.width;a.x1=h.x+b*a.x1/100;a.x2=h.x+b*a.x2/100}if("shape"===e||"shapeY"===e)b=h.height,a.y1=h.y+b*a.y1/100,a.y2=h.y+b*a.y2/100}break;case "radial":"shape"===
e&&(a=u.makeParameters(u.defaultRadialGradient,a),a.space=e,a.cx=h.x+h.width/2,a.cy=h.y+h.height/2,a.r=a.r*h.width/200);break;case "pattern":if("shape"===e||"shapeX"===e||"shapeY"===e){a=u.makeParameters(u.defaultPattern,a);a.space=e;if("shape"===e||"shapeX"===e)b=h.width,a.x=h.x+b*a.x/100,a.width=b*a.width/100;if("shape"===e||"shapeY"===e)b=h.height,a.y=h.y+b*a.y/100,a.height=b*a.height/100}}return a},_pseudoRadialFill:function(a,h,e,b,d){if(!a||"radial"!==a.type||"shape"!==a.space)return a;var f=
a.space;a=u.makeParameters(u.defaultRadialGradient,a);a.space=f;if(4>arguments.length)return a.cx=h.x,a.cy=h.y,a.r=a.r*e/100,a;f=5>arguments.length?b:(d+b)/2;return{type:"linear",x1:h.x,y1:h.y,x2:h.x+a.r*e*Math.cos(f)/100,y2:h.y+a.r*e*Math.sin(f)/100,colors:a.colors}}})})},"dojox/gfx/shape":function(){define("./_base dojo/_base/lang dojo/_base/declare dojo/_base/kernel dojo/_base/sniff dojo/on dojo/_base/array dojo/dom-construct dojo/_base/Color ./matrix".split(" "),function(x,B,p,u,r,a,h,e,b,d){function f(c,
k){for(var g=c.length-1;k<g;)c[k]=c[++k];c.length=g}var l=x.shape={};l.Shape=p("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=this.rawNode=null;if(r("gfxRegistry")){var c=l.register(this);this.getUID=function(){return c}}},destroy:function(){r("gfxRegistry")&&l.dispose(this);this.rawNode&&"__gfxObject__"in this.rawNode&&(this.rawNode.__gfxObject__=null);this.rawNode=null},getNode:function(){return this.rawNode},
getShape:function(){return this.shape},getTransform:function(){return this.matrix},getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},getParent:function(){return this.parent},getBoundingBox:function(){return this.bbox},getTransformedBoundingBox:function(){var c=this.getBoundingBox();if(!c)return null;var k=this._getRealMatrix();return[d.multiplyPoint(k,c.x,c.y),d.multiplyPoint(k,c.x+c.width,c.y),d.multiplyPoint(k,c.x+c.width,c.y+c.height),d.multiplyPoint(k,c.x,
c.y+c.height)]},getEventSource:function(){return this.rawNode},setClip:function(c){this.clip=c},getClip:function(){return this.clip},setShape:function(c){this.shape=x.makeParameters(this.shape,c);this.bbox=null;return this},setFill:function(c){if(!c)return this.fillStyle=null,this;var k=null;if("object"==typeof c&&"type"in c)switch(c.type){case "linear":k=x.makeParameters(x.defaultLinearGradient,c);break;case "radial":k=x.makeParameters(x.defaultRadialGradient,c);break;case "pattern":k=x.makeParameters(x.defaultPattern,
c)}else k=x.normalizeColor(c);this.fillStyle=k;return this},setStroke:function(c){if(!c)return this.strokeStyle=null,this;if("string"==typeof c||B.isArray(c)||c instanceof b)c={color:c};c=this.strokeStyle=x.makeParameters(x.defaultStroke,c);c.color=x.normalizeColor(c.color);return this},setTransform:function(c){this.matrix=d.clone(c?d.normalize(c):d.identity);return this._applyTransform()},_applyTransform:function(){return this},moveToFront:function(){var c=this.getParent();c&&(c._moveChildToFront(this),
this._moveToFront());return this},moveToBack:function(){var c=this.getParent();c&&(c._moveChildToBack(this),this._moveToBack());return this},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(c){return c?this.setTransform([this.matrix,c]):this},applyLeftTransform:function(c){return c?this.setTransform([c,this.matrix]):this},applyTransform:function(c){return c?this.setTransform([this.matrix,c]):this},removeShape:function(c){this.parent&&this.parent.remove(this,c);return this},
_setParent:function(c,k){this.parent=c;return this._updateParentMatrix(k)},_updateParentMatrix:function(c){this.parentMatrix=c?d.clone(c):null;return this._applyTransform()},_getRealMatrix:function(){for(var c=this.matrix,k=this.parent;k;)k.matrix&&(c=d.multiply(k.matrix,c)),k=k.parent;return c}});l._eventsProcessing={on:function(c,k){return a(this.getEventSource(),c,l.fixCallback(this,x.fixTarget,k))},connect:function(c,k,g){"on"==c.substring(0,2)&&(c=c.substring(2));return this.on(c,g?B.hitch(k,
g):k)},disconnect:function(c){return c.remove()}};l.fixCallback=function(c,k,g,m){m||(m=g,g=null);if(B.isString(m)){g=g||u.global;if(!g[m])throw['dojox.gfx.shape.fixCallback: scope["',m,'"] is null (scope\x3d"',g,'")'].join("");return function(t){return k(t,c)?g[m].apply(g,arguments||[]):void 0}}return g?function(t){return k(t,c)?m.apply(g,arguments||[]):void 0}:function(t){return k(t,c)?m.apply(g,arguments):void 0}};B.extend(l.Shape,l._eventsProcessing);l.Container={_init:function(){this.children=
[];this._batch=0},openBatch:function(){return this},closeBatch:function(){return this},add:function(c){var k=c.getParent();k&&k.remove(c,!0);this.children.push(c);return c._setParent(this,this._getRealMatrix())},remove:function(c,k){for(var g=0;g<this.children.length;++g)if(this.children[g]==c){k||(c.parent=null,c.parentMatrix=null);f(this.children,g);break}return this},clear:function(c){for(var k,g=0;g<this.children.length;++g)k=this.children[g],k.parent=null,k.parentMatrix=null,c&&k.destroy();this.children=
[];return this},getBoundingBox:function(){if(this.children){var c=null;h.forEach(this.children,function(k){var g=k.getBoundingBox();g&&((k=k.getTransform())&&(g=d.multiplyRectangle(k,g)),c?(c.x=Math.min(c.x,g.x),c.y=Math.min(c.y,g.y),c.endX=Math.max(c.endX,g.x+g.width),c.endY=Math.max(c.endY,g.y+g.height)):c={x:g.x,y:g.y,endX:g.x+g.width,endY:g.y+g.height})});c&&(c.width=c.endX-c.x,c.height=c.endY-c.y);return c}return null},_moveChildToFront:function(c){for(var k=0;k<this.children.length;++k)if(this.children[k]==
c){f(this.children,k);this.children.push(c);break}return this},_moveChildToBack:function(c){for(var k=0;k<this.children.length;++k)if(this.children[k]==c){f(this.children,k);this.children.unshift(c);break}return this}};l.Surface=p("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=[];this._events=[]},destroy:function(){h.forEach(this._nodes,e.destroy);this._nodes=[];h.forEach(this._events,function(c){c&&c.remove()});this._events=[];this.rawNode=null;
if(r("ie"))for(;this._parent.lastChild;)e.destroy(this._parent.lastChild);else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},_getRealMatrix:function(){return null},isLoaded:!0,onLoad:function(c){},whenLoaded:function(c,k){var g=B.hitch(c,k);if(this.isLoaded)g(this);else a.once(this,"load",function(m){g(m)})}});B.extend(l.Surface,l._eventsProcessing);l.Rect=p("dojox.gfx.shape.Rect",l.Shape,{constructor:function(c){this.shape=x.getDefault("Rect");this.rawNode=
c},getBoundingBox:function(){return this.shape}});l.Ellipse=p("dojox.gfx.shape.Ellipse",l.Shape,{constructor:function(c){this.shape=x.getDefault("Ellipse");this.rawNode=c},getBoundingBox:function(){if(!this.bbox){var c=this.shape;this.bbox={x:c.cx-c.rx,y:c.cy-c.ry,width:2*c.rx,height:2*c.ry}}return this.bbox}});l.Circle=p("dojox.gfx.shape.Circle",l.Shape,{constructor:function(c){this.shape=x.getDefault("Circle");this.rawNode=c},getBoundingBox:function(){if(!this.bbox){var c=this.shape;this.bbox={x:c.cx-
c.r,y:c.cy-c.r,width:2*c.r,height:2*c.r}}return this.bbox}});l.Line=p("dojox.gfx.shape.Line",l.Shape,{constructor:function(c){this.shape=x.getDefault("Line");this.rawNode=c},getBoundingBox:function(){if(!this.bbox){var c=this.shape;this.bbox={x:Math.min(c.x1,c.x2),y:Math.min(c.y1,c.y2),width:Math.abs(c.x2-c.x1),height:Math.abs(c.y2-c.y1)}}return this.bbox}});l.Polyline=p("dojox.gfx.shape.Polyline",l.Shape,{constructor:function(c){this.shape=x.getDefault("Polyline");this.rawNode=c},setShape:function(c,
k){c&&c instanceof Array?(this.inherited(arguments,[{points:c}]),k&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.inherited(arguments,[c]);return this},_normalizePoints:function(){var c=this.shape.points,k=c&&c.length;if(k&&"number"==typeof c[0]){for(var g=[],m=0;m<k;m+=2)g.push({x:c[m],y:c[m+1]});this.shape.points=g}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var c=this.shape.points,k=c.length,g=c[0],m=g.x,t=g.y,n=g.x,q=g.y,v=1;v<k;++v)g=
c[v],m>g.x&&(m=g.x),n<g.x&&(n=g.x),t>g.y&&(t=g.y),q<g.y&&(q=g.y);this.bbox={x:m,y:t,width:n-m,height:q-t}}return this.bbox}});l.Image=p("dojox.gfx.shape.Image",l.Shape,{constructor:function(c){this.shape=x.getDefault("Image");this.rawNode=c},getBoundingBox:function(){return this.shape},setStroke:function(){return this},setFill:function(){return this}});l.Text=p(l.Shape,{constructor:function(c){this.fontStyle=null;this.shape=x.getDefault("Text");this.rawNode=c},getFont:function(){return this.fontStyle},
setFont:function(c){this.fontStyle="string"==typeof c?x.splitFontString(c):x.makeParameters(x.defaultFont,c);this._setFont();return this},getBoundingBox:function(){var c=null;this.getShape().text&&(c=x._base._computeTextBoundingBox(this));return c}});l.Creator={createShape:function(c){switch(c.type){case x.defaultPath.type:return this.createPath(c);case x.defaultRect.type:return this.createRect(c);case x.defaultCircle.type:return this.createCircle(c);case x.defaultEllipse.type:return this.createEllipse(c);
case x.defaultLine.type:return this.createLine(c);case x.defaultPolyline.type:return this.createPolyline(c);case x.defaultImage.type:return this.createImage(c);case x.defaultText.type:return this.createText(c);case x.defaultTextPath.type:return this.createTextPath(c)}return null},createGroup:function(){return this.createObject(x.Group)},createRect:function(c){return this.createObject(x.Rect,c)},createEllipse:function(c){return this.createObject(x.Ellipse,c)},createCircle:function(c){return this.createObject(x.Circle,
c)},createLine:function(c){return this.createObject(x.Line,c)},createPolyline:function(c){return this.createObject(x.Polyline,c)},createImage:function(c){return this.createObject(x.Image,c)},createText:function(c){return this.createObject(x.Text,c)},createPath:function(c){return this.createObject(x.Path,c)},createTextPath:function(c){return this.createObject(x.TextPath,{}).setText(c)},createObject:function(c,k){return null}};return l})},"dojox/charting/SimpleTheme":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/_base/Color dojox/lang/utils dojox/gfx/gradutils".split(" "),
function(x,B,p,u,r,a){var h=p("dojox.charting.SimpleTheme",null,{shapeSpaces:{shape:1,shapeX:1,shapeY:1},constructor:function(e){e=e||{};var b=h.defaultTheme;B.forEach("chart plotarea axis grid series marker indicator".split(" "),function(d){this[d]=x.delegate(b[d],e[d])},this);e.seriesThemes&&e.seriesThemes.length?(this.colors=null,this.seriesThemes=e.seriesThemes.slice(0)):(this.seriesThemes=null,this.colors=(e.colors||h.defaultColors).slice(0));this.markerThemes=null;e.markerThemes&&e.markerThemes.length&&
(this.markerThemes=e.markerThemes.slice(0));this.markers=e.markers?x.clone(e.markers):x.delegate(h.defaultMarkers);this.noGradConv=e.noGradConv;this.noRadialConv=e.noRadialConv;e.reverseFills&&this.reverseFills();this._current=0;this._buildMarkerArray()},clone:function(){var e=new this.constructor({chart:this.chart,plotarea:this.plotarea,axis:this.axis,grid:this.grid,series:this.series,marker:this.marker,colors:this.colors,markers:this.markers,indicator:this.indicator,seriesThemes:this.seriesThemes,
markerThemes:this.markerThemes,noGradConv:this.noGradConv,noRadialConv:this.noRadialConv,pieInnerRadius:this.pieInnerRadius});B.forEach("clone clear next skip addMixin post getTick".split(" "),function(b){this.hasOwnProperty(b)&&(e[b]=this[b])},this);return e},clear:function(){this._current=0},next:function(e,b,d){var f=r.merge;if(this.colors){var l=x.delegate(this.series);f=x.delegate(this.marker);var c=new u(this.colors[this._current%this.colors.length]);if(l.stroke&&l.stroke.color){l.stroke=x.delegate(l.stroke);
var k=new u(l.stroke.color);l.stroke.color=new u(c);l.stroke.color.a=k.a}else l.stroke={color:c};f.stroke&&f.stroke.color?(f.stroke=x.delegate(f.stroke),k=new u(f.stroke.color),f.stroke.color=new u(c),f.stroke.color.a=k.a):f.stroke={color:c};!l.fill||l.fill.type?l.fill=c:(k=new u(l.fill),l.fill=new u(c),l.fill.a=k.a);!f.fill||f.fill.type?f.fill=c:(k=new u(f.fill),f.fill=new u(c),f.fill.a=k.a)}else l=this.seriesThemes?f(this.series,this.seriesThemes[this._current%this.seriesThemes.length]):this.series,
f=this.markerThemes?f(this.marker,this.markerThemes[this._current%this.markerThemes.length]):l;l={series:l,marker:f,symbol:f&&f.symbol||this._markers[this._current%this._markers.length]};++this._current;b&&(l=this.addMixin(l,e,b));d&&(l=this.post(l,e));return l},skip:function(){++this._current},addMixin:function(e,b,d,f){if(x.isArray(d))B.forEach(d,function(c){e=this.addMixin(e,b,c)},this);else{var l={};"color"in d&&("line"==b||"area"==b?(x.setObject("series.stroke.color",d.color,l),x.setObject("marker.stroke.color",
d.color,l)):x.setObject("series.fill",d.color,l));B.forEach("stroke outline shadow fill filter font fontColor labelWiring".split(" "),function(c){var k="marker"+c.charAt(0).toUpperCase()+c.substr(1),g=k in d;c in d&&(x.setObject("series."+c,d[c],l),g||x.setObject("marker."+c,d[c],l));g&&x.setObject("marker."+c,d[k],l)});"marker"in d&&(l.symbol=d.marker,l.symbol=d.marker);e=r.merge(e,l)}f&&(e=this.post(e,b));return e},post:function(e,b){var d=e.series.fill,f;return!this.noGradConv&&this.shapeSpaces[d.space]&&
"linear"==d.type&&("bar"==b?f={x1:d.y1,y1:d.x1,x2:d.y2,y2:d.x2}:this.noRadialConv||"shape"!=d.space||"slice"!=b&&"circle"!=b||(f={type:"radial",cx:0,cy:0,r:100}),f)?r.merge(e,{series:{fill:f}}):e},getTick:function(e,b){var d=this.axis.tick;e+="Tick";var f=r.merge;d?this.axis[e]&&(d=f(d,this.axis[e])):d=this.axis[e];b&&(d?b[e]&&(d=f(d,b[e])):d=b[e]);return d},inspectObjects:function(e){B.forEach("chart plotarea axis grid series marker indicator".split(" "),function(b){e(this[b])},this);this.seriesThemes&&
B.forEach(this.seriesThemes,e);this.markerThemes&&B.forEach(this.markerThemes,e)},reverseFills:function(){this.inspectObjects(function(e){e&&e.fill&&(e.fill=a.reverse(e.fill))})},addMarker:function(e,b){this.markers[e]=b;this._buildMarkerArray()},setMarkers:function(e){this.markers=e;this._buildMarkerArray()},_buildMarkerArray:function(){this._markers=[];for(var e in this.markers)this._markers.push(this.markers[e])}});x.mixin(h,{defaultMarkers:{CIRCLE:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",SQUARE:"m-3,-3 l0,6 6,0 0,-6 z",
DIAMOND:"m0,-3 l3,3 -3,3 -3,-3 z",CROSS:"m0,-3 l0,6 m-3,-3 l6,0",X:"m-3,-3 l6,6 m0,-6 l-6,6",TRIANGLE:"m-3,3 l3,-6 3,6 z",TRIANGLE_INVERTED:"m-3,-3 l3,6 3,-6 z"},defaultColors:["#54544c","#858e94","#6e767a","#948585","#474747"],defaultTheme:{chart:{stroke:null,fill:"white",pageStyle:null,titleGap:20,titlePos:"top",titleFont:"normal normal bold 14pt Tahoma",titleFontColor:"#333",titleAlign:"middle"},plotarea:{stroke:null,fill:"white"},axis:{stroke:{color:"#333",width:1},tick:{color:"#666",position:"center",
font:"normal normal normal 7pt Tahoma",fontColor:"#333",labelGap:4},majorTick:{width:1,length:6},minorTick:{width:.8,length:3},microTick:{width:.5,length:1},title:{gap:15,font:"normal normal normal 11pt Tahoma",fontColor:"#333",orientation:"axis"}},series:{stroke:{width:1.5,color:"#333"},outline:{width:.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000",labelWiring:{width:1,color:"#ccc"}},marker:{stroke:{width:1.5,color:"#333"},outline:{width:.1,color:"#ccc"},
shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000"},indicator:{lineStroke:{width:1.5,color:"#333"},lineOutline:{width:.1,color:"#ccc"},lineShadow:null,lineFill:null,stroke:{width:1.5,color:"#333"},outline:{width:.1,color:"#ccc"},shadow:null,fill:"#ccc",radius:3,font:"normal normal normal 10pt Tahoma",fontColor:"#000",markerFill:"#ccc",markerSymbol:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",markerStroke:{width:1.5,color:"#333"},markerOutline:{width:.1,color:"#ccc"},markerShadow:null}}});
return h})},"dojox/lang/utils":function(){define(["..","dojo/_base/lang"],function(x,B){var p=B.getObject("lang.utils",!0,x),u={},r=Object.prototype.toString,a=function(h){if(h)switch(r.call(h)){case "[object Array]":return h.slice(0);case "[object Object]":return B.delegate(h)}return h};B.mixin(p,{coerceType:function(h,e){switch(typeof h){case "number":return Number(eval("("+e+")"));case "string":return String(e);case "boolean":return!!eval("("+e+")")}return eval("("+e+")")},updateWithObject:function(h,
e,b){if(!e)return h;for(var d in h)if(d in e&&!(d in u)){var f=h[d];f&&"object"==typeof f?p.updateWithObject(f,e[d],b):h[d]=b?p.coerceType(f,e[d]):a(e[d])}return h},updateWithPattern:function(h,e,b,d){if(!e||!b)return h;for(var f in b)f in e&&!(f in u)&&(h[f]=d?p.coerceType(b[f],e[f]):a(e[f]));return h},merge:function(h,e){if(e){var b=r.call(h),d=r.call(e);switch(d){case "[object Array]":if(d==b){b=Array(Math.max(h.length,e.length));var f=0;for(d=b.length;f<d;++f)b[f]=p.merge(h[f],e[f]);return b}return e.slice(0);
case "[object Object]":if(d==b&&h){b=B.delegate(h);for(f in e)if(f in h){d=h[f];var l=e[f];l!==d&&(b[f]=p.merge(d,l))}else b[f]=B.clone(e[f]);return b}return B.clone(e)}}return e}});return p})},"dojox/gfx/gradutils":function(){define(["./_base","dojo/_base/lang","./matrix","dojo/_base/Color"],function(x,B,p,u){function r(a,h){if(0>=a)return h[0].color;var e=h.length;if(1<=a)return h[e-1].color;for(var b=0;b<e;++b){var d=h[b];if(d.offset>=a)return b?(h=h[b-1],u.blendColors(new u(h.color),new u(d.color),
(a-h.offset)/(d.offset-h.offset))):d.color}return h[e-1].color}x=x.gradutils={};x.getColor=function(a,h){if(a){switch(a.type){case "linear":var e=p.rotate(-Math.atan2(a.y2-a.y1,a.x2-a.x1));var b=p.project(a.x2-a.x1,a.y2-a.y1);h=p.multiplyPoint(b,h);var d=p.multiplyPoint(b,a.x1,a.y1);b=p.multiplyPoint(b,a.x2,a.y2);b=p.multiplyPoint(e,b.x-d.x,b.y-d.y).x;e=p.multiplyPoint(e,h.x-d.x,h.y-d.y).x/b;break;case "radial":e=h.x-a.cx,h=h.y-a.cy,e=Math.sqrt(e*e+h*h)/a.r}return r(e,a.colors)}return new u(a||[0,
0,0,0])};x.reverse=function(a){if(a)switch(a.type){case "linear":case "radial":if(a=B.delegate(a),a.colors){for(var h=a.colors,e=h.length,b=0,d,f=a.colors=Array(h.length);b<e;++b)d=h[b],f[b]={offset:1-d.offset,color:d.color};f.sort(function(l,c){return l.offset-c.offset})}}return a};return x})},"dojox/charting/Series":function(){define(["dojo/_base/lang","dojo/_base/declare","./Element"],function(x,B,p){return B("dojox.charting.Series",p,{constructor:function(u,r,a){x.mixin(this,a);"string"!=typeof this.plot&&
(this.plot="default");this.update(r)},clear:function(){this.dyn={}},update:function(u){x.isArray(u)?this.data=u:(this.source=u,this.data=this.source.data,this.source.setSeriesObject&&this.source.setSeriesObject(this));this.dirty=!0;this.clear()}})})},"dojox/charting/axis2d/common":function(){define(["dojo/_base/lang","dojo/_base/window","dojo/dom-geometry","dojox/gfx","dojo/has"],function(x,B,p,u,r){var a=x.getObject("dojox.charting.axis2d.common",!0),h=function(e){e.marginLeft="0px";e.marginTop=
"0px";e.marginRight="0px";e.marginBottom="0px";e.paddingLeft="0px";e.paddingTop="0px";e.paddingRight="0px";e.paddingBottom="0px";e.borderLeftWidth="0px";e.borderTopWidth="0px";e.borderRightWidth="0px";e.borderBottomWidth="0px"};return x.mixin(a,{createText:{gfx:function(e,b,d,f,l,c,k,g){return b.createText({x:d,y:f,text:c,align:l}).setFont(k).setFill(g)},html:function(e,b,d,f,l,c,k,g,m){b=B.doc.createElement("div");var t=b.style;e.getTextDir&&(b.dir=e.getTextDir(c));h(t);t.font=k;b.innerHTML=String(c).replace(/\s/g,
"\x26nbsp;");t.color=g;t.position="absolute";t.left="-10000px";B.body().appendChild(b);var n=u.normalizedLength(u.splitFontString(k).size);if(!m)if(b.getBoundingClientRect){var q=b.getBoundingClientRect();q=q.width||q.right-q.left}else q=p.getMarginBox(b).w;"rtl"==b.dir&&(d+=m?m:q);B.body().removeChild(b);t.position="relative";if(m)switch(t.width=m+"px",l){case "middle":t.textAlign="center";t.left=d-m/2+"px";break;case "end":t.textAlign="right";t.left=d-m+"px";break;default:t.left=d+"px",t.textAlign=
"left"}else switch(l){case "middle":t.left=Math.floor(d-q/2)+"px";break;case "end":t.left=Math.floor(d-q)+"px";break;default:t.left=Math.floor(d)+"px"}t.top=Math.floor(f-n)+"px";t.whiteSpace="nowrap";m=B.doc.createElement("div");t=m.style;h(t);t.width="0px";t.height="0px";m.appendChild(b);e.node.insertBefore(m,e.node.firstChild);r("dojo-bidi")&&e.htmlElementsRegistry.push([m,d,f,l,c,k,g]);return m}}})})},"dojox/charting/plot2d/common":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/Color dojox/gfx dojox/lang/functional ../scaler/common".split(" "),
function(x,B,p,u,r,a){var h=x.getObject("dojox.charting.plot2d.common",!0);return x.mixin(h,{doIfLoaded:a.doIfLoaded,makeStroke:function(e){if(!e)return e;if("string"==typeof e||e instanceof p)e={color:e};return u.makeParameters(u.defaultStroke,e)},augmentColor:function(e,b){e=new p(e);b=new p(b);b.a=e.a;return b},augmentStroke:function(e,b){if(e=h.makeStroke(e))e.color=h.augmentColor(e.color,b);return e},augmentFill:function(e,b){new p(b);return"string"==typeof e||e instanceof p?h.augmentColor(e,
b):e},defaultStats:{vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY,hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(e,b){for(var d=x.delegate(h.defaultStats),f=0;f<e.length;++f)for(var l=e[f],c=0;c<l.data.length;c++)if(!b(l.data[c])){if("number"==typeof l.data[c]){c=d.vmin;var k=d.vmax;B.forEach(l.data,function(t,n){b(t)||(n+=1,isNaN(t)&&(t=0),d.hmin=Math.min(d.hmin,n),d.hmax=Math.max(d.hmax,n),d.vmin=Math.min(d.vmin,t),d.vmax=Math.max(d.vmax,t))})}else{var g=
d.hmin,m=d.hmax;c=d.vmin;k=d.vmax;"xmin"in l&&"xmax"in l&&"ymin"in l&&"ymax"in l||B.forEach(l.data,function(t,n){b(t)||(n="x"in t?t.x:n+1,t=t.y,isNaN(n)&&(n=0),isNaN(t)&&(t=0),d.hmin=Math.min(d.hmin,n),d.hmax=Math.max(d.hmax,n),d.vmin=Math.min(d.vmin,t),d.vmax=Math.max(d.vmax,t))});"xmin"in l&&(d.hmin=Math.min(g,l.xmin));"xmax"in l&&(d.hmax=Math.max(m,l.xmax))}"ymin"in l&&(d.vmin=Math.min(c,l.ymin));"ymax"in l&&(d.vmax=Math.max(k,l.ymax));break}return d},calculateBarSize:function(e,b,d){d||(d=1);
var f=(e-2*b.gap)/d;"minBarSize"in b&&(f=Math.max(f,b.minBarSize));"maxBarSize"in b&&(f=Math.min(f,b.maxBarSize));f=Math.max(f,1);return{size:f,gap:(e-f*d)/2}},collectStackedStats:function(e){var b=x.clone(h.defaultStats);if(e.length){b.hmin=Math.min(b.hmin,1);b.hmax=r.foldl(e,"seed, run -\x3e Math.max(seed, run.data.length)",b.hmax);for(var d=0;d<b.hmax;++d){var f=e[0].data[d];f=f&&("number"==typeof f?f:f.y);isNaN(f)&&(f=0);b.vmin=Math.min(b.vmin,f);for(var l=1;l<e.length;++l){var c=e[l].data[d];
c=c&&("number"==typeof c?c:c.y);isNaN(c)&&(c=0);f+=c}b.vmax=Math.max(b.vmax,f)}}return b},curve:function(e,b){var d=e.slice(0);"x"==b&&(d[d.length]=d[0]);return B.map(d,function(f,l){if(0==l)return"M"+f.x+","+f.y;if(!isNaN(b)){var c=f.x-d[l-1].x;return"C"+(f.x-c/b*(b-1))+","+d[l-1].y+" "+(f.x-c/b)+","+f.y+" "+f.x+","+f.y}if("X"==b||"x"==b||"S"==b){f=d[l-1];c=d[l];var k=1/6;if(1==l){var g="x"==b?d[d.length-2]:f;k=1/3}else g=d[l-2];l==d.length-1?(l="x"==b?d[1]:c,k=1/3):l=d[l+1];var m=Math.sqrt((c.x-
f.x)*(c.x-f.x)+(c.y-f.y)*(c.y-f.y));var t=Math.sqrt((c.x-g.x)*(c.x-g.x)+(c.y-g.y)*(c.y-g.y));var n=Math.sqrt((l.x-f.x)*(l.x-f.x)+(l.y-f.y)*(l.y-f.y));var q=t*k,v=n*k;q>m/2&&v>m/2?(q=m/2,v=m/2):q>m/2?(q=m/2,v=m/2*n/t):v>m/2&&(v=m/2,q=m/2*t/n);"S"==b&&(g==f&&(q=0),c==l&&(v=0));k=f.x+q*(c.x-g.x)/t;g=f.y+q*(c.y-g.y)/t;t=c.x-v*(l.x-f.x)/n;n=c.y-v*(l.y-f.y)/n}return"C"+(k+","+g+" "+t+","+n+" "+c.x+","+c.y)}).join(" ")},getLabel:function(e,b,d){return a.doIfLoaded("dojo/number",function(f){return(b?f.format(e,
{places:d}):f.format(e))||""},function(){return b?e.toFixed(d):e.toString()})},purgeGroup:function(e){return e.purgeGroup()}})})},"dojox/lang/functional":function(){define(["./functional/lambda","./functional/array","./functional/object"],function(x){return x})},"dojox/lang/functional/lambda":function(){define(["../..","dojo/_base/lang","dojo/_base/array"],function(x,B,p){var u=B.getObject("lang.functional",!0,x),r={},a=1<"ab".split(/a*/).length?String.prototype.split:function(b){var d=this.split.call(this,
b);(b=b.exec(this))&&0==b.index&&d.unshift("");return d},h=function(b){var d=[],f=a.call(b,/\s*->\s*/m);if(1<f.length)for(;f.length;)b=f.pop(),d=f.pop().split(/\s*,\s*|\s+/m),f.length&&f.push("(function("+d.join(", ")+"){ return ("+b+"); })");else if(b.match(/\b_\b/))d=["_"];else{f=b.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m);var l=b.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(f||l)f&&(d.push("$1"),b="$1"+b),l&&(d.push("$2"),b+="$2");else{f=b.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,
"").match(/([a-z_$][a-z_$\d]*)/gi)||[];var c={};p.forEach(f,function(k){c.hasOwnProperty(k)||(d.push(k),c[k]=1)})}}return{args:d,body:b}},e=function(b){return b.length?function(){var d=b.length-1,f=u.lambda(b[d]).apply(this,arguments);for(--d;0<=d;--d)f=u.lambda(b[d]).call(this,f);return f}:function(d){return d}};B.mixin(u,{rawLambda:function(b){return h(b)},buildLambda:function(b){b=h(b);return"function("+b.args.join(",")+"){return ("+b.body+");}"},lambda:function(b){if("function"==typeof b)return b;
if(b instanceof Array)return e(b);if(r.hasOwnProperty(b))return r[b];var d=h(b);return r[b]=new Function(d.args,"return ("+d.body+");")},clearLambdaCache:function(){r={}}});return u})},"dojox/lang/functional/array":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","./lambda"],function(x,B,p,u){var r={};B.mixin(u,{filter:function(a,h,e){"string"==typeof a&&(a=a.split(""));e=e||x.global;h=u.lambda(h);var b=[],d;if(B.isArray(a)){var f=0;for(d=a.length;f<d;++f){var l=a[f];h.call(e,
l,f,a)&&b.push(l)}}else if("function"==typeof a.hasNext&&"function"==typeof a.next)for(f=0;a.hasNext();)l=a.next(),h.call(e,l,f++,a)&&b.push(l);else for(f in a)f in r||(l=a[f],h.call(e,l,f,a)&&b.push(l));return b},forEach:function(a,h,e){"string"==typeof a&&(a=a.split(""));e=e||x.global;h=u.lambda(h);var b;if(B.isArray(a)){var d=0;for(b=a.length;d<b;h.call(e,a[d],d,a),++d);}else if("function"==typeof a.hasNext&&"function"==typeof a.next)for(d=0;a.hasNext();h.call(e,a.next(),d++,a));else for(d in a)d in
r||h.call(e,a[d],d,a);return e},map:function(a,h,e){"string"==typeof a&&(a=a.split(""));e=e||x.global;h=u.lambda(h);var b,d;if(B.isArray(a)){var f=Array(b=a.length);for(d=0;d<b;f[d]=h.call(e,a[d],d,a),++d);}else if("function"==typeof a.hasNext&&"function"==typeof a.next)for(f=[],d=0;a.hasNext();f.push(h.call(e,a.next(),d++,a)));else for(d in f=[],a)d in r||f.push(h.call(e,a[d],d,a));return f},every:function(a,h,e){"string"==typeof a&&(a=a.split(""));e=e||x.global;h=u.lambda(h);var b;if(B.isArray(a)){var d=
0;for(b=a.length;d<b;++d)if(!h.call(e,a[d],d,a))return!1}else if("function"==typeof a.hasNext&&"function"==typeof a.next)for(d=0;a.hasNext();){if(!h.call(e,a.next(),d++,a))return!1}else for(d in a)if(!(d in r||h.call(e,a[d],d,a)))return!1;return!0},some:function(a,h,e){"string"==typeof a&&(a=a.split(""));e=e||x.global;h=u.lambda(h);var b;if(B.isArray(a)){var d=0;for(b=a.length;d<b;++d)if(h.call(e,a[d],d,a))return!0}else if("function"==typeof a.hasNext&&"function"==typeof a.next)for(d=0;a.hasNext();){if(h.call(e,
a.next(),d++,a))return!0}else for(d in a)if(!(d in r)&&h.call(e,a[d],d,a))return!0;return!1}});return u})},"dojox/lang/functional/object":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(x,B,p){var u={};B.mixin(p,{keys:function(r){var a=[],h;for(h in r)h in u||a.push(h);return a},values:function(r){var a=[],h;for(h in r)h in u||a.push(r[h]);return a},filterIn:function(r,a,h){h=h||x.global;a=p.lambda(a);var e={},b;for(b in r)if(!(b in u)){var d=r[b];a.call(h,d,b,r)&&(e[b]=
d)}return e},forIn:function(r,a,h){h=h||x.global;a=p.lambda(a);for(var e in r)e in u||a.call(h,r[e],e,r);return h},mapIn:function(r,a,h){h=h||x.global;a=p.lambda(a);var e={},b;for(b in r)b in u||(e[b]=a.call(h,r[b],b,r));return e}});return p})},"dojox/charting/scaler/common":function(){define(["dojo/_base/lang"],function(x){var B=function(r,a){return Math.abs(r-a)<=1E-6*(Math.abs(r)+Math.abs(a))},p=x.getObject("dojox.charting.scaler.common",!0),u={};return x.mixin(p,{doIfLoaded:function(r,a,h){if(void 0===
u[r])try{u[r]=require(r)}catch(e){u[r]=null}return u[r]?a(u[r]):h()},getNumericLabel:function(r,a,h){var e="";p.doIfLoaded("dojo/number",function(c){e=(h.fixed?c.format(r,{places:0>a?-a:0}):c.format(r))||""},function(){e=h.fixed?r.toFixed(0>a?-a:0):r.toString()});if(h.labelFunc){var b=h.labelFunc(e,r,a);if(b)return b}if(h.labels){b=h.labels;for(var d=0,f=b.length;d<f;){var l=Math.floor((d+f)/2);b[l].value<r?d=l+1:f=l}if(d<b.length&&B(b[d].value,r))return b[d].text;--d;if(0<=d&&d<b.length&&B(b[d].value,
r))return b[d].text;d+=2;if(d<b.length&&B(b[d].value,r))return b[d].text}return e}})})},"dojox/lang/functional/fold":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/kernel","./lambda"],function(x,B,p,u){var r={};x.mixin(u,{foldl:function(a,h,e,b){"string"==typeof a&&(a=a.split(""));b=b||p.global;h=u.lambda(h);var d;if(x.isArray(a)){var f=0;for(d=a.length;f<d;e=h.call(b,e,a[f],f,a),++f);}else if("function"==typeof a.hasNext&&"function"==typeof a.next)for(f=0;a.hasNext();e=h.call(b,
e,a.next(),f++,a));else for(f in a)f in r||(e=h.call(b,e,a[f],f,a));return e},foldl1:function(a,h,e){"string"==typeof a&&(a=a.split(""));e=e||p.global;h=u.lambda(h);var b;if(x.isArray(a)){var d=a[0];var f=1;for(b=a.length;f<b;d=h.call(e,d,a[f],f,a),++f);}else if("function"==typeof a.hasNext&&"function"==typeof a.next){if(a.hasNext())for(d=a.next(),f=1;a.hasNext();d=h.call(e,d,a.next(),f++,a));}else for(f in b=!0,a)f in r||(b?(d=a[f],b=!1):d=h.call(e,d,a[f],f,a));return d},foldr:function(a,h,e,b){"string"==
typeof a&&(a=a.split(""));b=b||p.global;h=u.lambda(h);for(var d=a.length;0<d;--d,e=h.call(b,e,a[d],d,a));return e},foldr1:function(a,h,e){"string"==typeof a&&(a=a.split(""));e=e||p.global;h=u.lambda(h);var b=a.length,d=a[b-1];for(--b;0<b;--b,d=h.call(e,d,a[b],b,a));return d},reduce:function(a,h,e){return 3>arguments.length?u.foldl1(a,h):u.foldl(a,h,e)},reduceRight:function(a,h,e){return 3>arguments.length?u.foldr1(a,h):u.foldr(a,h,e)},unfold:function(a,h,e,b,d){d=d||p.global;h=u.lambda(h);e=u.lambda(e);
a=u.lambda(a);for(var f=[];!a.call(d,b);f.push(h.call(d,b)),b=e.call(d,b));return f}})})},"dojox/lang/functional/reversed":function(){define(["dojo/_base/lang","dojo/_base/kernel","./lambda"],function(x,B,p){x.mixin(p,{filterRev:function(u,r,a){"string"==typeof u&&(u=u.split(""));a=a||B.global;r=p.lambda(r);for(var h=[],e,b=u.length-1;0<=b;--b)e=u[b],r.call(a,e,b,u)&&h.push(e);return h},forEachRev:function(u,r,a){"string"==typeof u&&(u=u.split(""));a=a||B.global;r=p.lambda(r);for(var h=u.length-1;0<=
h;r.call(a,u[h],h,u),--h);},mapRev:function(u,r,a){"string"==typeof u&&(u=u.split(""));a=a||B.global;r=p.lambda(r);var h=u.length,e=Array(h);--h;for(var b=0;0<=h;e[b++]=r.call(a,u[h],h,u),--h);return e},everyRev:function(u,r,a){"string"==typeof u&&(u=u.split(""));a=a||B.global;r=p.lambda(r);for(var h=u.length-1;0<=h;--h)if(!r.call(a,u[h],h,u))return!1;return!0},someRev:function(u,r,a){"string"==typeof u&&(u=u.split(""));a=a||B.global;r=p.lambda(r);for(var h=u.length-1;0<=h;--h)if(r.call(a,u[h],h,
u))return!0;return!1}});return p})},"dojox/charting/plot2d/Bars":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/has ./CartesianBase ./_PlotEvents ./common dojox/gfx/fx dojox/lang/utils dojox/lang/functional".split(" "),function(x,B,p,u,r,a,h,e,b,d){var f=function(){return!1};return p("dojox.charting.plot2d.Bars",[r,a],{defaultParams:{gap:0,animate:null,enableCache:!1},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,
font:"",fontColor:""},constructor:function(l,c){this.opt=x.clone(x.mixin(this.opt,this.defaultParams));b.updateWithObject(this.opt,c);b.updateWithPattern(this.opt,c,this.optionalParams);this.animate=this.opt.animate;this.renderingOptions={"shape-rendering":"crispEdges"}},getSeriesStats:function(){var l=h.collectSimpleStats(this.series,x.hitch(this,"isNullValue"));l.hmin-=.5;l.hmax+=.5;var c=l.hmin;l.hmin=l.vmin;l.vmin=c;c=l.hmax;l.hmax=l.vmax;l.vmax=c;return l},createRect:function(l,c,k){if(this.opt.enableCache&&
0<l._rectFreePool.length){var g=l._rectFreePool.pop();g.setShape(k);c.add(g)}else g=c.createRect(k);this.opt.enableCache&&l._rectUsePool.push(g);return g},createLabel:function(l,c,k,g){this.opt.labels&&"outside"==this.opt.labelStyle?this.renderLabel(l,k.x+k.width+this.opt.labelOffset,k.y+k.height/2,this._getLabel(isNaN(c.y)?c:c.y),g,"start"):this.inherited(arguments)},render:function(l,c){if(this.zoom&&!this.isDataDirty())return this.performZoom(l,c);this.dirty=this.isDirty();this.resetEvents();if(this.dirty){B.forEach(this.series,
h.purgeGroup);this._eventSeries={};this.cleanGroup();var k=this.getGroup();d.forEachRev(this.series,function(G){G.cleanGroup(k)})}var g=this.chart.theme,m=this._hScaler.scaler.getTransformerFromModel(this._hScaler),t=this._vScaler.scaler.getTransformerFromModel(this._vScaler),n=Math.max(this._hScaler.bounds.lower,this._hAxis?this._hAxis.naturalBaseline:0),q=m(n),v=this.events(),A=this.getBarProperties(),C=this.series.length;B.forEach(this.series,function(G){G.hidden&&C--});var I=C,M=this.extractValues(this._vScaler);
M=this.rearrangeValues(M,m,q);for(var O=0;O<this.series.length;O++){var L=this.series[O];if(this.dirty||L.dirty){L.cleanGroup();this.opt.enableCache&&(L._rectFreePool=(L._rectFreePool?L._rectFreePool:[]).concat(L._rectUsePool?L._rectUsePool:[]),L._rectUsePool=[]);var T=g.next("bar",[this.opt,L]);if(L.hidden)L.dyn.fill=T.series.fill,L.dyn.stroke=T.series.stroke;else{I--;var X=Array(L.data.length);k=L.group;for(var y=B.some(L.data,function(G){return"number"==typeof G||G&&!G.hasOwnProperty("x")}),z=
y?Math.min(L.data.length,Math.ceil(this._vScaler.bounds.to)):L.data.length,F=y?Math.max(0,Math.floor(this._vScaler.bounds.from-1)):0;F<z;++F){var J=L.data[F];if(!this.isNullValue(J)){var H=this.getValue(J,F,O,y),D=M[O][F];if(this.opt.styleFunc||"number"!=typeof J){var S="number"!=typeof J?[J]:[];this.opt.styleFunc&&S.push(this.opt.styleFunc(J));S=g.addMixin(T,"bar",S,!0)}else S=g.post(T,"bar");if(D&&1<=A.height){var w={x:c.l+q+Math.min(D,0),y:l.height-c.b-t(H.x+1.5)+A.gap+A.thickness*(C-I-1),width:Math.abs(D),
height:A.height};if(S.series.shadow){var E=x.clone(w);E.x+=S.series.shadow.dx;E.y+=S.series.shadow.dy;E=this.createRect(L,k,E).setFill(S.series.shadow.color).setStroke(S.series.shadow);this.animate&&this._animateBar(E,c.l+q,-D)}var K=this._plotFill(S.series.fill,l,c);K=this._shapeFill(K,w);K=this.createRect(L,k,w).setFill(K).setStroke(S.series.stroke);K.setFilter&&S.series.filter&&K.setFilter(S.series.filter);L.dyn.fill=K.getFill();L.dyn.stroke=K.getStroke();if(v){var N={element:"bar",index:F,run:L,
shape:K,shadow:E,cx:H.y,cy:H.x+1.5,x:y?F:L.data[F].x,y:y?L.data[F]:L.data[F].y};this._connectEvents(N);X[F]=N}!isNaN(H.py)&&H.py>n&&(w.x+=m(H.py),w.width-=m(H.py));this.createLabel(k,J,w,S);this.animate&&this._animateBar(K,c.l+q,-Math.abs(D))}}}this._eventSeries[L.name]=X;L.dirty=!1}}else g.skip(),this._reconnectEvents(L.name)}this.dirty=!1;u("dojo-bidi")&&this._checkOrientation(this.group,l,c);return this},getValue:function(l,c,k,g){g?(k="number"==typeof l?l:l.y,l=c):(k=l.y,l=l.x-1);return{y:k,x:l}},
extractValues:function(l){for(var c=[],k=this.series.length-1;0<=k;--k){var g=this.series[k];if(this.dirty||g.dirty){var m=B.some(g.data,function(v){return"number"==typeof v||v&&!v.hasOwnProperty("x")}),t=m?Math.max(0,Math.floor(l.bounds.from-1)):0;m=m?Math.min(g.data.length,Math.ceil(l.bounds.to)):g.data.length;var n=c[k]=[];n.min=t;for(n.max=m;t<m;++t){var q=g.data[t];n[t]=this.isNullValue(q)?0:"number"==typeof q?q:q.y}}}return c},rearrangeValues:function(l,c,k){for(var g=0,m=l.length;g<m;++g){var t=
l[g];if(t)for(var n=t.min,q=t.max;n<q;++n){var v=t[n];t[n]=this.isNullValue(v)?0:c(v)-k}}return l},isNullValue:function(l){if(null===l||"undefined"==typeof l)return!0;var c=this._hAxis?this._hAxis.isNullValue:f,k=this._vAxis?this._vAxis.isNullValue:f;return"number"==typeof l?k(.5)||c(l):k(isNaN(l.x)?.5:l.x+.5)||null===l.y||c(l.y)},getBarProperties:function(){var l=h.calculateBarSize(this._vScaler.bounds.scale,this.opt);return{gap:l.gap,height:l.size,thickness:0}},_animateBar:function(l,c,k){0==k&&
(k=1);e.animateTransform(x.delegate({shape:l,duration:1200,transform:[{name:"translate",start:[c-c/k,0],end:[0,0]},{name:"scale",start:[1/k,1],end:[1,1]},{name:"original"}]},this.animate)).play()}})})},"dojox/charting/plot2d/CartesianBase":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/connect dojo/has ./Base ../scaler/primitive dojox/gfx dojox/gfx/fx dojox/lang/utils".split(" "),function(x,B,p,u,r,a,h,e,b){var d=function(){return!1};return B("dojox.charting.plot2d.CartesianBase",
r,{baseParams:{hAxis:"x",vAxis:"y",labels:!1,labelOffset:10,fixed:!0,precision:1,labelStyle:"inside",htmlLabels:!0,omitLabels:!0,labelFunc:null},constructor:function(f,l){this.axes=["hAxis","vAxis"];this.zoom=null;this.zoomQueue=[];this.lastWindow={vscale:1,hscale:1,xoffset:0,yoffset:0};this.hAxis=l&&l.hAxis||"x";this.vAxis=l&&l.vAxis||"y";this.series=[];this.opt=x.clone(this.baseParams);b.updateWithObject(this.opt,l)},clear:function(){this.inherited(arguments);this._vAxis=this._hAxis=null;return this},
cleanGroup:function(f,l){this.inherited(arguments);if(!l&&this.chart._nativeClip){var c=this.chart.offsets,k=this.chart.dim;this.group.setClip({x:c.l,y:c.t,width:Math.max(0,k.width-c.l-c.r),height:Math.max(0,k.height-c.t-c.b)});this._clippedGroup||(this._clippedGroup=this.group.createGroup())}},purgeGroup:function(){this.inherited(arguments);this._clippedGroup=null},getGroup:function(){return this._clippedGroup||this.group},setAxis:function(f){f&&(this[f.vertical?"_vAxis":"_hAxis"]=f);return this},
toPage:function(f){var l=this._hAxis,c=this._vAxis,k=l.getScaler(),g=c.getScaler(),m=k.scaler.getTransformerFromModel(k),t=g.scaler.getTransformerFromModel(g),n=this.chart.getCoords(),q=this.chart.offsets,v=this.chart.dim;k=function(A){var C={};C.x=m(A[l.name])+n.x+q.l;C.y=n.y+v.height-q.b-t(A[c.name]);return C};return f?k(f):k},toData:function(f){var l=this._hAxis,c=this._vAxis,k=l.getScaler(),g=c.getScaler(),m=k.scaler.getTransformerFromPlot(k),t=g.scaler.getTransformerFromPlot(g),n=this.chart.getCoords(),
q=this.chart.offsets,v=this.chart.dim;k=function(A){var C={};C[l.name]=m(A.x-n.x-q.l);C[c.name]=t(n.y+v.height-A.y-q.b);return C};return f?k(f):k},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty},createLabel:function(f,l,c,k){if(this.opt.labels){var g=this.opt.labelFunc?this.opt.labelFunc.apply(this,[l,this.opt.fixed,this.opt.precision]):this._getLabel(isNaN(l.y)?l:l.y);if("inside"==this.opt.labelStyle){var m=h._base._getTextBox(g,{font:k.series.font});
l=c.x+c.width/2;var t=c.y+c.height/2+m.h/4;if(m.w>c.width||m.h>c.height)return}else l=c.x+c.width/2,t=c.y-this.opt.labelOffset;this.renderLabel(f,l,t,g,k,"inside"==this.opt.labelStyle)}},performZoom:function(f,l){var c=this._vAxis.scale||1,k=this._hAxis.scale||1;f=f.height-l.b;var g=this._hScaler.bounds;g=(g.from-g.lower)*g.scale;var m=this._vScaler.bounds;m=(m.from-m.lower)*m.scale;var t=c/this.lastWindow.vscale,n=k/this.lastWindow.hscale,q=(this.lastWindow.xoffset-g)/(1==this.lastWindow.hscale?
k:this.lastWindow.hscale),v=(m-this.lastWindow.yoffset)/(1==this.lastWindow.vscale?c:this.lastWindow.vscale),A=this.getGroup();l=e.animateTransform(x.delegate({shape:A,duration:1200,transform:[{name:"translate",start:[0,0],end:[l.l*(1-n),f*(1-t)]},{name:"scale",start:[1,1],end:[n,t]},{name:"original"},{name:"translate",start:[0,0],end:[q,v]}]},this.zoom));x.mixin(this.lastWindow,{vscale:c,hscale:k,xoffset:g,yoffset:m});this.zoomQueue.push(l);p.connect(l,"onEnd",this,function(){this.zoom=null;this.zoomQueue.shift();
0<this.zoomQueue.length&&this.zoomQueue[0].play()});1==this.zoomQueue.length&&this.zoomQueue[0].play();return this},initializeScalers:function(f,l){this._hAxis?(this._hAxis.initialized()||this._hAxis.calculate(l.hmin,l.hmax,f.width),this._hScaler=this._hAxis.getScaler()):this._hScaler=a.buildScaler(l.hmin,l.hmax,f.width);this._vAxis?(this._vAxis.initialized()||this._vAxis.calculate(l.vmin,l.vmax,f.height),this._vScaler=this._vAxis.getScaler()):this._vScaler=a.buildScaler(l.vmin,l.vmax,f.height);return this},
isNullValue:function(f){if(null===f||"undefined"==typeof f)return!0;var l=this._hAxis?this._hAxis.isNullValue:d,c=this._vAxis?this._vAxis.isNullValue:d;return"number"==typeof f?l(1)||c(f):l(isNaN(f.x)?1:f.x)||null===f.y||c(f.y)}})})},"dojox/charting/plot2d/Base":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojox/gfx ../Element ./common ../axis2d/common dojo/has".split(" "),function(x,B,p,u,r,a,h,e){x=x("dojox.charting.plot2d.Base",r,{constructor:function(b,d){d&&d.tooltipFunc&&
(this.tooltipFunc=d.tooltipFunc)},clear:function(){this.series=[];this.dirty=!0;return this},setAxis:function(b){return this},assignAxes:function(b){B.forEach(this.axes,function(d){this[d]&&this.setAxis(b[this[d]])},this)},addSeries:function(b){this.series.push(b);return this},getSeriesStats:function(){return a.collectSimpleStats(this.series,p.hitch(this,"isNullValue"))},calculateAxes:function(b){this.initializeScalers(b,this.getSeriesStats());return this},initializeScalers:function(){return this},
isDataDirty:function(){return B.some(this.series,function(b){return b.dirty})},render:function(b,d){return this},renderLabel:function(b,d,f,l,c,k,g){b=h.createText[this.opt.htmlLabels&&"vml"!=u.renderer?"html":"gfx"](this.chart,b,d,f,g?g:"middle",l,c.series.font,c.series.fontColor);k&&(this.opt.htmlLabels&&"vml"!=u.renderer?b.style.pointerEvents="none":b.rawNode&&(b.rawNode.style.pointerEvents="none"));this.opt.htmlLabels&&"vml"!=u.renderer&&this.htmlElements.push(b);return b},getRequiredColors:function(){return this.series.length},
_getLabel:function(b){return a.getLabel(b,this.opt.fixed,this.opt.precision)}});e("dojo-bidi")&&x.extend({_checkOrientation:function(b,d,f){this.chart.applyMirroring(this.group,d,f)}});return x})},"dojox/charting/scaler/primitive":function(){define(["dojo/_base/lang"],function(x){var B=x.getObject("dojox.charting.scaler.primitive",!0);return x.mixin(B,{buildScaler:function(p,u,r,a){p==u&&(p-=.5,u+=.5);return{bounds:{lower:p,upper:u,from:p,to:u,scale:r/(u-p),span:r},scaler:B}},buildTicks:function(p,
u){return{major:[],minor:[],micro:[]}},getTransformerFromModel:function(p){var u=p.bounds.from,r=p.bounds.scale;return function(a){return(a-u)*r}},getTransformerFromPlot:function(p){var u=p.bounds.from,r=p.bounds.scale;return function(a){return a/r+u}}})})},"dojox/gfx/fx":function(){define("dojo/_base/lang ./_base ./matrix dojo/_base/Color dojo/_base/array dojo/_base/fx dojo/_base/connect dojo/sniff".split(" "),function(x,B,p,u,r,a,h,e){function b(n,q){this.start=n;this.end=q}function d(n,q,v){this.start=
n;this.end=q;this.units=v}function f(n,q){this.start=n;this.end=q;this.temp=new u}function l(n){this.values=n;this.length=n.length}function c(n,q){this.values=n;this.def=q?q:{}}function k(n,q){this.stack=n;this.original=q}function g(n,q,v,A){if(n.values)return new l(n.values);var C;var I=n.start?B.normalizeColor(n.start):C=q?v?q[v]:q:A;n.end?n=B.normalizeColor(n.end):(C||(C=q?v?q[v]:q:A),n=C);return new f(I,n)}var m=B.fx={};b.prototype.getValue=function(n){return(this.end-this.start)*n+this.start};
d.prototype.getValue=function(n){return(this.end-this.start)*n+this.start+this.units};f.prototype.getValue=function(n){return u.blendColors(this.start,this.end,n,this.temp)};l.prototype.getValue=function(n){return this.values[Math.min(Math.floor(n*this.length),this.length-1)]};c.prototype.getValue=function(n){var q=x.clone(this.def),v;for(v in this.values)q[v]=this.values[v].getValue(n);return q};k.prototype.getValue=function(n){var q=[];r.forEach(this.stack,function(v){if(v instanceof p.Matrix2D)q.push(v);
else if("original"==v.name&&this.original)q.push(this.original);else if("matrix"==v.name){if(v.start instanceof p.Matrix2D&&v.end instanceof p.Matrix2D){var A=new p.Matrix2D;for(C in v.start)A[C]=(v.end[C]-v.start[C])*n+v.start[C];q.push(A)}}else if(v.name in p)if(A=p[v.name],"function"!=typeof A)q.push(A);else{var C=r.map(v.start,function(I,M){return(v.end[M]-I)*n+I});A=A.apply(p,C);A instanceof p.Matrix2D&&q.push(A)}},this);return q};var t=new u(0,0,0,0);m.animateStroke=function(n){n.easing||(n.easing=
a._defaultEasing);var q=new a.Animation(n),v=n.shape,A;h.connect(q,"beforeBegin",q,function(){A=v.getStroke();var C=n.color,I={};C&&(I.color=g(C,A,"color",t));(C=n.style)&&C.values&&(I.style=new l(C.values));if(C=n.width){var M=C,O=A;if(M.values)var L=new l(M.values);else C=M.start?M.start:L=O?O.width:1,M.end?L=M.end:"number"!=typeof L&&(L=O?O.width:1),L=new b(C,L);I.width=L}(C=n.cap)&&C.values&&(I.cap=new l(C.values));if(C=n.join)C.values?I.join=new l(C.values):(L=C.start?C.start:A&&A.join||0,C=
C.end?C.end:A&&A.join||0,"number"==typeof L&&"number"==typeof C&&(I.join=new b(L,C)));this.curve=new c(I,A)});h.connect(q,"onAnimate",v,"setStroke");return q};m.animateFill=function(n){n.easing||(n.easing=a._defaultEasing);var q=new a.Animation(n),v=n.shape,A;h.connect(q,"beforeBegin",q,function(){A=v.getFill();var C=n.color;C&&(this.curve=g(C,A,"",t))});h.connect(q,"onAnimate",v,"setFill");return q};m.animateFont=function(n){n.easing||(n.easing=a._defaultEasing);var q=new a.Animation(n),v=n.shape,
A;h.connect(q,"beforeBegin",q,function(){A=v.getFont();var C=n.style,I={};C&&C.values&&(I.style=new l(C.values));(C=n.variant)&&C.values&&(I.variant=new l(C.values));(C=n.weight)&&C.values&&(I.weight=new l(C.values));(C=n.family)&&C.values&&(I.family=new l(C.values));if((C=n.size)&&C.units){var M=parseFloat(C.start?C.start:v.font&&v.font.size||"0");var O=parseFloat(C.end?C.end:v.font&&v.font.size||"0");I.size=new d(M,O,C.units)}this.curve=new c(I,A)});h.connect(q,"onAnimate",v,"setFont");return q};
m.animateTransform=function(n){n.easing||(n.easing=a._defaultEasing);var q=new a.Animation(n),v=n.shape,A;h.connect(q,"beforeBegin",q,function(){A=v.getTransform();this.curve=new k(n.transform,A)});h.connect(q,"onAnimate",v,"setTransform");if("svg"===B.renderer&&(9<=e("ie")||e("ff")))var C=[h.connect(q,"onBegin",q,function(){for(var I=v.getParent();I&&I.getParent;)I=I.getParent();I&&(v.__svgContainer=I.rawNode.parentNode,v.__svgRoot=I.rawNode,v.__svgRoot&&v.__svgRoot.getAttribute&&(v.__svgWidth=parseInt(v.__svgRoot.getAttribute("width"),
10),isNaN(v.__svgWidth)&&delete v.__svgWidth))}),h.connect(q,"onAnimate",q,function(){try{if(v.__svgContainer){var I=v.__svgContainer.style.visibility;v.__svgContainer.style.visibility="visible";v.__svgContainer.style.visibility=I;var M=v.__svgWidth;if(!isNaN(M))try{v.__svgRoot.setAttribute("width",M-5E-6),v.__svgRoot.setAttribute("width",M)}catch(O){}}}catch(O){}}),h.connect(q,"onEnd",q,function(){r.forEach(C,h.disconnect);if(v.__svgContainer){var I=v.__svgContainer;if(null==I.getAttribute("__gotVis")){I.setAttribute("__gotVis",
!0);var M=v.__svgContainer.style.visibility,O=v.__svgRoot,L=v.__svgWidth;I.style.visibility="visible";setTimeout(function(){try{I.style.visibility=M;I.removeAttribute("__gotVis");I=null;try{isNaN(L)||(O.setAttribute("width",L-5E-6),O.setAttribute("width",L))}catch(T){}}catch(T){}},100)}}delete v.__svgContainer;delete v.__svgRoot;delete v.__svgWidth})];return q};return m})},"dojox/charting/plot2d/_PlotEvents":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/connect"],
function(x,B,p,u){return p("dojox.charting.plot2d._PlotEvents",null,{constructor:function(){this._shapeEvents=[];this._eventSeries={}},destroy:function(){this.resetEvents();this.inherited(arguments)},plotEvent:function(r){},raiseEvent:function(r){this.plotEvent(r);var a=x.delegate(r);a.originalEvent=r.type;a.originalPlot=r.plot;a.type="onindirect";B.forEach(this.chart.stack,function(h){h!==this&&h.plotEvent&&(a.plot=h,h.plotEvent(a))},this)},connect:function(r,a){this.dirty=!0;return u.connect(this,
"plotEvent",r,a)},events:function(){return!!this.plotEvent.after},resetEvents:function(){this._shapeEvents.length&&(B.forEach(this._shapeEvents,function(r){r.shape.disconnect(r.handle)}),this._shapeEvents=[]);this.raiseEvent({type:"onplotreset",plot:this})},_connectSingleEvent:function(r,a){this._shapeEvents.push({shape:r.eventMask,handle:r.eventMask.connect(a,this,function(h){r.type=a;r.event=h;this.raiseEvent(r);r.event=null})})},_connectEvents:function(r){r&&(r.chart=this.chart,r.plot=this,r.hAxis=
this.hAxis||null,r.vAxis=this.vAxis||null,r.eventMask=r.eventMask||r.shape,this._connectSingleEvent(r,"onmouseover"),this._connectSingleEvent(r,"onmouseout"),this._connectSingleEvent(r,"onclick"))},_reconnectEvents:function(r){(r=this._eventSeries[r])&&B.forEach(r,this._connectEvents,this)},fireEvent:function(r,a,h,e){(r=this._eventSeries[r])&&r.length&&h<r.length&&(h=r[h],h.type=a,h.event=e||null,this.raiseEvent(h),h.event=null)}})})},"dojox/charting/plot2d/Pie":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/dom-geometry dojo/_base/Color ./Base ./_PlotEvents ./common dojox/gfx dojox/gfx/matrix dojox/lang/functional dojox/lang/utils dojo/has".split(" "),
function(x,B,p,u,r,a,h,e,b,d,f,l,c){return p("dojox.charting.plot2d.Pie",[a,h],{defaultParams:{labels:!0,ticks:!1,fixed:!0,precision:1,labelOffset:20,labelStyle:"default",htmlLabels:!0,radGrad:"native",fanSize:5,startAngle:0,innerRadius:0,minWidth:0,zeroDataMessage:""},optionalParams:{radius:0,omitLabels:!1,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:"",labelWiring:{}},constructor:function(k,g){this.opt=x.clone(this.defaultParams);l.updateWithObject(this.opt,
g);l.updateWithPattern(this.opt,g,this.optionalParams);this.axes=[];this.run=null;this.dyn=[];this.runFilter=[];g&&g.hasOwnProperty("innerRadius")&&(this._plotSetInnerRadius=!0)},clear:function(){this.inherited(arguments);this.dyn=[];this.run=null;return this},setAxis:function(k){return this},addSeries:function(k){this.run=k;return this},getSeriesStats:function(){return x.delegate(e.defaultStats)},getRequiredColors:function(){return this.run?this.run.data.length:0},render:function(k,g){if(!this.dirty)return this;
this.resetEvents();this.dirty=!1;this._eventSeries={};this.cleanGroup();var m=this.group,t=this.chart.theme;!this._plotSetInnerRadius&&t&&t.pieInnerRadius&&(this.opt.innerRadius=t.pieInnerRadius);var n=(k.width-g.l-g.r)/2,q=(k.height-g.t-g.b)/2,v=Math.min(n,q),A="font"in this.opt?this.opt.font:t.axis.tick.titleFont||"",C=A?b.normalizedLength(b.splitFontString(A).size):0,I=this.opt.hasOwnProperty("fontColor")?this.opt.fontColor:t.axis.tick.fontColor,M=d._degToRad(this.opt.startAngle),O=M,L,T=this.run.data,
X=this.events(),y=x.hitch(this,function(){var P=t.clone(),R=f.map(T,function(fa){var ia=[this.opt,this.run];null!==fa&&"number"!=typeof fa&&ia.push(fa);this.opt.styleFunc&&ia.push(this.opt.styleFunc(fa));return P.next("slice",ia,!0)},this);"radius"in this.opt&&(v=this.opt.radius<v?this.opt.radius:v);var U={cx:g.l+n,cy:g.t+q,r:v},Y=new r(I);this.opt.innerRadius&&(Y.a=.1);var ha=this._createRing(m,U).setStroke(Y);this.opt.innerRadius&&ha.setFill(Y);this.opt.zeroDataMessage&&this.renderLabel(m,U.cx,
U.cy+C/3,this.opt.zeroDataMessage,{series:{font:A,fontColor:I}},null,"middle");this.dyn=[];B.forEach(T,function(fa,ia){this.dyn.push({fill:this._plotFill(R[ia].series.fill,k,g),stroke:R[ia].series.stroke})},this)});if(!this.run&&!this.run.data.ength)return y(),this;if("number"==typeof T[0]){var z=f.map(T,"x ? Math.max(x, 0) : 0");if(f.every(z,"\x3c\x3d 0"))return y(),this;var F=f.map(z,"/this",f.foldl(z,"+",0));this.opt.labels&&(L=B.map(F,function(P){return 0<P?this._getLabel(100*P)+"%":""},this))}else{z=
f.map(T,"x ? Math.max(x.y, 0) : 0");if(!z.length||f.every(z,"\x3c\x3d 0"))return y(),this;F=f.map(z,"/this",f.foldl(z,"+",0));this.opt.labels&&(L=B.map(F,function(P,R){if(0>P)return"";R=T[R];return R.hasOwnProperty("text")?R.text:this._getLabel(100*P)+"%"},this))}var J=f.map(T,function(P){var R=[this.opt,this.run];null!==P&&"number"!=typeof P&&R.push(P);this.opt.styleFunc&&R.push(this.opt.styleFunc(P));return t.next("slice",R,!0)},this);this.opt.labels&&(z=f.foldl1(f.map(L,function(P,R){return b._base._getTextBox(P,
{font:J[R].series.font}).w},this),"Math.max(a, b)")/2,0>this.opt.labelOffset&&(v=Math.min(n-2*z,q-C)+this.opt.labelOffset));this.opt.hasOwnProperty("radius")&&(v=this.opt.radius<.9*v?this.opt.radius:.9*v);!this.opt.radius&&this.opt.labels&&"columns"==this.opt.labelStyle?(v/=2,n>q&&n>2*v&&(v*=n/(2*v)),v>=.8*q&&(v=.8*q)):v>=.9*q&&(v=.9*q);var H=v-this.opt.labelOffset;var D={cx:g.l+n,cy:g.t+q,r:v};this.dyn=[];var S=Array(F.length),w=[],E=O,K=this.opt.minWidth;B.forEach(F,function(P,R){if(0===P)w[R]=
{step:0,end:E,start:E,weak:!1};else{P=E+2*P*Math.PI;R===F.length-1&&(P=M+2*Math.PI);var U=P-E;w[R]={step:U,start:E,end:P,weak:U*v<K};E=P}});if(0<K){z=0;var N=K/v;y=0;var G;for(G=w.length-1;0<=G;G--)w[G].weak&&(++z,y+=w[G].step,w[G].step=N);N*=z;if(N>Math.PI){N=Math.PI/z;for(G=0;G<w.length;++G)w[G].weak&&(w[G].step=N);N=Math.PI}if(0<z)for(N=1-(N-y)/2/Math.PI,G=0;G<w.length;++G)w[G].weak||(w[G].step*=N);for(G=0;G<w.length;++G)w[G].start=G?w[G].end:E,w[G].end=w[G].start+w[G].step;for(G=w.length-1;0<=
G;--G)if(0!==w[G].step){w[G].end=E+2*Math.PI;break}}E=O;var W,Q;B.some(F,function(P,R){var U=T[R],Y=J[R];if(1<=P){Q=this._plotFill(Y.series.fill,k,g);Q=this._shapeFill(Q,{x:D.cx-D.r,y:D.cy-D.r,width:2*D.r,height:2*D.r});Q=this._pseudoRadialFill(Q,{x:D.cx,y:D.cy},D.r);var ha=this._createRing(m,D).setFill(Q).setStroke(Y.series.stroke);this.dyn.push({fill:Q,stroke:Y.series.stroke});X&&(W={element:"slice",index:R,run:this.run,shape:ha,x:R,y:"number"==typeof U?U:U.y,cx:D.cx,cy:D.cy,cr:v},this._connectEvents(W),
S[R]=W);for(R+=1;R<F.length;R++)Y=J[R],this.dyn.push({fill:Y.series.fill,stroke:Y.series.stroke});return!0}if(0===w[R].step)return this.dyn.push({fill:Y.series.fill,stroke:Y.series.stroke}),!1;P=w[R].step;ha=D.cx+v*Math.cos(E);var fa=D.cy+v*Math.sin(E),ia=D.cx+v*Math.cos(E+P),ca=D.cy+v*Math.sin(E+P),Z=d._degToRad(this.opt.fanSize);if(Y.series.fill&&"radial"===Y.series.fill.type&&"fan"===this.opt.radGrad&&P>Z){var ka=m.createGroup();Z=Math.ceil(P/Z);var la=P/Z;Q=this._shapeFill(Y.series.fill,{x:D.cx-
D.r,y:D.cy-D.r,width:2*D.r,height:2*D.r});var da;for(da=0;da<Z;++da){var qa=E+(da-.2)*la;var pa=E+(da+1+.2)*la;var ra=0==da?ha:D.cx+v*Math.cos(qa);var sa=0==da?fa:D.cy+v*Math.sin(qa);var ta=da==Z-1?ia:D.cx+v*Math.cos(pa);pa=da==Z-1?ca:D.cy+v*Math.sin(pa);this._createSlice(ka,D,v,ra,sa,ta,pa,qa,la).setFill(this._pseudoRadialFill(Q,{x:D.cx,y:D.cy},v,E+(da+.5)*la,E+(da+.5)*la))}Z=Y.series.stroke;this._createSlice(ka,D,v,ha,fa,ia,ca,E,P).setStroke(Z);ha=ka}else{Z=Y.series.stroke;ha=this._createSlice(m,
D,v,ha,fa,ia,ca,E,P).setStroke(Z);if((Q=Y.series.fill)&&"radial"===Q.type)Q=this._shapeFill(Q,{x:D.cx-D.r,y:D.cy-D.r,width:2*D.r,height:2*D.r}),"linear"===this.opt.radGrad&&(Q=this._pseudoRadialFill(Q,{x:D.cx,y:D.cy},v,E,E+P));else if(Q&&"linear"===Q.type){fa=x.clone(ha.getBoundingBox());if("svg"===b.renderer){ia={w:0,h:0};try{ia=u.position(ha.rawNode)}catch(ua){}ia.h>fa.height&&(fa.height=ia.h);ia.w>fa.width&&(fa.width=ia.w)}Q=this._plotFill(Q,k,g);Q=this._shapeFill(Q,fa)}ha.setFill(Q)}this.dyn.push({fill:Q,
stroke:Y.series.stroke});X&&(W={element:"slice",index:R,run:this.run,shape:ha,x:R,y:"number"==typeof U?U:U.y,cx:D.cx,cy:D.cy,cr:v},this._connectEvents(W),S[R]=W);E+=P;return!1},this);if(this.opt.labels){var V=c("dojo-bidi")&&this.chart.isRightToLeft();if("default"==this.opt.labelStyle)E=O=M,B.some(F,function(P,R){if(0>=P&&!this.opt.minWidth)return!1;var U=J[R];if(1<=P)return this.renderLabel(m,D.cx,D.cy+C/2,L[R],U,0<this.opt.labelOffset),!0;P=O+2*P*Math.PI;R+1==F.length&&(P=M+2*Math.PI);if(this.opt.omitLabels&&
.001>P-O)return!1;var Y=E+w[R].step/2,ha=D.cx+H*Math.cos(Y);this.renderLabel(m,V?k.width-ha:ha,D.cy+H*Math.sin(Y)+C/2,L[R],U,0<this.opt.labelOffset);E+=w[R].step;O=P;return!1},this);else if("columns"==this.opt.labelStyle){var ea=this.opt.omitLabels;E=O=M;var ja=[],aa=0;for(z=F.length-1;0<=z;--z)F[z]&&++aa;B.forEach(F,function(P,R){P=O+2*P*Math.PI;R+1==F.length&&(P=M+2*Math.PI);if(0!==this.minWidth||.001<=P-O){var U=E+w[R].step/2;1!==aa||this.opt.minWidth||(U=(O+P)/2);ja.push({angle:U,left:0>Math.cos(U),
theme:J[R],index:R,omit:ea?.001>P-O:!1})}O=P;E+=w[R].step},this);var ma=b._base._getTextBox("a",{font:A,whiteSpace:"nowrap"}).h;this._getProperLabelRadius(ja,ma,1.1*D.r);var na=D.cx-2*D.r,ba=D.cx+2*D.r;B.forEach(ja,function(P){if(!P.omit){var R=J[P.index],U=0;R&&R.axis&&R.axis.tick&&R.axis.tick.labelGap&&(U=R.axis.tick.labelGap);var Y=b._base._getTextBox(L[P.index],{font:R.series.font,whiteSpace:"nowrap",paddingLeft:U+"px"}).w,ha=D.cx+P.labelR*Math.cos(P.angle),fa=D.cy+P.labelR*Math.sin(P.angle),
ia=P.left?na+Y:ba-Y;U=P.left?na:ia+U;var ca=D.r;ca=m.createPath().moveTo(D.cx+ca*Math.cos(P.angle),D.cy+ca*Math.sin(P.angle));Math.abs(P.labelR*Math.cos(P.angle))<2*D.r-Y&&ca.lineTo(ha,fa);ca.lineTo(ia,fa).setStroke(P.theme.series.labelWiring);ca.moveToBack();ha=this.renderLabel(m,U,ma/3+fa||0,L[P.index],R,!1,"left");X&&!this.opt.htmlLabels&&(R=b._base._getTextBox(L[P.index],{font:P.theme.series.font}).w||0,Y=b.normalizedLength(b.splitFontString(P.theme.series.font).size),W={element:"labels",index:P.index,
run:this.run,shape:ha,x:U,y:fa,label:L[P.index]},U=ha.getShape(),fa=u.position(this.chart.node,!0),U=x.mixin({type:"rect"},{x:U.x,y:U.y-2*Y}),U.x+=fa.x,U.y+=fa.y,U.x=Math.round(U.x),U.y=Math.round(U.y),U.width=Math.ceil(R),U.height=Math.ceil(Y),W.aroundRect=U,this._connectEvents(W),S[F.length+P.index]=W)}},this)}}var oa=0;this._eventSeries[this.run.name]=f.map(T,function(P){return 0>=P?null:S[oa++]});c("dojo-bidi")&&this._checkOrientation(this.group,k,g);return this},_getProperLabelRadius:function(k,
g,m){if(1==k.length)k[0].labelR=m;else{var t={},n={},q=2,v=2,A;for(A=0;A<k.length;++A){var C=Math.abs(Math.sin(k[A].angle));k[A].left?q>C&&(q=C,t=k[A]):v>C&&(v=C,n=k[A])}t.labelR=n.labelR=m;this._caculateLabelR(t,k,g);this._caculateLabelR(n,k,g)}},_caculateLabelR:function(k,g,m){var t,n=g.length,q=k.labelR,v=g[k.index].left?-m:m;var A=0;m=k.index;for(t=(m+1)%n;A<n&&g[m].left===g[t].left;++A)q=(Math.sin(g[m].angle)*q+v)/Math.sin(g[t].angle),q=Math.max(k.labelR,q),g[t].labelR=q,m=(m+1)%n,t=(t+1)%n;
A>=n&&(g[0].labelR=k.labelR);A=0;m=k.index;for(t=(m||n)-1;A<n&&g[m].left===g[t].left;++A)q=(Math.sin(g[m].angle)*q-v)/Math.sin(g[t].angle),q=Math.max(k.labelR,q),g[t].labelR=q,m=(m||n)-1,t=(t||n)-1},_createRing:function(k,g){var m=this.opt.innerRadius;0<m?m=m/100*g.r:0>m&&(m=-m);return m?k.createPath({}).setAbsoluteMode(!0).moveTo(g.cx,g.cy-g.r).arcTo(g.r,g.r,0,!1,!0,g.cx+g.r,g.cy).arcTo(g.r,g.r,0,!0,!0,g.cx,g.cy-g.r).closePath().moveTo(g.cx,g.cy-m).arcTo(m,m,0,!1,!0,g.cx+m,g.cy).arcTo(m,m,0,!0,!0,
g.cx,g.cy-m).closePath():k.createCircle(g)},_createSlice:function(k,g,m,t,n,q,v,A,C){var I=this.opt.innerRadius;0<I?I=I/100*g.r:0>I&&(I=-I);if(I){var M=g.cx+I*Math.cos(A),O=g.cy+I*Math.sin(A),L=g.cx+I*Math.cos(A+C);g=g.cy+I*Math.sin(A+C);return k.createPath({}).setAbsoluteMode(!0).moveTo(M,O).lineTo(t,n).arcTo(m,m,0,C>Math.PI,!0,q,v).lineTo(L,g).arcTo(I,I,0,C>Math.PI,!1,M,O).closePath()}return k.createPath({}).setAbsoluteMode(!0).moveTo(g.cx,g.cy).lineTo(t,n).arcTo(m,m,0,C>Math.PI,!0,q,v).lineTo(g.cx,
g.cy).closePath()}})})},"dojox/charting/action2d/Tooltip":function(){define("dijit/Tooltip dojo/_base/lang dojo/_base/declare dojo/_base/window dojo/_base/connect dojo/dom-style ./PlotAction dojox/gfx/matrix dojo/has dojo/has!dojo-bidi?../bidi/action2d/Tooltip dojox/lang/functional dojox/lang/functional/scan dojox/lang/functional/fold".split(" "),function(x,B,p,u,r,a,h,e,b,d,f){var l=function(g,m){var t=g.run&&g.run.data&&g.run.data[g.index];return t&&"number"!=typeof t&&(t.tooltip||t.text)?t.tooltip||
t.text:m.tooltipFunc?m.tooltipFunc(g):g.y},c=Math.PI/4,k=Math.PI/2;a=p(b("dojo-bidi")?"dojox.charting.action2d.NonBidiTooltip":"dojox.charting.action2d.Tooltip",h,{defaultParams:{text:l,mouseOver:!0,defaultPosition:["after-centered","before-centered"]},optionalParams:{},constructor:function(g,m,t){this.text=t&&t.text?t.text:l;this.mouseOver=t&&void 0!=t.mouseOver?t.mouseOver:!0;this.defaultPosition=t&&void 0!=t.defaultPosition?t.defaultPosition:["after-centered","before-centered"];this.connect()},
process:function(g){if("onplotreset"===g.type||"onmouseout"===g.type)x.hide(this.aroundRect),this.aroundRect=null,"onplotreset"===g.type&&delete this.angles;else if(!(!g.shape||this.mouseOver&&"onmouseover"!==g.type||!this.mouseOver&&"onclick"!==g.type)){var m={type:"rect"},t=this.defaultPosition;switch(g.element){case "marker":m.x=g.cx;m.y=g.cy;m.w=m.h=1;break;case "circle":m.x=g.cx-g.cr;m.y=g.cy-g.cr;m.w=m.h=2*g.cr;break;case "spider_circle":m.x=g.cx;m.y=g.cy;m.w=m.h=1;break;case "spider_plot":return;
case "column":t=["above-centered","below-centered"];case "bar":m=B.clone(g.shape.getShape());m.w=m.width;m.h=m.height;break;case "candlestick":m.x=g.x;m.y=g.y;m.w=g.width;m.h=g.height;break;default:if(!this.angles){var n="number"==typeof g.run.data[0]?f.map(g.run.data,"x ? Math.max(x, 0) : 0"):f.map(g.run.data,"x ? Math.max(x.y, 0) : 0");this.angles=f.map(f.scanl(n,"+",0),"* 2 * Math.PI / this",f.foldl(n,"+",0))}n=e._degToRad(g.plot.opt.startAngle);var q=(this.angles[g.index]+this.angles[g.index+
1])/2+n;m.x=g.cx+g.cr*Math.cos(q);m.y=g.cy+g.cr*Math.sin(q);m.w=m.h=1;n&&(0>q||q>2*Math.PI)&&(q=Math.abs(2*Math.PI-Math.abs(q)));q<c||(q<k+c?t=["below-centered","above-centered"]:q<Math.PI+c?t=["before-centered","after-centered"]:q<2*Math.PI-c&&(t=["above-centered","below-centered"]))}b("dojo-bidi")&&this._recheckPosition(g,m,t);n=this.chart.getCoords();m.x+=n.x;m.y+=n.y;m.x=Math.round(m.x);m.y=Math.round(m.y);m.w=Math.ceil(m.w);m.h=Math.ceil(m.h);this.aroundRect=m;(g=this.text(g,this.plot))&&x.show(this._format(g),
this.aroundRect,t);this.mouseOver||(this._handle=r.connect(u.doc,"onclick",this,"onClick"))}},onClick:function(){this.process({type:"onmouseout"})},_recheckPosition:function(g,m,t){},_format:function(g){return g}});return b("dojo-bidi")?p("dojox.charting.action2d.Tooltip",[a,d]):a})},"dojox/charting/action2d/PlotAction":function(){define(["dojo/_base/connect","dojo/_base/declare","./Base","dojo/fx/easing","dojox/lang/functional"],function(x,B,p,u,r){var a=u.backOut;return B("dojox.charting.action2d.PlotAction",
p,{overOutEvents:{onmouseover:1,onmouseout:1},constructor:function(h,e,b){this.anim={};b||(b={});this.duration=b.duration?b.duration:400;this.easing=b.easing?b.easing:a},connect:function(){this.handle=this.chart.connectToPlot(this.plot.name,this,"process")},disconnect:function(){this.handle&&(x.disconnect(this.handle),this.handle=null)},reset:function(){},destroy:function(){this.inherited(arguments);r.forIn(this.anim,function(h){r.forIn(h,function(e){e.action.stop(!0)})});this.anim={}}})})},"dojox/charting/action2d/Base":function(){define(["dojo/_base/lang",
"dojo/_base/declare","dojo/Evented"],function(x,B,p){return B("dojox.charting.action2d.Base",p,{constructor:function(u,r){this.chart=u;this.plot=r?x.isString(r)?this.chart.getPlot(r):r:this.chart.getPlot("default")},connect:function(){},disconnect:function(){},destroy:function(){this.disconnect()}})})},"dojo/fx/easing":function(){define(["../_base/lang"],function(x){var B={linear:function(p){return p},quadIn:function(p){return Math.pow(p,2)},quadOut:function(p){return p*(p-2)*-1},quadInOut:function(p){p*=
2;return 1>p?Math.pow(p,2)/2:-1*(--p*(p-2)-1)/2},cubicIn:function(p){return Math.pow(p,3)},cubicOut:function(p){return Math.pow(p-1,3)+1},cubicInOut:function(p){p*=2;return 1>p?Math.pow(p,3)/2:(Math.pow(p-2,3)+2)/2},quartIn:function(p){return Math.pow(p,4)},quartOut:function(p){return-1*(Math.pow(p-1,4)-1)},quartInOut:function(p){p*=2;return 1>p?Math.pow(p,4)/2:-.5*(Math.pow(p-2,4)-2)},quintIn:function(p){return Math.pow(p,5)},quintOut:function(p){return Math.pow(p-1,5)+1},quintInOut:function(p){p*=
2;return 1>p?Math.pow(p,5)/2:(Math.pow(p-2,5)+2)/2},sineIn:function(p){return-1*Math.cos(Math.PI/2*p)+1},sineOut:function(p){return Math.sin(Math.PI/2*p)},sineInOut:function(p){return-1*(Math.cos(Math.PI*p)-1)/2},expoIn:function(p){return 0==p?0:Math.pow(2,10*(p-1))},expoOut:function(p){return 1==p?1:-1*Math.pow(2,-10*p)+1},expoInOut:function(p){if(0==p)return 0;if(1==p)return 1;p*=2;if(1>p)return Math.pow(2,10*(p-1))/2;--p;return(-1*Math.pow(2,-10*p)+2)/2},circIn:function(p){return-1*(Math.sqrt(1-
Math.pow(p,2))-1)},circOut:function(p){return Math.sqrt(1-Math.pow(p-1,2))},circInOut:function(p){p*=2;return 1>p?-.5*(Math.sqrt(1-Math.pow(p,2))-1):.5*(Math.sqrt(1-Math.pow(p-2,2))+1)},backIn:function(p){return Math.pow(p,2)*(2.70158*p-1.70158)},backOut:function(p){--p;return Math.pow(p,2)*(2.70158*p+1.70158)+1},backInOut:function(p){p*=2;if(1>p)return Math.pow(p,2)*(3.5949095*p-2.5949095)/2;p-=2;return(Math.pow(p,2)*(3.5949095*p+2.5949095)+2)/2},elasticIn:function(p){if(0==p||1==p)return p;--p;
return-1*Math.pow(2,10*p)*Math.sin(2*(p-.075)*Math.PI/.3)},elasticOut:function(p){return 0==p||1==p?p:Math.pow(2,-10*p)*Math.sin(2*(p-.075)*Math.PI/.3)+1},elasticInOut:function(p){if(0==p)return 0;p*=2;if(2==p)return 1;var u=.3*1.5,r=u/4;if(1>p)return--p,-.5*Math.pow(2,10*p)*Math.sin(2*(p-r)*Math.PI/u);--p;return.5*Math.pow(2,-10*p)*Math.sin(2*(p-r)*Math.PI/u)+1},bounceIn:function(p){return 1-B.bounceOut(1-p)},bounceOut:function(p){return p=p<1/2.75?7.5625*Math.pow(p,2):p<2/2.75?7.5625*Math.pow(p-
1.5/2.75,2)+.75:p<2.5/2.75?7.5625*Math.pow(p-2.25/2.75,2)+.9375:7.5625*Math.pow(p-2.625/2.75,2)+.984375},bounceInOut:function(p){return.5>p?B.bounceIn(2*p)/2:B.bounceOut(2*p-1)/2+.5}};x.setObject("dojo.fx.easing",B);return B})},"dojox/lang/functional/scan":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(x,B,p){var u={};B.mixin(p,{scanl:function(r,a,h,e){"string"==typeof r&&(r=r.split(""));e=e||x.global;a=p.lambda(a);var b,d;if(B.isArray(r)){var f=Array((b=r.length)+1);
f[0]=h;for(d=0;d<b;h=a.call(e,h,r[d],d,r),f[++d]=h);}else if("function"==typeof r.hasNext&&"function"==typeof r.next)for(f=[h],d=0;r.hasNext();f.push(h=a.call(e,h,r.next(),d++,r)));else for(d in f=[h],r)d in u||f.push(h=a.call(e,h,r[d],d,r));return f},scanl1:function(r,a,h){"string"==typeof r&&(r=r.split(""));h=h||x.global;a=p.lambda(a);var e;var b=!0;if(B.isArray(r)){var d=Array(b=r.length);d[0]=e=r[0];for(var f=1;f<b;d[f]=e=a.call(h,e,r[f],f,r),++f);}else if("function"==typeof r.hasNext&&"function"==
typeof r.next){if(r.hasNext())for(d=[e=r.next()],f=1;r.hasNext();d.push(e=a.call(h,e,r.next(),f++,r)));}else for(f in r)f in u||(b?(d=[e=r[f]],b=!1):d.push(e=a.call(h,e,r[f],f,r)));return d},scanr:function(r,a,h,e){"string"==typeof r&&(r=r.split(""));e=e||x.global;a=p.lambda(a);var b=r.length,d=Array(b+1),f=b;for(d[b]=h;0<f;--f,h=a.call(e,h,r[f],f,r),d[f]=h);return d},scanr1:function(r,a,h){"string"==typeof r&&(r=r.split(""));h=h||x.global;a=p.lambda(a);var e=r.length,b=Array(e),d=r[e-1];--e;for(b[e]=
d;0<e;--e,d=a.call(h,d,r[e],e,r),b[e]=d);return b}})})},"dojox/charting/action2d/MoveSlice":function(){define("dojo/_base/connect dojo/_base/declare dojo/_base/array ./PlotAction dojo/fx/easing dojox/gfx/matrix dojox/gfx/fx dojox/lang/functional dojox/lang/functional/scan dojox/lang/functional/fold".split(" "),function(x,B,p,u,r,a,h,e){return B("dojox.charting.action2d.MoveSlice",u,{defaultParams:{duration:400,easing:r.backOut,scale:1.05,shift:7},optionalParams:{},constructor:function(b,d,f){f||(f=
{});this.scale="number"==typeof f.scale?f.scale:1.05;this.shift="number"==typeof f.shift?f.shift:7;this.connect()},process:function(b){if(b.shape&&"slice"==b.element&&b.type in this.overOutEvents){if(!this.angles){var d=a._degToRad(b.plot.opt.startAngle);this.angles="number"==typeof b.run.data[0]?e.map(e.scanl(b.run.data,"+",0),"* 2 * Math.PI / this",e.foldl(b.run.data,"+",0)):e.map(e.scanl(b.run.data,"a + b.y",0),"* 2 * Math.PI / this",e.foldl(b.run.data,"a + b.y",0));this.angles=p.map(this.angles,
function(q){return q+d})}var f=b.index;var l=(this.angles[f]+this.angles[f+1])/2;var c=a.rotateAt(-l,b.cx,b.cy),k=a.rotateAt(l,b.cx,b.cy);(l=this.anim[f])?l.action.stop(!0):this.anim[f]=l={};if("onmouseover"==b.type){var g=0;var m=this.shift;var t=1;var n=this.scale}else g=this.shift,m=0,t=this.scale,n=1;l.action=h.animateTransform({shape:b.shape,duration:this.duration,easing:this.easing,transform:[k,{name:"translate",start:[g,0],end:[m,0]},{name:"scaleAt",start:[t,b.cx,b.cy],end:[n,b.cx,b.cy]},c]});
"onmouseout"==b.type&&x.connect(l.action,"onEnd",this,function(){delete this.anim[f]});l.action.play()}},reset:function(){delete this.angles}})})},"dojox/charting/axis2d/Default":function(){define("dojo/_base/lang dojo/_base/array dojo/sniff dojo/_base/declare dojo/_base/connect dojo/dom-geometry ./Invisible ../scaler/linear ./common dojox/gfx dojox/lang/utils dojox/lang/functional dojo/has!dojo-bidi?../bidi/axis2d/Default".split(" "),function(x,B,p,u,r,a,h,e,b,d,f,l,c){h=u(p("dojo-bidi")?"dojox.charting.axis2d.NonBidiDefault":
"dojox.charting.axis2d.Default",h,{defaultParams:{vertical:!1,fixUpper:"none",fixLower:"none",natural:!1,leftBottom:!0,includeZero:!1,fixed:!0,majorLabels:!0,minorTicks:!0,minorLabels:!0,microTicks:!1,rotation:0,htmlLabels:!0,enableCache:!1,dropLabels:!0,labelSizeChange:!1,position:"leftOrBottom"},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],labelFunc:null,maxLabelSize:0,maxLabelCharCount:0,trailingSymbol:null,stroke:{},majorTick:{},minorTick:{},
microTick:{},tick:{},font:"",fontColor:"",title:"",titleGap:0,titleFont:"",titleFontColor:"",titleOrientation:""},constructor:function(k,g){this.opt=x.clone(this.defaultParams);f.updateWithObject(this.opt,g);f.updateWithPattern(this.opt,g,this.optionalParams);this.opt.enableCache&&(this._textFreePool=[],this._lineFreePool=[],this._textUsePool=[],this._lineUsePool=[]);this._invalidMaxLabelSize=!0;g&&"position"in g||(this.opt.position=this.opt.leftBottom?"leftOrBottom":"rightOrTop");this.renderingOptions=
{"shape-rendering":"crispEdges"}},setWindow:function(k,g){k!=this.scale&&(this._invalidMaxLabelSize=!0);return this.inherited(arguments)},_groupLabelWidth:function(k,g,m){if(!k.length)return 0;50<k.length&&(k.length=50);x.isObject(k[0])&&(k=l.map(k,function(t){return t.text}));m&&(k=l.map(k,function(t){return 0==x.trim(t).length?"":t.substring(0,m)+this.trailingSymbol},this));k=k.join("\x3cbr\x3e");return d._base._getTextBox(k,{font:g}).w||0},_getMaxLabelSize:function(k,g,m,t,n,q){if(null==this._maxLabelSize&&
6==arguments.length){var v=this.opt;this.scaler.minMinorStep=this._prevMinMinorStep=0;var A=x.clone(v);delete A.to;delete A.from;var C=e.buildScaler(k,g,m,A,v.to-v.from);C.minMinorStep=0;this._majorStart=C.major.start;v=e.buildTicks(C,v);if(q&&v){var I=C=0,M=function(L){L.label&&this.push(L.label)},O=[];this.opt.majorLabels&&(B.forEach(v.major,M,O),C=this._groupLabelWidth(O,n,A.maxLabelCharCount),A.maxLabelSize&&(C=Math.min(A.maxLabelSize,C)));O=[];this.opt.dropLabels&&this.opt.minorLabels&&(B.forEach(v.minor,
M,O),I=this._groupLabelWidth(O,n,A.maxLabelCharCount),A.maxLabelSize&&(I=Math.min(A.maxLabelSize,I)));this._maxLabelSize={majLabelW:C,minLabelW:I,majLabelH:q,minLabelH:q}}else this._maxLabelSize=null}return this._maxLabelSize},calculate:function(k,g,m){this.inherited(arguments);this.scaler.minMinorStep=this._prevMinMinorStep;if((this._invalidMaxLabelSize||m!=this._oldSpan)&&Infinity!=k&&-Infinity!=g){this._invalidMaxLabelSize=!1;this.opt.labelSizeChange&&(this._maxLabelSize=null);this._oldSpan=m;
var t=this.opt,n=this.chart.theme.axis,q=t.rotation%360,v=this.chart.theme.axis.tick.labelGap,A=t.font||n.majorTick&&n.majorTick.font||n.tick&&n.tick.font;n=A?d.normalizedLength(d.splitFontString(A).size):0;A=this._getMaxLabelSize(k,g,m,q,A,n);"number"!=typeof v&&(v=4);if(A&&t.dropLabels){t=Math.abs(Math.cos(q*Math.PI/180));var C=Math.abs(Math.sin(q*Math.PI/180));0>q&&(q+=360);switch(q){case 0:case 180:this.vertical?q=n:(q=A.majLabelW,n=A.minLabelW);break;case 90:case 270:this.vertical?(q=A.majLabelW,
n=A.minLabelW):q=n;break;default:q=this.vertical?Math.min(A.majLabelW,n/t):Math.min(A.majLabelW,n/C),n=Math.min(Math.sqrt(A.minLabelW*A.minLabelW+n*n),this.vertical?n*t+A.minLabelW*C:A.minLabelW*t+n*C)}this.scaler.minMinorStep=this._prevMinMinorStep=Math.max(q,n)+v;this._skipInterval=this.scaler.minMinorStep<=this.scaler.minor.tick*this.scaler.bounds.scale?0:Math.floor((q+v)/(this.scaler.major.tick*this.scaler.bounds.scale))}else this._skipInterval=0}this.ticks=e.buildTicks(this.scaler,this.opt);
return this},getOffsets:function(){var k={l:0,r:0,t:0,b:0};if(!this.scaler)return k;var g=this.opt,m=this.chart.theme.axis,t=this.chart.theme.axis.tick.labelGap,n=g.titleFont||m.title&&m.title.font;m=0==g.titleGap?0:g.titleGap||m.title&&m.title.gap;var q=this.chart.theme.getTick("major",g),v=this.chart.theme.getTick("minor",g);n=n?d.normalizedLength(d.splitFontString(n).size):0;var A=g.rotation%360,C=g.position,I="rightOrTop"!==C,M=Math.abs(Math.cos(A*Math.PI/180)),O=Math.abs(Math.sin(A*Math.PI/180));
this.trailingSymbol=void 0===g.trailingSymbol||null===g.trailingSymbol?this.trailingSymbol:g.trailingSymbol;"number"!=typeof t&&(t=4);0>A&&(A+=360);var L=this._getMaxLabelSize();if(L){var T=Math.ceil(Math.max(L.majLabelW,L.minLabelW))+1,X=Math.ceil(Math.max(L.majLabelH,L.minLabelH))+1;if(this.vertical)switch(L=I?"l":"r",A){case 0:case 180:k[L]="center"===C?0:T;k.t=k.b=X/2;break;case 90:case 270:k[L]=X;k.t=k.b=T/2;break;default:45>=A||180<A&&225>=A?(k[L]=X*O/2+T*M,k[I?"t":"b"]=X*M/2+T*O,k[I?"b":"t"]=
X*M/2):315<A||180>A&&135<A?(k[L]=X*O/2+T*M,k[I?"b":"t"]=X*M/2+T*O,k[I?"t":"b"]=X*M/2):90>A||180<A&&270>A?(k[L]=X*O+T*M,k[I?"t":"b"]=X*M+T*O):(k[L]=X*O+T*M,k[I?"b":"t"]=X*M+T*O)}else switch(L=I?"b":"t",A){case 0:case 180:k[L]="center"===C?0:X;k.l=k.r=T/2;break;case 90:case 270:k[L]=T;k.l=k.r=X/2;break;default:45<=A&&90>=A||225<=A&&270>=A?(k[L]=X*M/2+T*O,k[I?"r":"l"]=X*O/2+T*M,k[I?"l":"r"]=X*O/2):90<=A&&135>=A||270<=A&&315>=A?(k[L]=X*M/2+T*O,k[I?"l":"r"]=X*O/2+T*M,k[I?"r":"l"]=X*O/2):45>A||180<A&&225>
A?(k[L]=X*M+T*O,k[I?"r":"l"]=X*O+T*M):(k[L]=X*M+T*O,k[I?"l":"r"]=X*O+T*M)}k[L]="center"===C?0:k[L]+(t+Math.max(0<q.length?q.length:0,0<v.length?v.length:0)+(g.title?n+m:0))}return k},cleanGroup:function(k){this.opt.enableCache&&this.group&&(this._lineFreePool=this._lineFreePool.concat(this._lineUsePool),this._lineUsePool=[],this._textFreePool=this._textFreePool.concat(this._textUsePool),this._textUsePool=[]);this.inherited(arguments)},createText:function(k,g,m,t,n,q,v,A,C){if(!this.opt.enableCache||
"html"==k)return b.createText[k](this.chart,g,m,t,n,q,v,A,C);0<this._textFreePool.length?(k=this._textFreePool.pop(),k.setShape({x:m,y:t,text:q,align:n}),g.add(k)):k=b.createText[k](this.chart,g,m,t,n,q,v,A);this._textUsePool.push(k);return k},createLine:function(k,g){if(this.opt.enableCache&&0<this._lineFreePool.length){var m=this._lineFreePool.pop();m.setShape(g);k.add(m)}else m=k.createLine(g);this.opt.enableCache&&this._lineUsePool.push(m);return m},render:function(k,g){var m,t=this._isRtl();
if(!this.dirty||!this.scaler)return this;var n=this.opt;var q=this.chart.theme.axis;var v=n.position,A="rightOrTop"!==v,C=n.rotation%360,I=0;I=this.chart.theme.axis.tick.labelGap;var M=n.font||q.majorTick&&q.majorTick.font||q.tick&&q.tick.font,O=n.titleFont||q.title&&q.title.font,L=n.fontColor||q.majorTick&&q.majorTick.fontColor||q.tick&&q.tick.fontColor||"black",T=n.titleFontColor||q.title&&q.title.fontColor||"black";var X=0==n.titleGap?0:n.titleGap||q.title&&q.title.gap||15;var y=n.titleOrientation||
q.title&&q.title.orientation||"axis",z=this.chart.theme.getTick("major",n),F=this.chart.theme.getTick("minor",n),J=this.chart.theme.getTick("micro",n),H="stroke"in n?n.stroke:q.stroke,D=M?d.normalizedLength(d.splitFontString(M).size):0;var S=Math.abs(Math.cos(C*Math.PI/180));var w=Math.abs(Math.sin(C*Math.PI/180));var E=O?d.normalizedLength(d.splitFontString(O).size):0;"number"!=typeof I&&(I=4);0>C&&(C+=360);var K=this._getMaxLabelSize();K=K&&K.majLabelW;if(this.vertical){var N=k.height-g.b;var G=
void 0;var W=g.t;var Q=void 0;q=(k.height-g.b+g.t)/2;var V=void 0;w=D*w+(K||0)*S+I+Math.max(0<z.length?z.length:0,0<F.length?F.length:0)+E+X;var ea=0;var ja=-1;var aa=m=0;X=1;S=0;var ma=I;var na=0;switch(C){case 0:var ba="end";aa=.4*D;break;case 90:ba="middle";m=-D;break;case 180:ba="start";aa=.4*-D;break;case 270:ba="middle";break;default:45>C?(ba="end",aa=.4*D):90>C?(ba="end",aa=.4*D):135>C?ba="start":225>C?(ba="start",aa=.4*-D):270>C?(ba="start",m=A?0:.4*D):315>C?(ba="end",m=A?0:.4*D):(ba="end",
aa=.4*D)}if(A)G=Q="center"===v?k.width/2:g.l,I=y&&"away"==y?90:270,V=g.l-w+(270==I?E:0),X=-1,ma=-ma;else switch(G=Q=k.width-g.r,I=y&&"axis"==y?90:270,V=k.width-g.r+w-(270==I?0:E),ba){case "start":ba="end";break;case "end":ba="start";break;case "middle":m+=D}}else{G=g.l;N=void 0;Q=k.width-g.r;W=void 0;V=(k.width-g.r+g.l)/2;q=void 0;w=D*S+(K||0)*w+I+Math.max(0<z.length?z.length:0,0<F.length?F.length:0)+E+X;ea=t?-1:1;X=aa=m=ja=0;S=1;ma=0;na=I;switch(C){case 0:ba="middle";aa=D;break;case 90:ba="start";
m=.4*-D;break;case 180:ba="middle";break;case 270:ba="end";m=.4*D;break;default:45>C?(ba="start",aa=A?D:0):135>C?(ba="start",m=.4*-D):180>C?(ba="start",aa=A?0:-D):225>C?(ba="end",aa=A?0:-D):315>C?(ba="end",aa=A?.4*D:0):(ba="end",aa=A?D:0)}if(A)N=W="center"===v?k.height/2:k.height-g.b,I=y&&"axis"==y?180:0,q=k.height-g.b+w-(I?E:0);else switch(N=W=g.t,I=y&&"away"==y?180:0,q=g.t-w+(I?0:E),S=-1,na=-na,ba){case "start":ba="end";break;case "end":ba="start";break;case "middle":aa-=D}}this.cleanGroup();var oa=
this.group;k=this.scaler;g=this.ticks;var P=e.getTransformerFromModel(this.scaler),R=n.title&&I||C||!this.opt.htmlLabels||p("ie")||p("opera")?"gfx":"html",U=X*z.length,Y=S*z.length,ha=this._skipInterval;oa.createLine({x1:G,y1:N,x2:Q,y2:W}).setStroke(H);n.title&&(O=b.createText[R](this.chart,oa,V,q,"middle",n.title,O,T),"html"==R?this.htmlElements.push(O):O.setTransform(d.matrix.rotategAt(I,V,q)));if(null==g)return this.dirty=!1,this;var fa=0<g.major.length?(g.major[0].value-this._majorStart)/k.major.tick:
0,ia=this.opt.majorLabels;B.forEach(g.major,function(ca,Z){var ka=P(ca.value),la=(t?Q:G)+ea*ka;ka=N+ja*ka;Z+=fa;this.createLine(oa,{x1:la,y1:ka,x2:la+U,y2:ka+Y}).setStroke(z);if(ca.label&&(!ha||0==(Z-(1+ha))%(1+ha))){var da=n.maxLabelCharCount?this.getTextWithLimitCharCount(ca.label,M,n.maxLabelCharCount):{text:ca.label,truncated:!1};da=n.maxLabelSize?this.getTextWithLimitLength(da.text,M,n.maxLabelSize,da.truncated):da;Z=this.createText(R,oa,la+(0<z.length?U:0)+ma+(C?0:m),ka+(0<z.length?Y:0)+na+
(C?0:aa),ba,da.text,M,L);da.truncated&&this.chart.formatTruncatedLabel(Z,ca.label,R);da.truncated&&this.labelTooltip(Z,this.chart,ca.label,da.text,M,R);"html"==R?this.htmlElements.push(Z):C&&Z.setTransform([{dx:m,dy:aa},d.matrix.rotategAt(C,la+(0<z.length?U:0)+ma,ka+(0<z.length?Y:0)+na)])}},this);U=X*F.length;Y=S*F.length;ia=this.opt.minorLabels&&k.minMinorStep<=k.minor.tick*k.bounds.scale;B.forEach(g.minor,function(ca){var Z=P(ca.value),ka=(t?Q:G)+ea*Z,la=N+ja*Z;this.createLine(oa,{x1:ka,y1:la,x2:ka+
U,y2:la+Y}).setStroke(F);if(ia&&ca.label){var da=n.maxLabelCharCount?this.getTextWithLimitCharCount(ca.label,M,n.maxLabelCharCount):{text:ca.label,truncated:!1};da=n.maxLabelSize?this.getTextWithLimitLength(da.text,M,n.maxLabelSize,da.truncated):da;Z=this.createText(R,oa,ka+(0<F.length?U:0)+ma+(C?0:m),la+(0<F.length?Y:0)+na+(C?0:aa),ba,da.text,M,L);da.truncated&&this.chart.formatTruncatedLabel(Z,ca.label,R);da.truncated&&this.labelTooltip(Z,this.chart,ca.label,da.text,M,R);"html"==R?this.htmlElements.push(Z):
C&&Z.setTransform([{dx:m,dy:aa},d.matrix.rotategAt(C,ka+(0<F.length?U:0)+ma,la+(0<F.length?Y:0)+na)])}},this);U=X*J.length;Y=S*J.length;B.forEach(g.micro,function(ca){var Z=P(ca.value);ca=G+ea*Z;Z=N+ja*Z;this.createLine(oa,{x1:ca,y1:Z,x2:ca+U,y2:Z+Y}).setStroke(J)},this);this.dirty=!1;return this},labelTooltip:function(k,g,m,t,n,q){var v=["dijit/Tooltip"],A={type:"rect"},C=["above","below"];t=d._base._getTextBox(t,{font:n}).w||0;n=n?d.normalizedLength(d.splitFontString(n).size):0;"html"==q?(x.mixin(A,
a.position(k.firstChild,!0)),A.width=Math.ceil(t),A.height=Math.ceil(n),this._events.push({shape:dojo,handle:r.connect(k.firstChild,"onmouseover",this,function(I){require(v,function(M){M.show(m,A,C)})})}),this._events.push({shape:dojo,handle:r.connect(k.firstChild,"onmouseout",this,function(I){require(v,function(M){M.hide(A)})})})):(q=k.getShape(),g=g.getCoords(),A=x.mixin(A,{x:q.x-t/2,y:q.y}),A.x+=g.x,A.y+=g.y,A.x=Math.round(A.x),A.y=Math.round(A.y),A.width=Math.ceil(t),A.height=Math.ceil(n),this._events.push({shape:k,
handle:k.connect("onmouseenter",this,function(I){require(v,function(M){M.show(m,A,C)})})}),this._events.push({shape:k,handle:k.connect("onmouseleave",this,function(I){require(v,function(M){M.hide(A)})})}))},_isRtl:function(){return!1}});return p("dojo-bidi")?u("dojox.charting.axis2d.Default",[h,c]):h})},"dojox/charting/axis2d/Invisible":function(){define(["dojo/_base/lang","dojo/_base/declare","./Base","../scaler/linear","dojox/lang/utils"],function(x,B,p,u,r){return B("dojox.charting.axis2d.Invisible",
p,{defaultParams:{vertical:!1,fixUpper:"none",fixLower:"none",natural:!1,leftBottom:!0,includeZero:!1,fixed:!0},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1},constructor:function(a,h){this.opt=x.clone(this.defaultParams);r.updateWithObject(this.opt,h);r.updateWithPattern(this.opt,h,this.optionalParams)},dependOnData:function(){return!("min"in this.opt)||!("max"in this.opt)},clear:function(){delete this.scaler;delete this.ticks;this.dirty=!0;return this},
initialized:function(){return"scaler"in this&&!(this.dirty&&this.dependOnData())},setWindow:function(a,h){this.scale=a;this.offset=h;return this.clear()},getWindowScale:function(){return"scale"in this?this.scale:1},getWindowOffset:function(){return"offset"in this?this.offset:0},calculate:function(a,h,e,b){if(this.initialized())return this;var d=this.opt;this.labels=d.labels;this.scaler=(b||u).buildScaler(a,h,e,d);var f=this.scaler.bounds;"scale"in this&&(d.from=f.lower+this.offset,d.to=(f.upper-f.lower)/
this.scale+d.from,!isFinite(d.from)||isNaN(d.from)||!isFinite(d.to)||isNaN(d.to)||d.to-d.from>=f.upper-f.lower?(delete d.from,delete d.to,delete this.scale,delete this.offset):(d.from<f.lower?(d.to+=f.lower-d.from,d.from=f.lower):d.to>f.upper&&(d.from+=f.upper-d.to,d.to=f.upper),this.offset=d.from-f.lower),this.scaler=(b||u).buildScaler(a,h,e,d),f=this.scaler.bounds,1==this.scale&&0==this.offset&&(delete this.scale,delete this.offset));return this},getScaler:function(){return this.scaler},getTicks:function(){return this.ticks}})})},
"dojox/charting/axis2d/Base":function(){define(["dojo/_base/declare","../Element"],function(x,B){return x("dojox.charting.axis2d.Base",B,{constructor:function(p,u){this.vertical=u&&u.vertical;this.opt={};this.opt.min=u&&u.min;this.opt.max=u&&u.max},clear:function(){return this},initialized:function(){return!1},calculate:function(p,u,r){return this},getScaler:function(){return null},getTicks:function(){return null},getOffsets:function(){return{l:0,r:0,t:0,b:0}},render:function(p,u){this.dirty=!1;return this},
isNullValue:function(p){return!1},naturalBaseline:0})})},"dojox/charting/scaler/linear":function(){define(["dojo/_base/lang","./common"],function(x,B){function p(h,e){h=h.toLowerCase();for(var b=e.length-1;0<=b;--b)if(h===e[b])return!0;return!1}var u=x.getObject("dojox.charting.scaler.linear",!0),r=B.getNumericLabel,a=function(h,e,b,d,f,l,c){b=x.delegate(b);d||("major"==b.fixUpper&&(b.fixUpper="minor"),"major"==b.fixLower&&(b.fixLower="minor"));f||("minor"==b.fixUpper&&(b.fixUpper="micro"),"minor"==
b.fixLower&&(b.fixLower="micro"));l||("micro"==b.fixUpper&&(b.fixUpper="none"),"micro"==b.fixLower&&(b.fixLower="none"));var k=p(b.fixLower,["major"])?Math.floor(b.min/d)*d:p(b.fixLower,["minor"])?Math.floor(b.min/f)*f:p(b.fixLower,["micro"])?Math.floor(b.min/l)*l:b.min,g=p(b.fixUpper,["major"])?Math.ceil(b.max/d)*d:p(b.fixUpper,["minor"])?Math.ceil(b.max/f)*f:p(b.fixUpper,["micro"])?Math.ceil(b.max/l)*l:b.max;b.useMin&&(h=k);b.useMax&&(e=g);var m=!d||b.useMin&&p(b.fixLower,["major"])?h:Math.ceil(h/
d)*d,t=!f||b.useMin&&p(b.fixLower,["major","minor"])?h:Math.ceil(h/f)*f,n=!l||b.useMin&&p(b.fixLower,["major","minor","micro"])?h:Math.ceil(h/l)*l,q=d?(b.useMax&&p(b.fixUpper,["major"])?Math.round((e-m)/d):Math.floor((e-m)/d))+1:0,v=f?(b.useMax&&p(b.fixUpper,["major","minor"])?Math.round((e-t)/f):Math.floor((e-t)/f))+1:0;b=l?(b.useMax&&p(b.fixUpper,["major","minor","micro"])?Math.round((e-n)/l):Math.floor((e-n)/l))+1:0;var A=f?Math.round(d/f):0,C=l?Math.round(f/l):0,I=d?Math.floor(Math.log(d)/Math.LN10):
0,M=f?Math.floor(Math.log(f)/Math.LN10):0,O=c/(e-h);isFinite(O)||(O=1);return{bounds:{lower:k,upper:g,from:h,to:e,scale:O,span:c},major:{tick:d,start:m,count:q,prec:I},minor:{tick:f,start:t,count:v,prec:M},micro:{tick:l,start:n,count:b,prec:0},minorPerMajor:A,microPerMinor:C,scaler:u}};return x.mixin(u,{buildScaler:function(h,e,b,d,f,l){var c={fixUpper:"none",fixLower:"none",natural:!1};d&&("fixUpper"in d&&(c.fixUpper=String(d.fixUpper)),"fixLower"in d&&(c.fixLower=String(d.fixLower)),"natural"in
d&&(c.natural=!!d.natural));l=!l||3>l?3:l;"min"in d&&(h=d.min);"max"in d&&(e=d.max);d.includeZero&&(0<h&&(h=0),0>e&&(e=0));c.min=h;c.useMin=!0;c.max=e;c.useMax=!0;"from"in d&&(h=d.from,c.useMin=!1);"to"in d&&(e=d.to,c.useMax=!1);if(e<=h)return a(h,e,c,0,0,0,b);f||(f=e-h);f=Math.floor(Math.log(f)/Math.LN10);f=d&&"majorTickStep"in d?d.majorTickStep:Math.pow(10,f);var k=0,g=0;if(d&&"minorTickStep"in d)k=d.minorTickStep;else{do{k=f/10;if(!c.natural||.9<k){var m=a(h,e,c,f,k,0,b);if(m.bounds.scale*m.minor.tick>
l)break}k=f/5;if(!c.natural||.9<k)if(m=a(h,e,c,f,k,0,b),m.bounds.scale*m.minor.tick>l)break;k=f/2;if(!c.natural||.9<k)if(m=a(h,e,c,f,k,0,b),m.bounds.scale*m.minor.tick>l)break;return a(h,e,c,f,0,0,b)}while(0)}if(d&&"microTickStep"in d)g=d.microTickStep,m=a(h,e,c,f,k,g,b);else{do{g=k/10;if(!c.natural||.9<g)if(m=a(h,e,c,f,k,g,b),3<m.bounds.scale*m.micro.tick)break;g=k/5;if(!c.natural||.9<g)if(m=a(h,e,c,f,k,g,b),3<m.bounds.scale*m.micro.tick)break;g=k/2;if(!c.natural||.9<g)if(m=a(h,e,c,f,k,g,b),3<m.bounds.scale*
m.micro.tick)break;g=0}while(0)}return g?m:a(h,e,c,f,k,0,b)},buildTicks:function(h,e){var b=h.major.start,d=h.minor.start,f=h.micro.start;if(e.microTicks&&h.micro.tick){var l=h.micro.tick;var c=f}else if(e.minorTicks&&h.minor.tick)l=h.minor.tick,c=d;else if(h.major.tick)l=h.major.tick,c=b;else return null;var k=1/h.bounds.scale;if(h.bounds.to<=h.bounds.from||isNaN(k)||!isFinite(k)||0>=l||isNaN(l)||!isFinite(l))return null;for(var g=[],m=[],t=[];c<=h.bounds.to+k;){if(Math.abs(b-c)<l/2){var n={value:b};
e.majorLabels&&(n.label=r(b,h.major.prec,e));g.push(n);b+=h.major.tick;d+=h.minor.tick}else Math.abs(d-c)<l/2?(e.minorTicks&&(n={value:d},e.minorLabels&&h.minMinorStep<=h.minor.tick*h.bounds.scale&&(n.label=r(d,h.minor.prec,e)),m.push(n)),d+=h.minor.tick):e.microTicks&&t.push({value:f});f+=h.micro.tick;c+=l}return{major:g,minor:m,micro:t}},getTransformerFromModel:function(h){var e=h.bounds.from,b=h.bounds.scale;return function(d){return(d-e)*b}},getTransformerFromPlot:function(h){var e=h.bounds.from,
b=h.bounds.scale;return function(d){return d/b+e}}})})},"widgets/ReviewerDashboard/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/ReviewerDashboard/Widget.html":'\x3cdiv onselectstart\x3d"return false;"\x3e\r\n   \x3cdiv class\x3d"chart-content" data-dojo-attach-point\x3d"content"\x3e\r\n      \x3cdiv class\x3d"chart-tab-node" data-dojo-attach-point\x3d"selectTabNode"\x3e\r\n          \x3cdiv class\x3d\'sectionHeading\'/\x3e${nls.selectAttributeFilters}\x3c/div\x3e\r\n\r\n        \x3cdiv id\x3d"filterContainer" data-dojo-attach-point\x3d"filterContainer"\x3e  \r\n           \x3cul data-dojo-attach-point\x3d"filterList"\x3e\r\n           \x3c/ul\x3e\r\n    \r\n         \x3c/div\x3e\r\n         \r\n     \x3cdiv style\x3d\'margin:15px 10px 15px 0px;\'/\x3e\r\n        \x3cdiv class\x3d\'sectionHeading\'\x3e${nls.spatialFilterSelection}\x3c/div\x3e\r\n\r\n      \x3cdiv id\x3d"filterContainer"\x3e\r\n      \x3cul data-dojo-attach-point\x3d"spatialFilterList"\x3e\r\n        \x3cli\x3e\x3ca href\x3d"#" id\x3d"spatialFilterLink"\x3e\x3cdiv  data-dojo-attach-point\x3d"drawSpatialFilter" class\x3d\'spatialFilterLabel\'/\x3e\r\n          ${nls.drawSelectionArea}\r\n        \x3c/div\x3e\x3c/a\x3e\x3c/li\x3e\r\n        \x3cli\x3e\x3ca href\x3d"#"  id\x3d"currentMapExtentLink"\x3e\x3cdiv  data-dojo-attach-point\x3d"currentMapExtent" class\x3d\'spatialFilterLabel\'/\x3e\r\n            ${nls.currentSelection}\r\n        \x3c/div\x3e\x3c/a\x3e\x3c/li\x3e\r\n          \x3cli class\x3d\'dynamicRow\'\x3e\x3ca href\x3d"#"  id\x3d"censusBlockLink"\x3e\x3cdiv  data-dojo-attach-point\x3d"censusBlockGroup" class\x3d\'spatialFilterLabel\'/\x3e\r\n          ${nls.censusBlockGroup}\r\n        \x3c/div\x3e\x3c/a\x3e\x3c/li\x3e\r\n        \x3cli\x3e\x3ca href\x3d"#"  id\x3d"clearSpatialFilterLink" class\x3d"current"\x3e\x3cdiv  data-dojo-attach-point\x3d"clearSpatialFilter" class\x3d\'spatialFilterLabel\'/\x3e\r\n         ${nls.noSpatialFilter}\r\n        \x3c/div\x3e\x3c/a\x3e\x3c/li\x3e\r\n      \x3c/ul\x3e\r\n    \x3c/div\x3e\r\n \x3c/div\x3e\r\n    \x3cdiv style\x3d\'margin:15px 10px 15px 0px;\'/\x3e\r\n      \x3cdiv class\x3d\'sectionHeading\'\x3e${nls.reviewerSessionFilter}\x3c/div\x3e\r\n      \x3cselect data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"sessionNameSelect" style\x3d"width:90%;height:25px;margin: 10px 5px 0px 7px;"\x3e\r\n\x3coption value\x3d"All"\x3e ${nls.allSessions}\x3c/option\x3e\r\n      \x3c/select\x3e\r\n    \x3c/div\x3e\r\n     \r\n      \x3cdiv class\x3d"chart-tab-node" data-dojo-attach-point\x3d"resultsTabNode"\x3e\r\n         \x3cdiv class\x3d"results-section" data-dojo-attach-point\x3d"resultsSection" style\x3d"display:none;"\x3e\r\n            \x3cdiv class\x3d"results-header"\x3e\r\n               \x3cdiv class\x3d"sectionHeading trimContent" style\x3d"border:none !important;width:80%;" data-dojo-attach-point\x3d"chartTitle"\x3e\x3c/div\x3e\r\n               \x3cdiv style\x3d"margin-top: -26px;width: 77px;float: right; display:none;" data-dojo-attach-point\x3d"backButtonContainer" \x3e\r\n                \x3c/div\x3e\r\n               \x3cdiv class\x3d"paging-section" style\x3d"margin-top:-30px"\x3e\r\n                  \x3cul data-dojo-attach-point\x3d"pagingUl"\x3e\x3c/ul\x3e\r\n               \x3c/div\x3e\r\n            \x3cdiv class\x3d"paging-section jimu-trailing-margin4 otherBackButton" style\x3d"margin-top:-26px"\x3e\r\n            \x3cinput type\x3d"Button" value\x3d"${nls.backButton}" text\x3d"${nls.backButton}" style\x3d"width:37px;" data-dojo-attach-point\x3d"backButton"/\x3e\x3c/div\x3e\r\n            \x3c/div\x3e \r\n            \x3cdiv class\x3d"chart-section"\x3e\r\n               \r\n              \r\n                \x3cdiv id\x3d\'mainChartContainer\' class\x3d"mainChartContainer"\x3e\r\n                  \x3ctable\x3e\r\n                    \x3ctr\x3e\r\n                    \r\n                    \x3c/tr\x3e\r\n                    \x3ctr style\x3d"border 1px solid;"\x3e\r\n                      \x3ctd style\x3d"width:320px !important; height:235px;"\x3e\x3cdiv class\x3d"chart-section-item chart-container" data-dojo-attach-point\x3d"chartContainer"\x3e\x3c/td\x3e\r\n                    \x3c/tr\x3e\r\n                  \x3c/table\x3e\r\n                \x3c/div\x3e\r\n               \x3c/div\x3e\r\n               \r\n            \x3c/div\x3e\r\n      \x3c/div\x3e\r\n   \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/ReviewerDashboard/css/style.css":'.drs-widget-dashboard{position: relative; width:100%; height:100%; min-width:270px; min-height:330px;}.drs-widget-dashboard .chart-content{position: relative; width:100%; height:100%;}.drs-widget-dashboard .chart-tab-node{position: absolute !important; width: 100% !important; height: auto !important; top:0 !important; bottom: 0 !important;}.drs-widget-dashboard\x3e.jimu-tab\x3e.control{margin:-14px -14px 0 -14px;}.drs-widget-dashboard\x3e.jimu-tab\x3e.jimu-viewstack{position: absolute !important; top: 45px !important; left: 0 !important; right: 0 !important; bottom: 0 !important; height: auto !important; margin-bottom:-14px;}.drs-widget-dashboard .results-section{width:100%;}.drs-widget-dashboard .noresults-section{width:100%;}.drs-widget-dashboard .results-header{width:100%; height:30px;}.drs-widget-dashboard .chart-title{float:left; height:100%;}.drs-widget-dashboard .paging-section ul{margin:0; padding:0; height:100%; list-style:none;}.drs-widget-dashboard .paging-section ul li{float:left; height:100%;}.drs-widget-dashboard .paging-section ul li a{display: block; width:5px; height:100%; padding:0 5px; margin-left:10px; background-repeat: no-repeat; background-position: center center; background-image:url(../images/dot1.png); cursor:pointer;}.drs-widget-dashboard .paging-section ul li a:hover,.drs-widget-dashboard .paging-section ul li.selected a{background-image:url(../images/dot2.png);}.drs-widget-dashboard .chart-section{position:relative; width:100%; height:280px;}.drs-widget-dashboard .chart-section .chart-section-item{position:absolute; height:100%; top:0;}.drs-widget-dashboard .TabTheme .jimu-tab\x3e.control\x3e.tab.jimu-state-selected{border-top: 0;}.drs-widget-dashboard input[type\x3d"radio"] {margin-right: 10; margin-bottom: 20; margin-left: 20;}#filterContainer ul{margin: 0;padding: 0;list-style-type: none;}#filterContainer li {margin: 0 0 .2em 0; border-bottom: 1px solid #eef2f5; font-size: 13px;}#filterContainer a{display: block; padding: 2px 4px; margin: -1px 0 0 0px; width: 100%; height: 100%; text-decoration: none; color: #7989a0;}#filterContainer a:hover {width: 100%; height: 100%;}#filterContainer li a.current {background-color: #d3d3d3; padding: 2px 4px; margin: -1px 0 0 0px; width: 100%; height: 100%;}#filterContainer li a.current:hover {}#filterContainer li.selected a:active {background: #e2f6ff !important;}.drs-widget-dashboard .spatialFilterLabel{margin: 6px 4px;}.drs-widget-dashboard .sectionHeading{margin: 5px 0px; font-weight: bold; color: #82878B; border-bottom:1px solid #D4E5F7;}.drs-widget-dashboard .radioButtonLabel{margin:6px 5px !important;}.drs-widget-dashboard body {font: 12px Myriad,Helvetica,Tahoma,Arial,clean,sans-serif;}.drs-widget-dashboard .chart-section {margin-top: -11px;}.drs-widget-dashboard .mainChartContainer{direction: ltr;}.drs-widget-dashboard .chart-section .chart-container {margin: 0 auto; width: 78%;}.drs-widget-dashboard .paging-section {float: right; height: 100%;}[dir\x3drtl] .drs-widget-dashboard .paging-section {float: left; height: 100%;}.drs-widget-dashboard .trimContent {overflow: hidden; white-space: nowrap; -o-text-overflow: ellipsis; -ms-text-overflow: ellipsis; text-overflow: ellipsis; display: block; width: inherit;}',
"*now":function(x){x(['dojo/i18n!*preload*widgets/ReviewerDashboard/nls/Widget*["ar","bg","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/on dojo/query dojo/_base/lang dojo/_base/array dojo/_base/html dijit/_WidgetsInTemplateMixin jimu/BaseWidget jimu/utils esri/tasks/datareviewer/DashboardTask esri/tasks/datareviewer/ReviewerFilters ./ReviewerMapHelper esri/tasks/datareviewer/ReviewerResultsTask esri/tasks/datareviewer/DashboardResult esri/tasks/datareviewer/ReviewerLifecycle jimu/dijit/TabContainer esri/graphic esri/layers/ArcGISDynamicMapServiceLayer esri/tasks/GeometryService esri/symbols/SimpleFillSymbol esri/tasks/query esri/tasks/QueryTask esri/geometry/Extent esri/layers/FeatureLayer esri/geometry/Polygon esri/toolbars/draw dojo/dom dojox/charting/Chart dojox/charting/plot2d/Bars dojox/charting/plot2d/Pie dojox/charting/SimpleTheme dojox/charting/action2d/Tooltip dojox/charting/action2d/MoveSlice dojo/dom-class dijit/Dialog dojox/charting/axis2d/Default dijit/form/RadioButton dijit/form/Select".split(" "),function(x,
B,p,u,r,a,h,e,b,d,f,l,c,k,g,m,t,n,q,v,A,C,I,M,O,L,T,X,y,z,F,J,H,D,S){return x([e,h],{baseClass:"drs-widget-dashboard",name:"Dashboard",charts:null,currentChartIndex:0,dashboardTask:null,reviewerHelper:null,reviewerPointLayer:null,reviewerLineLayer:null,reviewerPolygonLayer:null,spatialFilterLayer:null,reviewerResultsTask:null,useCurrentMapExtent:!1,useSpatialFilter:!1,mapSpatialFilter:null,esriQuery:null,queryTask:null,toolbar:null,otherCategoryChartColors:null,mapClickEvent:null,tabContainer:null,
isClosed:!1,otherDashboardResult:null,dashboardResult:null,layerDrawingOptions:null,selectedFieldName:null,selectedFieldAlias:null,layerUrl:null,chartPageLevel:0,postCreate:function(){this.inherited(arguments);this.charts=[];this.otherDashboardResult=[];u.hitch(this,this._initResultsTab());this._createCharts=u.hitch(this,this._createCharts);this.dashboardTask=new d(this.config.drsSOEURL);this.reviewerResultsTask=new c(this.config.drsSOEURL);this.reviewerHelper=new l(this.config.drsSOEURL,null,null,
null,null);this.dashboardTask.getReviewerSessions().then(u.hitch(this,function(w){r.forEach(w.reviewerSessions,u.hitch(this,function(E){this.sessionNameSelect.addOption({value:E.sessionId,label:E.toString()})}));this._displayResult(null,!0)}),u.hitch(this,function(w){this._showDialog("Error",w.message)}));this.own(B(this.sessionNameSelect,"change",u.hitch(this,function(){this.chartPageLevel=0;this.showHideBackButton(!1);if(this.useCurrentMapExtent){var w=this._getMapExtent();u.hitch(this,this._displayResult(w))}else u.hitch(this,
this._displayResult(this.mapSpatialFilter,!0))})));this.own(B(this.currentMapExtent,"click",u.hitch(this,function(){u.hitch(this,this.setSpatialFilters("currentMapExtentLink","spatialFilterLink","clearSpatialFilterLink","censusBlockLink"));this.useSpatialFilter=!1;this.queryTask=null;this.useCurrentMapExtent=!0;var w=this._getMapExtent();u.hitch(this,this._displayResult(w))})));this.own(B(this.clearSpatialFilter,"click",u.hitch(this,function(){u.hitch(this,this.setSpatialFilters("clearSpatialFilterLink",
"spatialFilterLink","currentMapExtentLink","censusBlockLink"));this.useSpatialFilter=this.useCurrentMapExtent=!1;D.remove("spatialFilterLink","current");this.queryTask=null;u.hitch(this,this._displayResult())})));this.own(B(this.drawSpatialFilter,"click",u.hitch(this,function(){u.hitch(this,this.setSpatialFilters("spatialFilterLink","clearSpatialFilterLink","currentMapExtentLink","censusBlockLink"));this.map.graphics.clear();this.useCurrentMapExtent=!1;this.queryTask=null;this.useSpatialFilter=!0;
this._initDraw()})));this.own(B(this.censusBlockGroup,"click",u.hitch(this,function(){u.hitch(this,this.setSpatialFilters("censusBlockLink","clearSpatialFilterLink","currentMapExtentLink","spatialFilterLink"));this.useSpatialFilter=this.useCurrentMapExtent=!1;this.mapSpatialFilter=null;this.queryTask=new C(this.config.selectUrl);this.mapClickEvent=this.map.on("click",u.hitch(this,this._executeQuery))})));this.own(B(this.map,"extent-change",u.hitch(this,function(){if(!0===this.useCurrentMapExtent){var w=
this._getMapExtent();u.hitch(this,this._displayResult(w))}})));this.own(B(this.backButton,"click",u.hitch(this,function(){if(null!==this.dashboardResult){--this.chartPageLevel;0===this.chartPageLevel&&this.showHideBackButton(!1);var w=this._createDrilledChartData();this._createCharts(w,this.layerDrawingOptions,this.selectedFieldName)}})))},setSpatialFilters:function(w,E,K,N){null!==this.mapClickEvent&&this.mapClickEvent.remove();this._clear();this.showHideBackButton(!1);D.add(w,"current");D.remove(E,
"current");D.remove(K,"current");D.remove(N,"current")},startup:function(){this.inherited(arguments);this.tabContainer=new m({tabs:[{title:this.nls.dashboardTab,content:this.resultsTabNode},{title:this.nls.filtersTab,content:this.selectTabNode}],selected:this.nls.dashboardTab},this.content);this.tabContainer.startup();var w=this.getDashboardFieldNames();this._createRadioButtons(w);"false"===this.config.includeGeographicFilter&&(w=p(".dynamicRow",this.spatialFilterList),void 0!==w&&null!==w&&0<w.length&&
(w[0].style.display="none"))},onOpen:function(){null!==this.mapClickEvent&&this.mapClickEvent.remove();this.queryTask=null;this.showHideBackButton(!1);this.useSpatialFilter=this.useCurrentMapExtent=!1;D.add("clearSpatialFilterLink","current");D.remove("currentMapExtentLink","current");D.remove("spatialFilterLink","current");D.remove("censusBlockLink","current");this.sessionNameSelect.set("value","All");this._displaySpatialLayer();!0===this.isClosed&&this._displayResult(null,!0)},getDashboardFieldNames:function(){var w=
this.config.dashboardFieldNames,E=[];0<w.length&&r.forEach(w,function(K){K.isVisible&&E.push({fieldName:K.dashboardFieldName,alias:K.alias})});return E},_displaySpatialLayer:function(){this.layerUrl=this.dashboardTask.getReviewerMapServerUrl();this.spatialFilterLayer=n(this.config.selectMapUrl);this.map.addLayer(this.spatialFilterLayer);var w=[],E=this.config.selectUrl;w.push(E.substring(E.lastIndexOf("/")+1,E.length));this.spatialFilterLayer.setVisibleLayers(w)},_createRadioButtons:function(w){for(var E=
r.filter(this.config.dashboardFieldNames,function(G){return!0===G.isDefault}),K=0;K<w.length;K++){var N="\x3cli\x3e\x3clabel for\x3d'"+w[K].fieldName+"Radio'\x3e\x3ca href\x3d'#' id\x3d'"+w[K].fieldName+"'\x3e\x3cinput type\x3d'radio' name\x3d'fieldNamesRadio' value\x3d'"+w[K].fieldName+"'";E[0].dashboardFieldName.toLowerCase()===w[K].fieldName.toLowerCase()&&(N+=" checked\x3d'checked'");N+="data-dojo-type\x3d'dijit/form/RadioButton' id\x3d'"+w[K].fieldName+"Radio' class\x3d'radioButtonLabel' innerText\x3d'"+
w[K].alias+"'/\x3e";N+=b.sanitizeHTML(w[K].alias)+"\x3c/label\x3e\x3c/a\x3e\x3c/li\x3e";N=a.toDom(N);a.place(N,this.filterList);B(T.byId(w[K].fieldName+"Radio"),"change",u.hitch(this,this._radioChange));B(T.byId(w[K].fieldName),"click",u.hitch(this,this._fieldNameClick))}},_fieldNameClick:function(w){w=T.byId(w.target.id+"Radio");void 0!==w&&null!==w&&(w.checked=!0,this._radioChange())},_radioChange:function(){this.chartPageLevel=0;this.showHideBackButton(!1);if(this.useCurrentMapExtent)var w=this._getMapExtent();
else!1===this.useCurrentMapExtent&&(w=this.mapSpatialFilter);u.hitch(this,this._displayResult(w,!0))},_initResultsTab:function(){this.own(B(this.pagingUl,"click",u.hitch(this,function(w){w=w.target||w.srcElement;if("a"===w.tagName.toLowerCase()){var E=p("a",this.pagingUl);w=r.indexOf(E,w);0<=w&&(this.currentChartIndex=w,this._showChart(w))}})))},_initDraw:function(){this.toolbar=new L(this.map);this.toolbar.activate(L.POLYGON);this.toolbar.on("draw-end",u.hitch(this,function(w){this._clear();var E=
new v;E=new t(w.geometry,E);this.map.graphics.add(E);this.mapSpatialFilter=w.geometry;this._displayResult(this.mapSpatialFilter)}))},_executeQuery:function(w){var E=new A;E.returnGeometry=!0;w=w.mapPoint;w=new I({xmin:w.x,ymin:w.y,xmax:w.x,ymax:w.y,spatialReference:w.spatialReference});E.geometry=w;this.queryTask.execute(E,u.hitch(this,this._handleQueryResults))},_handleQueryResults:function(w){var E=[];w=w.features;var K=new q(this.config.geometryServiceURL),N=this.map.graphics.graphics;r.forEach(w,
u.hitch(this,function(G){G.setSymbol(new v);if(0===N.length)this.map.graphics.add(G);else{var W=!1;r.forEach(N,u.hitch(this,function(Q){var V=G.geometry.getExtent().getCenter().x;Q.geometry.getExtent().getCenter().x===V&&(W=!0,G=Q)}));W?this.map.graphics.remove(G):this.map.graphics.add(G)}}));N=this.map.graphics;r.forEach(N.graphics,u.hitch(this,function(G){E.push(G.geometry)}));1<E.length?K.union(E,u.hitch(this,function(G){this.mapSpatialFilter=G;this._updateChart(G)}),u.hitch(this,function(G){this._showDialog("Error",
G.message)})):(this.mapSpatialFilter=E[0],this._updateChart(E[0]))},_getMapExtent:function(){var w=this.map.extent,E=new O(w.spatialReference),K=w.xmin,N=w.xmax,G=w.ymin;w=w.ymax;E.addRing([[K,G],[K,w],[N,w],[N,G],[K,G]]);return E},_displayResult:function(w,E){a.setStyle(this.resultsSection,"display","block");this.tabContainer.selectTab(this.nls.dashboardTab);var K="",N;p('[name\x3d"fieldNamesRadio"]').forEach(u.hitch(this,function(Q){Q.checked&&(K=Q.value,N=Q.getAttribute("innerText"))}));if(""!==
K){this.selectedFieldName=K;this.selectedFieldAlias=N;var G=this.sessionNameSelect.get("value"),W=new f;"All"!==G&&W.addAttributeFilter("SESSIONID",parseInt(G,10));(1<=W.getCount()?this.dashboardTask.getDashboardResults(K.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?this.nls.statusFieldName:K,W):this.dashboardTask.getDashboardResults(K.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?this.nls.statusFieldName:K)).then(u.hitch(this,function(Q){K.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?
this.dashboardResult=this.getLifecyclePhaseresult(Q.dashboardResult):this.dashboardResult=Q.dashboardResult;this.reviewerHelper.getLayerDrawingOptions(this.dashboardResult,null,null).then(u.hitch(this,function(V){var ea=this.dashboardResult;0<ea.fieldValues.length?(w&&E?this._updateChart(w,V.layerDrawingOptions):!w||null!==E&&void 0!==E?void 0===w&&void 0===E?this._updateChart(null,this.layerDrawingOptions):(this.layerDrawingOptions=V.layerDrawingOptions,this._createCharts(ea,V.layerDrawingOptions,
K)):this._updateChart(w,this.layerDrawingOptions),E&&(null===ea||null===ea.filters||0===ea.filters.getCount()?(this._applyUniqueValueRenderer(V.layerDrawingOptions.layerDrawingOptionsArray),this.layerDrawingOptions=V.layerDrawingOptions):this.reviewerResultsTask.getLayerDefinition(ea.filters).then(u.hitch(this,function(ja){this._applyUniqueValueRenderer(V.layerDrawingOptions.layerDrawingOptionsArray,ja.whereClause);this.layerDrawingOptions=V.layerDrawingOptions}),u.hitch(this,function(ja){this._showDialog("Error",
ja.message)})))):(this._clearCharts(),this.chartTitle.innerHTML=this.nls.noResults)}),u.hitch(this,function(V){this._showDialog("Error",V.message)}))}),u.hitch(this,function(Q){this._showDialog("Error",Q.message)}))}},_applyUniqueValueRenderer:function(w,E){for(var K=this.map.graphicsLayerIds,N=[],G=0;G<K.length;G++){var W=this.map.graphicsLayerIds[G];"reviewerPointLayer"!==W&&"reviewerLineLayer"!==W&&"reviewerPolygonLayer"!==W||N.push(this.map.getLayer(W))}for(G=0;G<N.length;G++)this.map.removeLayer(N[G]);
this.reviewerPointLayer=new M(this.layerUrl+"/0",{id:"reviewerPointLayer",mode:M.MODE_ONDEMAND,outFields:["*"]});this.reviewerLineLayer=new M(this.layerUrl+"/1",{id:"reviewerLineLayer",mode:M.MODE_ONDEMAND,outFields:["*"]});this.reviewerPolygonLayer=new M(this.layerUrl+"/2",{id:"reviewerPolygonLayer",mode:M.MODE_ONDEMAND,outFields:["*"]});"undefined"!==w&&3===w.length&&(this.reviewerPointLayer.setRenderer(w[0].renderer),this.reviewerLineLayer.setRenderer(w[1].renderer),this.reviewerPolygonLayer.setRenderer(w[2].renderer));
E&&(this.reviewerPointLayer.setDefinitionExpression(E),this.reviewerLineLayer.setDefinitionExpression(E),this.reviewerPolygonLayer.setDefinitionExpression(E));this.map.addLayer(this.reviewerPointLayer);this.map.addLayer(this.reviewerLineLayer);this.map.addLayer(this.reviewerPolygonLayer)},_updateChart:function(w,E){a.setStyle(this.resultsSection,"display","block");this.tabContainer.selectTab(this.nls.dashboardTab);var K=new f,N=this.sessionNameSelect.get("value");"All"!==N&&K.addAttributeFilter("SESSIONID",
parseInt(N,10));w&&K.addSpatialFilter(w);(1<=K.getCount()?this.dashboardTask.getDashboardResults(this.selectedFieldName.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?this.nls.statusFieldName:this.selectedFieldName,K):this.dashboardTask.getDashboardResults(this.selectedFieldName.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?this.nls.statusFieldName:this.selectedFieldName)).then(u.hitch(this,function(G){this.selectedFieldName.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?this.dashboardResult=
this.getLifecyclePhaseresult(G.dashboardResult):this.dashboardResult=G.dashboardResult;0<this.dashboardResult.fieldValues.length?E?(this.layerDrawingOptions=E,this._createCharts(this.dashboardResult,E,this.selectedFieldName)):this._createCharts(this.dashboardResult,this.layerDrawingOptions,this.selectedFieldName):(this._clearCharts(),this.chartTitle.innerHTML=this.nls.noResults)}),u.hitch(this,function(G){this._showDialog("Error",G.message)}))},_createCharts:function(w,E,K){this._clearCharts(K);var N=
[],G,W;var Q=this._createOtherCategory(w);r.forEach(Q.fieldValues,u.hitch(this,function(aa){G=Q.fieldName.toLowerCase()===this.nls.statusFieldName.toLowerCase()&&aa!==this.nls.OtherCategory?g.toLifecycleStatusString(aa):Q.fieldName.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?g.toLifecyclePhaseString(parseInt(aa,10)):aa;E.colorMap&&G!==this.nls.OtherCategory&&(W=E.colorMap[aa].toHex());G===this.nls.OtherCategory&&(W="#000000");N.push({text:Q.getCount(aa),y:Q.getCount(aa),name:aa.toString(),
tooltip:G+": "+Q.getCount(aa),color:W})}));var V={chartField:w.fieldName,description:"",title:K,type:"pieChart"},ea=a.create("div",{"class":"chart-div",id:"pieChart",style:{width:"280px",height:"210px;"}},this.chartContainer),ja=this._createPieChart(ea,V,N);ja.media=V;this.charts.push(ja);a.setStyle(ea,"display","none");V=a.create("div",{"class":"chart-div",style:{width:"320px",height:"210px;"}},this.chartContainer);w={chartField:w.fieldName,description:"",title:K,type:"barsChart"};K=this._creatBarsChart(V,
N);K.media=w;this.charts.push(K);a.setStyle(V,"display","none");w=this.charts.length;for(K=0;K<w;K++)V=a.toDom("\x3cli\x3e\x3ca title\x3d'"+this.charts[K].media.type+"'\x3e\x3c/a\x3e\x3c/li\x3e"),a.place(V,this.pagingUl);this._showChart(this.currentChartIndex)},_showChart:function(w){this.chartTitle.innerHTML="";var E=p(".chart-div",this.chartContainer);E.style({display:"none"});var K=p("li",this.pagingUl);K.removeClass("selected");if(!(0>w)){if(E=E[w])this.currentChartIndex=w,a.setStyle(E,{display:"block"});
this.chartTitle.innerHTML=this.nls.resultsBy+b.sanitizeHTML(this.selectedFieldAlias);this.chartTitle.title=this.nls.resultsBy+b.sanitizeHTML(this.selectedFieldAlias);(w=K[w])&&a.addClass(w,"selected")}},_creatBarsChart:function(w,E){w=new X(w);var K=[];r.forEach(E,function(G){K.push(G.name)});w.addPlot("default",{type:y,enableCache:!0,markers:!0,minBarSize:1,maxBarSize:15,label:!1});w.addAxis("x",{fixLower:"minor",fixUpper:"minor",natural:!0,includeZero:!0});w.addAxis("y",{vertical:!0,includeZero:!0,
fixLower:"minor",fixUpper:"micro",natural:!0,labels:r.map(K,function(G,W){return{value:W+1,text:G}}),maxLabelSize:40});var N=new F;N.plotarea.fill="transparent";N.chart.fill="transparent";w.setTheme(N);w.addSeries("default",E,{stroke:{color:"#FFFFFF"},fill:"#1f77b4"});new J(w,"default");w.connectToPlot("default",u.hitch(this,function(G){"onclick"===G.type&&G.run.chart.series[0].data[G.index].name===this.nls.OtherCategory&&(this.chartPageLevel+=1,this._createCharts(this.otherDashboardResult,this.layerDrawingOptions,
this.selectedFieldName),this.showHideBackButton(!0))}));w.render();return w},_createPieChart:function(w,E,K){w=new X(w);w.addPlot("default",{type:z,stroke:{color:"white"},radius:80,min:10,labelStyle:"default",htmlLabels:!0,majorLabels:!0,labelOffset:-15});var N=new F;N.plotarea.fill="transparent";N.chart.fill="transparent";w.setTheme(N);w.addSeries(E.title,K);new J(w,"default");new H(w,"default");w.render();w.connectToPlot("default",u.hitch(this,function(G){"onclick"===G.type&&G.run.chart.series[0].data[G.index].name===
this.nls.OtherCategory&&(this.chartPageLevel+=1,this._createCharts(this.otherDashboardResult,this.layerDrawingOptions,this.selectedFieldName),this.showHideBackButton(!0))}));return w},getLifecyclePhaseresult:function(w){var E=new k;E.fieldName=this.nls.phaseFieldName;var K=-1,N=-1,G=-1;r.forEach(w.fieldValues,u.hitch(this,function(V,ea){V=g.getCurrentLifecyclePhase(parseInt(V,10));V===this.nls.reviewed?(-1===K&&(K=E.fieldValues.push(2)-1),E.counts.length>K?E.counts[K]+=w.counts[ea]:K=E.counts.push(w.counts[ea])-
1):V===this.nls.corrected?(-1===N&&(N=E.fieldValues.push(4)-1),E.counts.length>N?E.counts[N]+=w.counts[ea]:N=E.counts.push(w.counts[ea])-1):V===this.nls.verified&&(-1===G&&(G=E.fieldValues.push(6)-1),E.counts.length>G?E.counts[G]+=w.counts[ea]:G=E.counts.push(w.counts[ea])-1)}));var W=this.sessionNameSelect.get("value"),Q=new f;"All"!==W&&Q.addAttributeFilter("SESSIONID",parseInt(W,10));E.filters=Q;return E},_createOtherCategory:function(w){var E={},K=0,N=[],G=[],W=new k;this.otherDashboardResult=
new k;this.otherDashboardResult.fieldName=w.fieldName;if(w.fieldValues.length>this.config.numberChartSections){r.forEach(w.fieldValues,u.hitch(this,function(ea,ja){E[w.fieldValues[ja]]=w.getCount(ea)}));var Q=[],V;for(V in E)Q.push([V,E[V]]);Q.sort(function(ea,ja){return ja[1]-ea[1]});for(V=0;V<Q.length;V++)V<this.config.numberChartSections?(W.fieldValues.push(Q[V][0]),W.counts.push(Q[V][1])):(K+=Q[V][1],N.push(Q[V][0]),G.push(Q[V][1]),this.otherDashboardResult.fieldValues.push(Q[V][0]),this.otherDashboardResult.counts.push(Q[V][1]));
W.fieldValues.push(this.nls.OtherCategory);W.counts.push(K);W.fieldName=w.fieldName;return W}return w},_createDrilledChartData:function(){var w=new k,E={},K;r.forEach(this.dashboardResult.fieldValues,u.hitch(this,function(W,Q){E[this.dashboardResult.fieldValues[Q]]=this.dashboardResult.getCount(W)}));var N=[],G;for(G in E)N.push([G,E[G]]);N.sort(function(W,Q){return Q[1]-W[1]});0===this.chartPageLevel?w=this.dashboardResult:K=this.chartPageLevel*this.config.numberChartSections;for(K=parseInt(K,10);K<
N.length;K++)w.fieldValues.push(N[K][0]),w.counts.push(N[K][1]);return w},showHideBackButton:function(w){var E=p(".otherBackButton",this.resultsTabNode);w?E.style({display:"block"}):E.style({display:"none"})},_showDialog:function(w,E){w=new S({title:w,style:"width: 200px"});w.set("content",E);w.show()},_clearCharts:function(){this.chartTitle.innerHTML="";p(".chart-div",this.chartContainer).style({display:"none"});p("li",this.pagingUl).removeClass("selected");for(var w=0;w<this.charts.length;w++){var E=
this.charts[w];E&&E.destroy()}this.charts=[];a.empty(this.pagingUl);a.empty(this.chartContainer);a.setStyle(this.resultsSection,"display","block")},_clear:function(){null!==this.toolbar&&this.toolbar.deactivate();this.mapSpatialFilter=null;this.map.graphics.clear()},onClose:function(){for(var w=this.map.graphicsLayerIds,E=[],K=0;K<w.length;K++){var N=this.map.graphicsLayerIds[K];"reviewerPointLayer"!==N&&"reviewerLineLayer"!==N&&"reviewerPolygonLayer"!==N||E.push(this.map.getLayer(N))}for(K=0;K<E.length;K++)this.map.removeLayer(E[K]);
this._clear();this._clearCharts();this.map.removeLayer(this.spatialFilterLayer);this.isClosed=!0}})});
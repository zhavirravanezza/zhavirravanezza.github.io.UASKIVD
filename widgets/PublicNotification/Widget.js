// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
/*

 ====================================================================
 jsPDF - PDF Document creation from JavaScript
 Version 1.3.4 Built on 2017-04-10T14:14:44.483Z
                           CommitID cf4827d221

 Copyright (c) 2010-2016 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
               2010 Aaron Spike, https://github.com/acspike
               2012 Willow Systems Corporation, willow-systems.com
               2012 Pablo Hess, https://github.com/pablohess
               2012 Florian Jenett, https://github.com/fjenett
               2013 Warren Weckesser, https://github.com/warrenweckesser
               2013 Youssef Beddad, https://github.com/lifof
               2013 Lee Driscoll, https://github.com/lsdriscoll
               2013 Stefan Slonevskiy, https://github.com/stefslon
               2013 Jeremy Morel, https://github.com/jmorel
               2013 Christoph Hartmann, https://github.com/chris-rock
               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
               2014 James Makes, https://github.com/dollaruw
               2014 Diego Casorran, https://github.com/diegocr
               2014 Steven Spungin, https://github.com/Flamenco
               2014 Kenneth Glassey, https://github.com/Gavvers

 Licensed under the MIT License

 Contributor(s):
    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
    kim3er, mfo, alnorth, Flamenco

 ====================================================================
 jsPDF AcroForm Plugin
 Copyright (c) 2016 Alexander Weidt, https://github.com/BiggA94

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF addHTML PlugIn
 Copyright (c) 2014 Diego Casorran

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF addImage plugin
 Copyright (c) 2012 Jason Siefken, https://github.com/siefkenj/
               2013 Chris Dowling, https://github.com/gingerchris
               2013 Trinh Ho, https://github.com/ineedfat
               2013 Edwin Alejandro Perez, https://github.com/eaparango
               2013 Norah Smith, https://github.com/burnburnrocket
               2014 Diego Casorran, https://github.com/diegocr
               2014 James Robb, https://github.com/jamesbrobb

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Cell plugin
 Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com
               2013 Eduardo Menezes de Morais, eduardo.morais@usp.br
               2013 Lee Driscoll, https://github.com/lsdriscoll
               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
               2014 James Hall, james@parall.ax
               2014 Diego Casorran, https://github.com/diegocr

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF fromHTML plugin. BETA stage. API subject to change. Needs browser
 Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
               2014 Diego Casorran, https://github.com/diegocr
               2014 Daniel Husar, https://github.com/danielhusar
               2014 Wolfgang Gassler, https://github.com/woolfg
               2014 Steven Spungin, https://github.com/flamenco

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF JavaScript plugin
 Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

  ====================================================================
 jsPDF PNG PlugIn
 Copyright (c) 2014 James Robb, https://github.com/jamesbrobb

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF split_text_to_size plugin - MIT license.
 Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
               2014 Diego Casorran, https://github.com/diegocr

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF total_pages plugin
 Copyright (c) 2013 Eduardo Menezes de Morais, eduardo.morais@usp.br

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 adler32cs
 Copyright (c) 2012 chick307 <chick307@gmail.com>

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
         Deflate.js - https://github.com/gildas-lormeau/zip.js
         Copyright (c) 2013 Gildas Lormeau. All rights reserved.

         Redistribution and use in source and binary forms, with or without
         modification, are permitted provided that the following conditions are met:

         1. Redistributions of source code must retain the above copyright notice,
         this list of conditions and the following disclaimer.

         2. Redistributions in binary form must reproduce the above copyright
         notice, this list of conditions and the following disclaimer in
         the documentation and/or other materials provided with the distribution.

         3. The names of the authors may not be used to endorse or promote products
         derived from this software without specific prior written permission.

         THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,
         INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
         FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,
         INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,
         INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
         LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
         OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
         LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
         NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
         EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

 ====================================================================
 html2canvas 0.5.0-beta3 <http://html2canvas.hertzen.com>
 Copyright (c) 2016 Niklas von Hertzen

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 base64-arraybuffer
 https://github.com/niklasvh/base64-arraybuffer

 Copyright (c) 2012 Niklas von Hertzen

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 PNG.js
 Copyright (c) 2011 Devon Govett

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 Extracted from pdf.js
 https://github.com/andreasgal/pdf.js

 Copyright (c) 2011 Mozilla Foundation

 Contributors: Andreas Gal <gal@mozilla.com>
               Chris G Jones <cjones@mozilla.com>
               Shaon Barman <shaon.barman@gmail.com>
               Vivien Nicolas <21@vingtetun.org>
               Justin D'Arcangelo <justindarc@gmail.com>
               Yury Delendik

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 String.prototype.trimLeft, String.prototype.trimRight are
 adapted from Chapter 5 Strings and Regular Expressions by
 Steven Levithan in the book High Performance JavaScript by
 Nicholas C. Zakas Copyright 2010 Yahoo!, Inc.,
 978-0-596-80279-0

 License: "In general, you may use the code in this book in
 your programs and documentation. You do not need to contact
 us for permission unless youâ€™re reproducing a significant
 portion of the code. For example, writing a program that uses
 several chunks of code from this book does not require
 permission."
 https://www.safaribooksonline.com/library/view/high-performance-javascript/9781449382308/pr02s12.html

 ====================================================================
 jsPDF Annotations PlugIn
 Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Autoprint Plugin

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Canvas PlugIn
 Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Context2D PlugIn Copyright (c) 2014 Steven Spungin (TwelveTone LLC) steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Outline PlugIn
 Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF standard_fonts_metrics plugin
 Copyright (c) 2012 Willow Systems Corporation,
 willow-systems.com

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF SVG plugin Copyright (c) 2012 Willow Systems
 Corporation, willow-systems.com

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF XMP metadata plugin
 Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 CssColors
 Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license
 http://mths.be/punycode v1.2.4 by @mathias */
require({cache:{"dijit/ProgressBar":function(){define("require dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/number ./_Widget ./_TemplatedMixin dojo/text!./templates/ProgressBar.html".split(" "),function(ya,ta,ha,ea,U,M,D,ia){return ta("dijit.ProgressBar",[M,D],{progress:"0",value:"",maximum:100,places:0,indeterminate:!1,label:"",name:"",templateString:ia,_indeterminateHighContrastImagePath:ya.toUrl("./themes/a11y/indeterminate_progress.gif"),postMixInProperties:function(){this.inherited(arguments);
this.params&&"value"in this.params||(this.value=this.indeterminate?Infinity:this.progress)},buildRendering:function(){this.inherited(arguments);this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath.toString());this.update()},_setDirAttr:function(ca){var ma="rtl"==ca.toLowerCase();ha.toggle(this.domNode,"dijitProgressBarRtl",ma);ha.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&ma);this.inherited(arguments)},update:function(ca){ea.mixin(this,
ca||{});ca=this.internalProgress;var ma=this.domNode,T=1;this.indeterminate?ma.removeAttribute("aria-valuenow"):(-1!=String(this.progress).indexOf("%")?(T=Math.min(parseFloat(this.progress)/100,1),this.progress=T*this.maximum):(this.progress=Math.min(this.progress,this.maximum),T=this.maximum?this.progress/this.maximum:0),ma.setAttribute("aria-valuenow",this.progress));ma.setAttribute("aria-labelledby",this.labelNode.id);ma.setAttribute("aria-valuemin",0);ma.setAttribute("aria-valuemax",this.maximum);
this.labelNode.innerHTML=this.report(T);ha.toggle(this.domNode,"dijitProgressBarIndeterminate",this.indeterminate);ha.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&!this.isLeftToRight());ca.style.width=100*T+"%";this.onChange()},_setValueAttr:function(ca){this._set("value",ca);Infinity==ca?this.update({indeterminate:!0}):this.update({indeterminate:!1,progress:ca})},_setLabelAttr:function(ca){this._set("label",ca);this.update()},_setIndeterminateAttr:function(ca){this._set("indeterminate",
ca);this.update()},report:function(ca){return this.label?this.label:this.indeterminate?"\x26#160;":U.format(ca,{type:"percent",places:this.places,locale:this.lang})},onChange:function(){}})})},"esri/geometry/geometryEngineAsync":function(){define("require exports esri/kernel module esri/geometry/Geometry esri/geometry/Polygon esri/geometry/Polyline esri/geometry/Point esri/geometry/Extent esri/geometry/Multipoint esri/workers/WorkerClient esri/arcade/polyfill/promiseUtils".split(" "),function(ya,
ta,ha,ea,U,M,D,ia,ca,ma,T,m){function n(u){if(void 0===ia.fromJson){if(void 0!==u.x&&void 0!==u.y)return new ia(u);if(void 0!==u.paths)return new D(u);if(void 0!==u.rings)return new M(u);if(void 0!==u.points)return new ma(u);if(void 0!==u.xmin&&void 0!==u.ymin&&void 0!==u.xmax&&void 0!==u.ymax)return new ca(u)}else{if(void 0!==u.x&&void 0!==u.y)return ia.fromJson(u);if(void 0!==u.paths)return D.fromJson(u);if(void 0!==u.rings)return M.fromJson(u);if(void 0!==u.points)return ma.fromJson(u);if(void 0!==
u.xmin&&void 0!==u.ymin&&void 0!==u.xmax&&void 0!==u.ymax)return ca.fromJson(u)}}function p(u,x){if(null==u||void 0===u||"number"===typeof u)return u;var F=u.toString();if(""===F)return null;if(2==x){var Q=w[F];if(void 0!==Q)return Q}else if(0==x){Q=q[F];if(void 0!==Q)return Q;Q=v[u];if(void 0!==Q)return Q}else if(3==x&&(Q=q[F],void 0!==Q))return Q;if(1==x&&(Q=v[u],void 0!==Q))return Q;if(!0===/^\d+$/.test(F))return parseInt(F);throw Error("Unrecognised Unit Type");}function f(u){if(void 0!==u&&null!==
u)switch(u){case "loxodrome":return 1;case "great-elliptic":return 2;case "normal-section":return 3;case "shape-preserving":return 4}return 0}function a(u){if(null===u||void 0===u)return null;if(k)switch(u.type){case "point":return{x:u.x,y:u.y,z:u.z,m:u.m};case "multipoint":return{points:u.points,hasZ:u.hasZ,hasM:u.hasM};case "polyline":return{paths:u.paths,hasZ:u.hasZ,hasM:u.hasM};case "polygon":return{rings:u.rings,hasZ:u.hasZ,hasM:u.hasM};case "extent":return{xmin:u.xmin,ymin:u.ymin,xmax:u.xmax,
ymax:u.ymax,zmin:u.zmin,zmax:u.zmax,mmin:u.mmin,mmax:u.mmax}}else switch(u.type){case "point":return{x:u.x,y:u.y};case "multipoint":return{points:u.points};case "polyline":return{paths:u.paths};case "polygon":return{rings:u.rings};case "extent":return{xmin:u.xmin,ymin:u.ymin,xmax:u.xmax,ymax:u.ymax}}return null}function l(u,x){if(null===u)return null;u=n(u);k?u.set("spatialReference",x):u.setSpatialReference(x);return u}function c(u){return null==u||void 0===u?null:-1!=u.wkid&&null!==u.wkid&&void 0!==
u.wkid?{wkid:u.wkid}:""!==u.wkt&&void 0!==u.wkt&&null!==u.wkt?{wkt:u.wkt}:null}function h(u,x,F){return m.create(function(Q,W){var L=x.spatialReference;y.g({action:u,geoma:a(x),geomb:a(F),spatialReference:c(x.spatialReference)}).then(function(N){0===N.status?W(Error(N.error.message)):Q(l(N.result,L))},function(N){W(N)})})}function e(u,x,F){return m.create(function(Q,W){y.g({action:u,geoma:a(x),geomb:a(F),spatialReference:c(x.spatialReference)}).then(function(L){0===L.status?W(Error(L.error.message)):
Q(L.result)},function(L){W(L)})})}var k=0==ha.version.indexOf("4."),d;(function(u){u[u.Linear=0]="Linear";u[u.Angular=1]="Angular";u[u.Area=2]="Area";u[u.LinearOrAngular=3]="LinearOrAngular"})(d||(d={}));var q={feet:9002,kilometers:9036,meters:9001,miles:9093,"nautical-miles":9030,yards:9096},w={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109439,"square-yards":109442},v={degrees:9102,radians:9101},E=function(){function u(){this.i=
!0;this.s=null}u.prototype.G=function(x){var F=this;this.s=new T;this.s.setWorker(this.B(),function(){F.i=!1;x()})};u.prototype.B=function(){return ya.H?ya.H("./geometryenginewebworker"):ea.id.replace(/\/[^\/]*$/ig,"/")+"./geometryenginewebworker"};return u}(),y=function(){function u(){}u.g=function(x){return m.create(function(F,Q){u.o.push({task:x,d:{resolve:F,reject:Q}});u.j()})};u.j=function(){if(0<u.o.length){for(var x=null,F=0;F<u.h.length;F++)if(!1===u.h[F].i){x=u.h[F];break}null===x&&u.h.length<
u.l&&(F=new E,u.h.push(F),F.G(function(){u.j()}));if(null!==x){var Q=this.o.shift();x.i=!0;x.s.postMessage(Q.task).then(function(W){x.i=!1;try{Q.d.resolve(W)}catch(L){}u.j()},function(W){x.i=!1;try{Q.d.reject(W)}catch(L){}u.j()})}}};u.h=[];u.o=[];u.l=4;return u}();return function(){function u(){}u._removeAllWorkers=function(){y.h=[]};u._setMaxWorkers=function(x){u._removeAllWorkers();y.l=x};u._getMaxWorkers=function(){return y.l};u._getNumWorkers=function(){return y.h.length};u.extendedSpatialReferenceInfo=
function(x){return m.create(function(F,Q){y.g({action:"extendedspatialreferenceinfo",spatialReference:c(x)}).then(function(W){0===W.status?Q(Error(W.error.message)):F(W.result)},function(W){Q(W)})})};u.equals=function(x,F){return null===x&&null!==F||null===F&&null!==x?!1:e("equals",x,F)};u.intersects=function(x,F){if(null===x||null===F)throw Error("Illegal Argument Exception");return e("intersects",x,F)};u.touches=function(x,F){if(null===x||null===F)throw Error("Illegal Argument Exception");return e("touches",
x,F)};u.within=function(x,F){if(null===x||null===F)throw Error("Illegal Argument Exception");return e("within",x,F)};u.disjoint=function(x,F){if(null===x||null===F)throw Error("Illegal Argument Exception");return e("disjoint",x,F)};u.overlaps=function(x,F){if(null===x||null===F)throw Error("Illegal Argument Exception");return e("overlaps",x,F)};u.crosses=function(x,F){if(null===x||null===F)throw Error("Illegal Argument Exception");return e("crosses",x,F)};u.contains=function(x,F){if(null===x||null===
F)throw Error("Illegal Argument Exception");return e("contains",x,F)};u.isSimple=function(x){return e("issimple",x,null)};u.clip=function(x,F){return h("clip",x,F)};u.simplify=function(x){return m.create(function(F,Q){var W=x.spatialReference;y.g({action:"simplify",geoma:a(x),spatialReference:c(x.spatialReference)}).then(function(L){0===L.status?Q(Error(L.error.message)):F(l(L.result,W))},function(L){Q(L)})})};u.rotate=function(x,F,Q){return m.create(function(W,L){var N=x.spatialReference;if(void 0===
Q||null===Q)switch(x.type){case "point":Q=x;break;case "extent":Q=k?x.get("center"):x.getCenter();break;default:Q=k?x.get("extent").get("center"):x.getExtent().getCenter()}y.g({action:"rotate",geoma:a(x),spatialReference:c(x.spatialReference),angle:F,rotpt:a(Q)}).then(function(G){0===G.status?L(Error(G.error.message)):W(l(G.result,N))},function(G){L(G)})})};u.flipHorizontal=function(x,F){return m.create(function(Q,W){var L=x.spatialReference;if(void 0===F||null===F)switch(x.type){case "point":F=x;
break;case "extent":F=k?x.get("center"):x.getCenter();break;default:F=k?x.get("extent").get("center"):x.getExtent().getCenter()}y.g({action:"fliph",geoma:a(x),spatialReference:c(x.spatialReference),flippt:a(F)}).then(function(N){0===N.status?W(Error(N.error.message)):Q(l(N.result,L))},function(N){W(N)})})};u.flipVertical=function(x,F){return m.create(function(Q,W){var L=x.spatialReference;if(void 0===F||null===F)switch(x.type){case "point":F=x;break;case "extent":F=k?x.get("center"):x.getCenter();
break;default:F=k?x.get("extent").get("center"):x.getExtent().getCenter()}y.g({action:"flipv",geoma:a(x),spatialReference:c(x.spatialReference),flippt:a(F)}).then(function(N){0===N.status?W(Error(N.error.message)):Q(l(N.result,L))},function(N){W(N)})})};u.distance=function(x,F,Q){return m.create(function(W,L){y.g({action:"distance",geoma:a(x),geomb:a(F),spatialReference:c(x.spatialReference),distanceunits:p(Q,3)}).then(function(N){0===N.status?L(Error(N.error.message)):W(N.result)},function(N){L(N)})})};
u.relate=function(x,F,Q){return m.create(function(W,L){y.g({action:"relate",geoma:a(x),geomb:a(F),relation:Q,spatialReference:c(x.spatialReference)}).then(function(N){0===N.status?L(Error(N.error.message)):W(N.result)},function(N){L(N)})})};u.nearestCoordinate=function(x,F,Q){return m.create(function(W,L){var N=x.spatialReference;y.g({action:"nearestcoord",geoma:a(x),geomb:a(F),spatialReference:c(x.spatialReference),testinterior:void 0===Q?!0:Q}).then(function(G){0===G.status?L(Error(G.error.message)):
(G.result.coordinate=l(G.result.coordinate,N),W(G.result))},function(G){L(G)})})};u.nearestVertex=function(x,F){return m.create(function(Q,W){var L=x.spatialReference;y.g({action:"nearestvertex",geoma:a(x),geomb:a(F),spatialReference:c(x.spatialReference)}).then(function(N){0===N.status?W(Error(N.error.message)):(N.result.coordinate=l(N.result.coordinate,L),Q(N.result))},function(N){W(N)})})};u.nearestVertices=function(x,F,Q,W){return m.create(function(L,N){var G=x.spatialReference;y.g({action:"nearestvertices",
geoma:a(x),geomb:a(F),spatialReference:c(x.spatialReference),searchradius:Q,maxreturn:W}).then(function(z){if(0===z.status)N(Error(z.error.message));else{for(var P=0;P<z.result.length;P++)z.result[P].coordinate=l(z.result[P].coordinate,G);L(z.result)}},function(z){N(z)})})};u.cut=function(x,F){return m.create(function(Q,W){var L=x.spatialReference;y.g({action:"cut",geoma:a(x),geomb:a(F),spatialReference:c(x.spatialReference)}).then(function(N){if(0===N.status)W(Error(N.error.message));else{for(var G=
0;G<N.result.length;G++)N.result[G]=l(N.result[G],L);Q(N.result)}},function(N){W(N)})})};u.generalize=function(x,F,Q,W){return m.create(function(L,N){var G=x.spatialReference;y.g({action:"generalize",geoma:a(x),maxdeviation:F,removedegenerateparts:Q,maxdeviationunit:p(W,3),spatialReference:c(x.spatialReference)}).then(function(z){0===z.status?N(Error(z.error.message)):L(l(z.result,G))},function(z){N(z)})})};u.densify=function(x,F,Q){return m.create(function(W,L){var N=x.spatialReference;y.g({action:"densify",
geoma:a(x),maxsegmentlength:F,maxsegmentlengthunit:p(Q,3),spatialReference:c(x.spatialReference)}).then(function(G){0===G.status?L(Error(G.error.message)):W(l(G.result,N))},function(G){L(G)})})};u.geodesicDensify=function(x,F,Q,W){void 0===W&&(W=0);return m.create(function(L,N){var G=x.spatialReference;y.g({action:"geodensify",geoma:a(x),maxsegmentlength:F,maxsegmentlengthunit:p(Q,3),spatialReference:c(x.spatialReference),curveType:W}).then(function(z){0===z.status?N(Error(z.error.message)):L(l(z.result,
G))},function(z){N(z)})})};u.intersect=function(x,F){return x instanceof U?h("intersect",x,F):u.C(x,F)};u.C=function(x,F){return m.create(function(Q,W){for(var L=[],N=0;N<x.length;N++)L.push(a(x[N]));var G=F.spatialReference;y.g({action:"intersectmany",geom:a(F),geometries:L,spatialReference:c(F.spatialReference)}).then(function(z){if(0===z.status)W(Error(z.error.message));else{for(var P=0;P<z.result.length;P++)z.result[P]=l(z.result[P],G);Q(z.result)}},function(z){W(z)})})};u.difference=function(x,
F){return x instanceof U?h("difference",x,F):u.A(x,F)};u.A=function(x,F){return m.create(function(Q,W){for(var L=[],N=0;N<x.length;N++)L.push(a(x[N]));var G=F.spatialReference;y.g({action:"differencemany",geom:a(F),geometries:L,spatialReference:c(F.spatialReference)}).then(function(z){if(0===z.status)W(Error(z.error.message));else{for(var P=0;P<z.result.length;P++)z.result[P]=l(z.result[P],G);Q(z.result)}},function(z){W(z)})})};u.symmetricDifference=function(x,F){return x instanceof U?h("symdifference",
x,F):u.F(x,F)};u.F=function(x,F){return m.create(function(Q,W){for(var L=[],N=0;N<x.length;N++)L.push(a(x[N]));var G=F.spatialReference;y.g({action:"symdifferencemany",geom:a(F),geometries:L,spatialReference:c(F.spatialReference)}).then(function(z){if(0===z.status)W(Error(z.error.message));else{for(var P=0;P<z.result.length;P++)z.result[P]=l(z.result[P],G);Q(z.result)}},function(z){W(z)})})};u.union=function(x,F){void 0===F&&(F=null);return m.create(function(Q,W){var L=[];if(null===x)Q(null);else if(x instanceof
U&&(x=[x],null!==F&&x.push(F)),0===x.length)Q(null);else{for(var N=0;N<x.length;N++)L.push(a(x[N]));var G=x[0].spatialReference;y.g({action:"unionmany",geometries:L,spatialReference:c(G)}).then(function(z){0===z.status?W(Error(z.error.message)):Q(l(z.result,G))},function(z){W(z)})}})};u.buffer=function(x,F,Q,W){void 0===W&&(W=!1);if(x instanceof U)return m.create(function(z,P){var X=x.spatialReference;y.g({action:"buffer",geoma:a(x),spatialReference:c(x.spatialReference),distance:F,unit:p(Q,3),geodesic:!1,
geodesicmaxdeviation:NaN,geodesiccurvetype:0}).then(function(Y){0===Y.status?P(Error(Y.error.message)):z(l(Y.result,X))},function(Y){P(Y)})});if("[object Array]"!==Object.prototype.toString.call(F)){for(var L=[],N=0;N<x.length;N++)L.push(F);F=L}if(F.length!=x.length){if(0==F.length)throw Error("Illegal Argument Exception");L=[];var G=0;for(N=0;N<x.length;N++)void 0===F[N]?L.push(G):(L.push(F[N]),G=F[N]);F=L}return u.u(x,F,Q,!1,W,"geodesic",NaN)};u.geodesicBuffer=function(x,F,Q,W,L,N){if(x instanceof
U)return m.create(function(X,Y){void 0===L&&(L=NaN);var ba=x.spatialReference;y.g({action:"buffer",geoma:a(x),spatialReference:c(x.spatialReference),distance:F,unit:p(Q,0),geodesic:!0,geodesicmaxdeviation:L,geodesiccurvetype:f(W)}).then(function(oa){0===oa.status?Y(Error(oa.error.message)):X(l(oa.result,ba))},function(oa){Y(oa)})});if("[object Array]"!==Object.prototype.toString.call(F)){for(var G=[],z=0;z<x.length;z++)G.push(F);F=G}if(F.length!=x.length){if(0==F.length)throw Error("Illegal Argument Exception");
G=[];var P=0;for(z=0;z<x.length;z++)void 0===F[z]?G.push(P):(G.push(F[z]),P=F[z]);F=G}return u.u(x,F,Q,!0,W,L,N)};u.u=function(x,F,Q,W,L,N,G){return m.create(function(z,P){var X=[];void 0===G&&(G=NaN);if(null===x)z(null);else if(0===x.length)z(null);else{for(var Y=0;Y<x.length;Y++)X.push(a(x[Y]));Q=W?p(Q,0):p(Q,3);var ba=x[0].spatialReference;y.g({action:"buffermany",geometries:X,spatialReference:c(ba),distances:F,tounionresults:L,unit:Q,geodesic:W,geodesicmaxdeviation:G,geodesiccurvetype:f(N)}).then(function(oa){if(0===
oa.status)P(Error(oa.error.message));else{for(var da=0;da<oa.result.length;da++)oa.result[da]=l(oa.result[da],ba);z(oa.result)}},function(oa){P(oa)})}})};u.convexHull=function(x,F){void 0===F&&(F=!1);return x instanceof U?m.create(function(Q,W){var L=x.spatialReference;y.g({action:"convexhull",geoma:a(x),spatialReference:c(x.spatialReference)}).then(function(N){0===N.status?W(Error(N.error.message)):Q(l(N.result,L))},function(N){W(N)})}):u.v(x,F)};u.v=function(x,F){return m.create(function(Q,W){for(var L=
[],N=0;N<x.length;N++)L.push(a(x[N]));var G=0<x.length?x[0].spatialReference:null;y.g({action:"convexhullmany",geometries:L,merge:F}).then(function(z){if(0===z.status)W(Error(z.error.message));else{for(var P=0;P<z.result.length;P++)z.result[P]=l(z.result[P],G);Q(z.result)}},function(z){W(z)})})};u.offset=function(x,F,Q,W,L,N){var G=0;if(null!=W&&void 0!=W)switch(W){case "round":G=0;break;case "bevel":G=1;break;case "miter":G=2;break;case "square":G=3}return x instanceof U?m.create(function(z,P){var X=
x.spatialReference;y.g({action:"offset",geoma:a(x),spatialReference:c(x.spatialReference),distance:F,joins:G,bevelratio:L,flattenerror:N,offsetunit:p(Q,3)}).then(function(Y){0===Y.status?P(Error(Y.error.message)):z(l(Y.result,X))},function(Y){P(Y)})}):u.D(x,F,Q,G,L,N)};u.D=function(x,F,Q,W,L,N){return m.create(function(G,z){for(var P=[],X=0;X<x.length;X++)P.push(a(x[X]));var Y=0<x.length?x[0].spatialReference:null;y.g({action:"offsetmany",geometries:P,spatialReference:c(Y),distance:F,joins:W,bevelratio:L,
offsetunit:p(Q,3),flattenerror:N}).then(function(ba){if(0===ba.status)z(Error(ba.error.message));else{for(var oa=0;oa<ba.result.length;oa++)ba.result[oa]=l(ba.result[oa],Y);G(ba.result)}},function(ba){z(ba)})})};u.planarArea=function(x,F){return m.create(function(Q,W){y.g({action:"area",geoma:a(x),unit:p(F,2),spatialReference:c(x.spatialReference)}).then(function(L){0===L.status?W(Error(L.error.message)):Q(L.result)},function(L){W(L)})})};u.planarLength=function(x,F){return m.create(function(Q,W){y.g({action:"length",
geoma:a(x),unit:p(F,3),spatialReference:c(x.spatialReference)}).then(function(L){0===L.status?W(Error(L.error.message)):Q(L.result)},function(L){W(L)})})};u.geodesicArea=function(x,F,Q){return m.create(function(W,L){y.g({action:"geodesicarea",geoma:a(x),unit:p(F,2),geodesiccurvetype:f(Q),spatialReference:c(x.spatialReference)}).then(function(N){0===N.status?L(Error(N.error.message)):W(N.result)},function(N){L(N)})})};u.geodesicLength=function(x,F,Q){return m.create(function(W,L){y.g({action:"geodesiclength",
geoma:a(x),unit:p(F,0),geodesiccurvetype:f(Q),spatialReference:c(x.spatialReference)}).then(function(N){0===N.status?L(Error(N.error.message)):W(N.result)},function(N){L(N)})})};return u}()})},"esri/workers/WorkerClient":function(){define("dojo/Evented dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/request ../sniff ../kernel ../urlUtils require".split(" "),function(ya,ta,ha,ea,U,M,D,ia,ca){var ma=window.Blob||window.webkitBlob||window.mozBlob,T=window.URL||window.webkitURL||window.mozURL;ya=
ta([ya],{declaredClass:"esri.workers.WorkerClient",worker:null,returnDeferreds:!1,_queue:null,constructor:function(m,n,p){this._isIE=M("ie");this.returnDeferreds=!!p;this._queue={};this._acceptMessage=ea.hitch(this,this._acceptMessage);this._errorMessage=ea.hitch(this,this._errorMessage);m&&this.setWorker(m,ea.hitch(this,function(f){this.worker=f;n(f)}))},setWorker:function(m,n){if(m instanceof Array){var p=m;m=p.shift()}var f=this._getUrl(m);f=ia.normalize(f);m=!ia.hasSameOrigin(f,location.href);
if(!1===f)return console.log("Can not resolve worker path"),!1;if(this.worker){var a=this.worker;a.removeEventListener("message",this._acceptMessage,!1);a.removeEventListener("error",this._errorMessage,!1);a.terminate();a=null}if(m){m=this._getUrl("./mutableWorker",!0);try{this._getRemoteText(m,ea.hitch(this,function(l){l=T.createObjectURL(new ma([l],{type:"text/javascript"}));n(this._createWorker(l,f))}))}catch(l){try{m=ia.getProxyUrl(m).path+"?"+encodeURI(m),this._useProxy=!0,n(this._createWorker(m,
p))}catch(c){return console.log("Can not create worker"),!1}}}else setTimeout(ea.hitch(this,function(){n(this._createWorker(f,p))}),0)},_createWorker:function(m,n){m=new Worker(m);m.addEventListener("message",this._acceptMessage,!1);m.addEventListener("error",this._errorMessage,!1);this.worker=m;n&&this.importScripts(n);return m},postMessage:function(m,n){if(m instanceof Array||"object"!=typeof m)m={data:m};var p=Math.floor(64E9*Math.random()).toString(36);m.msgId=p;p=this._queue[p]=new ha;this.worker?
(n?this.worker.postMessage(m,n):this.worker.postMessage(m),this.emit("start-message",{target:this,message:m})):p.reject({message:"No worker was set."});return this.returnDeferreds?p:p.promise||p},terminate:function(){var m=Object.keys(this._queue);this.worker&&this.worker.terminate();for(var n=m.length-1;0<=n;n--)this._queue[m[n]].cancel("terminated"),delete this._queue[m[n]]},addWorkerCallback:function(m,n){var p=this._getUrl(m,!0);!1===p?(n=new ha,n.reject({message:"Could not load text from "+m})):
(n=this.postMessage({action:"add-callback",url:p,cbName:n||"main"}),n.then(ea.hitch(this,function(f){f.target=this;this.emit("callback-added",f)})));return n},importScripts:function(m){Array.isArray(m)||(m=[m]);m=m.map(function(n){n=this._getUrl(n,!0);this._useProxy&&!ia.hasSameOrigin(n,location.href)&&(n=ia.getProxyUrl(n).path+"?"+encodeURI(n));return n},this);m=this.postMessage({action:"import-script",url:m});m.then(ea.hitch(this,function(n){n.target=this;this.emit("scripts-imported",n)}));return m},
_acceptMessage:function(m){var n=m.data,p=n.msgId;if(n.status&&"debug"==n.status)console[n.showAs||"debug"](n);else if(p&&p in this._queue){var f=this._queue[p];"progress"==n.status?f.progress(m.data):("error"==n.status?f.reject(m.data):f.resolve(m.data),delete this._queue[p])}this.emit("message",{message:m.data,event:m,target:this})},_errorMessage:function(m){this.onerror||this.onError?this.onerror?this.onerror(m):this.onError(m):console.log("Worker Error: "+m.message+"\nIn "+m.filename+" on "+m.lineno)},
_getUrl:function(m,n){if(!m)return console.error("can not resolve empty path"),!1;m.match(/\.js$/)||(m+=".js");m=ca.toUrl(m);return n?ia.getAbsoluteUrl(m):m},_getRemoteText:function(m,n){(m=this._getUrl(m))&&U.get(m,{sync:!1,handleAs:"text",headers:{"X-Requested-With":"","Content-Type":"text/plain"}}).then(function(p){n(p)})},_startBlobWorker:function(){var m=this._xdSource;m||(m=this._getUrl("./mutableWorker"),m=new ma(["if(!self._mutable){importScripts('"+m+"');}"],{type:"text/javascript"}),m=this._xdSource=
T.createObjectURL(m));try{return new Worker(m)}catch(n){return console.log(n.message),!1}}});M("extend-esri")&&ea.setObject("workers.WorkerClient",ya,D);return ya})},"esri/tasks/BufferParameters":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has ../kernel ../geometry/Polygon ../geometry/jsonUtils".split(" "),function(ya,ta,ha,ea,U,M,D,ia){ya=ya(null,{declaredClass:"esri.tasks.BufferParameters",geometries:null,outSpatialReference:null,bufferSpatialReference:null,
distances:null,unit:null,unionResults:!1,geodesic:!1,toJson:function(){var ca={unit:this.unit,unionResults:this.unionResults,geodesic:this.geodesic},ma=this.distances,T=this.outSpatialReference,m=this.bufferSpatialReference,n=ha.map(this.geometries,function(a){a="extent"===a.type?D.fromExtent(a):a;return a.toJson()},this),p=this.geometries;if(p&&0<p.length){var f="extent"===p[0].type?"esriGeometryPolygon":ia.getJsonType(p[0]);ca.geometries=ea.toJson({geometryType:f,geometries:n});ca.inSR=p[0].spatialReference.wkid?
p[0].spatialReference.wkid:ea.toJson(p[0].spatialReference.toJson())}ma&&(ca.distances=ma.join(","));T&&(ca.outSR=T.wkid?T.wkid:ea.toJson(T.toJson()));m&&(ca.bufferSR=m.wkid?m.wkid:ea.toJson(m.toJson()));return ca}});U("extend-esri")&&ta.setObject("tasks.BufferParameters",ya,M);return ya})},"jimu/dijit/SearchDistance":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/SearchDistance.html dojo/Evented dojo/_base/lang jimu/utils jimu/dijit/CheckBox esri/tasks/GeometryService jimu/dijit/formSelect dijit/form/NumberTextBox".split(" "),
function(ya,ta,ha,ea,U,M,D,ia,ca,ma){return ya([ta,ha,ea,M],{baseClass:"jimu-dijit-searchdistance",templateString:U,lastMeters:0,tip:"",distance:0,unit:"",postMixInProperties:function(){this.inherited(arguments);this.nls=D.clone(window.jimuNls.units);this.tip||(this.tip=window.jimuNls.searchDistance.applySearchDistance)},postCreate:function(){this.inherited(arguments);this.cbx=new ca({label:this.tip,onChange:D.hitch(this,this._onCbxChanged)});this.cbx.placeAt(this.cbxDiv);this.reset();this.setDistance(this.distance);
this.setUnit(this.unit);this.lastMeters=this.getMeters()},enable:function(){this.cbx.check()},disable:function(){this.cbx.uncheck()},isEnabled:function(){return this.cbx.getValue()},reset:function(){this.numberTextBox.set("value",0);this.unitSelect.set("value","MILES")},getData:function(){return{status:this.getStatus(),isEnabled:this.isEnabled(),distance:this.getDistance(),unit:this.getUnit(),bufferUnit:this.getUnitToBuffer(),meters:this.getMeters()}},getStatus:function(){if(this.isEnabled()){var T=
this.getDistance();T=0<T?1:0===T?0:-1}else T=0;return T},getMeters:function(){var T=0,m=this.getStatus();if(0<m){m=this.getDistance();var n=this.getUnit();"MILES"===n?T=1609.344*m:"KILOMETERS"===n?T=1E3*m:"FEET"===n?T=.3048*m:"METERS"===n?T=m:"YARDS"===n?T=.9144*m:"NAUTICAL_MILES"===n&&(T=1852*m);T=parseFloat(T.toFixed(3))}else 0===m?T=0:0>m&&(T=-1);return T},setDistance:function(T){"number"===typeof T&&0<=T&&this.numberTextBox.set("value",T)},setUnit:function(T){T&&"string"===typeof T&&this.unitSelect.set("value",
T)},tryShowValidationError:function(){this.numberTextBox.validate()||ia.showValidationErrorTipForFormDijit(this.numberTextBox)},getDistance:function(){return this.numberTextBox.validate()?this.numberTextBox.get("value"):(ia.showValidationErrorTipForFormDijit(this.numberTextBox),-1)},getUnit:function(){return this.unitSelect.get("value")},getUnitToBuffer:function(){var T="";switch(this.unitSelect.get("value")){case "MILES":T=ma.UNIT_STATUTE_MILE;break;case "KILOMETERS":T=ma.UNIT_KILOMETER;break;case "FEET":T=
ma.UNIT_FOOT;break;case "METERS":T=ma.UNIT_METER;break;case "YARDS":T=ma.UNIT_INTERNATIONAL_YARD;break;case "NAUTICAL_MILES":T=ma.UNIT_NAUTICAL_MILE}return T},_onCbxChanged:function(){this.cbx.getValue()?(this.numberTextBox.set("disabled",!1),this.unitSelect.set("disabled",!1)):(this.numberTextBox.set("disabled",!0),this.unitSelect.set("disabled",!0));this._emitEvent()},_onNumberTextBoxChanged:function(){this._emitEvent()},_onUnitSelectChanged:function(){this._emitEvent()},_emitEvent:function(){var T=
this.getData();T.meters!==this.lastMeters&&(this.lastMeters=T.meters,this.emit("change",T))}})})},"jimu/dijit/FeatureSetChooserForMultipleLayers":function(){define("dojo/on dojo/sniff dojo/mouse dojo/query dojo/Evented dojo/_base/html dojo/_base/lang dojo/_base/array dojo/promise/all dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/FeatureSetChooserForMultipleLayers.html dijit/popup dijit/TooltipDialog jimu/utils jimu/dijit/DrawBox jimu/dijit/_FeatureSetChooserCore jimu/SelectionManager jimu/dijit/FeatureActionPopupMenu".split(" "),
function(ya,ta,ha,ea,U,M,D,ia,ca,ma,T,m,n,p,f,a,l,c,h,e,k){return ma([T,m,n,U],{baseClass:"jimu-multiple-layers-featureset-chooser",declaredClass:"jimu.dijit.FeatureSetChooserForMultipleLayers",templateString:p,drawBox:null,_instances:null,_tooltipDialogTimeoutId1:-1,_tooltipDialogClientX1:-1,_tooltipDialogTimeoutId2:-1,_tooltipDialogClientX2:-1,_tooltipTimeout:1E3,_currentGeoTypeInfo:null,_geoTypeInfos:null,map:null,updateSelection:!1,fullyWithin:!1,geoTypes:null,actions:null,postMixInProperties:function(){this.inherited(arguments);
this.nls=window.jimuNls.featureSetChooser;var d="POINT EXTENT POLYGON CIRCLE POLYLINE FREEHAND_POLYGON".split(" ");this.geoTypes&&0<this.geoTypes.length&&(this.geoTypes=ia.filter(this.geoTypes,D.hitch(this,function(q){return 0<=d.indexOf(q)})));this.geoTypes&&0!==this.geoTypes.length||(this.geoTypes=["EXTENT"])},postCreate:function(){this.inherited(arguments);this._instances=[];this.popupMenu=k.getInstance();ea(".select-text",this.domNode)[0].innerHTML=this.nls.select;ea(".clear-text",this.domNode)[0].innerHTML=
window.jimuNls.common.clear;this._initTooltipDialogs();this._initDrawBox();this._geoTypeInfos=[];this.actions=[];0===this.geoTypes.length&&this.geoTypes.push("EXTENT");1===this.geoTypes.length?M.addClass(this.domNode,"single-geotype"):M.addClass(this.domNode,"multiple-geotypes");var d={POINT:["icon-select-by-point",this.nls.selectByPoint,this.drawBox.pointIcon],EXTENT:["icon-select-by-rect",this.nls.selectByRectangle,this.drawBox.extentIcon],POLYGON:["icon-select-by-polygon",this.nls.selectByPolygon,
this.drawBox.polygonIcon],CIRCLE:["icon-select-by-circle",this.nls.selectByCircle,this.drawBox.circleIcon],POLYLINE:["icon-select-by-line",this.nls.selectByLine,this.drawBox.polylineIcon],FREEHAND_POLYGON:["icon-select-by-freehand-polygon",this.nls.selectByFreehandPolygon,this.drawBox.freehandPolygonIcon]},q=-1;ia.forEach("POINT EXTENT POLYGON CIRCLE POLYLINE FREEHAND_POLYGON".split(" "),D.hitch(this,function(w){var v=d[w];if(0<=this.geoTypes.indexOf(w)){var E={geoType:w,action:{iconClass:v[0],label:v[1],
data:{}},dom:v[2]};v={iconClass:v[0],label:v[1],data:{},onExecute:D.hitch(this,this._onDrawItemClicked,E)};this._geoTypeInfos.push(E);this.actions.push(v);"EXTENT"===w&&(q=this._geoTypeInfos.length-1)}}));this.own(ya(this.btnSelect,"click",D.hitch(this,function(){l.simulateClickEvent(this._currentGeoTypeInfo.dom);this._hideDrawItems()})));0<=q?(this._setCurrentGeoInfo(this._geoTypeInfos[q]),M.addClass(this.geoTypeIcon,"icon-select-by-rect")):(this._setCurrentGeoInfo(this._geoTypeInfos[0]),M.addClass(this.geoTypeIcon,
this._geoTypeInfos[0].action.iconClass));this.deactivate()},_initTooltipDialogs:function(){var d=ta("mac")?"\u2318":"Ctrl",q="- "+this.nls.newSelectionTip+" ("+this.nls.dragMouse+")",w="- "+this.nls.addSelectionTip+" (Shift+"+this.nls.dragBox+")",v="- "+this.nls.removeSelectionTip+" ("+d+"+"+this.nls.dragBox+")",E="- "+this.nls.newSelectionTip+" ("+this.nls.drawShap+")",y="- "+this.nls.addSelectionTip+" (Shift+"+this.nls.darw+")",u="- "+this.nls.removeSelectionTip+" ("+d+"+"+this.nls.darw+")";d=M.create("div",
{innerHTML:'\x3cdiv class\x3d"title"\x3e\x3c/div\x3e\x3cdiv class\x3d"item new-selection-item"\x3e\x3c/div\x3e\x3cdiv class\x3d"item add-selection-item"\x3e\x3c/div\x3e\x3cdiv class\x3d"item remove-selection-item"\x3e\x3c/div\x3e',"class":"dialog-content"});var x=ea(".title",d)[0],F=ea(".new-selection-item",d)[0],Q=ea(".add-selection-item",d)[0],W=ea(".remove-selection-item",d)[0];this.tooltipDialog1=new a({content:d});M.addClass(this.tooltipDialog1.domNode,"jimu-multiple-layers-featureset-chooser-tooltipdialog");
this.own(ya(this.btnSelect,"mousemove",D.hitch(this,function(L){this._tooltipDialogClientX1=L.clientX})));this.own(ya(this.btnSelect,ha.enter,D.hitch(this,function(){clearTimeout(this._tooltipDialogTimeoutId1);this._tooltipDialogTimeoutId1=-1;this._tooltipDialogTimeoutId1=setTimeout(D.hitch(this,function(){if(this.tooltipDialog1){var L=this._currentGeoTypeInfo.geoType;"EXTENT"===L?(F.innerHTML=q,Q.innerHTML=w,W.innerHTML=v,x.innerHTML=this.nls.selectByRectangle):(F.innerHTML=E,Q.innerHTML=y,W.innerHTML=
u,"POLYGON"===L?x.innerHTML=this.nls.selectByPolygon:"CIRCLE"===L?x.innerHTML=this.nls.selectByCircle:"POLYLINE"===L?x.innerHTML=this.nls.selectByLine:"FREEHAND_POLYGON"===L?x.innerHTML=this.nls.selectByFreehandPolygon:"POINT"===L&&(x.innerHTML=this.nls.selectByPoint));f.open({parent:this.getParent(),popup:this.tooltipDialog1,around:this.btnSelect,position:["below"]});0<=this._tooltipDialogClientX1&&(this.tooltipDialog1.domNode.parentNode.style.left=this._tooltipDialogClientX1+"px")}}),this._tooltipTimeout)})));
this.own(ya(this.btnSelect,ha.leave,D.hitch(this,function(){clearTimeout(this._tooltipDialogTimeoutId1);this._tooltipDialogTimeoutId1=-1;this._hideTooltipDialog(this.tooltipDialog1)})));d=M.create("div",{innerHTML:this.nls.unselectAllSelectionTip,"class":"dialog-content"});this.tooltipDialog2=new a({content:d});M.addClass(this.tooltipDialog2.domNode,"jimu-multiple-layers-featureset-chooser-tooltipdialog");this.own(ya(this.btnClear,"mousemove",D.hitch(this,function(L){this._tooltipDialogClientX2=L.clientX})));
this.own(ya(this.btnClear,ha.enter,D.hitch(this,function(){clearTimeout(this._tooltipDialogTimeoutId2);this._tooltipDialogTimeoutId2=-1;this._tooltipDialogTimeoutId2=setTimeout(D.hitch(this,function(){this.tooltipDialog2&&(f.open({parent:this.getParent(),popup:this.tooltipDialog2,around:this.btnClear,position:["below"]}),0<=this._tooltipDialogClientX2&&(this.tooltipDialog2.domNode.parentNode.style.left=this._tooltipDialogClientX2+"px"))}),this._tooltipTimeout)})));this.own(ya(this.btnClear,ha.leave,
D.hitch(this,function(){clearTimeout(this._tooltipDialogTimeoutId2);this._tooltipDialogTimeoutId2=-1;this._hideTooltipDialog(this.tooltipDialog2)})))},_onArrowClicked:function(d){d.stopPropagation();d=M.position(d.target);this._showDrawItems(d)},_setCurrentGeoInfo:function(d){var q=this._currentGeoTypeInfo&&this._currentGeoTypeInfo.geoType;this._currentGeoTypeInfo&&M.removeClass(this.currentDrawItem,this._currentGeoTypeInfo.geoType);this._currentGeoTypeInfo=d;M.addClass(this.currentDrawItem,this._currentGeoTypeInfo.geoType);
this.isActive()?q!==this._currentGeoTypeInfo.geoType&&l.simulateClickEvent(this._currentGeoTypeInfo.dom):l.simulateClickEvent(this._currentGeoTypeInfo.dom)},_showDrawItems:function(d){this.popupMenu.setActions(this.actions);this.popupMenu.markAsSelected(this._currentGeoTypeInfo.action);this.popupMenu.show(d)},_hideDrawItems:function(){this.popupMenu.hide()},_onDrawItemClicked:function(d){this._hideDrawItems();this._setCurrentGeoInfo(d);M.removeClass(this.geoTypeIcon,"icon-select-by-point icon-select-by-circle icon-select-by-rect icon-select-by-polygon icon-select-by-line icon-select-by-freehand-polygon".split(" "));
switch(d.geoType){case "POLYGON":M.addClass(this.geoTypeIcon,"icon-select-by-polygon");break;case "CIRCLE":M.addClass(this.geoTypeIcon,"icon-select-by-circle");break;case "POLYLINE":M.addClass(this.geoTypeIcon,"icon-select-by-line");break;case "FREEHAND_POLYGON":M.addClass(this.geoTypeIcon,"icon-select-by-freehand-polygon");break;case "POINT":M.addClass(this.geoTypeIcon,"icon-select-by-point");break;default:M.addClass(this.geoTypeIcon,"icon-select-by-rect")}},_initDrawBox:function(){this.drawBox=
new c({map:this.map,showClear:!0,keepOneGraphic:!0,deactivateAfterDrawing:!1,geoTypes:this.geoTypes});this.own(ya(this.drawBox,"user-clear",D.hitch(this,this._onDrawBoxUserClear)));this.own(ya(this.drawBox,"draw-end",D.hitch(this,this._onDrawEnd)));this.own(ya(this.drawBox,"draw-activate",D.hitch(this,function(){this.map.infoWindow.hide();M.addClass(this.currentDrawItem,"pressed");M.addClass(this.btnSelect,"selected")})));this.own(ya(this.drawBox,"draw-deactivate",D.hitch(this,function(){M.removeClass(this.currentDrawItem,
"pressed");M.removeClass(this.btnSelect,"selected")})));this.own(ya(this.btnClear,"click",D.hitch(this,function(){l.simulateClickEvent(this.drawBox.btnClear)})))},disable:function(){this.drawBox.disable();M.addClass(this.domNode,"disabled")},enable:function(){this.drawBox.enable();M.removeClass(this.domNode,"disabled")},isActive:function(){return this.drawBox.isActive()},activate:function(){if(!this.isActive()){var d=this._currentGeoTypeInfo;d||(d=this._geoTypeInfos[0]);this._setCurrentGeoInfo(d)}},
deactivate:function(){this.drawBox.deactivate()},setFeatureLayers:function(d){var q=ia.filter(this._instances,D.hitch(this,function(v){return 0>d.indexOf(v.featureLayer)}));ia.forEach(q,D.hitch(this,function(v){this._removeInstance(v)}));var w=ia.map(this._instances,D.hitch(this,function(v){return v.featureLayer}));ia.forEach(d,D.hitch(this,function(v){0>w.indexOf(v)&&this.addFeatureLayer(v)}))},addFeatureLayer:function(d){"esri.layers.FeatureLayer"!==d.declaredClass||this._findInstanceByLayer(d)||
(d=new h({map:this.map,featureLayer:d,drawBox:this.drawBox,updateSelection:this.updateSelection,fullyWithin:this.fullyWithin}),this._instances.push(d))},removeFeatureLayer:function(d){"esri.layers.FeatureLayer"===d.declaredClass&&(d=this._findInstanceByLayer(d))&&this._removeInstance(d)},setDisplayLayerVisibility:function(d,q){(d=e.getInstance().getDisplayLayer(d.id))&&(q?d.show():d.hide())},_removeInstance:function(d){if(d){var q=this._instances.indexOf(d);0<=q&&(d.destroy(),this._instances.splice(q,
1))}},_findInstanceByLayer:function(d){var q=null;ia.some(this._instances,D.hitch(this,function(w){return w.featureLayer===d?(q=w,!0):!1}));return q},clear:function(d){ia.forEach(this._instances,D.hitch(this,function(q){q.clear(d)}))},destroy:function(){this._hideTooltipDialog(this.tooltipDialog1);this._hideTooltipDialog(this.tooltipDialog2);ia.forEach(this._instances,D.hitch(this,function(d){d.destroy()}));this._instances=[];this.drawBox&&this.drawBox.destroy();this.drawBox=null;this.inherited(arguments)},
_hideTooltipDialog:function(d){d&&f.close(d)},_onDrawBoxUserClear:function(){this.clear(!0);this.emit("user-clear")},_onDrawEnd:function(d,q,w,v,E,y){this.drawBox.clear();0<this._instances.length&&setTimeout(D.hitch(this,function(){if(0<this._instances.length){this.emit("loading");this.disable();var u=ia.map(this._instances,D.hitch(this,function(x){return x.getFeatures()}));ca(u).always(D.hitch(this,function(){this.enable();this._currentGeoTypeInfo&&l.simulateClickEvent(this._currentGeoTypeInfo.dom);
this.emit("unloading",d,q,w,v,E,y)}))}}),50)}})})},"jimu/dijit/_FeatureSetChooserCore":function(){define("dojo/on dojo/sniff dojo/Evented dojo/Deferred dojo/_base/lang dojo/_base/array dojo/_base/declare jimu/utils jimu/symbolUtils jimu/SelectionManager jimu/LayerInfos/LayerInfos esri/graphic esri/tasks/query esri/tasks/QueryTask esri/layers/FeatureLayer esri/symbols/jsonUtils esri/geometry/geometryEngine".split(" "),function(ya,ta,ha,ea,U,M,D,ia,ca,ma,T,m,n,p,f,a,l){return D([ha],{baseClass:"jimu-featureset-chooser-core",
_middleFeatureLayer:null,_isLoading:!1,_def:null,_isDestroyed:!1,_handles:null,selectionManager:null,layerInfosObj:null,layerInfo:null,map:null,featureLayer:null,drawBox:null,updateSelection:!1,fullyWithin:!1,constructor:function(c){U.mixin(this,c);this.layerInfosObj=T.getInstanceSync();this.selectionManager=ma.getInstance();this.featureLayer.getSelectionSymbol()||this.selectionManager.setSelectionSymbol(this.featureLayer);c=ia.getFeatureLayerDefinition(this.featureLayer);delete c.id;this._middleFeatureLayer=
new f({layerDefinition:c,featureSet:null},{id:"featureLayer_"+ia.getRandomString()});c=null;var h=this._middleFeatureLayer.geometryType;"esriGeometryPoint"===h?c=ca.getDefaultMarkerSymbol():"esriGeometryPolyline"===h?c=ca.getDefaultLineSymbol():"esriGeometryPolygon"===h&&(c=a.fromJson({style:"esriSFSSolid",color:[79,129,189,77],type:"esriSFS",outline:{style:"esriSLSSolid",color:[54,93,141,255],width:1.5,type:"esriSLS"}}));this._middleFeatureLayer.setSelectionSymbol(c);c=ya(this.drawBox,"user-clear",
U.hitch(this,this._onDrawBoxUserClear));h=ya(this.drawBox,"draw-end",U.hitch(this,this._onDrawEnd));this._handles=[c,h];if(this.layerInfo=this.layerInfosObj.getLayerInfoById(this.featureLayer.id))c=ya(this.layerInfo,"filterChanged",U.hitch(this,this._handleFilterChange)),this._handles.push(c)},hideMiddleFeatureLayer:function(){if(this._middleFeatureLayer){this._middleFeatureLayer.hide();var c=this.selectionManager.getDisplayLayer(this._middleFeatureLayer.id);c&&c.hide()}},showMiddleFeatureLayer:function(){if(this._middleFeatureLayer){this._middleFeatureLayer.show();
var c=this.selectionManager.getDisplayLayer(this._middleFeatureLayer.id);c&&c.show()}},clear:function(c){this.drawBox.clear();this._clearMiddleFeatureLayer();c&&this.selectionManager.clearSelection(this.featureLayer)},getFeatures:function(){var c=new ea,h=U.hitch(this,function(){var k=this.syncGetFeatures();c.resolve(k)}),e=U.hitch(this,function(k){c.reject(k)});1===this._getDeferredStatus(this._def)?this._def.then(h,e):h();return c},syncGetFeatures:function(){return(this.updateSelection?this.featureLayer:
this._middleFeatureLayer).getSelectedFeatures()},isLoading:function(){return 1===this._getDeferredStatus(this._def)},_onLoading:function(){this.drawBox.deactivate();this.emit("loading")},_onUnloading:function(){this.emit("unloading")},_getDeferredStatus:function(c){var h=0;return h=c?c.isResolved()?2:c.isRejected()?-1:1:0},_onDrawEnd:function(c,h,e,k,d,q){if(this.isLoading())throw"should not draw when loading";if(this.featureLayer.visible){var w=new ea;this._def=w;var v=f.SELECTION_NEW;k&&(v=f.SELECTION_ADD);
ta("mac")?q&&(v=f.SELECTION_SUBTRACT):d&&(v=f.SELECTION_SUBTRACT);this.emit("loading");this._getFeaturesByGeometry(c.geometry).then(U.hitch(this,function(E){this.selectionManager.updateSelectionByFeatures(this.updateSelection?this.featureLayer:this._middleFeatureLayer,E,v);this._onUnloading();w.resolve(E)}),U.hitch(this,function(E){console.error(E);this._onUnloading();w.reject(E)}))}},_addTolerance:function(c){var h=2.54*this.map.getScale()/9600;return l.buffer(c,10*h,"meters")},_getFeaturesByGeometry:function(c){"point"!==
c.type&&"polyline"!==c.type||"esriGeometryPoint"!==this.featureLayer.geometryType||(c=this._addTolerance(c));var h=new ea,e=[];if(this.featureLayer.getMap()&&this.featureLayer.mode!==f.MODE_SELECTION)c=this.selectionManager.getClientFeaturesByGeometry(this.featureLayer,c,this.fullyWithin),0<c.length&&(e=M.map(c,U.hitch(this,function(d){return new m(d.toJson())}))),h.resolve(e);else{e=new n;e.geometry=c;e.outSpatialReference=this.map.spatialReference;e.returnGeometry=!0;e.spatialRelationship=this.fullyWithin?
n.SPATIAL_REL_CONTAINS:n.SPATIAL_REL_INTERSECTS;(c=this.featureLayer.getDefinitionExpression())||(c="1\x3d1");if(this.layerInfo){var k=this.layerInfo.getFilter();k&&(c="("+c+") AND ("+k+")")}c&&(e.where=c);e.outFields=["*"];(new p(this.featureLayer.url)).execute(e).then(U.hitch(this,function(d){h.resolve(d.features)}),U.hitch(this,function(d){h.reject(d)}))}return h},_onDrawBoxUserClear:function(){this.clear()},_clearMiddleFeatureLayer:function(){this._middleFeatureLayer&&(this._middleFeatureLayer.clear(),
this.selectionManager.clearSelection(this._middleFeatureLayer))},_handleFilterChange:function(){var c=this.layerInfo.getFilter()||"1\x3d1",h=this.featureLayer.getSelectedFeatures(),e=this.featureLayer.objectIdField;if(h&&0<h.length){var k=M.map(h,function(q){return q.attributes[e]}),d=new n;d.where=e+" in ("+k.join(",")+") AND "+c;(new p(this.featureLayer.url)).executeForIds(d).then(U.hitch(this,function(q){M.forEach(h,function(w){0<=q.indexOf(w.attributes[e])?w.show():w.hide()});this.selectionManager._isLayerNeedDisplayLayer(this.featureLayer)&&
this.selectionManager._updateDisplayLayer(this.featureLayer,h,f.SELECTION_NEW);this.featureLayer.emit("selection-complete",{features:this.featureLayer.getSelectedFeatures()})}),U.hitch(this,function(q){console.error(q)}))}},destroy:function(){this._isDestroyed||(M.forEach(this._handles,U.hitch(this,function(c){c.remove()})),this._handles=null,this.clear());this._isDestroyed=!0}})})},"widgets/PublicNotification/Download_Avery":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang",
"dojo/Deferred"],function(ya,ta,ha,ea){return ta(null,{constructor:function(){this._jspdf=this._initpdf()},save:function(U,M,D,ia,ca,ma){var T=U.length,m,n=Date.now(),p,f=new ea;ca=ha.mixin({canvas:{parentElem:ca,elementName:"labelCanvas"}},D,ia);ca.guidance.labelBorderBlackPercent=this._conformToRange(ca.guidance.labelBorderBlackPercent,0,100,50);ca.guidance.gridBlackPercent=this._conformToRange(ca.guidance.gridBlackPercent,0,100,50);ia=ia.useVectorFonts?null:1;D=D.numLabelsAcross*D.numLabelsDown;
ca.filenameRoot=M;!ca.useVectorFonts&&"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob&&(m=function(){confirm("Continue?")});this._createPDFLabelDocSet(ca,ia,D,T,ma,m,function(a){if(0>a||a>=T)return null;var l=ya.filter(U[a],function(c){return c});++a;return l}).then(function(a){p=Date.now();console.log("Elapsed time: "+(p-n)/1E3+" sec.");f.resolve(a)});return f},_StageEnum:{START_ENV:1,FINISH_ENV:2,START_PAGE:3,FINISH_PAGE:4,START_COL:5,START_ROW:6,DRAW_LABEL:7},_createPDFLabelDocSet:function(U,
M,D,ia,ca,ma,T){return this._createPDFLabelDocSetContinuation(U,M,D,ia,1,0,ca,ma,T)},_createPDFLabelDocSetContinuation:function(U,M,D,ia,ca,ma,T,m,n){var p=new ea;var f=-1+(M?Math.min(ma+D*M,ia):ia);if(ma>f)return p.resolve(!0),p;var a=M?Math.ceil(ia/(D*M)):1;this._createPDFLabelDoc(U,a,ca,ma,f,D,n).then(ha.hitch(this,function(l){l?(T&&T.set({value:100*ca/a}),setTimeout(ha.hitch(this,function(){m&&ca<a&&m();this._createPDFLabelDocSetContinuation(U,M,D,ia,++ca,f+1,T,m,n).then(function(c){p.resolve(c)})}),
10)):(console.log("failure in _createPDFLabelDoc; terminate chain"),p.resolve(!1))}));return p},_createPDFLabelDoc:function(U,M,D,ia,ca,ma,T){var m=0,n=new ea,p={},f=U.numLabelsDown,a=0,l=0;p.config=U;p.canvas=U.canvas;p.pageNum=0;p.totalPages=Math.ceil((ca-ia+1)/ma);p.doc=this._createPDFBuilder();if(p.doc){var c="function"===typeof U.useVectorFonts?U.useVectorFonts:U.useVectorFonts?ha.hitch(this,this._drawUsingVector):ha.hitch(this,this._drawUsingRaster);for(c(this._StageEnum.START_ENV,p);ia<=ca;++ia){var h=
T(ia);Array.isArray(h)&&0!==h.length&&(0===m%ma?(0<m&&(c(this._StageEnum.FINISH_PAGE,p),p.doc.addPage()),l=a=0,c(this._StageEnum.START_PAGE,p,p.pageNum++),c(this._StageEnum.START_COL,p,l)):0===m%f&&(c(this._StageEnum.START_COL,p,++l),a=0),c(this._StageEnum.START_ROW,p,a++),c(this._StageEnum.DRAW_LABEL,p,h),++m)}c(this._StageEnum.FINISH_PAGE,p);c(this._StageEnum.FINISH_ENV,p);U.filenameRoot&&(U=U.filenameRoot+(1===M?".pdf":"_"+D+"_"+M+".pdf"),console.log("Saving "+U+"..."),p.doc.save(U),console.log("Saved "+
U));n.resolve(!0);return n}n.resolve(!1)},_drawUsingVector:function(U,M,D){function ia(ca){var ma=M.config.labelWidthIn-3*M.config.insetIn;if(this._getTextWidthIn(M.doc,ca)>ma){do ca=ca.slice(0,-1);while(this._getTextWidthIn(M.doc,ca)>ma);ca+="..."}return ca}switch(U){case this._StageEnum.START_ENV:M.vector={fontHeightIn:M.config.fontSizePx/M.doc.internal.scaleFactor};M.vector.verticalFontGapIn=.2*M.vector.fontHeightIn;break;case this._StageEnum.START_PAGE:M.doc.setFont("sans-serif","normal");M.doc.setFontSize(M.config.fontSizePx);
break;case this._StageEnum.FINISH_PAGE:this._drawFrame(M);break;case this._StageEnum.START_COL:M.vector.currentLabelLeftIn=M.config.pageLeftIn+D*(M.config.labelWidthIn+M.config.horizGapIn);break;case this._StageEnum.START_ROW:M.vector.currentLabelTopIn=M.config.pageTopIn+D*(M.config.labelHeightIn+M.config.vertGapIn);break;case this._StageEnum.DRAW_LABEL:D=D.map(ha.hitch(this,ia)),U=M.vector.currentLabelTopIn+M.config.labelHeightIn/2,M.doc.text(D,M.vector.currentLabelLeftIn+M.config.insetIn,U+(2-D.length)/
2*M.vector.fontHeightIn+(1-D.length)/2*M.vector.verticalFontGapIn)}},_drawUsingRaster:function(U,M,D){var ia=dojo.locale&&dojo.locale.substring(0,2)||"en";var ca=M.raster?M.raster.canvas:null;var ma=M.raster?M.raster.canvasLabel:null;var T=M.config.rasterResolutionPxPerIn;var m=/[\u0580-\u07FF]/;switch(U){case this._StageEnum.START_ENV:ca=document.getElementById(M.canvas.elementName)||this._createCanvas(M.canvas.parentElem,M.canvas.elementName,M.config.pageWidthIn*T,M.config.pageHeightIn*T);ma=document.getElementById(M.canvas.elementName+
"_label")||this._createCanvas(M.canvas.parentElem,M.canvas.elementName+"_label",M.config.labelWidthIn*T,M.config.labelHeightIn*T);M.raster={pageTopPx:M.config.pageTopIn*T,pageRightPx:M.config.pageRightIn*T,pageBottomPx:M.config.pageBottomIn*T,pageLeftPx:M.config.pageLeftIn*T,labelWidthPx:M.config.labelWidthIn*T,labelHeightPx:M.config.labelHeightIn*T,labelHorizGapPx:M.config.horizGapIn*T,labelVertGapPx:M.config.vertGapIn*T,marginPx:M.config.insetIn*T,fontHeightPx:M.config.fontSizePx*T/100*1.32};M.raster.verticalFontGapPx=
.2*M.raster.fontHeightPx;M.raster.canvas=ca;M.raster.canvasLabel=ma;M.raster.ctx=ca.getContext("2d");M.raster.ctxLabel=ma.getContext("2d");M.raster.ctxLabel.font="normal "+M.raster.fontHeightPx+"px sans-serif";break;case this._StageEnum.FINISH_ENV:M.canvas.parentElem.removeChild(ca);M.raster.canvas=null;M.canvas.parentElem.removeChild(ma);M.raster.canvasLabel=null;break;case this._StageEnum.FINISH_PAGE:D=ca.toDataURL("image/png");M.doc.addImage(D,"png",0,0,8.5,11);M.raster.ctx.clearRect(0,0,ca.width,
ca.height);this._drawFrame(M);break;case this._StageEnum.START_COL:M.raster.currentLabelLeftPx=M.raster.pageLeftPx+D*(M.raster.labelWidthPx+M.raster.labelHorizGapPx);M.raster.currentLabelRightPx=M.raster.pageLeftPx+(D+1)*M.raster.labelWidthPx+D*M.raster.labelHorizGapPx;break;case this._StageEnum.START_ROW:M.raster.currentLabelTopPx=M.raster.pageTopPx+D*(M.raster.labelHeightPx+M.raster.labelVertGapPx);break;case this._StageEnum.DRAW_LABEL:U=M.raster.labelHeightPx/2;ca=M.raster.marginPx;U=U+(2-D.length)/
2*M.raster.fontHeightPx+(1-D.length)/2*M.raster.verticalFontGapPx;M.raster.ctxLabel.clearRect(0,0,ma.width,ma.height);var n=ma.width-M.raster.marginPx-M.raster.marginPx;for(T=0;T<D.length;++T)0<=["ar","he"].indexOf(ia)?ca=ma.width-M.raster.marginPx:m.test(D[T])&&(ca=ma.width-M.raster.marginPx-M.raster.ctxLabel.measureText(D[T]).getWidth()),M.raster.ctxLabel.fillText(D[T],ca,U,n),U+=M.raster.verticalFontGapPx+M.raster.fontHeightPx;M.raster.ctx.drawImage(M.raster.canvasLabel,M.raster.currentLabelLeftPx,
M.raster.currentLabelTopPx)}},_conformToRange:function(U,M,D,ia){U=parseFloat(U);Number.isNaN(U)&&(U=ia);return Math.max(M,Math.min(D,U))},_createPDFBuilder:function(){return new this._jspdf({orientation:"portrait",unit:"in",format:"letter"})},_createCanvas:function(U,M,D,ia){var ca=document.createElement("canvas");ca.id=M;ca.style.display="none";ca.style.visibility="hidden";ca.width=D;ca.height=ia;U.appendChild(ca);return ca},_getTextWidthIn:function(U,M){return U.getStringUnitWidth(M)*U.internal.getFontSize()/
U.internal.scaleFactor},_drawFrame:function(U){var M=new Date,D=dojo.locale&&dojo.locale.substring(0,2)||"en";var ia=U.config.pageTopIn-.08;var ca=U.config.pageHeightIn-U.config.pageBottomIn+U.config.guidance.noteFontSizePx/U.doc.internal.scaleFactor+.08;U.config.showGuidance&&(U.doc.setFont("sans-serif","italic"),U.doc.setFontSize(U.config.guidance.noteFontSizePx),(D=0<="da de en es et fi fr id it nb nl pt sr sv".split(" ").indexOf(D))&&U.doc.text(U.config.guidance.printSuggestion,U.config.pageLeftIn+
.1,ia),ia=(U.config.useVectorFonts?"v":"r"+U.config.rasterResolutionPxPerIn)+"  "+U.pageNum+"/"+U.totalPages,D&&(ia+=("  "+M.toLocaleDateString()+" "+M.toLocaleTimeString()).replace(/\u200e/gi,"")),U.doc.text(ia,U.config.pageLeftIn+.1,ca),U.config.guidance.showGrid&&(U.doc.setLineWidth(.01),U.doc.setDrawColor((1-U.config.guidance.gridBlackPercent/100).toString()),this._drawMeasurementGrid(U.doc,U.config,U.config.guidance.leftIn,U.config.guidance.rightIn,.05,U.config.guidance.majorTickIn),this._drawMeasurementGrid(U.doc,
U.config,U.config.guidance.leftIn,U.config.guidance.rightIn,.015,U.config.guidance.minorTickIn)),U.config.guidance.showLabelOutlines&&(U.doc.setLineWidth(.01),U.doc.setDrawColor((1-U.config.guidance.labelBorderBlackPercent/100).toString()),this._drawLabelsGrid(U.doc,U.config.numLabelsAcross,U.config.numLabelsDown,U.config.pageLeftIn,U.config.pageTopIn,U.config.labelWidthIn,U.config.labelHeightIn,U.config.horizGapIn,U.config.vertGapIn)),U.doc.setDrawColor(0))},_drawLabelsGrid:function(U,M,D,ia,ca,
ma,T,m,n){var p,f;for(p=0;p<M;++p)for(f=0;f<D;++f)U.rect(ia+p*(ma+m),ca+f*(T+n),ma,T)},_drawMeasurementGrid:function(U,M,D,ia,ca,ma){U.rect(M.pageLeftIn,M.pageTopIn,M.pageWidthIn-M.pageLeftIn-M.pageRightIn,M.pageHeightIn-M.pageTopIn-M.pageBottomIn);this._drawVertGridTickLines(U,0,M.pageWidthIn,M.pageTopIn,ca,ma);this._drawVertGridTickLines(U,0,M.pageWidthIn,M.pageHeightIn-M.pageBottomIn,-ca,ma);this._drawHorizGridTickLines(U,0,M.pageHeightIn,Math.max(D,M.pageLeftIn),ca,ma);this._drawHorizGridTickLines(U,
0,M.pageHeightIn,M.pageWidthIn-Math.max(ia,M.pageRightIn),-ca,ma)},_drawVertGridTickLines:function(U,M,D,ia,ca,ma){for(;M<=D;M+=ma)this._drawPDFLine(U,M,ia,M,ia+ca)},_drawHorizGridTickLines:function(U,M,D,ia,ca,ma){for(;M<=D;M+=ma)this._drawPDFLine(U,ia,M,ia+ca,M)},_drawPDFLine:function(U,M,D,ia,ca){U.lines([[ia-M,ca-D]],M,D)},_initpdf:function(){var U="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"===typeof Symbol&&m.constructor===
Symbol&&m!==Symbol.prototype?"symbol":typeof m};(function(){function m(p){this.value=p}function n(p){function f(h,e){try{var k=p[h](e),d=k.value;d instanceof m?Promise.resolve(d.value).then(function(q){f("next",q)},function(q){f("throw",q)}):a(k.done?"return":"normal",k.value)}catch(q){a("throw",q)}}function a(h,e){switch(h){case "return":l.resolve({value:e,done:!0});break;case "throw":l.reject(e);break;default:l.resolve({value:e,done:!1})}(l=l.next)?f(l.key,l.arg):c=null}var l,c;this._invoke=function(h,
e){return new Promise(function(k,d){k={key:h,arg:e,resolve:k,reject:d,next:null};c?c=c.next=k:(l=c=k,f(h,e))})};"function"!==typeof p.return&&(this.return=void 0)}"function"===typeof Symbol&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){return this});n.prototype.next=function(p){return this._invoke("next",p)};n.prototype.throw=function(p){return this._invoke("throw",p)};n.prototype.return=function(p){return this._invoke("return",p)};return{wrap:function(p){return function(){return new n(p.apply(this,
arguments))}},await:function(p){return new m(p)}}})();var M=function(m){function n(a){var l={};this.subscribe=function(c,h,e){if("function"!==typeof h)return!1;l.hasOwnProperty(c)||(l[c]={});var k=Math.random().toString(35);l[c][k]=[h,!!e];return k};this.unsubscribe=function(c){for(var h in l)if(l[h][c])return delete l[h][c],!0;return!1};this.publish=function(c){if(l.hasOwnProperty(c)){var h=Array.prototype.slice.call(arguments,1),e=[],k;for(k in l[c]){var d=l[c][k];try{d[0].apply(a,h)}catch(q){m.console&&
console.error("jsPDF PubSub Error",q.message,q)}d[1]&&e.push(k)}e.length&&e.forEach(this.unsubscribe)}}}function p(a,l,c,h){var e={};"object"===("undefined"===typeof a?"undefined":U(a))&&(e=a,a=e.orientation,l=e.unit||l,c=e.format||c,h=e.compress||e.compressPdf||h);l=l||"mm";c=c||"a4";a=(""+(a||"P")).toLowerCase();(""+c).toLowerCase();var k=!!h&&"function"===typeof Uint8Array,d=e.textColor||"0 g",q=e.drawColor||"0 G",w=e.fontSize||16,v=e.lineHeight||1.15,E=e.lineWidth||.200025,y=2,u=!1,x=[],F={},
Q={},W,L=0,N,G=[],z=[],P=[],X=[],Y=[],ba=0,oa=0,da=0,Ca,qa,za,wa,R,na={title:"",subject:"",author:"",keywords:"",creator:""},t={},B=new n(t),C=function(K){return K.toFixed(2)},I=function(K){return("0"+parseInt(K)).slice(-2)},H=function(K){u?G[N].push(K):(da+=K.length+1,X.push(K))},ka=function(){y++;x[y]=da;H(y+" 0 obj");return y},A=function(K){H("stream");H(K);H("endstream")},O=function(K,V,ja,ua){var pa="F"+(Object.keys(F).length+1).toString(10);K=F[pa]={id:pa,PostScriptName:K,fontName:V,fontStyle:ja,
encoding:ua,metadata:{}};Q.hasOwnProperty(V)||(Q[V]={});Q[V][ja]=pa;B.publish("addFont",K);return pa},J=function(K,V){var ja,ua;V=V||{};var pa=V.sourceEncoding||"Unicode";var Ba=V.outputEncoding;if((V.autoencode||Ba)&&F[Oa].metadata&&F[Oa].metadata[pa]&&F[Oa].metadata[pa].encoding&&(pa=F[Oa].metadata[pa].encoding,!Ba&&F[Oa].encoding&&(Ba=F[Oa].encoding),!Ba&&pa.codePages&&(Ba=pa.codePages[0]),"string"===typeof Ba&&(Ba=pa[Ba]),Ba)){var Ha=!1;var Fa=[];pa=0;for(ja=K.length;pa<ja;pa++)(ua=Ba[K.charCodeAt(pa)])?
Fa.push(String.fromCharCode(ua)):Fa.push(K[pa]),Fa[pa].charCodeAt(0)>>8&&(Ha=!0);K=Fa.join("")}for(pa=K.length;void 0===Ha&&0!==pa;)K.charCodeAt(pa-1)>>8&&(Ha=!0),pa--;if(Ha){Fa=V.noBOM?[]:[254,255];pa=0;for(ja=K.length;pa<ja;pa++){ua=K.charCodeAt(pa);Ha=ua>>8;if(Ha>>8)throw Error("Character at position "+pa+" of string '"+K+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Fa.push(Ha);Fa.push(ua-(Ha<<8))}K=String.fromCharCode.apply(void 0,Fa)}return K.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,
"\\)")},Z=function(K,V){var ja="string"===typeof V&&V.toLowerCase();if("string"===typeof K){var ua=K.toLowerCase();f.hasOwnProperty(ua)&&(K=f[ua][0]/Aa,V=f[ua][1]/Aa)}Array.isArray(K)&&(V=K[1],K=K[0]);if(ja){switch(ja.substr(0,1)){case "l":V>K&&(ja="s");break;case "p":K>V&&(ja="s")}"s"===ja&&(W=K,K=V,V=W)}u=!0;G[++L]=[];P[L]={width:Number(K)||Ca,height:Number(V)||qa};z[L]={};sa(L)},S=function(){Z.apply(this,arguments);H(C(E*Aa)+" w");H(q);0!==ba&&H(ba+" J");0!==oa&&H(oa+" j");B.publish("addPage",
{pageNumber:L})},aa=function(K){0<K&&K<=L&&(G.splice(K,1),P.splice(K,1),L--,N>L&&(N=L),this.setPage(N))},sa=function(K){0<K&&K<=L&&(N=K,Ca=P[K].width,qa=P[K].height)},la=function(K,V){K=void 0!==K?K:F[Oa].fontName;V=void 0!==V?V:F[Oa].fontStyle;void 0!==K&&(K=K.toLowerCase());switch(K){case "sans-serif":case "verdana":case "arial":case "helvetica":K="helvetica";break;case "fixed":case "monospace":case "terminal":case "courier":K="courier";break;default:K="times"}try{var ja=Q[K][V]}catch(ua){}ja||
(ja=Q.times[V],null==ja&&(ja=Q.times.normal));return ja},xa=function(){u=!1;y=2;da=0;X=[];x=[];Y=[];B.publish("buildDocument");H("%PDF-1.3");var K,V,ja=[];var ua=m.adler32cs||p.adler32cs;k&&"undefined"===typeof ua&&(k=!1);for(K=1;K<=L;K++){ja.push(ka());var pa=(Ca=P[K].width)*Aa;var Ba=(qa=P[K].height)*Aa;H("\x3c\x3c/Type /Page");H("/Parent 1 0 R");H("/Resources 2 0 R");H("/MediaBox [0 0 "+C(pa)+" "+C(Ba)+"]");B.publish("putPage",{pageNumber:K,page:G[K]});H("/Contents "+(y+1)+" 0 R");H("\x3e\x3e");
H("endobj");Ba=G[K].join("\n");ka();if(k){pa=[];for(V=Ba.length;V--;)pa[V]=Ba.charCodeAt(V);V=ua.from(Ba);Ba=new ca(6);Ba.append(new Uint8Array(pa));Ba=Ba.flush();pa=new Uint8Array(Ba.length+6);pa.set(new Uint8Array([120,156]));pa.set(Ba,2);pa.set(new Uint8Array([V&255,V>>8&255,V>>16&255,V>>24&255]),Ba.length+2);Ba=String.fromCharCode.apply(null,pa);H("\x3c\x3c/Length "+Ba.length+" /Filter [/FlateDecode]\x3e\x3e")}else H("\x3c\x3c/Length "+Ba.length+"\x3e\x3e");A(Ba);H("endobj")}x[1]=da;H("1 0 obj");
H("\x3c\x3c/Type /Pages");K="/Kids [";for(V=0;V<L;V++)K+=ja[V]+" 0 R ";H(K+"]");H("/Count "+L);H("\x3e\x3e");H("endobj");B.publish("postPutPages");B.publish("putAdditionalObjects");for(ja=0;ja<Y.length;ja++)K=Y[ja],x[K.objId]=da,H(K.objId+" 0 obj"),H(K.content),H("endobj");y+=Y.length;B.publish("postPutAdditionalObjects");for(var Ha in F)F.hasOwnProperty(Ha)&&(ja=F[Ha],ja.objectNumber=ka(),H("\x3c\x3c/BaseFont/"+ja.PostScriptName+"/Type/Font"),"string"===typeof ja.encoding&&H("/Encoding/"+ja.encoding),
H("/Subtype/Type1\x3e\x3e"),H("endobj"));B.publish("putResources");x[2]=da;H("2 0 obj");H("\x3c\x3c");H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]");H("/Font \x3c\x3c");for(var Fa in F)F.hasOwnProperty(Fa)&&H("/"+Fa+" "+F[Fa].objectNumber+" 0 R");H("\x3e\x3e");H("/XObject \x3c\x3c");B.publish("putXobjectDict");H("\x3e\x3e");H("\x3e\x3e");H("endobj");B.publish("postPutResources");ka();H("\x3c\x3c");H("/Producer (jsPDF "+p.version+")");for(var La in na)na.hasOwnProperty(La)&&na[La]&&H("/"+La.substr(0,
1).toUpperCase()+La.substr(1)+" ("+J(na[La])+")");Ha=new Date;Fa=Ha.getTimezoneOffset();La=Math.abs(Fa%60);Fa=[0>Fa?"+":"-",I(Math.floor(Math.abs(Fa/60))),"'",I(La),"'"].join("");H(["/CreationDate (D:",Ha.getFullYear(),I(Ha.getMonth()+1),I(Ha.getDate()),I(Ha.getHours()),I(Ha.getMinutes()),I(Ha.getSeconds()),Fa,")"].join(""));H("\x3e\x3e");H("endobj");ka();H("\x3c\x3c");H("/Type /Catalog");H("/Pages 1 0 R");wa||(wa="fullwidth");switch(wa){case "fullwidth":H("/OpenAction [3 0 R /FitH null]");break;
case "fullheight":H("/OpenAction [3 0 R /FitV null]");break;case "fullpage":H("/OpenAction [3 0 R /Fit]");break;case "original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:Ha=""+wa,"%"===Ha.substr(Ha.length-1)&&(wa=parseInt(wa)/100),"number"===typeof wa&&H("/OpenAction [3 0 R /XYZ null null "+C(wa)+"]")}R||(R="continuous");switch(R){case "continuous":H("/PageLayout /OneColumn");break;case "single":H("/PageLayout /SinglePage");break;case "two":case "twoleft":H("/PageLayout /TwoColumnLeft");
break;case "tworight":H("/PageLayout /TwoColumnRight")}za&&H("/PageMode /"+za);B.publish("putCatalog");H("\x3e\x3e");H("endobj");Ha=da;H("xref");H("0 "+(y+1));H("0000000000 65535 f ");for(Fa=1;Fa<=y;Fa++)"function"===typeof x[Fa]?H(("0000000000"+x[Fa]()).slice(-10)+" 00000 n "):H(("0000000000"+x[Fa]).slice(-10)+" 00000 n ");H("trailer");H("\x3c\x3c");H("/Size "+(y+1));H("/Root "+y+" 0 R");H("/Info "+(y-1)+" 0 R");H("\x3e\x3e");H("startxref");H(""+Ha);H("%%EOF");u=!0;return X.join("\n")},Ga=function(K){var V=
"S";if("F"===K)V="f";else if("FD"===K||"DF"===K)V="B";else if("f"===K||"f*"===K||"B"===K||"B*"===K)V=K;return V},Na=function(){for(var K=xa(),V=K.length,ja=new ArrayBuffer(V),ua=new Uint8Array(ja);V--;)ua[V]=K.charCodeAt(V);return ja},Ia=function(){return new Blob([Na()],{type:"application/pdf"})},Ma=function(K){K.foo=function(){try{return K.apply(this,arguments)}catch(ja){var V=ja.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);V="Error in function "+V.split("\n")[0].split("\x3c")[0]+": "+ja.message;
if(m.console)m.console.error(V,ja),m.alert&&alert(V);else throw Error(V);}};K.foo.bar=K;return K.foo}(function(K,V){var ja="dataur"===(""+K).substr(0,6)?"data:application/pdf;base64,"+btoa(xa()):0;switch(K){case void 0:return xa();case "save":if(navigator.getUserMedia&&(void 0===m.URL||void 0===m.URL.createObjectURL))return t.output("dataurlnewwindow");ja=saveAs(Ia(),V);"function"===typeof saveAs.unload&&m.setTimeout&&setTimeout(saveAs.unload,911);return ja;case "arraybuffer":return Na();case "blob":return Ia();
case "bloburi":case "bloburl":return m.URL&&m.URL.createObjectURL(Ia())||void 0;case "datauristring":case "dataurlstring":return ja;case "dataurlnewwindow":if((K=m.open(ja))||"undefined"===typeof safari)return K;case "datauri":case "dataurl":return m.document.location.href=ja;default:throw Error('Output type "'+K+'" is not supported.');}});switch(l){case "pt":var Aa=1;break;case "mm":Aa=72/25.4000508;break;case "cm":Aa=72/2.54000508;break;case "in":Aa=72;break;case "px":Aa=96/72;break;case "pc":Aa=
12;break;case "em":Aa=12;break;case "ex":Aa=6;break;default:throw"Invalid unit: "+l;}t.internal={pdfEscape:J,getStyle:Ga,getFont:function(){return F[la.apply(t,arguments)]},getFontSize:function(){return w},getLineHeight:function(){return w*v},write:function(K){H(1===arguments.length?K:Array.prototype.join.call(arguments," "))},getCoordinateString:function(K){return C(K*Aa)},getVerticalCoordinateString:function(K){return C((qa-K)*Aa)},collections:{},newObject:ka,newAdditionalObject:function(){var K=
2*G.length+1;K+=Y.length;K={objId:K,content:""};Y.push(K);return K},newObjectDeferred:function(){y++;x[y]=function(){return da};return y},newObjectDeferredBegin:function(K){x[K]=da},putStream:A,events:B,scaleFactor:Aa,pageSize:{getWidth:function(){return Ca},getHeight:function(){return qa}},output:function(K,V){return Ma(K,V)},getNumberOfPages:function(){return G.length-1},pages:G,out:H,f2:C,getPageInfo:function(K){return{objId:2*(K-1)+3,pageNumber:K,pageContext:z[K]}},getCurrentPageInfo:function(){return{objId:2*
(N-1)+3,pageNumber:N,pageContext:z[N]}},getPDFVersion:function(){return"1.3"}};t.addPage=function(){S.apply(this,arguments);return this};t.setPage=function(){sa.apply(this,arguments);return this};t.insertPage=function(K){this.addPage();this.movePage(N,K);return this};t.movePage=function(K,V){if(K>V){for(var ja=G[K],ua=P[K],pa=z[K];K>V;K--)G[K]=G[K-1],P[K]=P[K-1],z[K]=z[K-1];G[V]=ja;P[V]=ua;z[V]=pa;this.setPage(V)}else if(K<V){ja=G[K];ua=P[K];for(pa=z[K];K<V;K++)G[K]=G[K+1],P[K]=P[K+1],z[K]=z[K+1];
G[V]=ja;P[V]=ua;z[V]=pa;this.setPage(V)}return this};t.deletePage=function(){aa.apply(this,arguments);return this};t.setDisplayMode=function(K,V,ja){wa=K;R=V;za=ja;if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(ja))throw Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+ja+'" is not recognized.');return this};t.text=function(K,V,ja,ua,pa,Ba){function Ha(Ja){Ja=Ja.split("\t").join(Array(e.TabLen||9).join(" "));return J(Ja,ua)}"number"===
typeof K&&(W=ja,ja=V,V=K,K=W);"string"===typeof K&&(K=K.match(/[\n\r]/)?K.split(/\r\n|\r|\n/g):[K]);"string"===typeof pa&&(Ba=pa,pa=null);"string"===typeof ua&&(Ba=ua,ua=null);"number"===typeof ua&&(pa=ua,ua=null);var Fa="",La="Td";pa&&(pa*=Math.PI/180,Fa=Math.cos(pa),La=Math.sin(pa),Fa=[C(Fa),C(La),C(-1*La),C(Fa),""].join(" "),La="Tm");ua=ua||{};"noBOM"in ua||(ua.noBOM=!0);"autoencode"in ua||(ua.autoencode=!0);pa="";var Ka=this.internal.getCurrentPageInfo().pageContext;!0===ua.stroke?!0!==Ka.lastTextWasStroke&&
(pa="1 Tr\n",Ka.lastTextWasStroke=!0):(Ka.lastTextWasStroke&&(pa="0 Tr\n"),Ka.lastTextWasStroke=!1);"undefined"===typeof this._runningPageHeight&&(this._runningPageHeight=0);if("string"===typeof K)K=Ha(K);else if("[object Array]"===Object.prototype.toString.call(K)){var Sa=K.concat();Ka=[];for(var Wa=Sa.length;Wa--;)Ka.push(Ha(Sa.shift()));if(Ba){var Pa=w*v,fa=K.map(function(Ja){return this.getStringUnitWidth(Ja)*w/Aa},this);var ra=Math.max.apply(Math,fa);if("center"===Ba)Sa=V-ra/2,V-=fa[0]/2;else if("right"===
Ba)Sa=V-ra,V-=fa[0];else throw Error('Unrecognized alignment option, use "center" or "right".');var va=V;K=Ka[0];var Da=1;for(Wa=Ka.length;Da<Wa;Da++){var Ea=ra-fa[Da];"center"===Ba&&(Ea/=2);K+=") Tj\n"+(Sa-va+Ea)+" -"+Pa+" Td ("+Ka[Da];va=Sa+Ea}}else K=Ka.join(") Tj\nT* (")}else throw Error('Type of text must be string or Array. "'+K+'" is not recognized.');ja=C((qa-ja)*Aa);H("BT\n/"+Oa+" "+w+" Tf\n"+w*v+" TL\n"+pa+d+"\n"+Fa+C(V*Aa)+" "+ja+" "+La+"\n("+K+") Tj\nET");return this};t.lstext=function(K,
V,ja,ua){console.warn("jsPDF.lstext is deprecated");for(var pa=0,Ba=K.length;pa<Ba;pa++,V+=ua)this.text(K[pa],V,ja);return this};t.line=function(K,V,ja,ua){return this.lines([[ja-K,ua-V]],K,V)};t.clip=function(){H("W");H("S")};t.clip_fixed=function(K){"evenodd"===K?H("W*"):H("W");H("n")};t.lines=function(K,V,ja,ua,pa,Ba){"number"===typeof K&&(W=ja,ja=V,V=K,K=W);ua=ua||[1,1];H((V*Aa).toFixed(3)+" "+((qa-ja)*Aa).toFixed(3)+" m ");var Ha=ua[0];ua=ua[1];var Fa=K.length;var La=ja;for(ja=0;ja<Fa;ja++){var Ka=
K[ja];if(2===Ka.length)V=Ka[0]*Ha+V,La=Ka[1]*ua+La,H((V*Aa).toFixed(3)+" "+((qa-La)*Aa).toFixed(3)+" l");else{var Sa=Ka[0]*Ha+V;var Wa=Ka[1]*ua+La;var Pa=Ka[2]*Ha+V;var fa=Ka[3]*ua+La;V=Ka[4]*Ha+V;La=Ka[5]*ua+La;H((Sa*Aa).toFixed(3)+" "+((qa-Wa)*Aa).toFixed(3)+" "+(Pa*Aa).toFixed(3)+" "+((qa-fa)*Aa).toFixed(3)+" "+(V*Aa).toFixed(3)+" "+((qa-La)*Aa).toFixed(3)+" c")}}Ba&&H(" h");null!==pa&&H(Ga(pa));return this};t.rect=function(K,V,ja,ua,pa){Ga(pa);H([C(K*Aa),C((qa-V)*Aa),C(ja*Aa),C(-ua*Aa),"re"].join(" "));
null!==pa&&H(Ga(pa));return this};t.triangle=function(K,V,ja,ua,pa,Ba,Ha){this.lines([[ja-K,ua-V],[pa-ja,Ba-ua],[K-pa,V-Ba]],K,V,[1,1],Ha,!0);return this};t.roundedRect=function(K,V,ja,ua,pa,Ba,Ha){var Fa=4/3*(Math.SQRT2-1);this.lines([[ja-2*pa,0],[pa*Fa,0,pa,Ba-Ba*Fa,pa,Ba],[0,ua-2*Ba],[0,Ba*Fa,-(pa*Fa),Ba,-pa,Ba],[-ja+2*pa,0],[-(pa*Fa),0,-pa,-(Ba*Fa),-pa,-Ba],[0,-ua+2*Ba],[0,-(Ba*Fa),pa*Fa,-Ba,pa,-Ba]],K+pa,V,[1,1],Ha);return this};t.ellipse=function(K,V,ja,ua,pa){var Ba=4/3*(Math.SQRT2-1)*ja,Ha=
4/3*(Math.SQRT2-1)*ua;H([C((K+ja)*Aa),C((qa-V)*Aa),"m",C((K+ja)*Aa),C((qa-(V-Ha))*Aa),C((K+Ba)*Aa),C((qa-(V-ua))*Aa),C(K*Aa),C((qa-(V-ua))*Aa),"c"].join(" "));H([C((K-Ba)*Aa),C((qa-(V-ua))*Aa),C((K-ja)*Aa),C((qa-(V-Ha))*Aa),C((K-ja)*Aa),C((qa-V)*Aa),"c"].join(" "));H([C((K-ja)*Aa),C((qa-(V+Ha))*Aa),C((K-Ba)*Aa),C((qa-(V+ua))*Aa),C(K*Aa),C((qa-(V+ua))*Aa),"c"].join(" "));H([C((K+Ba)*Aa),C((qa-(V+ua))*Aa),C((K+ja)*Aa),C((qa-(V+Ha))*Aa),C((K+ja)*Aa),C((qa-V)*Aa),"c"].join(" "));null!==pa&&H(Ga(pa));
return this};t.circle=function(K,V,ja,ua){return this.ellipse(K,V,ja,ja,ua)};t.setProperties=function(K){for(var V in na)na.hasOwnProperty(V)&&K[V]&&(na[V]=K[V]);return this};t.setFontSize=function(K){w=K;return this};t.setFont=function(K,V){Oa=la(K,V);return this};t.setFontStyle=t.setFontType=function(K){Oa=la(void 0,K);return this};t.getFontList=function(){var K={},V,ja,ua;for(V in Q)if(Q.hasOwnProperty(V))for(ja in K[V]=ua=[],Q[V])Q[V].hasOwnProperty(ja)&&ua.push(ja);return K};t.addFont=function(K,
V,ja){O(K,V,ja,"StandardEncoding")};t.setLineWidth=function(K){H((K*Aa).toFixed(2)+" w");return this};t.setDrawColor=function(K,V,ja,ua){K=void 0===V||void 0===ua&&K===V===ja?"string"===typeof K?K+" G":C(K/255)+" G":void 0===ua?"string"===typeof K?[K,V,ja,"RG"].join(" "):[C(K/255),C(V/255),C(ja/255),"RG"].join(" "):"string"===typeof K?[K,V,ja,ua,"K"].join(" "):[C(K),C(V),C(ja),C(ua),"K"].join(" ");H(K);return this};t.setFillColor=function(K,V,ja,ua){void 0===V||void 0===ua&&K===V===ja?K="string"===
typeof K?K+" g":C(K/255)+" g":void 0===ua||"object"===("undefined"===typeof ua?"undefined":U(ua))?(K="string"===typeof K?[K,V,ja,"rg"].join(" "):[C(K/255),C(V/255),C(ja/255),"rg"].join(" "),ua&&0===ua.a&&(K="255 255 255 rg")):K="string"===typeof K?[K,V,ja,ua,"k"].join(" "):[C(K),C(V),C(ja),C(ua),"k"].join(" ");H(K);return this};t.setTextColor=function(K,V,ja){"string"===typeof K&&/^#[0-9A-Fa-f]{6}$/.test(K)&&(ja=parseInt(K.substr(1),16),K=ja>>16&255,V=ja>>8&255,ja&=255);d=0===K&&0===V&&0===ja||"undefined"===
typeof V?(K/255).toFixed(3)+" g":[(K/255).toFixed(3),(V/255).toFixed(3),(ja/255).toFixed(3),"rg"].join(" ");return this};t.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2};t.setLineCap=function(K){var V=this.CapJoinStyles[K];if(void 0===V)throw Error("Line cap style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");ba=V;H(V+" J");return this};t.setLineJoin=function(K){var V=this.CapJoinStyles[K];
if(void 0===V)throw Error("Line join style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");oa=V;H(V+" j");return this};t.output=Ma;t.save=function(K){return t.output("save",K)};for(var Ua in p.API)p.API.hasOwnProperty(Ua)&&("events"===Ua&&p.API.events.length?function(K,V){var ja;for(ja=V.length-1;-1!==ja;ja--){var ua=V[ja][0];var pa=V[ja][1];K.subscribe.apply(K,[ua].concat("function"===typeof pa?[pa]:pa))}}(B,p.API.events):t[Ua]=p.API[Ua]);(function(){for(var K=
[["Helvetica","helvetica","normal"],["Helvetica-Bold","helvetica","bold"],["Helvetica-Oblique","helvetica","italic"],["Helvetica-BoldOblique","helvetica","bolditalic"],["Courier","courier","normal"],["Courier-Bold","courier","bold"],["Courier-Oblique","courier","italic"],["Courier-BoldOblique","courier","bolditalic"],["Times-Roman","times","normal"],["Times-Bold","times","bold"],["Times-Italic","times","italic"],["Times-BoldItalic","times","bolditalic"],["ZapfDingbats","zapfdingbats"]],V=0,ja=K.length;V<
ja;V++){var ua=O(K[V][0],K[V][1],K[V][2],"StandardEncoding"),pa=K[V][0].split("-"),Ba=pa[0];pa=pa[1]||"";Q.hasOwnProperty(Ba)||(Q[Ba]={});Q[Ba][pa]=ua}B.publish("addFonts",{fonts:F,dictionary:Q})})();var Oa="F1";S(c,a);B.publish("initialized");return t}var f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,
2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,
360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.API={events:[]};p.version="1.x-master";return p}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||void 0);(window.AcroForm=function(m){var n=window.AcroForm;n.scale=function(e){return p.internal.scaleFactor/1*e};n.antiScale=function(e){return 1/p.internal.scaleFactor*e};var p={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null};M.API.acroformPlugin=p;var f=function(){for(var e in this.acroformPlugin.acroFormDictionaryRoot.Fields){var k=
this.acroformPlugin.acroFormDictionaryRoot.Fields[e];if(k.hasAnnotation){var d={type:"reference",object:k};M.API.annotationPlugin.annotations[this.internal.getPageInfo(k.page).pageNumber].push(d)}}},a=function(e){this.acroformPlugin.printedOut&&(this.acroformPlugin.printedOut=!1,this.acroformPlugin.acroFormDictionaryRoot=null);if(!this.acroformPlugin.acroFormDictionaryRoot){if(this.acroformPlugin.acroFormDictionaryRoot)throw Error("Exception while creating AcroformDictionary");this.acroformPlugin.acroFormDictionaryRoot=
new n.AcroFormDictionary;this.acroformPlugin.internal=this.internal;this.acroformPlugin.acroFormDictionaryRoot._eventID=this.internal.events.subscribe("postPutResources",c);this.internal.events.subscribe("buildDocument",f);this.internal.events.subscribe("putCatalog",l);this.internal.events.subscribe("postPutPages",h)}this.acroformPlugin.acroFormDictionaryRoot.Fields.push(e)},l=function(){"undefined"!=typeof this.acroformPlugin.acroFormDictionaryRoot?this.internal.write("/AcroForm "+this.acroformPlugin.acroFormDictionaryRoot.objId+
" 0 R"):console.log("Root missing...")},c=function(){this.internal.events.unsubscribe(this.acroformPlugin.acroFormDictionaryRoot._eventID);delete this.acroformPlugin.acroFormDictionaryRoot._eventID;this.acroformPlugin.printedOut=!0},h=function(e){var k=!e;e||(this.internal.newObjectDeferredBegin(this.acroformPlugin.acroFormDictionaryRoot.objId),this.internal.out(this.acroformPlugin.acroFormDictionaryRoot.getString()));e=e||this.acroformPlugin.acroFormDictionaryRoot.Kids;for(var d in e){var q=e[d],
w=q.Rect;q.Rect&&(q.Rect=n.internal.calculateCoordinates.call(this,q.Rect));this.internal.newObjectDeferredBegin(q.objId);var v="";v+=q.objId+" 0 obj\n";v+="\x3c\x3c\n"+q.getContent();q.Rect=w;q.hasAppearanceStream&&!q.appearanceStreamContent&&(w=n.internal.calculateAppearanceStream.call(this,q),v+="/AP \x3c\x3c /N "+w+" \x3e\x3e\n",this.acroformPlugin.xForms.push(w));if(q.appearanceStreamContent){v+="/AP \x3c\x3c ";for(var E in q.appearanceStreamContent){w=q.appearanceStreamContent[E];v+="/"+E+" ";
v+="\x3c\x3c ";if(1<=Object.keys(w).length||Array.isArray(w))for(d in w){var y=w[d];"function"===typeof y&&(y=y.call(this,q));v+="/"+d+" "+y+" ";0<=this.acroformPlugin.xForms.indexOf(y)||this.acroformPlugin.xForms.push(y)}else y=w,"function"===typeof y&&(y=y.call(this,q)),v+="/"+d+" "+y+" \n",0<=this.acroformPlugin.xForms.indexOf(y)||this.acroformPlugin.xForms.push(y);v+=" \x3e\x3e\n"}v+="\x3e\x3e\n"}v+="\x3e\x3e\nendobj\n";this.internal.out(v)}if(k){e=this.acroformPlugin.xForms;for(var u in e)k=
u,d=e[u],this.internal.newObjectDeferredBegin(d&&d.objId),q="",q+=d?d.getString():"",this.internal.out(q),delete e[k]}};m.addField=function(e){if(e instanceof n.TextField){var k=e||new n.Field;k.FT="/Tx";var d=k.Ff||0;k.multiline&&(d|=4096);k.password&&(d|=8192);k.fileSelect&&(d|=1048576);k.doNotSpellCheck&&(d|=4194304);k.doNotScroll&&(d|=8388608);k.Ff=k.Ff||d;a.call(this,k)}else e instanceof n.ChoiceField?(k=e||new n.Field,k.FT="/Ch",d=k.Ff||0,k.combo&&(d=n.internal.setBitPosition(d,18),delete k.combo),
k.edit&&(d=n.internal.setBitPosition(d,19),delete k.edit),k.sort&&(d=n.internal.setBitPosition(d,20),delete k.sort),k.multiSelect&&1.4<=this.internal.getPDFVersion()&&(d=n.internal.setBitPosition(d,22),delete k.multiSelect),k.doNotSpellCheck&&1.4<=this.internal.getPDFVersion()&&(d=n.internal.setBitPosition(d,23),delete k.doNotSpellCheck),k.Ff=d,a.call(this,k)):e instanceof n.Button?(k=e||new n.Field,k.FT="/Btn",d=k.Ff||0,k.pushbutton&&(d=n.internal.setBitPosition(d,17),delete k.pushbutton),k.radio&&
(d=n.internal.setBitPosition(d,16),delete k.radio),k.noToggleToOff&&(d=n.internal.setBitPosition(d,15)),k.Ff=d,a.call(this,k)):e instanceof n.ChildClass?a.call(this,e):e&&a.call(this,e);e.page=this.acroformPlugin.internal.getCurrentPageInfo().pageNumber;return this}})(M.API);var D=window.AcroForm;D.internal={};D.createFormXObject=function(m){var n=new D.FormXObject,p=D.Appearance.internal.getHeight(m)||0;m=D.Appearance.internal.getWidth(m)||0;n.BBox=[0,0,m,p];return n};D.Appearance={CheckBox:{createAppearanceStream:function(){return{N:{On:D.Appearance.CheckBox.YesNormal},
D:{On:D.Appearance.CheckBox.YesPushDown,Off:D.Appearance.CheckBox.OffPushDown}}},createMK:function(){return"\x3c\x3c /CA (3)\x3e\x3e"},YesPushDown:function(m){var n=D.createFormXObject(m),p="";m.Q=1;var f=D.internal.calculateX(m,"3","ZapfDingbats",50);p+="0.749023 g\n                     0 0 "+D.Appearance.internal.getWidth(m)+" "+D.Appearance.internal.getHeight(m)+" re\n                     f\n                     BMC\n                     q\n                     0 0 1 rg\n                     /F13 "+
f.fontSize+" Tf 0 g\n                     BT\n";p+=f.text;n.stream=p+"ET\n                     Q\n                     EMC\n";return n},YesNormal:function(m){var n=D.createFormXObject(m),p="";m.Q=1;var f=D.internal.calculateX(m,"3","ZapfDingbats",.9*D.Appearance.internal.getHeight(m));p+="1 g\n        0 0 "+D.Appearance.internal.getWidth(m)+" "+D.Appearance.internal.getHeight(m)+" re\n        f\n        q\n        0 0 1 rg\n        0 0 "+(D.Appearance.internal.getWidth(m)-1)+" "+(D.Appearance.internal.getHeight(m)-
1)+" re\n        W\n        n\n        0 g\n        BT\n        /F13 "+f.fontSize+" Tf 0 g\n";p+=f.text;n.stream=p+"ET\n                     Q\n";return n},OffPushDown:function(m){var n=D.createFormXObject(m);m="0.749023 g\n                    0 0 "+D.Appearance.internal.getWidth(m)+" "+D.Appearance.internal.getHeight(m)+" re\n                    f\n";n.stream=m;return n}},RadioButton:{Circle:{createAppearanceStream:function(m){var n={D:{Off:D.Appearance.RadioButton.Circle.OffPushDown},N:{}};n.N[m]=
D.Appearance.RadioButton.Circle.YesNormal;n.D[m]=D.Appearance.RadioButton.Circle.YesPushDown;return n},createMK:function(){return"\x3c\x3c /CA (l)\x3e\x3e"},YesNormal:function(m){var n=D.createFormXObject(m),p="",f=D.Appearance.internal.getWidth(m)<=D.Appearance.internal.getHeight(m)?D.Appearance.internal.getWidth(m)/4:D.Appearance.internal.getHeight(m)/4;f*=.9;var a=D.Appearance.internal.Bezier_C;p+="q\n        1 0 0 1 "+D.Appearance.internal.getWidth(m)/2+" "+D.Appearance.internal.getHeight(m)/
2+" cm\n        "+f+" 0 m\n        "+f+" "+f*a+" "+f*a+" "+f+" 0 "+f+" c\n        -"+f*a+" "+f+" -"+f+" "+f*a+" -"+f+" 0 c\n        -"+f+" -"+f*a+" -"+f*a+" -"+f+" 0 -"+f+" c\n        "+f*a+" -"+f+" "+f+" -"+f*a+" "+f+" 0 c\n        f\n        Q\n";n.stream=p;return n},YesPushDown:function(m){var n=D.createFormXObject(m),p="",f=D.Appearance.internal.getWidth(m)<=D.Appearance.internal.getHeight(m)?D.Appearance.internal.getWidth(m)/4:D.Appearance.internal.getHeight(m)/4;f*=.9;var a=2*f,l=a*D.Appearance.internal.Bezier_C,
c=f*D.Appearance.internal.Bezier_C;p+="0.749023 g\n                    q\n                   1 0 0 1 "+D.Appearance.internal.getWidth(m)/2+" "+D.Appearance.internal.getHeight(m)/2+" cm\n        "+a+" 0 m\n        "+a+" "+l+" "+l+" "+a+" 0 "+a+" c\n        -"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c\n        -"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c\n        "+l+" -"+a+" "+a+" -"+l+" "+a+" 0 c\n                    f\n                    Q\n                    0 g\n                    q\n                    1 0 0 1 "+
D.Appearance.internal.getWidth(m)/2+" "+D.Appearance.internal.getHeight(m)/2+" cm\n        "+f+" 0 m\n        "+f+" "+c+" "+c+" "+f+" 0 "+f+" c\n        -"+c+" "+f+" -"+f+" "+c+" -"+f+" 0 c\n        -"+f+" -"+c+" -"+c+" -"+f+" 0 -"+f+" c\n        "+c+" -"+f+" "+f+" -"+c+" "+f+" 0 c\n                    f\n                    Q\n";n.stream=p;return n},OffPushDown:function(m){var n=D.createFormXObject(m),p="",f=1.8*(D.Appearance.internal.getWidth(m)<=D.Appearance.internal.getHeight(m)?D.Appearance.internal.getWidth(m)/
4:D.Appearance.internal.getHeight(m)/4),a=f*D.Appearance.internal.Bezier_C;p+="0.749023 g\n                    q\n         1 0 0 1 "+D.Appearance.internal.getWidth(m)/2+" "+D.Appearance.internal.getHeight(m)/2+" cm\n        "+f+" 0 m\n        "+f+" "+a+" "+a+" "+f+" 0 "+f+" c\n        -"+a+" "+f+" -"+f+" "+a+" -"+f+" 0 c\n        -"+f+" -"+a+" -"+a+" -"+f+" 0 -"+f+" c\n        "+a+" -"+f+" "+f+" -"+a+" "+f+" 0 c\n                    f\n                    Q\n";n.stream=p;return n}},Cross:{createAppearanceStream:function(m){var n=
{D:{Off:D.Appearance.RadioButton.Cross.OffPushDown},N:{}};n.N[m]=D.Appearance.RadioButton.Cross.YesNormal;n.D[m]=D.Appearance.RadioButton.Cross.YesPushDown;return n},createMK:function(){return"\x3c\x3c /CA (8)\x3e\x3e"},YesNormal:function(m){var n=D.createFormXObject(m),p="",f=D.Appearance.internal.calculateCross(m);p+="q\n                    1 1 "+(D.Appearance.internal.getWidth(m)-2)+" "+(D.Appearance.internal.getHeight(m)-2)+" re\n                    W\n                    n\n                    "+
f.x1.x+" "+f.x1.y+" m\n                    "+f.x2.x+" "+f.x2.y+" l\n                    "+f.x4.x+" "+f.x4.y+" m\n                    "+f.x3.x+" "+f.x3.y+" l\n                    s\n                    Q\n";n.stream=p;return n},YesPushDown:function(m){var n=D.createFormXObject(m),p=D.Appearance.internal.calculateCross(m);m="0.749023 g\n                    0 0 "+D.Appearance.internal.getWidth(m)+" "+D.Appearance.internal.getHeight(m)+" re\n                    f\n                    q\n                    1 1 "+
(D.Appearance.internal.getWidth(m)-2)+" "+(D.Appearance.internal.getHeight(m)-2)+" re\n                    W\n                    n\n                    "+p.x1.x+" "+p.x1.y+" m\n                    "+p.x2.x+" "+p.x2.y+" l\n                    "+p.x4.x+" "+p.x4.y+" m\n                    "+p.x3.x+" "+p.x3.y+" l\n                    s\n                    Q\n";n.stream=m;return n},OffPushDown:function(m){var n=D.createFormXObject(m);m="0.749023 g\n                    0 0 "+D.Appearance.internal.getWidth(m)+
" "+D.Appearance.internal.getHeight(m)+" re\n                    f\n";n.stream=m;return n}}},createDefaultAppearanceStream:function(m){return"/Helv 0 Tf 0 g"}};D.Appearance.internal={Bezier_C:.551915024494,calculateCross:function(m){var n=D.Appearance.internal.getWidth(m);m=D.Appearance.internal.getHeight(m);var p=n>m?m:n;return{x1:{x:(n-p)/2,y:(m-p)/2+p},x2:{x:(n-p)/2+p,y:(m-p)/2},x3:{x:(n-p)/2,y:(m-p)/2},x4:{x:(n-p)/2+p,y:(m-p)/2+p}}}};D.Appearance.internal.getWidth=function(m){return m.Rect[2]};
D.Appearance.internal.getHeight=function(m){return m.Rect[3]};D.internal.inherit=function(m,n){m.prototype=Object.create(n.prototype);m.prototype.constructor=m};D.internal.arrayToPdfArray=function(m){if(Array.isArray(m)){var n=" [",p;for(p in m)n+=m[p].toString(),n+=p<m.length-1?" ":"";return n+"]"}};D.internal.toPdfString=function(m){m=m||"";0!==m.indexOf("(")&&(m="("+m);")"!=m.substring(m.length-1)&&(m+="(");return m};D.PDFObject=function(){var m;Object.defineProperty(this,"objId",{get:function(){m||
(this.internal?m=this.internal.newObjectDeferred():M.API.acroformPlugin.internal&&(m=M.API.acroformPlugin.internal.newObjectDeferred()));m||console.log("Couldn't create Object ID");return m},configurable:!1})};D.PDFObject.prototype.toString=function(){return this.objId+" 0 R"};D.PDFObject.prototype.getString=function(){var m=this.objId+" 0 obj\n\x3c\x3c",n=this.getContent();m+=n+"\x3e\x3e\n";this.stream&&(m=m+"stream\n"+this.stream,m+="endstream\n");return m+"endobj\n"};D.PDFObject.prototype.getContent=
function(){return""+function(m){var n="",p=Object.keys(m).filter(function(c){return"content"!=c&&"appearanceStreamContent"!=c&&"_"!=c.substring(0,1)}),f;for(f in p){var a=p[f],l=m[a];l&&(n=Array.isArray(l)?n+("/"+a+" "+D.internal.arrayToPdfArray(l)+"\n"):l instanceof D.PDFObject?n+("/"+a+" "+l.objId+" 0 R\n"):n+("/"+a+" "+l+"\n"))}return n}(this)};D.FormXObject=function(){D.PDFObject.call(this);this.Type="/XObject";this.Subtype="/Form";this.FormType=1;this.BBox;this.Matrix;this.Resources="2 0 R";
this.PieceInfo;var m;Object.defineProperty(this,"Length",{enumerable:!0,get:function(){return void 0!==m?m.length:0}});Object.defineProperty(this,"stream",{enumerable:!1,set:function(n){m=n},get:function(){return m?m:null}})};D.internal.inherit(D.FormXObject,D.PDFObject);D.AcroFormDictionary=function(){D.PDFObject.call(this);var m=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){if(0<m.length)return m}});Object.defineProperty(this,"Fields",{enumerable:!0,configurable:!0,
get:function(){return m}});this.DA};D.internal.inherit(D.AcroFormDictionary,D.PDFObject);D.Field=function(){D.PDFObject.call(this);var m;Object.defineProperty(this,"Rect",{enumerable:!0,configurable:!1,get:function(){if(m)return m},set:function(l){m=l}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,set:function(l){n=l},get:function(){return n}});var p;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,set:function(l){p=l},get:function(){return!p||1>p.length?this instanceof D.ChildClass?
void 0:"(FieldObject"+D.Field.FieldNum++ +")":"("==p.substring(0,1)&&p.substring(p.length-1)?p:"("+p+")"}});var f;Object.defineProperty(this,"DA",{enumerable:!0,get:function(){if(f)return"("+f+")"},set:function(l){f=l}});var a;Object.defineProperty(this,"DV",{enumerable:!0,configurable:!0,get:function(){if(a)return a},set:function(l){a=l}});Object.defineProperty(this,"Type",{enumerable:!0,get:function(){return this.hasAnnotation?"/Annot":null}});Object.defineProperty(this,"Subtype",{enumerable:!0,
get:function(){return this.hasAnnotation?"/Widget":null}});Object.defineProperty(this,"hasAnnotation",{enumerable:!1,get:function(){return this.Rect||this.BC||this.BG?!0:!1}});Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,configurable:!0,writable:!0});Object.defineProperty(this,"page",{enumerable:!1,configurable:!0,writable:!0})};D.Field.FieldNum=0;D.internal.inherit(D.Field,D.PDFObject);D.ChoiceField=function(){D.Field.call(this);this.FT="/Ch";this.Opt=[];this.V="()";this.TI=0;
this.combo=!1;Object.defineProperty(this,"edit",{enumerable:!0,set:function(m){1==m?this.combo=this._edit=!0:this._edit=!1},get:function(){return this._edit?this._edit:!1},configurable:!1});this.hasAppearanceStream=!0;Object.defineProperty(this,"V",{get:function(){D.internal.toPdfString()}})};D.internal.inherit(D.ChoiceField,D.Field);D.ListBox=function(){D.ChoiceField.call(this)};D.internal.inherit(D.ListBox,D.ChoiceField);D.ComboBox=function(){D.ListBox.call(this);this.combo=!0};D.internal.inherit(D.ComboBox,
D.ListBox);D.EditBox=function(){D.ComboBox.call(this);this.edit=!0};D.internal.inherit(D.EditBox,D.ComboBox);D.Button=function(){D.Field.call(this);this.FT="/Btn"};D.internal.inherit(D.Button,D.Field);D.PushButton=function(){D.Button.call(this);this.pushbutton=!0};D.internal.inherit(D.PushButton,D.Button);D.RadioButton=function(){D.Button.call(this);this.radio=!0;var m=[];Object.defineProperty(this,"Kids",{enumerable:!0,get:function(){if(0<m.length)return m}});Object.defineProperty(this,"__Kids",
{get:function(){return m}});var n;Object.defineProperty(this,"noToggleToOff",{enumerable:!1,get:function(){return n},set:function(p){n=p}})};D.internal.inherit(D.RadioButton,D.Button);D.ChildClass=function(m,n){D.Field.call(this);this.Parent=m;this._AppearanceType=D.Appearance.RadioButton.Circle;this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(n);this.F=D.internal.setBitPosition(this.F,3,1);this.MK=this._AppearanceType.createMK();this.AS="/Off";this._Name=n};D.internal.inherit(D.ChildClass,
D.Field);D.RadioButton.prototype.setAppearance=function(m){if("createAppearanceStream"in m&&"createMK"in m)for(var n in this.__Kids){var p=this.__Kids[n];p.appearanceStreamContent=m.createAppearanceStream(p._Name);p.MK=m.createMK()}else console.log("Couldn't assign Appearance to RadioButton. Appearance was Invalid!")};D.RadioButton.prototype.createOption=function(m){m=new D.ChildClass(this,m);this.__Kids.push(m);M.API.addField(m);return m};D.CheckBox=function(){D.Button.call(this);this.appearanceStreamContent=
D.Appearance.CheckBox.createAppearanceStream();this.MK=D.Appearance.CheckBox.createMK();this.V=this.AS="/On"};D.internal.inherit(D.CheckBox,D.Button);D.TextField=function(){D.Field.call(this);this.DA=D.Appearance.createDefaultAppearanceStream();this.F=4;var m;Object.defineProperty(this,"V",{get:function(){return m?"("+m+")":m},enumerable:!0,set:function(a){m=a}});var n;Object.defineProperty(this,"DV",{get:function(){return n?"("+n+")":n},enumerable:!0,set:function(a){n=a}});var p=!1;Object.defineProperty(this,
"multiline",{enumerable:!1,get:function(){return p},set:function(a){p=a}});var f=!1;Object.defineProperty(this,"MaxLen",{enumerable:!0,get:function(){return f},set:function(a){f=a}});Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,get:function(){return this.V||this.DV}})};D.internal.inherit(D.TextField,D.Field);D.PasswordField=function(){D.TextField.call(this);Object.defineProperty(this,"password",{value:!0,enumerable:!1,configurable:!1,writable:!1})};D.internal.inherit(D.PasswordField,
D.TextField);D.internal.calculateFontSpace=function(m,n,p){p=p||"helvetica";var f=D.internal.calculateFontSpace.canvas||(D.internal.calculateFontSpace.canvas=document.createElement("canvas")),a=f.getContext("2d");a.save();a.font=n+" "+p;m={width:a.measureText(m).getWidth()};a.fontcolor="black";a=f.getContext("2d");m.height=1.5*a.measureText("3").getWidth();a.restore();return m};D.internal.calculateX=function(m,n,p,f){f=f||12;p=p||"helvetica";var a={text:"",fontSize:""};n="("==n.substr(0,1)?n.substr(1):
n;n=")"==n.substr(n.length-1)?n.substr(0,n.length-1):n;var l=n.split(" "),c=D.Appearance.internal.getHeight(m)||0;c=0>c?-c:c;var h=D.Appearance.internal.getWidth(m)||0;h=0>h?-h:h;f++;a:for(;;){n="";f--;var e=D.internal.calculateFontSpace("3",f+"px",p).height,k=m.multiline?c-f:(c-e)/2;k+=2;var d=-2,q=d=0,w=0;if(0==f){f=12;n="(...) Tj\n";n+="% Width of Text: "+D.internal.calculateFontSpace(n,"1px").width+", FieldWidth:"+h+"\n";break}w=D.internal.calculateFontSpace(l[0]+" ",f+"px",p).width;var v="",
E=0,y;for(y in l){v+=l[y]+" ";v=" "==v.substr(v.length-1)?v.substr(0,v.length-1):v;var u=parseInt(y);w=D.internal.calculateFontSpace(v+" ",f+"px",p).width;w=u+1<l.length?D.internal.calculateFontSpace(v+" "+l[u+1],f+"px",p).width<=h-4:!1;var x=y>=l.length-1;if(w&&!x)v+=" ";else{if(!w&&!x)if(m.multiline){if((e+2)*(E+2)+2>c)continue a;q=u}else continue a;else if(x)q=u;else if(m.multiline&&(e+2)*(E+2)+2>c)continue a;for(v="";d<=q;d++)v+=l[d]+" ";v=" "==v.substr(v.length-1)?v.substr(0,v.length-1):v;w=
D.internal.calculateFontSpace(v,f+"px",p).width;switch(m.Q){case 2:d=h-w-2;break;case 1:d=(h-w)/2;break;default:d=2}n+=d+" "+k+" Td\n";n+="("+v+") Tj\n";n+=-d+" 0 Td\n";k=-(f+2);w=0;d=q+1;E++;v=""}}break}a.text=n;a.fontSize=f;return a};D.internal.calculateAppearanceStream=function(m){if(m.appearanceStreamContent)return m.appearanceStreamContent;if(m.V||m.DV){var n="",p=D.internal.calculateX(m,m.V||m.DV);n+="/Tx BMC\nq\n/F1 "+p.fontSize+" Tf\n1 0 0 1 0 0 Tm\n";n=n+"BT\n"+p.text;n+="ET\nQ\nEMC\n";m=
new D.createFormXObject(m);m.stream=n;return m}};D.internal.calculateCoordinates=function(m,n,p,f){if(this.internal)if(Array.isArray(m)){m[0]=D.scale(m[0]);m[1]=D.scale(m[1]);m[2]=D.scale(m[2]);m[3]=D.scale(m[3]);var a=m[0]||0;var l=this.internal.pageSize.getHeight()*this.internal.scaleFactor-m[3]-m[1]||0;p=m[0]+m[2]||0;m=this.internal.pageSize.getHeight()*this.internal.scaleFactor-m[1]||0}else m=D.scale(m),n=D.scale(n),p=D.scale(p),f=D.scale(f),a=m||0,l=this.internal.pageSize.getHeight()-n||0,p=
m+p||0,m=this.internal.pageSize.getHeight()-n+f||0;else Array.isArray(m)?(a=m[0]||0,l=m[1]||0,p=m[0]+m[2]||0,m=m[1]+m[3]||0):(a=m||0,l=n||0,p=m+p||0,m=n+f||0);return[a,l,p,m]};D.internal.calculateColor=function(m,n,p){var f=Array(3);f.r=m|0;f.g=n|0;f.b=p|0;return f};D.internal.getBitPosition=function(m,n){return(m||0)|1<<n-1};D.internal.setBitPosition=function(m,n,p){m=m||0;n=1<<n-1;return m=1==(p||1)?m|n:m&~n};(function(m){m.addHTML=function(n,p,f,a,l){if("undefined"===typeof m.html2canvas&&"undefined"===
typeof rasterizeHTML)throw Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!==typeof p&&(a=p,l=f);"function"===typeof a&&(l=a,a=null);var c=this.internal,h=c.scaleFactor,e=c.pageSize.getWidth(),k=c.pageSize.getHeight();a=a||{};a.onrendered=function(d){p=parseInt(p)||0;f=parseInt(f)||0;var q=a.dim||{},w=q.h||0,v=q.w||Math.min(e,d.width/h)-p,E="JPEG";a.format&&(E=a.format);if(d.height>k&&a.pagesplit)w=function(){for(var u=0;;){var x=
document.createElement("canvas");x.width=Math.min(e*h,d.width);x.height=Math.min(k*h,d.height-u);x.getContext("2d").drawImage(d,0,u,d.width,x.height,0,0,x.width,x.height);var F=[x,p,u?0:f,x.width/h,x.height/h,E,null,"SLOW"];this.addImage.apply(this,F);u+=x.height;if(u>=d.height)break;this.addPage()}l(v,u,null,F)}.bind(this),"CANVAS"===d.nodeName?(q=new Image,q.onload=w,q.src=d.toDataURL("image/png"),d=q):w();else{q=Math.random().toString(35);var y=[d,p,f,v,w,E,q,"SLOW"];this.addImage.apply(this,y);
l(v,w,q,y)}}.bind(this);return"undefined"===typeof m.html2canvas||a.rstz?"undefined"!==typeof rasterizeHTML?(c="drawDocument","string"===typeof n&&(c=/^http/.test(n)?"drawURL":"drawHTML"),a.width=a.width||e*h,rasterizeHTML[c](n,void 0,a).then(function(d){a.onrendered(d.image)},function(d){l(null,d)})):null:m.html2canvas(n,a)}})(M.API);(function(m){var n=["jpeg","jpg","png"],p=function k(e){var d=this.internal.newObject(),q=this.internal.write,w=this.internal.putStream;e.n=d;q("\x3c\x3c/Type /XObject");
q("/Subtype /Image");q("/Width "+e.w);q("/Height "+e.h);e.cs===this.color_spaces.INDEXED?q("/ColorSpace [/Indexed /DeviceRGB "+(e.pal.length/3-1)+" "+("smask"in e?d+2:d+1)+" 0 R]"):(q("/ColorSpace /"+e.cs),e.cs===this.color_spaces.DEVICE_CMYK&&q("/Decode [1 0 1 0 1 0 1 0]"));q("/BitsPerComponent "+e.bpc);"f"in e&&q("/Filter /"+e.f);"dp"in e&&q("/DecodeParms \x3c\x3c"+e.dp+"\x3e\x3e");if("trns"in e&&e.trns.constructor==Array){for(var v="",E=0,y=e.trns.length;E<y;E++)v+=e.trns[E]+" "+e.trns[E]+" ";
q("/Mask ["+v+"]")}"smask"in e&&q("/SMask "+(d+1)+" 0 R");q("/Length "+e.data.length+"\x3e\x3e");w(e.data);q("endobj");"smask"in e&&(d={w:e.w,h:e.h,cs:"DeviceGray",bpc:e.bpc,dp:"/Predictor "+e.p+" /Colors 1 /BitsPerComponent "+e.bpc+" /Columns "+e.w,data:e.smask},"f"in e&&(d.f=e.f),k.call(this,d));e.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),q("\x3c\x3c /Length "+e.pal.length+"\x3e\x3e"),w(this.arrayBufferToBinaryString(new Uint8Array(e.pal))),q("endobj"))},f=function(){var e=this.internal.collections.addImage_images,
k;for(k in e)p.call(this,e[k])},a=function(){var e=this.internal.collections.addImage_images,k=this.internal.write,d;for(d in e){var q=e[d];k("/I"+q.i,q.n,"0","R")}},l=function(e){return"object"===("undefined"===typeof e?"undefined":U(e))&&1===e.nodeType},c=function(e,k){if(k)for(var d in k)if(e===k[d].alias){var q=k[d];break}return q};m.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",
PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};m.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};m.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"};m.sHashCode=function(e){return Array.prototype.reduce&&e.split("").reduce(function(k,d){k=(k<<5)-
k+d.charCodeAt(0);return k&k},0)};m.isString=function(e){return"string"===typeof e};m.extractInfoFromBase64DataURI=function(e){return/^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(e)};m.supportsArrayBuffer=function(){return"undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array};m.isArrayBuffer=function(e){return this.supportsArrayBuffer()?e instanceof ArrayBuffer:!1};m.isArrayBufferView=function(e){return this.supportsArrayBuffer()&&"undefined"!==typeof Uint32Array?e instanceof Int8Array||
e instanceof Uint8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array:!1};m.binaryStringToUint8Array=function(e){for(var k=e.length,d=new Uint8Array(k),q=0;q<k;q++)d[q]=e.charCodeAt(q);return d};m.arrayBufferToBinaryString=function(e){this.isArrayBuffer(e)&&(e=new Uint8Array(e));for(var k="",d=e.byteLength,q=0;q<d;q++)k+=
String.fromCharCode(e[q]);return k};m.arrayBufferToBase64=function(e){var k="";e=new Uint8Array(e);var d=e.byteLength,q=d%3;d-=q;for(var w,v,E,y,u=0;u<d;u+=3)y=e[u]<<16|e[u+1]<<8|e[u+2],w=(y&16515072)>>18,v=(y&258048)>>12,E=(y&4032)>>6,y&=63,k+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[w]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[v]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[E]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[y];
1==q?(y=e[d],k+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(y&252)>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(y&3)<<4]+"\x3d\x3d"):2==q&&(y=e[d]<<8|e[d+1],k+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(y&64512)>>10]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(y&1008)>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(y&15)<<2]+"\x3d");return k};m.createImageInfo=function(e,k,d,
q,w,v,E,y,u,x,F,Q,W){e={alias:y,w:k,h:d,cs:q,bpc:w,i:E,data:e};v&&(e.f=v);u&&(e.dp=u);x&&(e.trns=x);F&&(e.pal=F);Q&&(e.smask=Q);W&&(e.p=W);return e};m.addImage=function(e,k,d,q,w,v,E,y,u){if("string"!==typeof k){var x=v;v=w;w=q;q=d;d=k;k=x}"object"===("undefined"===typeof e?"undefined":U(e))&&!l(e)&&"imageData"in e&&(x=e,e=x.imageData,k=x.format||k,d=x.x||d||0,q=x.y||q||0,w=x.w||w,v=x.h||v,E=x.alias||E,y=x.compression||y,u=x.rotation||x.angle||u);if(isNaN(d)||isNaN(q))throw console.error("jsPDF.addImage: Invalid coordinates",
arguments),Error("Invalid coordinates passed to jsPDF.addImage");x=this.internal.collections.addImage_images;x||(this.internal.collections.addImage_images=x={},this.internal.events.subscribe("putResources",f),this.internal.events.subscribe("putXobjectDict",a));var F;if(!(F=c(e,x))){if(l(e))a:{F=e;var Q=k,W=u;if("IMG"===F.nodeName&&F.hasAttribute("src")){var L=""+F.getAttribute("src");if(!W&&0===L.indexOf("data:image/")){e=L;break a}!Q&&/\.png(?:[?#].*)?$/i.test(L)&&(Q="png")}if("CANVAS"===F.nodeName)L=
F;else{L=document.createElement("canvas");L.width=F.clientWidth||F.width;L.height=F.clientHeight||F.height;var N=L.getContext("2d");if(!N)throw"addImage requires canvas to be supported by browser.";if(W){var G=Math.PI/180;if("object"===("undefined"===typeof W?"undefined":U(W))){var z=W.x;var P=W.y;var X=W.bg;W=W.angle}var Y=W*G;W=Math.abs(Math.cos(Y));G=Math.abs(Math.sin(Y));var ba=L.width;var oa=L.height;L.width=oa*G+ba*W;L.height=oa*W+ba*G;isNaN(z)&&(z=L.width/2);isNaN(P)&&(P=L.height/2);N.clearRect(0,
0,L.width,L.height);N.fillStyle=X||"white";N.fillRect(0,0,L.width,L.height);N.save();N.translate(z,P);N.rotate(Y);N.drawImage(F,-(ba/2),-(oa/2));N.rotate(-Y);N.translate(-z,-P);N.restore()}else N.drawImage(F,0,0,L.width,L.height)}e=L.toDataURL("png"==(""+Q).toLowerCase()?"image/png":"image/jpeg")}if("undefined"===typeof E||null===E)E="string"===typeof e&&m.sHashCode(e);if(!(F=c(E,x))){this.isString(e)&&((z=this.extractInfoFromBase64DataURI(e))?(k=z[2],e=atob(z[3])):137===e.charCodeAt(0)&&80===e.charCodeAt(1)&&
78===e.charCodeAt(2)&&71===e.charCodeAt(3)&&(k="png"));k=(k||"JPEG").toLowerCase();if(-1===n.indexOf(k))throw Error("addImage currently only supports formats "+n+", not '"+k+"'");if("function"!==typeof m["process"+k.toUpperCase()])throw Error("please ensure that the plugin for '"+k+"' support is added");if(this.supportsArrayBuffer()&&!(e instanceof Uint8Array)){var da=e;e=this.binaryStringToUint8Array(e)}z=this["process"+k.toUpperCase()];P=e;X=0;if(x){if(Object.keys)var Ca=Object.keys(x).length;else{X=
0;for(Ca in x)x.hasOwnProperty(Ca)&&X++;Ca=X}X=Ca}Ca=X;X=E;(F=y)&&"string"===typeof F&&(F=F.toUpperCase());F=z.call(this,P,Ca,X,F in m.image_compression?F:m.image_compression.NONE,da);if(!F)throw Error("An unkwown error occurred whilst processing the image");}}da=d;Ca=q;z=F;P=F.i;X=w;F=v;X||F||(F=X=-96);0>X&&(X=-72*z.w/X/this.internal.scaleFactor);0>F&&(F=-72*z.h/F/this.internal.scaleFactor);0===X&&(X=F*z.w/z.h);0===F&&(F=X*z.h/z.w);L=[X,F];F=this.internal.getCoordinateString;Q=this.internal.getVerticalCoordinateString;
X=L[0];L=L[1];x[P]=z;this.internal.write("q",F(X),"0 0",F(L),F(da),Q(Ca+L),"cm /I"+z.i,"Do Q");return this};m.processJPEG=function(e,k,d,q,w){q=this.color_spaces.DEVICE_RGB;var v=this.decode.DCT_DECODE;if(this.isString(e)){a:{w=e;var E;if(255===!w.charCodeAt(0)||216===!w.charCodeAt(1)||255===!w.charCodeAt(2)||224===!w.charCodeAt(3)||74===!w.charCodeAt(6)||70===!w.charCodeAt(7)||73===!w.charCodeAt(8)||70===!w.charCodeAt(9)||0===!w.charCodeAt(10))throw Error("getJpegSize requires a binary string jpeg file");
var y=256*w.charCodeAt(4)+w.charCodeAt(5);var u=4;for(E=w.length;u<E;){u+=y;if(255!==w.charCodeAt(u))throw Error("getJpegSize could not find the size of the image");if(192===w.charCodeAt(u+1)||193===w.charCodeAt(u+1)||194===w.charCodeAt(u+1)||195===w.charCodeAt(u+1)||196===w.charCodeAt(u+1)||197===w.charCodeAt(u+1)||198===w.charCodeAt(u+1)||199===w.charCodeAt(u+1)){E=256*w.charCodeAt(u+5)+w.charCodeAt(u+6);y=256*w.charCodeAt(u+7)+w.charCodeAt(u+8);w=w.charCodeAt(u+9);u=[y,E,w];break a}else u+=2,y=
256*w.charCodeAt(u)+w.charCodeAt(u+1)}u=void 0}return this.createImageInfo(e,u[0],u[1],1==u[3]?this.color_spaces.DEVICE_GRAY:q,8,v,k,d)}this.isArrayBuffer(e)&&(e=new Uint8Array(e));if(this.isArrayBufferView(e)){a:{y=e;if(65496!==(y[0]<<8|y[1]))throw Error("Supplied data is not a JPEG");E=y.length;for(var x=(y[4]<<8)+y[5],F=4;F<E;){F+=x;u=y.subarray(F,F+5);x=(u[2]<<8)+u[3];if((192===u[1]||194===u[1])&&255===u[0]&&7<x){u=F+5;u=y.subarray(u,u+5);y=(u[2]<<8)+u[3];E=(u[0]<<8)+u[1];u=u[4];u={width:y,height:E,
numcomponents:u};break a}F+=2}throw Error("getJpegSizeFromBytes could not find the size of the image");}e=w||this.arrayBufferToBinaryString(e);return this.createImageInfo(e,u.width,u.height,1==u.numcomponents?this.color_spaces.DEVICE_GRAY:q,8,v,k,d)}return null};m.processJPG=function(){return this.processJPEG.apply(this,arguments)}})(M.API);(function(m){var n={annotations:[],f2:function(p){return p.toFixed(2)},notEmpty:function(p){if("undefined"!=typeof p&&""!=p)return!0}};M.API.annotationPlugin=
n;M.API.events.push(["addPage",function(p){this.annotationPlugin.annotations[p.pageNumber]=[]}]);m.events.push(["putPage",function(p){for(var f=this.annotationPlugin.annotations[p.pageNumber],a=!1,l=0;l<f.length&&!a;l++){var c=f[l];switch(c.type){case "link":if(n.notEmpty(c.options.url)||n.notEmpty(c.options.pageNumber)){a=!0;break}case "reference":case "text":case "freetext":a=!0}}if(0!=a){this.internal.write("/Annots [");a=this.annotationPlugin.f2;var h=this.internal.scaleFactor,e=this.internal.pageSize.getHeight(),
k=this.internal.getPageInfo(p.pageNumber);for(l=0;l<f.length;l++)switch(c=f[l],c.type){case "reference":this.internal.write(" "+c.object.objId+" 0 R ");break;case "text":var d=this.internal.newAdditionalObject(),q=this.internal.newAdditionalObject(),w=c.title||"Note",v="/Rect ["+a(c.bounds.x*h)+" "+a(e-(c.bounds.y+c.bounds.h)*h)+" "+a((c.bounds.x+c.bounds.w)*h)+" "+a((e-c.bounds.y)*h)+"] ";p="\x3c\x3c/Type /Annot /Subtype /Text "+v+"/Contents ("+c.contents+")";p+=" /Popup "+q.objId+" 0 R";p+=" /P "+
k.objId+" 0 R";p+=" /T ("+w+") \x3e\x3e";d.content=p;p=d.objId+" 0 R";v="/Rect ["+a((c.bounds.x+30)*h)+" "+a(e-(c.bounds.y+c.bounds.h)*h)+" "+a((c.bounds.x+c.bounds.w+30)*h)+" "+a((e-c.bounds.y)*h)+"] ";p="\x3c\x3c/Type /Annot /Subtype /Popup "+v+" /Parent "+p;c.open&&(p+=" /Open true");p+=" \x3e\x3e";q.content=p;this.internal.write(d.objId,"0 R",q.objId,"0 R");break;case "freetext":v="/Rect ["+a(c.bounds.x*h)+" "+a((e-c.bounds.y)*h)+" "+a(c.bounds.x+c.bounds.w*h)+" "+a(e-(c.bounds.y+c.bounds.h)*
h)+"] ";d=c.color||"#000000";p="\x3c\x3c/Type /Annot /Subtype /FreeText "+v+"/Contents ("+c.contents+")";p+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+d+")";p+=" /Border [0 0 0]";p+=" \x3e\x3e";this.internal.write(p);break;case "link":c.options.name?(v=this.annotations._nameMap[c.options.name],c.options.pageNumber=v.page,c.options.top=v.y):c.options.top||(c.options.top=0);v="/Rect ["+a(c.x*h)+" "+a((e-c.y)*h)+" "+a(c.x+c.w*h)+" "+a(e-(c.y+c.h)*h)+"] ";p="";if(c.options.url)p=
"\x3c\x3c/Type /Annot /Subtype /Link "+v+"/Border [0 0 0] /A \x3c\x3c/S /URI /URI ("+c.options.url+") \x3e\x3e";else if(c.options.pageNumber)switch(p=this.internal.getPageInfo(c.options.pageNumber),p="\x3c\x3c/Type /Annot /Subtype /Link "+v+"/Border [0 0 0] /Dest ["+p.objId+" 0 R",c.options.magFactor=c.options.magFactor||"XYZ",c.options.magFactor){case "Fit":p+=" /Fit]";break;case "FitH":p+=" /FitH "+c.options.top+"]";break;case "FitV":c.options.left=c.options.left||0;p+=" /FitV "+c.options.left+
"]";break;default:v=a((e-c.options.top)*h),c.options.left=c.options.left||0,"undefined"===typeof c.options.zoom&&(c.options.zoom=0),p+=" /XYZ "+c.options.left+" "+v+" "+c.options.zoom+"]"}""!=p&&(p+=" \x3e\x3e",this.internal.write(p))}this.internal.write("]")}}]);m.createAnnotation=function(p){switch(p.type){case "link":this.link(p.bounds.x,p.bounds.y,p.bounds.w,p.bounds.h,p);break;case "text":case "freetext":this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push(p)}};
m.link=function(p,f,a,l,c){this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push({x:p,y:f,w:a,h:l,options:c,type:"link"})};m.link=function(p,f,a,l,c){this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push({x:p,y:f,w:a,h:l,options:c,type:"link"})};m.textWithLink=function(p,f,a,l){var c=this.getTextWidth(p),h=this.internal.getLineHeight();this.text(p,f,a);a+=.2*h;this.link(f,a-h,c,h,l);return c};m.getTextWidth=function(p){var f=this.internal.getFontSize();
return this.getStringUnitWidth(p)*f/this.internal.scaleFactor};m.getLineHeight=function(){return this.internal.getLineHeight()};return this})(M.API);(function(m){m.autoPrint=function(){var n;this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject();this.internal.write("\x3c\x3c /S/Named /Type/Action /N/Print \x3e\x3e","endobj")});this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+n+" 0 R")});return this}})(M.API);(function(m){m.events.push(["initialized",
function(){this.canvas.pdf=this}]);m.canvas={getContext:function(n){this.pdf.context2d._canvas=this;return this.pdf.context2d},style:{}};Object.defineProperty(m.canvas,"width",{get:function(){return this._width},set:function(n){this._width=n;this.getContext("2d").pageWrapX=n+1}});Object.defineProperty(m.canvas,"height",{get:function(){return this._height},set:function(n){this._height=n;this.getContext("2d").pageWrapY=n+1}});return this})(M.API);(function(m){var n,p,f,a,l={x:void 0,y:void 0,w:void 0,
h:void 0,ln:void 0},c=1,h={left:0,top:0,bottom:0};m.setHeaderFunction=function(e){a=e};m.getTextDimensions=function(e){n=this.internal.getFont().fontName;p=this.table_font_size||this.internal.getFontSize();f=this.internal.getFont().fontStyle;var k=19.049976/25.4;var d=document.createElement("font");d.id="jsPDFCell";try{d.style.fontStyle=f}catch(q){d.style.fontWeight=f}d.style.fontName=n;d.style.fontSize=p+"pt";try{d.textContent=e}catch(q){d.innerText=e}document.body.appendChild(d);e={w:(d.offsetWidth+
1)*k,h:(d.offsetHeight+1)*k};document.body.removeChild(d);return e};m.cellAddPage=function(){var e=this.margins||h;this.addPage();l={x:e.left,y:e.top,w:void 0,h:void 0,ln:void 0};c+=1};m.cellInitialize=function(){l={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0};c=1};m.cell=function(e,k,d,q,w,v,E){var y=l,u=!1;void 0!==y.ln&&(y.ln===v?(e=y.x+y.w,k=y.y):(k=this.margins||h,y.y+y.h+q+13>=this.internal.pageSize.getHeight()-k.bottom&&(this.cellAddPage(),u=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(v,
!0)),k=l.y+l.h,u&&(k=23)));if(void 0!==w[0])if(this.printingHeaderRow?this.rect(e,k,d,q,"FD"):this.rect(e,k,d,q),"right"===E)for(w instanceof Array||(w=[w]),E=0;E<w.length;E++)y=w[E],u=this.getStringUnitWidth(y)*this.internal.getFontSize(),this.text(y,e+d-u-3,k+this.internal.getLineHeight()*(E+1));else this.text(w,e+3,k+this.internal.getLineHeight());l={x:e,y:k,w:d,h:q,ln:v};return this};m.arrayMax=function(e,k){var d=e[0],q;var w=0;for(q=e.length;w<q;w+=1){var v=e[w];k?-1===k(d,v)&&(d=v):v>d&&(d=
v)}return d};m.table=function(e,k,d,q,w){if(!d)throw"No data for PDF table";var v=[],E=[],y={},u={},x=[],F=[];var Q=!1;var W=!0;var L=12;var N=h;N.width=this.internal.pageSize.getWidth();w&&(!0===w.autoSize&&(Q=!0),!1===w.printHeaders&&(W=!1),w.fontSize&&(L=w.fontSize),w.css&&"undefined"!==typeof w.css["font-size"]&&(L=16*w.css["font-size"]),w.margins&&(N=w.margins));this.lnMod=0;l={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0};c=1;this.printHeaders=W;this.margins=N;this.setFontSize(L);this.table_font_size=
L;if(void 0===q||null===q)v=Object.keys(d[0]);else if(q[0]&&"string"!==typeof q[0])for(N=19.049976/25.4,w=0,L=q.length;w<L;w+=1){var G=q[w];v.push(G.name);E.push(G.prompt);u[G.name]=G.width*N}else v=q;if(Q){var z=function(X){return X[G]};w=0;for(L=v.length;w<L;w+=1){G=v[w];y[G]=d.map(z);x.push(this.getTextDimensions(E[w]||G).w);var P=y[G];q=0;for(Q=P.length;q<Q;q+=1)N=P[q],x.push(this.getTextDimensions(N).w);u[G]=m.arrayMax(x);x=[]}}if(W){y=this.calculateLineHeight(v,u,E.length?E:v);w=0;for(L=v.length;w<
L;w+=1)G=v[w],F.push([e,k,u[G],y,String(E.length?E[w]:G)]);this.setTableHeaderRow(F);this.printHeaderRow(1,!1)}w=0;for(L=d.length;w<L;w+=1)for(E=d[w],y=this.calculateLineHeight(v,u,E),q=0,F=v.length;q<F;q+=1)G=v[q],this.cell(e,k,u[G],y,E[G],w+2,G.align);this.lastCellPos=l;this.table_x=e;this.table_y=k;return this};m.calculateLineHeight=function(e,k,d){for(var q,w=0,v=0;v<e.length;v++)q=e[v],d[q]=this.splitTextToSize(String(d[q]),k[q]-3),q=this.internal.getLineHeight()*d[q].length+3,q>w&&(w=q);return w};
m.setTableHeaderRow=function(e){this.tableHeaderRow=e};m.printHeaderRow=function(e,k){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var d;this.printingHeaderRow=!0;if(void 0!==a){var q=a(this,c);l={x:q[0],y:q[1],w:q[2],h:q[3],ln:-1}}this.setFontStyle("bold");var w=[];q=0;for(d=this.tableHeaderRow.length;q<d;q+=1){this.setFillColor(200,200,200);var v=this.tableHeaderRow[q];k&&(this.margins.top=13,v[1]=this.margins&&this.margins.top||0,w.push(v));v=[].concat(v);this.cell.apply(this,
v.concat(e))}0<w.length&&this.setTableHeaderRow(w);this.setFontStyle("normal");this.printingHeaderRow=!1}})(M.API);(function(m){function n(){this._isStrokeTransparent=!1;this._strokeOpacity=1;this.fillStyle=this.strokeStyle="#000000";this._isFillTransparent=!1;this._fillOpacity=1;this.font="12pt times";this.textBaseline="alphabetic";this.textAlign="start";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this._transform=[1,0,0,1,0,0];this.globalCompositeOperation="normal";this.globalAlpha=
1;this._clip_path=[];this.ignoreClearRect=!1;this.copy=function(f){this._isStrokeTransparent=f._isStrokeTransparent;this._strokeOpacity=f._strokeOpacity;this.strokeStyle=f.strokeStyle;this._isFillTransparent=f._isFillTransparent;this._fillOpacity=f._fillOpacity;this.fillStyle=f.fillStyle;this.font=f.font;this.lineWidth=f.lineWidth;this.lineJoin=f.lineJoin;this.lineCap=f.lineCap;this.textBaseline=f.textBaseline;this.textAlign=f.textAlign;this._fontSize=f._fontSize;this._transform=f._transform.slice(0);
this.globalCompositeOperation=f.globalCompositeOperation;this.globalAlpha=f.globalAlpha;this._clip_path=f._clip_path.slice(0);this.ignoreClearRect=f.ignoreClearRect}}m.events.push(["initialized",function(){this.context2d.pdf=this;this.context2d.internal.pdf=this;this.context2d.ctx=new n;this.context2d.ctxStack=[];this.context2d.path=[]}]);m.context2d={pageWrapXEnabled:!1,pageWrapYEnabled:!1,pageWrapX:9999999,pageWrapY:9999999,ctx:new n,f2:function(f){return f.toFixed(2)},fillRect:function(f,a,l,c){this._isFillTransparent()||
(f=this._wrapX(f),a=this._wrapY(a),f=this._matrix_map_rect(this.ctx._transform,{x:f,y:a,w:l,h:c}),this.pdf.rect(f.x,f.y,f.w,f.h,"f"))},strokeRect:function(f,a,l,c){this._isStrokeTransparent()||(f=this._wrapX(f),a=this._wrapY(a),f=this._matrix_map_rect(this.ctx._transform,{x:f,y:a,w:l,h:c}),this.pdf.rect(f.x,f.y,f.w,f.h,"s"))},clearRect:function(f,a,l,c){this.ctx.ignoreClearRect||(f=this._wrapX(f),a=this._wrapY(a),f=this._matrix_map_rect(this.ctx._transform,{x:f,y:a,w:l,h:c}),this.save(),this.setFillStyle("#ffffff"),
this.pdf.rect(f.x,f.y,f.w,f.h,"f"),this.restore())},save:function(){this.ctx._fontSize=this.pdf.internal.getFontSize();var f=new n;f.copy(this.ctx);this.ctxStack.push(this.ctx);this.ctx=f},restore:function(){this.ctx=this.ctxStack.pop();this.setFillStyle(this.ctx.fillStyle);this.setStrokeStyle(this.ctx.strokeStyle);this.setFont(this.ctx.font);this.pdf.setFontSize(this.ctx._fontSize);this.setLineCap(this.ctx.lineCap);this.setLineWidth(this.ctx.lineWidth);this.setLineJoin(this.ctx.lineJoin)},rect:function(f,
a,l,c){this.moveTo(f,a);this.lineTo(f+l,a);this.lineTo(f+l,a+c);this.lineTo(f,a+c);this.lineTo(f,a);this.closePath()},beginPath:function(){this.path=[]},closePath:function(){this.path.push({type:"close"})},_getRgba:function(f){var a={};if(this.internal.rxTransparent.test(f))a.r=0,a.g=0,a.b=0,a.a=0;else{var l=this.internal.rxRgb.exec(f);null!=l?(a.r=parseInt(l[1]),a.g=parseInt(l[2]),a.b=parseInt(l[3]),a.a=1):(l=this.internal.rxRgba.exec(f),null!=l?(a.r=parseInt(l[1]),a.g=parseInt(l[2]),a.b=parseInt(l[3]),
a.a=parseFloat(l[4])):(a.a=1,"#"!=f.charAt(0)&&((f=ia.colorNameToHex(f))||(f="#000000")),4===f.length?(a.r=f.substring(1,2),a.r+=r,a.g=f.substring(2,3),a.g+=g,a.b=f.substring(3,4),a.b+=b):(a.r=f.substring(1,3),a.g=f.substring(3,5),a.b=f.substring(5,7)),a.r=parseInt(a.r,16),a.g=parseInt(a.g,16),a.b=parseInt(a.b,16)))}a.style=f;return a},setFillStyle:function(f){var a,l,c;if(this.internal.rxTransparent.test(f))var h=c=l=a=0;else h=this.internal.rxRgb.exec(f),null!=h?(a=parseInt(h[1]),l=parseInt(h[2]),
c=parseInt(h[3]),h=1):(h=this.internal.rxRgba.exec(f),null!=h?(a=parseInt(h[1]),l=parseInt(h[2]),c=parseInt(h[3]),h=parseFloat(h[4])):(h=1,"#"!=f.charAt(0)&&((f=ia.colorNameToHex(f))||(f="#000000")),4===f.length?(a=f.substring(1,2),a+=a,l=f.substring(2,3),l+=l,c=f.substring(3,4),c+=c):(a=f.substring(1,3),l=f.substring(3,5),c=f.substring(5,7)),a=parseInt(a,16),l=parseInt(l,16),c=parseInt(c,16)));this.ctx.fillStyle=f;this.ctx._isFillTransparent=0==h;this.ctx._fillOpacity=h;this.pdf.setFillColor(a,l,
c,{a:h});this.pdf.setTextColor(a,l,c,{a:h})},setStrokeStyle:function(f){f=this._getRgba(f);this.ctx.strokeStyle=f.style;this.ctx._isStrokeTransparent=0==f.a;this.ctx._strokeOpacity=f.a;0===f.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(f.r,f.g,f.b)},fillText:function(f,a,l,c){if(!this._isFillTransparent()){a=this._wrapX(a);l=this._wrapY(l);l=this._matrix_map_point(this.ctx._transform,[a,l]);a=l[0];l=l[1];c=57.2958*this._matrix_rotation(this.ctx._transform);if(0<this.ctx._clip_path.length){var h=
window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();h.push("q");var e=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._fill(null,!0);this.ctx._clip_path=this.path;this.path=e}e=1;try{e=this._matrix_decompose(this._getTransform()).scale[0]}catch(d){console.warn(d)}if(.01>e)this.pdf.text(f,a,this._getBaseline(l),null,c);else{var k=this.pdf.internal.getFontSize();this.pdf.setFontSize(k*e);this.pdf.text(f,
a,this._getBaseline(l),null,c);this.pdf.setFontSize(k)}0<this.ctx._clip_path.length&&h.push("Q")}},strokeText:function(f,a,l,c){if(!this._isStrokeTransparent()){a=this._wrapX(a);l=this._wrapY(l);l=this._matrix_map_point(this.ctx._transform,[a,l]);a=l[0];l=l[1];c=57.2958*this._matrix_rotation(this.ctx._transform);if(0<this.ctx._clip_path.length){var h=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();h.push("q");var e=
this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._fill(null,!0);this.ctx._clip_path=this.path;this.path=e}e=1;try{e=this._matrix_decompose(this._getTransform()).scale[0]}catch(d){console.warn(d)}if(1===e)this.pdf.text(f,a,this._getBaseline(l),{stroke:!0},c);else{var k=this.pdf.internal.getFontSize();this.pdf.setFontSize(k*e);this.pdf.text(f,a,this._getBaseline(l),{stroke:!0},c);this.pdf.setFontSize(k)}0<this.ctx._clip_path.length&&h.push("Q")}},setFont:function(f){this.ctx.font=
f;var a=/\s*(\w+)\s+(\w+)\s+(\w+)\s+([\d\.]+)(px|pt|em)\s+(.*)?/;a=a.exec(f);if(null!=a){var l=a[1];f=a[3];var c=a[4],h=a[5];a=a[6];c="px"===h?Math.floor(parseFloat(c)):"em"===h?Math.floor(parseFloat(c)*this.pdf.getFontSize()):Math.floor(parseFloat(c));this.pdf.setFontSize(c);"bold"===f||"700"===f?this.pdf.setFontStyle("bold"):"italic"===l?this.pdf.setFontStyle("italic"):this.pdf.setFontStyle("normal");c=a.toLowerCase().split(/\s*,\s*/);-1!=c.indexOf("arial")?c="Arial":-1!=c.indexOf("verdana")?c=
"Verdana":-1!=c.indexOf("helvetica")?c="Helvetica":-1!=c.indexOf("sans-serif")?c="sans-serif":-1!=c.indexOf("fixed")?c="Fixed":-1!=c.indexOf("monospace")?c="Monospace":-1!=c.indexOf("terminal")?c="Terminal":-1!=c.indexOf("courier")?c="Courier":-1!=c.indexOf("times")?c="Times":-1!=c.indexOf("cursive")?c="Cursive":-1!=c.indexOf("fantasy")?c="Fantasy":(c.indexOf("serif"),c="Serif");this.pdf.setFont(c,"bold"===f?"bold":"normal")}else a=/\s*(\d+)(pt|px|em)\s+([\w "]+)\s*([\w "]+)?/,a=a.exec(f),null!=a&&
(l=a[1],f=a[3],(a=a[4])||(a="normal"),l="em"===h?Math.floor(parseFloat(c)*this.pdf.getFontSize()):Math.floor(parseFloat(l)),this.pdf.setFontSize(l),this.pdf.setFont(f,a))},setTextBaseline:function(f){this.ctx.textBaseline=f},getTextBaseline:function(){return this.ctx.textBaseline},setTextAlign:function(f){this.ctx.textAlign=f},getTextAlign:function(){return this.ctx.textAlign},setLineWidth:function(f){this.ctx.lineWidth=f;this.pdf.setLineWidth(f)},setLineCap:function(f){this.ctx.lineCap=f;this.pdf.setLineCap(f)},
setLineJoin:function(f){this.ctx.lineJoin=f;this.pdf.setLineJoin(f)},moveTo:function(f,a){f=this._wrapX(f);a=this._wrapY(a);a=this._matrix_map_point(this.ctx._transform,[f,a]);f=a[0];a=a[1];this.path.push({type:"mt",x:f,y:a})},_wrapX:function(f){return this.pageWrapXEnabled?f%this.pageWrapX:f},_wrapY:function(f){return this.pageWrapYEnabled?(this._gotoPage(this._page(f)),(f-this.lastBreak)%this.pageWrapY):f},transform:function(f,a,l,c,h,e){this.ctx._transform=[f,a,l,c,h,e]},setTransform:function(f,
a,l,c,h,e){this.ctx._transform=[f,a,l,c,h,e]},_getTransform:function(){return this.ctx._transform},lastBreak:0,pageBreaks:[],_page:function(f){if(this.pageWrapYEnabled){for(var a=this.lastBreak=0,l=0,c=0;c<this.pageBreaks.length;c++)if(f>=this.pageBreaks[c]){a++;0===this.lastBreak&&l++;var h=this.pageBreaks[c]-this.lastBreak;this.lastBreak=this.pageBreaks[c];h=Math.floor(h/this.pageWrapY);l+=h}0===this.lastBreak&&(h=Math.floor(f/this.pageWrapY)+1,l+=h);return l+a}return this.pdf.internal.getCurrentPageInfo().pageNumber},
_gotoPage:function(f){},lineTo:function(f,a){f=this._wrapX(f);a=this._wrapY(a);a=this._matrix_map_point(this.ctx._transform,[f,a]);f=a[0];a=a[1];this.path.push({type:"lt",x:f,y:a})},bezierCurveTo:function(f,a,l,c,h,e){f=this._wrapX(f);a=this._wrapY(a);l=this._wrapX(l);c=this._wrapY(c);h=this._wrapX(h);e=this._wrapY(e);var k=this._matrix_map_point(this.ctx._transform,[h,e]);h=k[0];e=k[1];k=this._matrix_map_point(this.ctx._transform,[f,a]);f=k[0];a=k[1];k=this._matrix_map_point(this.ctx._transform,
[l,c]);l=k[0];c=k[1];this.path.push({type:"bct",x1:f,y1:a,x2:l,y2:c,x:h,y:e})},quadraticCurveTo:function(f,a,l,c){f=this._wrapX(f);a=this._wrapY(a);l=this._wrapX(l);c=this._wrapY(c);var h=this._matrix_map_point(this.ctx._transform,[l,c]);l=h[0];c=h[1];h=this._matrix_map_point(this.ctx._transform,[f,a]);f=h[0];a=h[1];this.path.push({type:"qct",x1:f,y1:a,x:l,y:c})},arc:function(f,a,l,c,h,e){f=this._wrapX(f);a=this._wrapY(a);if(!this._matrix_is_identity(this.ctx._transform)){a=this._matrix_map_point(this.ctx._transform,
[f,a]);f=a[0];a=a[1];var k=this._matrix_map_point(this.ctx._transform,[0,0]);l=this._matrix_map_point(this.ctx._transform,[0,l]);l=Math.sqrt(Math.pow(l[0]-k[0],2)+Math.pow(l[1]-k[1],2))}this.path.push({type:"arc",x:f,y:a,radius:l,startAngle:c,endAngle:h,anticlockwise:e})},drawImage:function(f,a,l,c,h,e,k,d,q){void 0!==e&&(a=e,l=k,c=d,h=q);a=this._wrapX(a);l=this._wrapY(l);a=this._matrix_map_rect(this.ctx._transform,{x:a,y:l,w:c,h:h});this._matrix_map_rect(this.ctx._transform,{x:e,y:k,w:d,h:q});e=
/data:image\/(\w+).*/i.exec(f);this.pdf.addImage(f,null!=e?e[1]:"png",a.x,a.y,a.w,a.h)},_matrix_multiply:function(f,a){var l=a[0],c=a[1],h=a[2],e=a[3],k=a[4];a=a[5];var d=l*f[0]+c*f[2],q=h*f[0]+e*f[2],w=k*f[0]+a*f[2]+f[4];c=l*f[1]+c*f[3];e=h*f[1]+e*f[3];a=k*f[1]+a*f[3]+f[5];return[d,c,q,e,w,a]},_matrix_rotation:function(f){return Math.atan2(f[2],f[0])},_matrix_decompose:function(f){var a=f[0],l=f[1],c=f[2],h=f[3],e=Math.sqrt(a*a+l*l);a/=e;l/=e;var k=a*c+l*h;c-=a*k;h-=l*k;var d=Math.sqrt(c*c+h*h);
k/=d;h/d*a<c/d*l&&(a=-a,l=-l,k=-k,e=-e);return{scale:[e,0,0,d,0,0],translate:[1,0,0,1,f[4],f[5]],rotate:[a,l,-l,a,0,0],skew:[1,0,k,1,0,0]}},_matrix_map_point:function(f,a){var l=a[0];a=a[1];return[l*f[0]+a*f[2]+f[4],l*f[1]+a*f[3]+f[5]]},_matrix_map_point_obj:function(f,a){f=this._matrix_map_point(f,[a.x,a.y]);return{x:f[0],y:f[1]}},_matrix_map_rect:function(f,a){var l=this._matrix_map_point(f,[a.x,a.y]);f=this._matrix_map_point(f,[a.x+a.w,a.y+a.h]);return{x:l[0],y:l[1],w:f[0]-l[0],h:f[1]-l[1]}},_matrix_is_identity:function(f){return 1!=
f[0]||0!=f[1]||0!=f[2]||1!=f[3]||0!=f[4]||0!=f[5]?!1:!0},rotate:function(f){this.ctx._transform=this._matrix_multiply(this.ctx._transform,[Math.cos(f),Math.sin(f),-Math.sin(f),Math.cos(f),0,0])},scale:function(f,a){this.ctx._transform=this._matrix_multiply(this.ctx._transform,[f,0,0,a,0,0])},translate:function(f,a){this.ctx._transform=this._matrix_multiply(this.ctx._transform,[1,0,0,1,f,a])},stroke:function(){if(0<this.ctx._clip_path.length){var f=window.outIntercept?"group"===window.outIntercept.type?
window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();f.push("q");var a=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._stroke(!0);this.ctx._clip_path=this.path;this.path=a;this._stroke(!1);f.push("Q")}else this._stroke(!1)},_stroke:function(f){if(f||!this._isStrokeTransparent()){for(var a=[],l=this.path,c=0;c<l.length;c++){var h=l[c];switch(h.type){case "mt":a.push({start:h,deltas:[],abs:[]});break;case "lt":var e=[h.x-l[c-1].x,h.y-l[c-1].y];a[a.length-
1].deltas.push(e);a[a.length-1].abs.push(h);break;case "bct":e=[h.x1-l[c-1].x,h.y1-l[c-1].y,h.x2-l[c-1].x,h.y2-l[c-1].y,h.x-l[c-1].x,h.y-l[c-1].y];a[a.length-1].deltas.push(e);break;case "qct":e=[l[c-1].x+2/3*(h.x1-l[c-1].x)-l[c-1].x,l[c-1].y+2/3*(h.y1-l[c-1].y)-l[c-1].y,h.x+2/3*(h.x1-h.x)-l[c-1].x,h.y+2/3*(h.y1-h.y)-l[c-1].y,h.x-l[c-1].x,h.y-l[c-1].y];a[a.length-1].deltas.push(e);break;case "arc":0==a.length&&a.push({start:{x:0,y:0},deltas:[],abs:[]}),a[a.length-1].arc=!0,a[a.length-1].abs.push(h)}}for(c=
0;c<a.length;c++)if(l=c==a.length-1?"s":null,a[c].arc)for(h=a[c].abs,e=0;e<h.length;e++){var k=h[e],d=k.x,q=k.y;this.internal.arc2(this,d,q,k.radius,360*k.startAngle/(2*Math.PI),360*k.endAngle/(2*Math.PI),k.anticlockwise,l,f)}else d=a[c].start.x,q=a[c].start.y,f?(this.pdf.lines(a[c].deltas,d,q,null,null),this.pdf.clip_fixed()):this.pdf.lines(a[c].deltas,d,q,null,l)}},_isFillTransparent:function(){return this.ctx._isFillTransparent||0==this.globalAlpha},_isStrokeTransparent:function(){return this.ctx._isStrokeTransparent||
0==this.globalAlpha},fill:function(f){if(0<this.ctx._clip_path.length){var a=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();a.push("q");var l=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._fill(f,!0);this.ctx._clip_path=this.path;this.path=l;this._fill(f,!1);a.push("Q")}else this._fill(f,!1)},_fill:function(f,a){if(!this._isFillTransparent()){var l="function"===typeof this.pdf.internal.newObject2;
var c=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();var h=[],e=window.outIntercept;if(l)switch(this.ctx.globalCompositeOperation){case "normal":case "source-over":break;case "destination-in":case "destination-out":var k=this.pdf.internal.newStreamObject(),d=this.pdf.internal.newObject2();d.push("\x3c\x3c/Type /ExtGState");d.push("/SMask \x3c\x3c/S /Alpha /G "+k.objId+" 0 R\x3e\x3e");d.push("\x3e\x3e");var q="MASK"+
d.objId;this.pdf.internal.addGraphicsState(q,d.objId);q="/"+q+" gs";c.splice(0,0,"q");c.splice(1,0,q);c.push("Q");window.outIntercept=k;break;default:(c="/"+this.pdf.internal.blendModeMap[this.ctx.globalCompositeOperation.toUpperCase()])&&this.pdf.internal.out(c+" gs")}c=this.ctx.globalAlpha;1>this.ctx._fillOpacity&&(c=this.ctx._fillOpacity);l&&(l=this.pdf.internal.newObject2(),l.push("\x3c\x3c/Type /ExtGState"),l.push("/CA "+c),l.push("/ca "+c),l.push("\x3e\x3e"),q="GS_O_"+l.objId,this.pdf.internal.addGraphicsState(q,
l.objId),this.pdf.internal.out("/"+q+" gs"));c=this.path;for(l=0;l<c.length;l++)switch(k=c[l],k.type){case "mt":h.push({start:k,deltas:[],abs:[]});break;case "lt":q=[k.x-c[l-1].x,k.y-c[l-1].y];h[h.length-1].deltas.push(q);h[h.length-1].abs.push(k);break;case "bct":q=[k.x1-c[l-1].x,k.y1-c[l-1].y,k.x2-c[l-1].x,k.y2-c[l-1].y,k.x-c[l-1].x,k.y-c[l-1].y];h[h.length-1].deltas.push(q);break;case "qct":q=[c[l-1].x+2/3*(k.x1-c[l-1].x)-c[l-1].x,c[l-1].y+2/3*(k.y1-c[l-1].y)-c[l-1].y,k.x+2/3*(k.x1-k.x)-c[l-1].x,
k.y+2/3*(k.y1-k.y)-c[l-1].y,k.x-c[l-1].x,k.y-c[l-1].y];h[h.length-1].deltas.push(q);break;case "arc":0===h.length&&h.push({deltas:[],abs:[]});h[h.length-1].arc=!0;h[h.length-1].abs.push(k);break;case "close":h.push({close:!0})}for(l=0;l<h.length;l++)if(l==h.length-1?(q="f","evenodd"===f&&(q+="*")):q=null,h[l].close)this.pdf.internal.out("h"),this.pdf.internal.out("f");else if(h[l].arc)for(h[l].start&&this.internal.move2(this,h[l].start.x,h[l].start.y),q=h[l].abs,d=0;d<q.length;d++){var w=q[d];if("undefined"!==
typeof w.startAngle){var v=360*w.startAngle/(2*Math.PI),E=360*w.endAngle/(2*Math.PI);c=w.x;k=w.y;0===d&&this.internal.move2(this,c,k);this.internal.arc2(this,c,k,w.radius,v,E,w.anticlockwise,null,a);d===q.length-1&&h[l].start&&(c=h[l].start.x,k=h[l].start.y,this.internal.line2(p,c,k))}else this.internal.line2(p,w.x,w.y)}else c=h[l].start.x,k=h[l].start.y,a?(this.pdf.lines(h[l].deltas,c,k,null,null),this.pdf.clip_fixed()):this.pdf.lines(h[l].deltas,c,k,null,q);window.outIntercept=e}},pushMask:function(){if("function"!==
typeof this.pdf.internal.newObject2)console.log("jsPDF v2 not enabled");else{var f=this.pdf.internal.newStreamObject(),a=this.pdf.internal.newObject2();a.push("\x3c\x3c/Type /ExtGState");a.push("/SMask \x3c\x3c/S /Alpha /G "+f.objId+" 0 R\x3e\x3e");a.push("\x3e\x3e");f="MASK"+a.objId;this.pdf.internal.addGraphicsState(f,a.objId);this.pdf.internal.out("/"+f+" gs")}},clip:function(){if(0<this.ctx._clip_path.length)for(var f=0;f<this.path.length;f++)this.ctx._clip_path.push(this.path[f]);else this.ctx._clip_path=
this.path;this.path=[]},measureText:function(f){var a=this.pdf;return{getWidth:function(){var l=a.internal.getFontSize();return a.getStringUnitWidth(f)*l/a.internal.scaleFactor*1.3333}}},_getBaseline:function(f){var a=parseInt(this.pdf.internal.getFontSize()),l=.25*a;switch(this.ctx.textBaseline){case "bottom":return f-l;case "top":return f+a;case "hanging":return f+a-l;case "middle":return f+a/2-l;case "ideographic":return f;default:return f}}};var p=m.context2d;Object.defineProperty(p,"fillStyle",
{set:function(f){this.setFillStyle(f)},get:function(){return this.ctx.fillStyle}});Object.defineProperty(p,"strokeStyle",{set:function(f){this.setStrokeStyle(f)},get:function(){return this.ctx.strokeStyle}});Object.defineProperty(p,"lineWidth",{set:function(f){this.setLineWidth(f)},get:function(){return this.ctx.lineWidth}});Object.defineProperty(p,"lineCap",{set:function(f){this.setLineCap(f)},get:function(){return this.ctx.lineCap}});Object.defineProperty(p,"lineJoin",{set:function(f){this.setLineJoin(f)},
get:function(){return this.ctx.lineJoin}});Object.defineProperty(p,"miterLimit",{set:function(f){this.ctx.miterLimit=f},get:function(){return this.ctx.miterLimit}});Object.defineProperty(p,"textBaseline",{set:function(f){this.setTextBaseline(f)},get:function(){return this.getTextBaseline()}});Object.defineProperty(p,"textAlign",{set:function(f){this.setTextAlign(f)},get:function(){return this.getTextAlign()}});Object.defineProperty(p,"font",{set:function(f){this.setFont(f)},get:function(){return this.ctx.font}});
Object.defineProperty(p,"globalCompositeOperation",{set:function(f){this.ctx.globalCompositeOperation=f},get:function(){return this.ctx.globalCompositeOperation}});Object.defineProperty(p,"globalAlpha",{set:function(f){this.ctx.globalAlpha=f},get:function(){return this.ctx.globalAlpha}});Object.defineProperty(p,"ignoreClearRect",{set:function(f){this.ctx.ignoreClearRect=f},get:function(){return this.ctx.ignoreClearRect}});p.internal={};p.internal.rxRgb=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/;
p.internal.rxRgba=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/;p.internal.rxTransparent=/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/;p.internal.arc=function(f,a,l,c,h,e,k,d){var q=this.pdf.internal.scaleFactor,w=this.pdf.internal.pageSize.getHeight(),v=this.pdf.internal.f2;c=this.createArc(c,Math.PI/180*h,Math.PI/180*e,k);for(h=0;h<c.length;h++)e=c[h],0===h?this.pdf.internal.out([v((e.x1+a)*q),v((w-(e.y1+l))*q),"m",v((e.x2+a)*q),v((w-(e.y2+l))*q),v((e.x3+
a)*q),v((w-(e.y3+l))*q),v((e.x4+a)*q),v((w-(e.y4+l))*q),"c"].join(" ")):this.pdf.internal.out([v((e.x2+a)*q),v((w-(e.y2+l))*q),v((e.x3+a)*q),v((w-(e.y3+l))*q),v((e.x4+a)*q),v((w-(e.y4+l))*q),"c"].join(" ")),f._lastPoint={x:a,y:l};null!==d&&this.pdf.internal.out(this.pdf.internal.getStyle(d))};p.internal.arc2=function(f,a,l,c,h,e,k,d,q){q?(this.arc(f,a,l,c,h,e,k,null),this.pdf.clip_fixed()):this.arc(f,a,l,c,h,e,k,d)};p.internal.move2=function(f,a,l){var c=this.pdf.internal.scaleFactor,h=this.pdf.internal.pageSize.getHeight(),
e=this.pdf.internal.f2;this.pdf.internal.out([e(a*c),e((h-l)*c),"m"].join(" "));f._lastPoint={x:a,y:l}};p.internal.line2=function(f,a,l){var c=this.pdf.internal.scaleFactor,h=this.pdf.internal.pageSize.getHeight(),e=this.pdf.internal.f2;a={x:a,y:l};this.pdf.internal.out([e(a.x*c),e((h-a.y)*c),"l"].join(" "));f._lastPoint=a};p.internal.createArc=function(f,a,l,c){var h=2*Math.PI,e=Math.PI/2,k=a;if(k<h||k>h)k%=h;for(0>k&&(k=h+k);a>l;)a-=h;a=Math.abs(l-a);a<h&&c&&(a=h-a);h=[];for(c=c?-1:1;1E-5<a;)l=
k+c*Math.min(a,e),h.push(this.createSmallArc(f,k,l)),a-=Math.abs(l-k),k=l;return h};p.internal.getCurrentPage=function(){return this.pdf.internal.pages[this.pdf.internal.getCurrentPageInfo().pageNumber]};p.internal.createSmallArc=function(f,a,l){var c=(l-a)/2,h=f*Math.cos(c),e=f*Math.sin(c),k=-e,d=h*h+k*k,q=d+h*h+k*e;d=4/3*(Math.sqrt(2*d*q)-q)/(h*e-k*h);e=h-d*k;h=k+d*h;k=-h;d=c+a;c=Math.cos(d);d=Math.sin(d);return{x1:f*Math.cos(a),y1:f*Math.sin(a),x2:e*c-h*d,y2:e*d+h*c,x3:e*c-k*d,y3:e*d+k*c,x4:f*
Math.cos(l),y4:f*Math.sin(l)}};return this})(M.API);(function(m){var n=function(){function G(){}return function(z){G.prototype=z;return new G}}();var p=function(G){var z,P;var X=0;var Y=G.length;var ba=void 0;for(P=z=!1;!z&&X!==Y;)(ba=G[X]=G[X].trimLeft())&&(z=!0),X++;for(X=Y-1;Y&&!P&&-1!==X;)(ba=G[X]=G[X].trimRight())&&(P=!0),X--;z=/\s+$/g;P=!0;for(X=0;X!==Y;)"\u2028"!=G[X]&&(ba=G[X].replace(/\s+/g," "),P&&(ba=ba.trimLeft()),ba&&(P=z.test(ba)),G[X]=ba),X++;return G};var f=function(G,z,P,X){this.pdf=
G;this.x=z;this.y=P;this.settings=X;this.watchFunctions=[];this.init();return this};var a=function(G){var z=void 0;var P=G.split(",");for(G=P.shift();!z&&G;)z=u[G.trim().toLowerCase()],G=P.shift();return z};var l=function(G){G="auto"===G?"0px":G;-1<G.indexOf("em")&&!isNaN(Number(G.replace("em","")))&&(G=18.719*Number(G.replace("em",""))+"px");-1<G.indexOf("pt")&&!isNaN(Number(G.replace("pt","")))&&(G=1.333*Number(G.replace("pt",""))+"px");var z;if(z=N[G])return z;z={"xx-small":9,"x-small":11,small:13,
medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[{css_line_height_string:G}];if(void 0!==z||(z=parseFloat(G)))return N[G]=z/16;z=G.match(/([\d\.]+)(px)/);return 3===z.length?N[G]=parseFloat(z[1])/16:N[G]=1};var c=function(G){var z=function(X){var Y=function(ba){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(ba,null):ba.currentStyle?ba.currentStyle:ba.style}(X);return function(ba){ba=ba.replace(/-\D/g,function(oa){return oa.charAt(1).toUpperCase()});
return Y[ba]}}(G);G={};var P=void 0;G["font-family"]=a(z("font-family"))||"times";G["font-style"]=F[z("font-style")]||"normal";G["text-align"]=Q[z("text-align")]||"left";P=x[z("font-weight")]||"normal";"bold"===P&&(G["font-style"]="normal"===G["font-style"]?P:P+G["font-style"]);G["font-size"]=l(z("font-size"))||1;G["line-height"]=l(z("line-height"))||1;G.display="inline"===z("display")?"inline":"block";P="block"===G.display;G["margin-top"]=P&&l(z("margin-top"))||0;G["margin-bottom"]=P&&l(z("margin-bottom"))||
0;G["padding-top"]=P&&l(z("padding-top"))||0;G["padding-bottom"]=P&&l(z("padding-bottom"))||0;G["margin-left"]=P&&l(z("margin-left"))||0;G["margin-right"]=P&&l(z("margin-right"))||0;G["padding-left"]=P&&l(z("padding-left"))||0;G["padding-right"]=P&&l(z("padding-right"))||0;G["page-break-before"]=z("page-break-before")||"auto";G["float"]=W[z("cssFloat")]||"none";G.clear=L[z("clear")]||"none";G.color=z("color");return G};var h=function(G,z,P){var X,Y;var ba=!1;var oa=Y=void 0;if(X=P["#"+G.id])if("function"===
typeof X)ba=X(G,z);else for(Y=0,oa=X.length;!ba&&Y!==oa;)ba=X[Y](G,z),Y++;X=P[G.nodeName];if(!ba&&X)if("function"===typeof X)ba=X(G,z);else for(Y=0,oa=X.length;!ba&&Y!==oa;)ba=X[Y](G,z),Y++;return ba};var e=function(G,z){var P;var X=[];var Y=[];var ba=0;var oa=G.rows[0].cells.length;for(P=G.clientWidth;ba<oa;){var da=G.rows[0].cells[ba];Y[ba]={name:da.textContent.toLowerCase().replace(/\s+/g,""),prompt:da.textContent.replace(/\r?\n/g,""),width:da.clientWidth/P*z.pdf.internal.pageSize.getWidth()};
ba++}for(ba=1;ba<G.rows.length;){da=G.rows[ba];P={};for(z=0;z<da.cells.length;)P[Y[z].name]=da.cells[z].textContent.replace(/\r?\n/g,""),z++;X.push(P);ba++}return{rows:X,headers:Y}};var k={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},d=1;var q=function(G,z,P){var X,Y,ba;var oa=G.childNodes;var da=void 0;G=c(G);if(X="block"===G.display)z.setBlockBoundary(),z.setBlockStyle(G);var Ca=0;for(Y=oa.length;Ca<Y;){da=oa[Ca];if("object"===("undefined"===typeof da?"undefined":U(da))){z.executeWatchFunctions(da);
if(1===da.nodeType&&"HEADER"===da.nodeName){var qa=da,za=z.pdf.margins_doc.top;z.pdf.internal.events.subscribe("addPage",function(O){z.y=za;q(qa,z,P);z.pdf.margins_doc.top=z.y+10;z.y+=10},!1)}if(8===da.nodeType&&"#comment"===da.nodeName)~da.textContent.indexOf("ADD_PAGE")&&(z.pdf.addPage(),z.y=z.pdf.margins_doc.top);else if(1!==da.nodeType||k[da.nodeName])if(3===da.nodeType){if((ba=da.nodeValue)&&"LI"===da.parentNode.nodeName)if("OL"===da.parentNode.parentNode.nodeName)ba=d++ +". "+ba;else{var wa=
G["font-size"];var R=(3-.75*wa)*z.pdf.internal.scaleFactor,na=.75*wa*z.pdf.internal.scaleFactor,t=1.74*wa/z.pdf.internal.scaleFactor;wa=function(O,J){this.pdf.circle(O+R,J+na,t,"FD")}}da.ownerDocument.body.compareDocumentPosition(da)&16&&z.addText(ba,G)}else"string"===typeof da&&z.addText(da,G);else{if("IMG"===da.nodeName){var B=da.getAttribute("src");B=w[z.pdf.sHashCode(B)||B]}if(B){z.pdf.internal.pageSize.getHeight()-z.pdf.margins_doc.bottom<z.y+da.height&&z.y>z.pdf.margins_doc.top&&(z.pdf.addPage(),
z.y=z.pdf.margins_doc.top,z.executeWatchFunctions(da));ba=c(da);var C=z.x,I=12/z.pdf.internal.scaleFactor,H=(ba["margin-left"]+ba["padding-left"])*I,ka=(ba["margin-right"]+ba["padding-right"])*I,A=(ba["margin-top"]+ba["padding-top"])*I;I*=ba["margin-bottom"]+ba["padding-bottom"];C=void 0!==ba["float"]&&"right"===ba["float"]?C+(z.settings.width-da.width-ka):C+H;z.pdf.addImage(B,C,z.y+A,da.width,da.height);B=void 0;"right"===ba["float"]||"left"===ba["float"]?(z.watchFunctions.push(function(O,J,Z,S){return z.y>=
J?(z.x+=O,z.settings.width+=Z,!0):S&&1===S.nodeType&&!k[S.nodeName]&&z.x+S.width>z.pdf.margins_doc.left+z.pdf.margins_doc.width?(z.x+=O,z.y=J,z.settings.width+=Z,!0):!1}.bind(this,"left"===ba["float"]?-da.width-H-ka:0,z.y+da.height+A+I,da.width)),z.watchFunctions.push(function(O,J,Z){return z.y<O&&J===z.pdf.internal.getNumberOfPages()?1===Z.nodeType&&"both"===c(Z).clear?(z.y=O,!0):!1:!0}.bind(this,z.y+da.height,z.pdf.internal.getNumberOfPages())),z.settings.width-=da.width+H+ka,"left"===ba["float"]&&
(z.x+=da.width+H+ka)):z.y+=da.height+A+I}else"TABLE"===da.nodeName?(ba=e(da,z),z.y+=10,z.pdf.table(z.x,z.y,ba.rows,ba.headers,{autoSize:!1,printHeaders:P.printHeaders,margins:z.pdf.margins_doc,css:c(da)}),z.y=z.pdf.lastCellPos.y+z.pdf.lastCellPos.h+20):"OL"===da.nodeName||"UL"===da.nodeName?(d=1,h(da,z,P)||q(da,z,P),z.y+=10):"LI"===da.nodeName?(ba=z.x,z.x+=20/z.pdf.internal.scaleFactor,z.y+=3,h(da,z,P)||q(da,z,P),z.x=ba):"BR"===da.nodeName?(z.y+=G["font-size"]*z.pdf.internal.scaleFactor,z.addText("\u2028",
n(G))):h(da,z,P)||q(da,z,P)}}Ca++}P.outY=z.y;if(X)return z.setBlockBoundary(wa)};var w={};var v=function(G,z,P,X){function Y(){z.pdf.internal.events.publish("imagesLoaded");X(oa)}function ba(Ca,qa,za){if(Ca){var wa=new Image;oa=++da;wa.crossOrigin="";wa.onerror=wa.onload=function(){if(wa.complete&&(0===wa.src.indexOf("data:image/")&&(wa.width=qa||wa.width||0,wa.height=za||wa.height||0),wa.width+wa.height)){var R=z.pdf.sHashCode(Ca)||Ca;w[R]=w[R]||wa}--da||Y()};wa.src=Ca}}G=G.getElementsByTagName("img");
P=G.length;for(var oa,da=0;P--;)ba(G[P].getAttribute("src"),G[P].width,G[P].height);return da||Y()};var E=function(G,z,P){var X=G.getElementsByTagName("footer");if(0<X.length){X=X[0];G=z.pdf.internal.write;var Y=z.y;z.pdf.internal.write=function(){};q(X,z,P);var ba=Math.ceil(z.y-Y)+5;z.y=Y;z.pdf.internal.write=G;z.pdf.margins_doc.bottom+=ba;G=function(da){da=void 0!==da?da.pageNumber:1;var Ca=z.y;z.y=z.pdf.internal.pageSize.getHeight()-z.pdf.margins_doc.bottom;z.pdf.margins_doc.bottom-=ba;for(var qa=
X.getElementsByTagName("span"),za=0;za<qa.length;++za)-1<(" "+qa[za].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")&&(qa[za].innerHTML=da),-1<(" "+qa[za].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&(qa[za].innerHTML="###jsPDFVarTotalPages###");q(X,z,P);z.pdf.margins_doc.bottom+=ba;z.y=Ca};Y=X.getElementsByTagName("span");for(var oa=0;oa<Y.length;++oa)-1<(" "+Y[oa].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&z.pdf.internal.events.subscribe("htmlRenderingFinished",
z.pdf.putTotalPages.bind(z.pdf,"###jsPDFVarTotalPages###"),!0);z.pdf.internal.events.subscribe("addPage",G,!1);G();k.FOOTER=1}};var y=function(G,z,P,X,Y,ba){if(!z)return!1;"string"===typeof z||z.parentNode||(z=""+z.innerHTML);"string"===typeof z&&(z=function(Ca){var qa="jsPDFhtmlText"+Date.now().toString()+(1E3*Math.random()).toFixed(0);var za=document.createElement("div");za.style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;";
za.innerHTML='\x3ciframe style\x3d"height:1px;width:1px" name\x3d"'+qa+'" /\x3e';document.body.appendChild(za);za=window.frames[qa];za.document.open();za.document.writeln(Ca);za.document.close();return za.document.body}(z.replace(/<\/?script[^>]*?>/gi,"")));var oa=new f(G,P,X,Y),da;v.call(this,z,oa,Y.elementHandlers,function(Ca){E(z,oa,Y.elementHandlers);q(z,oa,Y.elementHandlers);oa.pdf.internal.events.publish("htmlRenderingFinished");da=oa.dispose();"function"===typeof ba?ba(da):Ca&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")});
return da||{x:oa.x,y:oa.y}};f.prototype.init=function(){this.paragraph={text:[],style:[]};return this.pdf.internal.write("q")};f.prototype.dispose=function(){this.pdf.internal.write("Q");return{x:this.x,y:this.y,ready:!0}};f.prototype.executeWatchFunctions=function(G){var z=!1,P=[];if(0<this.watchFunctions.length){for(var X=0;X<this.watchFunctions.length;++X)!0===this.watchFunctions[X](G)?z=!0:P.push(this.watchFunctions[X]);this.watchFunctions=P}return z};f.prototype.splitFragmentsIntoLines=function(G,
z){var P,X,Y,ba,oa,da;var Ca=this.pdf.internal.scaleFactor;var qa={};var za=X=P=da=Y=X=ba=P=void 0;var wa=[];var R=[wa];za=0;for(oa=this.settings.width;G.length;)if(Y=G.shift(),da=z.shift(),Y)if(P=da["font-family"],ba=da["font-style"],X=qa[P+ba],X||(X=this.pdf.internal.getFont(P,ba).metadata.Unicode,qa[P+ba]=X),P={widths:X.widths,kerning:X.kerning,fontSize:12*da["font-size"],textIndent:za},X=this.pdf.getStringUnitWidth(Y,P)*P.fontSize/Ca,"\u2028"==Y)wa=[],R.push(wa);else if(za+X>oa){za=this.pdf.splitTextToSize(Y,
oa,P);for(wa.push([za.shift(),da]);za.length;)wa=[[za.shift(),da]],R.push(wa);za=this.pdf.getStringUnitWidth(wa[0][0],P)*P.fontSize/Ca}else wa.push([Y,da]),za+=X;if(void 0!==da["text-align"]&&("center"===da["text-align"]||"right"===da["text-align"]||"justify"===da["text-align"]))for(G=0;G<R.length;++G)z=this.pdf.getStringUnitWidth(R[G][0][0],P)*P.fontSize/Ca,0<G&&(R[G][0][1]=n(R[G][0][1])),z=oa-z,"right"===da["text-align"]?R[G][0][1]["margin-left"]=z:"center"===da["text-align"]?R[G][0][1]["margin-left"]=
z/2:"justify"===da["text-align"]&&(qa=R[G][0][0].split(" ").length-1,R[G][0][1]["word-spacing"]=z/qa,G===R.length-1&&(R[G][0][1]["word-spacing"]=0));return R};f.prototype.RenderTextFragment=function(G,z){var P=0;this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),
z.color,"Td"),P=Math.max(P,z["line-height"],z["font-size"]),this.pdf.internal.write(0,(-12*P).toFixed(2),"Td"));P=this.pdf.internal.getFont(z["font-family"],z["font-style"]);var X=this.getPdfColor(z.color);X!==this.lastTextColor&&(this.pdf.internal.write(X),this.lastTextColor=X);void 0!==z["word-spacing"]&&0<z["word-spacing"]&&this.pdf.internal.write(z["word-spacing"].toFixed(2),"Tw");this.pdf.internal.write("/"+P.id,(12*z["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(G)+") Tj");void 0!==
z["word-spacing"]&&this.pdf.internal.write(0,"Tw")};f.prototype.getPdfColor=function(G){var z=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(G);if(null!=z){var P=parseInt(z[1]);var X=parseInt(z[2]);G=parseInt(z[3])}else"#"!=G.charAt(0)&&((G=ia.colorNameToHex(G))||(G="#000000")),P=G.substring(1,3),P=parseInt(P,16),X=G.substring(3,5),X=parseInt(X,16),G=G.substring(5,7),G=parseInt(G,16);"string"===typeof P&&/^#[0-9A-Fa-f]{6}$/.test(P)&&(G=parseInt(P.substr(1),16),P=G>>16&255,X=G>>8&255,G&=255);z=this.f3;
return 0===P&&0===X&&0===G||"undefined"===typeof X?z(P/255)+" g":[z(P/255),z(X/255),z(G/255),"rg"].join(" ")};f.prototype.f3=function(G){return G.toFixed(3)};f.prototype.renderParagraph=function(G){var z,P;var X=p(this.paragraph.text);var Y=this.paragraph.style;var ba=this.paragraph.blockstyle;this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:ba};if(X.join("").trim()){Y=this.splitFragmentsIntoLines(X,Y);var oa=P=void 0;X=12/this.pdf.internal.scaleFactor;this.priorMarginBottom=this.priorMarginBottom||
0;P=(Math.max((ba["margin-top"]||0)-this.priorMarginBottom,0)+(ba["padding-top"]||0))*X;var da=((ba["margin-bottom"]||0)+(ba["padding-bottom"]||0))*X;this.priorMarginBottom=ba["margin-bottom"]||0;"always"===ba["page-break-before"]&&(this.pdf.addPage(),this.y=0,P=((ba["margin-top"]||0)+(ba["padding-top"]||0))*X);var Ca=this.pdf.internal.write;var qa=z=void 0;this.y+=P;Ca("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var za=
0;Y.length;){P=Y.shift();z=oa=0;for(qa=P.length;z!==qa;){if(P[z][0].trim()){oa=Math.max(oa,P[z][1]["line-height"],P[z][1]["font-size"]);var wa=7*P[z][1]["font-size"]}z++}qa=z=0;void 0!==P[0][1]["margin-left"]&&0<P[0][1]["margin-left"]&&(qa=this.pdf.internal.getCoordinateString(P[0][1]["margin-left"]),z=qa-za,za=qa);Ca(z+Math.max(ba["margin-left"]||0,0)*X,(-12*oa).toFixed(2),"Td");z=0;for(qa=P.length;z!==qa;)P[z][0]&&this.RenderTextFragment(P[z][0],P[z][1]),z++;this.y+=oa*X;if(this.executeWatchFunctions(P[0][1])&&
0<Y.length){var R=[],na=[];Y.forEach(function(t){for(var B=0,C=t.length;B!==C;)t[B][0]&&(R.push(t[B][0]+" "),na.push(t[B][1])),++B});Y=this.splitFragmentsIntoLines(p(R),na);Ca("ET","Q");Ca("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}G&&"function"===typeof G&&G.call(this,this.x-9,this.y-wa/2);Ca("ET","Q");return this.y+=da}};f.prototype.setBlockBoundary=function(G){return this.renderParagraph(G)};f.prototype.setBlockStyle=
function(G){return this.paragraph.blockstyle=G};f.prototype.addText=function(G,z){this.paragraph.text.push(G);return this.paragraph.style.push(z)};var u={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"};var x={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"};var F={normal:"normal",italic:"italic",
oblique:"italic"};var Q={left:"left",right:"right",center:"center",justify:"justify"};var W={none:"none",right:"right",left:"left"};var L={none:"none",both:"both"};var N={normal:1};m.fromHTML=function(G,z,P,X,Y,ba){this.margins_doc=ba||{top:0,bottom:0};X||(X={});X.elementHandlers||(X.elementHandlers={});return y(this,G,isNaN(z)?4:z,isNaN(P)?4:P,X,Y)}})(M.API);(function(m){var n,p,f;m.addJS=function(a){f=a;this.internal.events.subscribe("postPutResources",function(l){n=this.internal.newObject();this.internal.write("\x3c\x3c /Names [(EmbeddedJS) "+
(n+1)+" 0 R] \x3e\x3e","endobj");p=this.internal.newObject();this.internal.write("\x3c\x3c /S /JavaScript /JS (",f,") \x3e\x3e","endobj")});this.internal.events.subscribe("putCatalog",function(){void 0!==n&&void 0!==p&&this.internal.write("/Names \x3c\x3c/JavaScript "+n+" 0 R\x3e\x3e")});return this}})(M.API);(function(m){m.events.push(["postPutResources",function(){var n=/^(\d+) 0 obj$/;if(0<this.outline.root.children.length)for(var p=this.outline.render().split(/\r\n/),f=0;f<p.length;f++){var a=
p[f],l=n.exec(a);null!=l&&this.internal.newObjectDeferredBegin(l[1]);this.internal.write(a)}if(this.outline.createNamedDestinations){p=this.internal.pages.length;n=[];for(f=0;f<p;f++)a=this.internal.newObject(),n.push(a),a=this.internal.getPageInfo(f+1),this.internal.write("\x3c\x3c /D["+a.objId+" 0 R /XYZ null null null]\x3e\x3e endobj");p=this.internal.newObject();this.internal.write("\x3c\x3c /Names [ ");for(f=0;f<n.length;f++)this.internal.write("(page_"+(f+1)+")"+n[f]+" 0 R");this.internal.write(" ] \x3e\x3e",
"endobj");this.internal.newObject();this.internal.write("\x3c\x3c /Dests "+p+" 0 R");this.internal.write("\x3e\x3e","endobj")}}]);m.events.push(["putCatalog",function(){0<this.outline.root.children.length&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+namesOid+" 0 R"))}]);m.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}};n.outline.add=function(p,
f,a){f={title:f,options:a,children:[]};null==p&&(p=this.root);p.children.push(f);return f};n.outline.render=function(){this.ctx={};this.ctx.val="";this.ctx.pdf=n;this.genIds_r(this.root);this.renderRoot(this.root);this.renderItems(this.root);return this.ctx.val};n.outline.genIds_r=function(p){p.id=n.internal.newObjectDeferred();for(var f=0;f<p.children.length;f++)this.genIds_r(p.children[f])};n.outline.renderRoot=function(p){this.objStart(p);this.line("/Type /Outlines");0<p.children.length&&(this.line("/First "+
this.makeRef(p.children[0])),this.line("/Last "+this.makeRef(p.children[p.children.length-1])));this.line("/Count "+this.count_r({count:0},p));this.objEnd()};n.outline.renderItems=function(p){for(var f=0;f<p.children.length;f++){var a=p.children[f];this.objStart(a);this.line("/Title "+this.makeString(a.title));this.line("/Parent "+this.makeRef(p));0<f&&this.line("/Prev "+this.makeRef(p.children[f-1]));f<p.children.length-1&&this.line("/Next "+this.makeRef(p.children[f+1]));0<a.children.length&&(this.line("/First "+
this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);0<l&&this.line("/Count "+l);a.options&&a.options.pageNumber&&(a=n.internal.getPageInfo(a.options.pageNumber),this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+this.ctx.pdf.internal.pageSize.getHeight()+" 0]"));this.objEnd()}for(f=0;f<p.children.length;f++)a=p.children[f],this.renderItems(a)};n.outline.line=function(p){this.ctx.val+=p+"\r\n"};n.outline.makeRef=function(p){return p.id+
" 0 R"};n.outline.makeString=function(p){return"("+n.internal.pdfEscape(p)+")"};n.outline.objStart=function(p){this.ctx.val+="\r\n"+p.id+" 0 obj\r\n\x3c\x3c\r\n"};n.outline.objEnd=function(p){this.ctx.val+="\x3e\x3e \r\nendobj\r\n"};n.outline.count_r=function(p,f){for(var a=0;a<f.children.length;a++)p.count++,this.count_r(p,f.children[a]);return p.count}}]);return this})(M.API);(function(m){var n=function(h,e,k,d){var q=5,w=a;switch(d){case m.image_compression.FAST:q=3;w=f;break;case m.image_compression.MEDIUM:q=
6;w=l;break;case m.image_compression.SLOW:q=9,w=c}d=h.length/e;for(var v=new Uint8Array(h.length+d),E=[p,f,a,l,c],y=0,u,x,F;y<d;y++){F=y*e;u=h.subarray(F,F+e);if(w)v.set(w(u,k,x),F+y);else{for(var Q=0,W=E.length,L=[];Q<W;Q++)L[Q]=E[Q](u,k,x);var N=Q=x=void 0;W=L.concat();for(var G=0,z=W.length;G<z;){N=W[G].slice(1);for(var P=0,X=N.length,Y=0;P<X;)Y+=Math.abs(N[P++]);N=Y;if(N<Q||!Q)Q=N,x=G;G++}v.set(L[x],F+y)}x=u}h=v;e=Uint8Array;k=Math.LOG2E*Math.log(32768)-8<<4|8;w=k<<8|0;w+=31-w%31;e=new e([k,w&
255]);k=1;w=0;d=h.length;for(E=0;0<d;){v=void 0<d?void 0:d;d-=v;do k+=h[E++],w+=k;while(--v);k%=65521;w%=65521}k=(w<<16|k)>>>0;w=new ca(q);q=w.append(h);h=w.flush();w=e.length+q.length+h.length;d=new Uint8Array(w+4);d.set(e);d.set(q,e.length);d.set(h,e.length+q.length);d[w++]=k>>>24&255;d[w++]=k>>>16&255;d[w++]=k>>>8&255;d[w++]=k&255;return m.arrayBufferToBinaryString(d)},p=function(h,e,k){h=Array.apply([],h);h.unshift(0);return h},f=function(h,e,k){k=[];var d=0,q=h.length;for(k[0]=1;d<q;d++){var w=
h[d-e]||0;k[d+1]=h[d]-w+256&255}return k},a=function(h,e,k){e=[];var d=0,q=h.length;for(e[0]=2;d<q;d++){var w=k&&k[d]||0;e[d+1]=h[d]-w+256&255}return e},l=function(h,e,k){var d=[],q=0,w=h.length;for(d[0]=3;q<w;q++){var v=h[q-e]||0;var E=k&&k[q]||0;d[q+1]=h[q]+256-(v+E>>>1)&255}return d},c=function(h,e,k){var d=[],q=0,w=h.length;for(d[0]=4;q<w;q++){var v=h[q-e]||0;var E=k&&k[q]||0;var y=k&&k[q-e]||0;var u=v+E-y,x=Math.abs(u-v),F=Math.abs(u-E);u=Math.abs(u-y);v=x<=F&&x<=u?v:F<=u?E:y;d[q+1]=h[q]-v+256&
255}return d};m.processPNG=function(h,e,k,d,q){q=this.color_spaces.DEVICE_RGB;var w=this.decode.FLATE_DECODE,v=8;this.isArrayBuffer(h)&&(h=new Uint8Array(h));if(this.isArrayBufferView(h)){if("function"!==typeof D.PNG||"function"!==typeof T)throw Error("PNG support requires png.js and zlib.js");var E=new D.PNG(h);h=E.imgData;v=E.bits;q=E.colorSpace;var y=E.colors;if(-1!==[4,6].indexOf(E.colorType)){if(8===E.bits){var u=32==E.pixelBitlength?new Uint32Array(E.decodePixels().buffer):16==E.pixelBitlength?
new Uint16Array(E.decodePixels().buffer):new Uint8Array(E.decodePixels().buffer);var x=u.length,F=new Uint8Array(x*E.colors),Q=new Uint8Array(x),W=E.pixelBitlength-E.bits,L=0;h=0;for(var N,G;L<x;L++){N=u[L];for(G=0;G<W;)F[h++]=N>>>G&255,G+=E.bits;Q[L]=N>>>G&255}}if(16===E.bits){u=new Uint32Array(E.decodePixels().buffer);x=u.length;F=new Uint8Array(32/E.pixelBitlength*x*E.colors);Q=new Uint8Array(32/E.pixelBitlength*x);v=1<E.colors;for(W=h=L=0;L<x;)N=u[L++],F[h++]=N>>>0&255,v&&(F[h++]=N>>>16&255,N=
u[L++],F[h++]=N>>>0&255),Q[W++]=N>>>16&255;v=8}if(x=d!==m.image_compression.NONE)if(x="function"===typeof ca,!x)throw Error("requires deflate.js for compression");x?(h=n(F,E.width*E.colors,E.colors,d),u=n(Q,E.width,1,d)):(h=F,u=Q,w=null)}if(3===E.colorType){q=this.color_spaces.INDEXED;var z=E.palette;if(E.transparency.indexed){F=E.transparency.indexed;L=Q=0;for(x=F.length;L<x;++L)Q+=F[L];Q/=255;if(Q===x-1&&-1!==F.indexOf(0))var P=[F.indexOf(0)];else if(Q!==x){u=E.decodePixels();Q=new Uint8Array(u.length);
L=0;for(x=u.length;L<x;L++)Q[L]=F[u[L]];u=n(Q,E.width,1)}}}switch(d){case m.image_compression.FAST:d=11;break;case m.image_compression.MEDIUM:d=13;break;case m.image_compression.SLOW:d=14;break;default:d=12}y=w===this.decode.FLATE_DECODE?"/Predictor "+d+" /Colors "+y+" /BitsPerComponent "+v+" /Columns "+E.width:"/Colors "+y+" /BitsPerComponent "+v+" /Columns "+E.width;if(this.isArrayBuffer(h)||this.isArrayBufferView(h))h=this.arrayBufferToBinaryString(h);if(u&&this.isArrayBuffer(u)||this.isArrayBufferView(u))u=
this.arrayBufferToBinaryString(u);return this.createImageInfo(h,E.width,E.height,q,v,w,e,k,y,P,z,u,d)}throw Error("Unsupported PNG image data, try using JPEG instead.");}})(M.API);(function(m){var n=m.getCharWidthsArray=function(c,h){h||(h={});var e=h.widths?h.widths:this.internal.getFont().metadata.Unicode.widths,k=e.fof?e.fof:1;h=h.kerning?h.kerning:this.internal.getFont().metadata.Unicode.kerning;var d=h.fof?h.fof:1,q,w=0,v=e[0]||k,E=[];var y=0;for(q=c.length;y<q;y++){var u=c.charCodeAt(y);E.push((e[u]||
v)/k+(h[u]&&h[u][w]||0)/d);w=u}return E},p=function(c){for(var h=c.length,e=0;h;)h--,e+=c[h];return e},f=m.getStringUnitWidth=function(c,h){return p(n.call(this,c,h))},a=function(c,h,e,k){for(var d=[],q=0,w=c.length,v=0;q!==w&&v+h[q]<e;)v+=h[q],q++;d.push(c.slice(0,q));e=q;for(v=0;q!==w;)v+h[q]>k&&(d.push(c.slice(e,q)),v=0,e=q),v+=h[q],q++;e!==q&&d.push(c.slice(e,q));return d},l=function(c,h,e){e||(e={});var k=[],d=[k],q=e.textIndent||0,w=0,v=0,E=c.split(" "),y=n(" ",e)[0],u,x;if(x=-1===e.lineIndent?
E[0].length+2:e.lineIndent||0){var F=Array(x).join(" "),Q=[];E.map(function(G){G=G.split(/\s*\n/);1<G.length?Q=Q.concat(G.map(function(z,P){return(P&&z.length?"\n":"")+z})):Q.push(G[0])});E=Q;x=f(F,e)}var W=0;for(u=E.length;W<u;W++){var L=0;c=E[W];x&&"\n"==c[0]&&(c=c.substr(1),L=1);var N=n(c,e);v=p(N);if(q+w+v>h||L){if(v>h){q=a(c,N,h-(q+w),h);k.push(q.shift());for(k=[q.pop()];q.length;)d.push([q.shift()]);v=p(N.slice(c.length-k[0].length))}else k=[c];d.push(k);q=v+x}else k.push(c),q+=w+v;w=y}return d.map(x?
function(G,z){return(z?F:"")+G.join(" ")}:function(G){return G.join(" ")})};m.splitTextToSize=function(c,h,e){e||(e={});var k=e.fontSize||this.internal.getFontSize();var d=e;var q={0:1};var w={};d.widths&&d.kerning?q={widths:d.widths,kerning:d.kerning}:(d=this.internal.getFont(d.fontName,d.fontStyle),q=d.metadata.Unicode?{widths:d.metadata.Unicode.widths||q,kerning:d.metadata.Unicode.kerning||w}:{widths:q,kerning:w});c=Array.isArray(c)?c:c.split(/\r?\n/);h=1*this.internal.scaleFactor*h/k;q.textIndent=
e.textIndent?1*e.textIndent*this.internal.scaleFactor/k:0;q.lineIndent=e.lineIndent;w=[];e=0;for(k=c.length;e<k;e++)w=w.concat(l(c[e],h,q));return w}})(M.API);(function(m){var n=function(l){for(var c={},h=0;16>h;h++)c["klmnopqrstuvwxyz"[h]]="0123456789abcdef"[h];var e={},k=1,d=e,q=[],w="",v="",E=l.length-1;for(h=1;h!=E;){var y=l[h];h+=1;if("'"==y)if(x){var u=x.join("");var x=void 0}else x=[];else x?x.push(y):"{"==y?(q.push([d,u]),d={},u=void 0):"}"==y?(y=q.pop(),y[0][y[1]]=d,u=void 0,d=y[0]):"-"==
y?k=-1:void 0===u?c.hasOwnProperty(y)?(w+=c[y],u=parseInt(w,16)*k,k=1,w=""):w+=y:c.hasOwnProperty(y)?(v+=c[y],d[u]=parseInt(v,16)*k,k=1,u=void 0,v=""):v+=y}return e},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:n("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,
"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},a={Unicode:{"Courier-Oblique":n("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":n("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),
"Helvetica-Bold":n("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),
Courier:n("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":n("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":n("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),
Helvetica:n("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),
"Helvetica-BoldOblique":n("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),
"Courier-Bold":n("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":n("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),
"Times-Roman":n("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),
"Helvetica-Oblique":n("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};
m.events.push(["addFont",function(l){var c;if(c=a.Unicode[l.PostScriptName]){var h=l.metadata.Unicode?l.metadata.Unicode:l.metadata.Unicode={};h.widths=c.widths;h.kerning=c.kerning}if(c=f.Unicode[l.PostScriptName])h=l.metadata.Unicode?l.metadata.Unicode:l.metadata.Unicode={},h.encoding=c,c.codePages&&c.codePages.length&&(l.encoding=c.codePages[0])}])})(M.API);(function(m){m.addSVG=function(n,p,f,a,l){function c(d){for(var q=parseFloat(d[1]),w=parseFloat(d[2]),v=[],E=3,y=d.length;E<y;)"c"===d[E]?(v.push([parseFloat(d[E+
1]),parseFloat(d[E+2]),parseFloat(d[E+3]),parseFloat(d[E+4]),parseFloat(d[E+5]),parseFloat(d[E+6])]),E+=7):"l"===d[E]?(v.push([parseFloat(d[E+1]),parseFloat(d[E+2])]),E+=3):E+=1;return[q,w,v]}if(void 0===p||void 0===f)throw Error("addSVG needs values for 'x' and 'y'");var h=function(d){var q=d.createElement("iframe"),w=d.createElement("style");w.type="text/css";w.styleSheet?w.styleSheet.cssText=".jsPDF_sillysvg_iframe {display:none;position:absolute;}":w.appendChild(d.createTextNode(".jsPDF_sillysvg_iframe {display:none;position:absolute;}"));
d.getElementsByTagName("head")[0].appendChild(w);q.name="childframe";q.setAttribute("width",0);q.setAttribute("height",0);q.setAttribute("frameborder","0");q.setAttribute("scrolling","no");q.setAttribute("seamless","seamless");q.setAttribute("class","jsPDF_sillysvg_iframe");d.body.appendChild(q);return q}(document);h=function(d,q){q=(q.contentWindow||q.contentDocument).document;q.write(d);q.close();return q.getElementsByTagName("svg")[0]}(n,h);n=[1,1];var e=parseFloat(h.getAttribute("width")),k=parseFloat(h.getAttribute("height"));
e&&k&&(a&&l?n=[a/e,l/k]:a?n=[a/e,a/e]:l&&(n=[l/k,l/k]));h=h.childNodes;a=0;for(l=h.length;a<l;a++)e=h[a],e.tagName&&"PATH"===e.tagName.toUpperCase()&&(e=c(e.getAttribute("d").split(" ")),e[0]=e[0]*n[0]+p,e[1]=e[1]*n[1]+f,this.lines.call(this,e[2],e[0],e[1],n));return this}})(M.API);(function(m){m.putTotalPages=function(n){n=new RegExp(n,"g");for(var p=1;p<=this.internal.getNumberOfPages();p++)for(var f=0;f<this.internal.pages[p].length;f++)this.internal.pages[p][f]=this.internal.pages[p][f].replace(n,
this.internal.getNumberOfPages());return this}})(M.API);(function(m){var n="",p="",f="";m.addMetadata=function(a,l){p=l||"http://jspdf.default.namespaceuri/";n=a;this.internal.events.subscribe("postPutResources",function(){if(n){var c='\x3crdf:RDF xmlns:rdf\x3d"http://www.w3.org/1999/02/22-rdf-syntax-ns#"\x3e\x3crdf:Description rdf:about\x3d"" xmlns:jspdf\x3d"'+p+'"\x3e\x3cjspdf:metadata\x3e',h=unescape(encodeURIComponent('\x3cx:xmpmeta xmlns:x\x3d"adobe:ns:meta/"\x3e'));c=unescape(encodeURIComponent(c));
var e=unescape(encodeURIComponent(n)),k=unescape(encodeURIComponent("\x3c/jspdf:metadata\x3e\x3c/rdf:Description\x3e\x3c/rdf:RDF\x3e")),d=unescape(encodeURIComponent("\x3c/x:xmpmeta\x3e")),q=c.length+e.length+k.length+h.length+d.length;f=this.internal.newObject();this.internal.write("\x3c\x3c /Type /Metadata /Subtype /XML /Length "+q+" \x3e\x3e");this.internal.write("stream");this.internal.write(h+c+e+k+d);this.internal.write("endstream");this.internal.write("endobj")}else f=""});this.internal.events.subscribe("putCatalog",
function(){f&&this.internal.write("/Metadata "+f+" 0 R")});return this}})(M.API);M.adler32cs=function(){var m="function"===typeof ArrayBuffer&&"function"===typeof Uint8Array,n=null,p=function(){if(!m)return function(){return!1};try{var e={};"function"===typeof e.Buffer&&(n=e.Buffer)}catch(k){}return function(k){return k instanceof ArrayBuffer||null!==n&&k instanceof n}}(),f=function(){return null!==n?function(e){return(new n(e,"utf8")).toString("binary")}:function(e){return unescape(encodeURIComponent(e))}}(),
a=function(e,k){var d=e&65535;e>>>=16;for(var q=0,w=k.length;q<w;q++)d=(d+(k.charCodeAt(q)&255))%65521,e=(e+d)%65521;return(e<<16|d)>>>0},l=function(e,k){var d=e&65535;e>>>=16;for(var q=0,w=k.length;q<w;q++)d=(d+k[q])%65521,e=(e+d)%65521;return(e<<16|d)>>>0},c={},h=c.Adler32=function(){var e=function(d){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(d=null==d?1:+d))throw Error("First arguments needs to be a finite number.");this.checksum=d>>>
0},k=e.prototype={};k.constructor=e;e.from=function(d){d.prototype=k;return d}(function(d){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(null==d)throw Error("First argument needs to be a string.");this.checksum=a(1,d.toString())});e.fromUtf8=function(d){d.prototype=k;return d}(function(d){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(null==d)throw Error("First argument needs to be a string.");d=f(d.toString());
this.checksum=a(1,d)});m&&(e.fromBuffer=function(d){d.prototype=k;return d}(function(d){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(!p(d))throw Error("First argument needs to be ArrayBuffer.");d=new Uint8Array(d);return this.checksum=l(1,d)}));k.update=function(d){if(null==d)throw Error("First argument needs to be a string.");d=d.toString();return this.checksum=a(this.checksum,d)};k.updateUtf8=function(d){if(null==d)throw Error("First argument needs to be a string.");
d=f(d.toString());return this.checksum=a(this.checksum,d)};m&&(k.updateBuffer=function(d){if(!p(d))throw Error("First argument needs to be ArrayBuffer.");d=new Uint8Array(d);return this.checksum=l(this.checksum,d)});k.clone=function(){return new h(this.checksum)};return e}();c.from=function(e){if(null==e)throw Error("First argument needs to be a string.");return a(1,e.toString())};c.fromUtf8=function(e){if(null==e)throw Error("First argument needs to be a string.");e=f(e.toString());return a(1,e)};
m&&(c.fromBuffer=function(e){if(!p(e))throw Error("First argument need to be ArrayBuffer.");e=new Uint8Array(e);return l(1,e)});return c};var ia={_colorsTable:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",
cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",
floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",
lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",
mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",
seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},colorNameToHex:function(m){m=m.toLowerCase();return"undefined"!=typeof this._colorsTable[m]?this._colorsTable[m]:!1}},ca=
function(m){function n(){var d=this;d.build_tree=function(q){var w=d.dyn_tree,v=d.stat_desc.static_tree,E=d.stat_desc.elems,y,u=-1;q.heap_len=0;q.heap_max=573;for(y=0;y<E;y++)0!==w[2*y]?(q.heap[++q.heap_len]=u=y,q.depth[y]=0):w[2*y+1]=0;for(;2>q.heap_len;){var x=q.heap[++q.heap_len]=2>u?++u:0;w[2*x]=1;q.depth[x]=0;q.opt_len--;v&&(q.static_len-=v[2*x+1])}d.max_code=u;for(y=Math.floor(q.heap_len/2);1<=y;y--)q.pqdownheap(w,y);x=E;do y=q.heap[1],q.heap[1]=q.heap[q.heap_len--],q.pqdownheap(w,1),v=q.heap[1],
q.heap[--q.heap_max]=y,q.heap[--q.heap_max]=v,w[2*x]=w[2*y]+w[2*v],q.depth[x]=Math.max(q.depth[y],q.depth[v])+1,w[2*y+1]=w[2*v+1]=x,q.heap[1]=x++,q.pqdownheap(w,1);while(2<=q.heap_len);q.heap[--q.heap_max]=q.heap[1];y=d.dyn_tree;u=d.stat_desc.static_tree;var F=d.stat_desc.extra_bits,Q=d.stat_desc.extra_base,W=d.stat_desc.max_length,L=0;for(E=0;15>=E;E++)q.bl_count[E]=0;y[2*q.heap[q.heap_max]+1]=0;for(x=q.heap_max+1;573>x;x++)if(v=q.heap[x],E=y[2*y[2*v+1]+1]+1,E>W&&(E=W,L++),y[2*v+1]=E,!(v>d.max_code)){q.bl_count[E]++;
var N=0;v>=Q&&(N=F[v-Q]);var G=y[2*v];q.opt_len+=G*(E+N);u&&(q.static_len+=G*(u[2*v+1]+N))}if(0!==L){do{for(E=W-1;0===q.bl_count[E];)E--;q.bl_count[E]--;q.bl_count[E+1]+=2;q.bl_count[W]--;L-=2}while(0<L);for(E=W;0!==E;E--)for(v=q.bl_count[E];0!==v;)u=q.heap[--x],u>d.max_code||(y[2*u+1]!=E&&(q.opt_len+=(E-y[2*u+1])*y[2*u],y[2*u+1]=E),v--)}y=d.max_code;x=q.bl_count;q=[];v=0;for(E=1;15>=E;E++)q[E]=v=v+x[E-1]<<1;for(x=0;x<=y;x++)if(u=w[2*x+1],0!==u){v=2*x;E=q[u]++;F=0;do F|=E&1,E>>>=1,F<<=1;while(0<--u);
w[v]=F>>>1}}}function p(d,q,w,v,E){this.static_tree=d;this.extra_bits=q;this.extra_base=w;this.elems=v;this.max_length=E}function f(d,q,w,v,E){this.good_length=d;this.max_lazy=q;this.nice_length=w;this.max_chain=v;this.func=E}function a(d,q,w,v){var E=d[2*q];d=d[2*w];return E<d||E==d&&v[q]<=v[w]}function l(){function d(){var fa;for(fa=0;286>fa;fa++)Sa[2*fa]=0;for(fa=0;30>fa;fa++)Wa[2*fa]=0;for(fa=0;19>fa;fa++)Pa[2*fa]=0;Sa[512]=1;pa=Ha=Y.opt_len=Y.static_len=0}function q(fa,ra){var va,Da=-1,Ea=fa[1],
Ja=0,Qa=7,Va=4;0===Ea&&(Qa=138,Va=3);fa[2*(ra+1)+1]=65535;for(va=0;va<=ra;va++){var Ra=Ea;Ea=fa[2*(va+1)+1];++Ja<Qa&&Ra==Ea||(Ja<Va?Pa[2*Ra]+=Ja:0!==Ra?(Ra!=Da&&Pa[2*Ra]++,Pa[32]++):10>=Ja?Pa[34]++:Pa[36]++,Ja=0,Da=Ra,0===Ea?(Qa=138,Va=3):Ra==Ea?(Qa=6,Va=3):(Qa=7,Va=4))}}function w(fa){Y.pending_buf[Y.pending++]=fa}function v(fa){w(fa&255);w(fa>>>8&255)}function E(fa,ra){Ka>16-ra?(La|=fa<<Ka&65535,v(La),La=fa>>>16-Ka,Ka+=ra-16):(La|=fa<<Ka&65535,Ka+=ra)}function y(fa,ra){fa*=2;E(ra[fa]&65535,ra[fa+
1]&65535)}function u(fa,ra){var va,Da=-1,Ea=fa[1],Ja=0,Qa=7,Va=4;0===Ea&&(Qa=138,Va=3);for(va=0;va<=ra;va++){var Ra=Ea;Ea=fa[2*(va+1)+1];if(!(++Ja<Qa&&Ra==Ea)){if(Ja<Va){do y(Ra,Pa);while(0!==--Ja)}else 0!==Ra?(Ra!=Da&&(y(Ra,Pa),Ja--),y(16,Pa),E(Ja-3,2)):10>=Ja?(y(17,Pa),E(Ja-3,3)):(y(18,Pa),E(Ja-11,7));Ja=0;Da=Ra;0===Ea?(Qa=138,Va=3):Ra==Ea?(Qa=6,Va=3):(Qa=7,Va=4)}}}function x(){16==Ka?(v(La),Ka=La=0):8<=Ka&&(w(La&255),La>>>=8,Ka-=8)}function F(fa,ra){var va;Y.pending_buf[Ba+2*pa]=fa>>>8&255;Y.pending_buf[Ba+
2*pa+1]=fa&255;Y.pending_buf[ja+pa]=ra&255;pa++;0===fa?Sa[2*ra]++:(Ha++,fa--,Sa[2*(n._length_code[ra]+256+1)]++,Wa[2*n.d_code(fa)]++);if(0===(pa&8191)&&2<Ia){fa=8*pa;ra=aa-O;for(va=0;30>va;va++)fa+=Wa[2*va]*(5+n.extra_dbits[va]);if(Ha<Math.floor(pa/2)&&fa>>>3<Math.floor(ra/2))return!0}return pa==ua-1}function Q(fa,ra){var va=0;if(0!==pa){do{var Da=Y.pending_buf[Ba+2*va]<<8&65280|Y.pending_buf[Ba+2*va+1]&255;var Ea=Y.pending_buf[ja+va]&255;va++;if(0===Da)y(Ea,fa);else{var Ja=n._length_code[Ea];y(Ja+
256+1,fa);var Qa=n.extra_lbits[Ja];0!==Qa&&(Ea-=n.base_length[Ja],E(Ea,Qa));Da--;Ja=n.d_code(Da);y(Ja,ra);Qa=n.extra_dbits[Ja];0!==Qa&&(Da-=n.base_dist[Ja],E(Da,Qa))}}while(va<pa)}y(256,fa);Fa=fa[513]}function W(){8<Ka?v(La):0<Ka&&w(La&255);Ka=La=0}function L(fa,ra,va){W();Fa=8;va&&(v(ra),v(~ra));Y.pending_buf.set(R.subarray(fa,fa+ra),Y.pending);Y.pending+=ra}function N(fa){var ra=0<=O?O:-1,va=aa-O,Da=0;if(0<Ia){Oa.build_tree(Y);K.build_tree(Y);q(Sa,Oa.max_code);q(Wa,K.max_code);V.build_tree(Y);for(Da=
18;3<=Da&&0===Pa[2*n.bl_order[Da]+1];Da--);Y.opt_len+=3*(Da+1)+14;var Ea=Y.opt_len+3+7>>>3;var Ja=Y.static_len+3+7>>>3;Ja<=Ea&&(Ea=Ja)}else Ea=Ja=va+5;if(va+4<=Ea&&-1!=ra)E(fa?1:0,3),L(ra,va,!0);else if(Ja==Ea)E(2+(fa?1:0),3),Q(p.static_ltree,p.static_dtree);else{E(4+(fa?1:0),3);ra=Oa.max_code+1;va=K.max_code+1;Da+=1;E(ra-257,5);E(va-1,5);E(Da-4,4);for(Ea=0;Ea<Da;Ea++)E(Pa[2*n.bl_order[Ea]+1],3);u(Sa,ra-1);u(Wa,va-1);Q(Sa,Wa)}d();fa&&W();O=aa;ba.flush_pending()}function G(){var fa;do{var ra=na-la-
aa;if(0===ra&&0===aa&&0===la)ra=qa;else if(-1==ra)ra--;else if(aa>=qa+qa-262){R.set(R.subarray(qa,qa+qa),0);sa-=qa;aa-=qa;O-=qa;var va=fa=I;do{var Da=B[--va]&65535;B[va]=Da>=qa?Da-qa:0}while(0!==--fa);va=fa=qa;do Da=t[--va]&65535,t[va]=Da>=qa?Da-qa:0;while(0!==--fa);ra+=qa}if(0===ba.avail_in)break;fa=ba.read_buf(R,aa+la,ra);la+=fa;3<=la&&(C=R[aa]&255,C=(C<<A^R[aa+1]&255)&ka)}while(262>la&&0!==ba.avail_in)}function z(fa){var ra=65535;for(ra>da-5&&(ra=da-5);;){if(1>=la){G();if(0===la&&0==fa)return 0;
if(0===la)break}aa+=la;la=0;var va=O+ra;if(0===aa||aa>=va)if(la=aa-va,aa=va,N(!1),0===ba.avail_out)return 0;if(aa-O>=qa-262&&(N(!1),0===ba.avail_out))return 0}N(4==fa);return 0===ba.avail_out?4==fa?2:0:4==fa?3:1}function P(fa){var ra=Ga,va=aa,Da=xa,Ea=aa>qa-262?aa-(qa-262):0,Ja=Ua,Qa=wa,Va=aa+258,Ra=R[va+Da-1],Xa=R[va+Da];xa>=Aa&&(ra>>=2);Ja>la&&(Ja=la);do{var Ta=fa;if(R[Ta+Da]==Xa&&R[Ta+Da-1]==Ra&&R[Ta]==R[va]&&R[++Ta]==R[va+1]){va+=2;for(Ta++;R[++va]==R[++Ta]&&R[++va]==R[++Ta]&&R[++va]==R[++Ta]&&
R[++va]==R[++Ta]&&R[++va]==R[++Ta]&&R[++va]==R[++Ta]&&R[++va]==R[++Ta]&&R[++va]==R[++Ta]&&va<Va;);Ta=258-(Va-va);va=Va-258;if(Ta>Da){sa=fa;Da=Ta;if(Ta>=Ja)break;Ra=R[va+Da-1];Xa=R[va+Da]}}}while((fa=t[fa&Qa]&65535)>Ea&&0!==--ra);return Da<=la?Da:la}function X(fa){for(var ra=0,va,Da;;){if(262>la){G();if(262>la&&0==fa)return 0;if(0===la)break}3<=la&&(C=(C<<A^R[aa+2]&255)&ka,ra=B[C]&65535,t[aa&wa]=B[C],B[C]=aa);xa=J;Z=sa;J=2;0!==ra&&xa<Na&&(aa-ra&65535)<=qa-262&&(2!=Ma&&(J=P(ra)),5>=J&&(1==Ma||3==J&&
4096<aa-sa)&&(J=2));if(3<=xa&&J<=xa){Da=aa+la-3;va=F(aa-1-Z,xa-3);la-=xa-1;xa-=2;do++aa<=Da&&(C=(C<<A^R[aa+2]&255)&ka,ra=B[C]&65535,t[aa&wa]=B[C],B[C]=aa);while(0!==--xa);S=0;J=2;aa++;if(va&&(N(!1),0===ba.avail_out))return 0}else if(0!==S){if((va=F(0,R[aa-1]&255))&&N(!1),aa++,la--,0===ba.avail_out)return 0}else S=1,aa++,la--}0!==S&&(va=F(0,R[aa-1]&255),S=0);N(4==fa);return 0===ba.avail_out?4==fa?2:0:4==fa?3:1}var Y=this,ba,oa,da,Ca,qa,za,wa,R,na,t,B,C,I,H,ka,A,O,J,Z,S,aa,sa,la,xa,Ga,Na,Ia,Ma,Aa,Ua,
Oa=new n,K=new n,V=new n;Y.depth=[];var ja,ua,pa,Ba,Ha,Fa,La,Ka;Y.bl_count=[];Y.heap=[];var Sa=[];var Wa=[];var Pa=[];Y.pqdownheap=function(fa,ra){for(var va=Y.heap,Da=va[ra],Ea=ra<<1;Ea<=Y.heap_len;){Ea<Y.heap_len&&a(fa,va[Ea+1],va[Ea],Y.depth)&&Ea++;if(a(fa,Da,va[Ea],Y.depth))break;va[ra]=va[Ea];ra=Ea;Ea<<=1}va[ra]=Da};Y.deflateInit=function(fa,ra,va,Da,Ea,Ja){Da||(Da=8);Ea||(Ea=8);Ja||(Ja=0);fa.msg=null;-1==ra&&(ra=6);if(1>Ea||9<Ea||8!=Da||9>va||15<va||0>ra||9<ra||0>Ja||2<Ja)return-2;fa.dstate=
Y;za=va;qa=1<<za;wa=qa-1;H=Ea+7;I=1<<H;ka=I-1;A=Math.floor((H+3-1)/3);R=new Uint8Array(2*qa);t=[];B=[];ua=1<<Ea+6;Y.pending_buf=new Uint8Array(4*ua);da=4*ua;Ba=Math.floor(ua/2);ja=3*ua;Ia=ra;Ma=Ja;fa.total_in=fa.total_out=0;fa.msg=null;Y.pending=0;Y.pending_out=0;oa=113;Ca=0;Oa.dyn_tree=Sa;Oa.stat_desc=p.static_l_desc;K.dyn_tree=Wa;K.stat_desc=p.static_d_desc;V.dyn_tree=Pa;V.stat_desc=p.static_bl_desc;Ka=La=0;Fa=8;d();na=2*qa;for(fa=B[I-1]=0;fa<I-1;fa++)B[fa]=0;Na=e[Ia].max_lazy;Aa=e[Ia].good_length;
Ua=e[Ia].nice_length;Ga=e[Ia].max_chain;la=O=aa=0;J=xa=2;return C=S=0};Y.deflateEnd=function(){if(42!=oa&&113!=oa&&666!=oa)return-2;R=t=B=Y.pending_buf=null;Y.dstate=null;return 113==oa?-3:0};Y.deflateParams=function(fa,ra,va){var Da=0;-1==ra&&(ra=6);if(0>ra||9<ra||0>va||2<va)return-2;e[Ia].func!=e[ra].func&&0!==fa.total_in&&(Da=fa.deflate(1));Ia!=ra&&(Ia=ra,Na=e[Ia].max_lazy,Aa=e[Ia].good_length,Ua=e[Ia].nice_length,Ga=e[Ia].max_chain);Ma=va;return Da};Y.deflateSetDictionary=function(fa,ra,va){fa=
va;var Da=0;if(!ra||42!=oa)return-2;if(3>fa)return 0;fa>qa-262&&(fa=qa-262,Da=va-fa);R.set(ra.subarray(Da,Da+fa),0);O=aa=fa;C=R[0]&255;C=(C<<A^R[1]&255)&ka;for(ra=0;ra<=fa-3;ra++)C=(C<<A^R[ra+2]&255)&ka,t[ra&wa]=B[C],B[C]=ra;return 0};Y.deflate=function(fa,ra){if(4<ra||0>ra)return-2;if(!fa.next_out||!fa.next_in&&0!==fa.avail_in||666==oa&&4!=ra)return fa.msg=k[4],-2;if(0===fa.avail_out)return fa.msg=k[7],-5;ba=fa;var va=Ca;Ca=ra;if(42==oa){var Da=8+(za-8<<4)<<8;var Ea=(Ia-1&255)>>1;3<Ea&&(Ea=3);Da|=
Ea<<6;0!==aa&&(Da|=32);oa=113;Da+=31-Da%31;w(Da>>8&255);w(Da&255)}if(0!==Y.pending){if(ba.flush_pending(),0===ba.avail_out)return Ca=-1,0}else if(0===ba.avail_in&&ra<=va&&4!=ra)return ba.msg=k[7],-5;if(666==oa&&0!==ba.avail_in)return fa.msg=k[7],-5;if(0!==ba.avail_in||0!==la||0!=ra&&666!=oa){fa=-1;switch(e[Ia].func){case 0:fa=z(ra);break;case 1:a:{for(fa=0;;){if(262>la){G();if(262>la&&0==ra){fa=0;break a}if(0===la)break}3<=la&&(C=(C<<A^R[aa+2]&255)&ka,fa=B[C]&65535,t[aa&wa]=B[C],B[C]=aa);0!==fa&&
(aa-fa&65535)<=qa-262&&2!=Ma&&(J=P(fa));if(3<=J)if(va=F(aa-sa,J-3),la-=J,J<=Na&&3<=la){J--;do aa++,C=(C<<A^R[aa+2]&255)&ka,fa=B[C]&65535,t[aa&wa]=B[C],B[C]=aa;while(0!==--J);aa++}else aa+=J,J=0,C=R[aa]&255,C=(C<<A^R[aa+1]&255)&ka;else va=F(0,R[aa]&255),la--,aa++;if(va&&(N(!1),0===ba.avail_out)){fa=0;break a}}N(4==ra);fa=0===ba.avail_out?4==ra?2:0:4==ra?3:1}break;case 2:fa=X(ra)}if(2==fa||3==fa)oa=666;if(0==fa||2==fa)return 0===ba.avail_out&&(Ca=-1),0;if(1==fa){if(1==ra)E(2,3),y(256,p.static_ltree),
x(),9>1+Fa+10-Ka&&(E(2,3),y(256,p.static_ltree),x()),Fa=7;else if(E(0,3),L(0,0,!0),3==ra)for(fa=0;fa<I;fa++)B[fa]=0;ba.flush_pending();if(0===ba.avail_out)return Ca=-1,0}}return 4!=ra?0:1}}function c(){this.total_out=this.avail_out=this.total_in=this.avail_in=this.next_out_index=this.next_in_index=0}var h=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,
12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,
15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,
28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];n._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,
20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,
27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28];n.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];n.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576];n.d_code=function(d){return 256>d?h[d]:h[256+(d>>>7)]};n.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];n.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,
12,13,13];n.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];n.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];p.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,
8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,
9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,
287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8];p.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5];p.static_l_desc=new p(p.static_ltree,n.extra_lbits,257,286,15);p.static_d_desc=new p(p.static_dtree,
n.extra_dbits,0,30,15);p.static_bl_desc=new p(null,n.extra_blbits,0,19,7);var e=[new f(0,0,0,0,0),new f(4,4,8,4,1),new f(4,5,16,8,1),new f(4,6,32,32,1),new f(4,4,16,16,2),new f(8,16,32,32,2),new f(8,16,128,128,2),new f(8,32,128,256,2),new f(32,128,258,1024,2),new f(32,258,258,4096,2)],k="need dictionary;stream end;;;stream error;data error;;buffer error;;".split(";");c.prototype={deflateInit:function(d,q){this.dstate=new l;q||(q=15);return this.dstate.deflateInit(this,d,q)},deflate:function(d){return this.dstate?
this.dstate.deflate(this,d):-2},deflateEnd:function(){if(!this.dstate)return-2;var d=this.dstate.deflateEnd();this.dstate=null;return d},deflateParams:function(d,q){return this.dstate?this.dstate.deflateParams(this,d,q):-2},deflateSetDictionary:function(d,q){return this.dstate?this.dstate.deflateSetDictionary(this,d,q):-2},read_buf:function(d,q,w){var v=this.avail_in;v>w&&(v=w);if(0===v)return 0;this.avail_in-=v;d.set(this.next_in.subarray(this.next_in_index,this.next_in_index+v),q);this.next_in_index+=
v;this.total_in+=v;return v},flush_pending:function(){var d=this.dstate.pending;d>this.avail_out&&(d=this.avail_out);0!==d&&(this.next_out.set(this.dstate.pending_buf.subarray(this.dstate.pending_out,this.dstate.pending_out+d),this.next_out_index),this.next_out_index+=d,this.dstate.pending_out+=d,this.total_out+=d,this.avail_out-=d,this.dstate.pending-=d,0===this.dstate.pending&&(this.dstate.pending_out=0))}};return function(d){var q=new c,w=new Uint8Array(512);"undefined"==typeof d&&(d=-1);q.deflateInit(d);
q.next_out=w;this.append=function(v,E){var y=[],u=0,x=0,F=0;if(v.length){q.next_in_index=0;q.next_in=v;q.avail_in=v.length;do{q.next_out_index=0;q.avail_out=512;v=q.deflate(0);if(0!=v)throw"deflating: "+q.msg;q.next_out_index&&(512==q.next_out_index?y.push(new Uint8Array(w)):y.push(new Uint8Array(w.subarray(0,q.next_out_index))));F+=q.next_out_index;E&&0<q.next_in_index&&q.next_in_index!=u&&(E(q.next_in_index),u=q.next_in_index)}while(0<q.avail_in||0===q.avail_out);var Q=new Uint8Array(F);y.forEach(function(W){Q.set(W,
x);x+=W.length});return Q}};this.flush=function(){var v=[],E=0,y=0;do{q.next_out_index=0;q.avail_out=512;var u=q.deflate(4);if(1!=u&&0!=u)throw"deflating: "+q.msg;0<512-q.avail_out&&v.push(new Uint8Array(w.subarray(0,q.next_out_index)));y+=q.next_out_index}while(0<q.avail_in||0===q.avail_out);q.deflateEnd();var x=new Uint8Array(y);v.forEach(function(F){x.set(F,E);E+=F.length});return x}}}(void 0);M.API.html2canvas=function(){return function a(n,p,f){function l(e,k){if(!p[e]){if(!n[e]){var d="function"==
typeof require&&require;if(!k&&d)return d(e,!0);if(c)return c(e,!0);k=Error("Cannot find module '"+e+"'");throw k.code="MODULE_NOT_FOUND",k;}k=p[e]={exports:{}};n[e][0].call(k.exports,function(q){var w=n[e][1][q];return l(w?w:q)},k,k.exports,a,n,p,f)}return p[e].exports}for(var c="function"==typeof require&&require,h=0;h<f.length;h++)l(f[h]);return l}({1:[function(n,p,f){(function(a){(function(l){function c(z){throw RangeError(W[z]);}function h(z,P){for(var X=z.length;X--;)z[X]=P(z[X]);return z}function e(z,
P){return h(z.split(Q),P).join(".")}function k(z){for(var P=[],X=0,Y=z.length,ba,oa;X<Y;)ba=z.charCodeAt(X++),55296<=ba&&56319>=ba&&X<Y?(oa=z.charCodeAt(X++),56320==(oa&64512)?P.push(((ba&1023)<<10)+(oa&1023)+65536):(P.push(ba),X--)):P.push(ba);return P}function d(z){return h(z,function(P){var X="";65535<P&&(P-=65536,X+=N(P>>>10&1023|55296),P=56320|P&1023);return X+=N(P)}).join("")}function q(z,P,X){var Y=0;z=X?L(z/700):z>>1;for(z+=L(z/P);455<z;Y+=36)z=L(z/35);return L(Y+36*z/(z+38))}function w(z){var P=
[],X=z.length,Y=0,ba=128,oa=72,da,Ca;var qa=z.lastIndexOf("-");0>qa&&(qa=0);for(da=0;da<qa;++da)128<=z.charCodeAt(da)&&c("not-basic"),P.push(z.charCodeAt(da));for(qa=0<qa?qa+1:0;qa<X;){da=Y;var za=1;for(Ca=36;;Ca+=36){qa>=X&&c("invalid-input");var wa=z.charCodeAt(qa++);wa=10>wa-48?wa-22:26>wa-65?wa-65:26>wa-97?wa-97:36;(36<=wa||wa>L((2147483647-Y)/za))&&c("overflow");Y+=wa*za;var R=Ca<=oa?1:Ca>=oa+26?26:Ca-oa;if(wa<R)break;wa=36-R;za>L(2147483647/wa)&&c("overflow");za*=wa}za=P.length+1;oa=q(Y-da,
za,0==da);L(Y/za)>2147483647-ba&&c("overflow");ba+=L(Y/za);Y%=za;P.splice(Y++,0,ba)}return d(P)}function v(z){var P,X,Y,ba=[];z=k(z);var oa=z.length;var da=128;var Ca=0;var qa=72;for(Y=0;Y<oa;++Y){var za=z[Y];128>za&&ba.push(N(za))}for((P=X=ba.length)&&ba.push("-");P<oa;){var wa=2147483647;for(Y=0;Y<oa;++Y)za=z[Y],za>=da&&za<wa&&(wa=za);var R=P+1;wa-da>L((2147483647-Ca)/R)&&c("overflow");Ca+=(wa-da)*R;da=wa;for(Y=0;Y<oa;++Y)if(za=z[Y],za<da&&2147483647<++Ca&&c("overflow"),za==da){var na=Ca;for(wa=
36;;wa+=36){za=wa<=qa?1:wa>=qa+26?26:wa-qa;if(na<za)break;var t=na-za;na=36-za;var B=ba;za+=t%na;B.push.call(B,N(za+22+75*(26>za)-0));na=L(t/na)}ba.push(N(na+22+75*(26>na)-0));qa=q(Ca,R,P==X);Ca=0;++P}++Ca;++da}return ba.join("")}var E="object"==typeof f&&f,y="object"==typeof p&&p&&p.exports==E&&p,u="object"==typeof a&&a;if(u.global===u||u.window===u)l=u;var x=/^xn--/,F=/[^ -~]/,Q=/\x2E|\u3002|\uFF0E|\uFF61/g,W={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input \x3e\x3d 0x80 (not a basic code point)",
"invalid-input":"Invalid input"},L=Math.floor,N=String.fromCharCode,G;u={version:"1.2.4",ucs2:{decode:k,encode:d},decode:w,encode:v,toASCII:function(z){return e(z,function(P){return F.test(P)?"xn--"+v(P):P})},toUnicode:function(z){return e(z,function(P){return x.test(P)?w(P.slice(4).toLowerCase()):P})}};if(E&&!E.nodeType)if(y)y.exports=u;else for(G in u)u.hasOwnProperty(G)&&(E[G]=u[G]);else l.punycode=u})(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==
typeof window?window:{})},{}],2:[function(n,p,f){function a(h,e){for(var k=3===h.nodeType?document.createTextNode(h.nodeValue):h.cloneNode(!1),d=h.firstChild;d;)!0!==e&&1===d.nodeType&&"SCRIPT"===d.nodeName||k.appendChild(a(d,e)),d=d.nextSibling;if(1===h.nodeType)if(k._scrollTop=h.scrollTop,k._scrollLeft=h.scrollLeft,"CANVAS"===h.nodeName)try{k&&(k.width=h.width,k.height=h.height,k.getContext("2d").putImageData(h.getContext("2d").getImageData(0,0,h.width,h.height),0,0))}catch(q){c("Unable to copy canvas content from",
h,q)}else if("TEXTAREA"===h.nodeName||"SELECT"===h.nodeName)k.value=h.value;return k}function l(h){if(1===h.nodeType)for(h.scrollTop=h._scrollTop,h.scrollLeft=h._scrollLeft,h=h.firstChild;h;)l(h),h=h.nextSibling}var c=n("./log");p.exports=function(h,e,k,d,q,w,v){var E=a(h.documentElement,q.javascriptEnabled),y=e.createElement("iframe");y.className="html2canvas-container";y.style.visibility="hidden";y.style.position="fixed";y.style.left="-10000px";y.style.top="0px";y.style.border="0";y.width=k;y.height=
d;y.scrolling="no";e.body.appendChild(y);return new Promise(function(u){var x=y.contentWindow.document;y.contentWindow.onload=y.onload=function(){var F=setInterval(function(){0<x.body.childNodes.length&&(l(x.documentElement),clearInterval(F),"view"===q.type&&(y.contentWindow.scrollTo(w,v),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||y.contentWindow.scrollY===v&&y.contentWindow.scrollX===w||(x.documentElement.style.top=-v+"px",x.documentElement.style.left=-w+"px",x.documentElement.style.position=
"absolute")),u(y))},50)};x.open();x.write("\x3c!DOCTYPE html\x3e\x3chtml\x3e\x3c/html\x3e");!h.defaultView||w===h.defaultView.pageXOffset&&v===h.defaultView.pageYOffset||h.defaultView.scrollTo(w,v);x.replaceChild(x.adoptNode(E),x.documentElement);x.close()})}},{"./log":13}],3:[function(n,p,f){function a(d){this.b=this.g=this.r=0;this.a=null;this.fromArray(d)||this.namedColor(d)||this.rgb(d)||this.rgba(d)||this.hex6(d)||this.hex3(d)}a.prototype.darken=function(d){d=1-d;return new a([Math.round(this.r*
d),Math.round(this.g*d),Math.round(this.b*d),this.a])};a.prototype.isTransparent=function(){return 0===this.a};a.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b};a.prototype.fromArray=function(d){Array.isArray(d)&&(this.r=Math.min(d[0],255),this.g=Math.min(d[1],255),this.b=Math.min(d[2],255),3<d.length&&(this.a=d[3]));return Array.isArray(d)};var l=/^#([a-f0-9]{3})$/i;a.prototype.hex3=function(d){var q=null;null!==(q=d.match(l))&&(this.r=parseInt(q[1][0]+q[1][0],16),this.g=
parseInt(q[1][1]+q[1][1],16),this.b=parseInt(q[1][2]+q[1][2],16));return null!==q};var c=/^#([a-f0-9]{6})$/i;a.prototype.hex6=function(d){var q=null;null!==(q=d.match(c))&&(this.r=parseInt(q[1].substring(0,2),16),this.g=parseInt(q[1].substring(2,4),16),this.b=parseInt(q[1].substring(4,6),16));return null!==q};var h=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;a.prototype.rgb=function(d){var q=null;null!==(q=d.match(h))&&(this.r=Number(q[1]),this.g=Number(q[2]),this.b=Number(q[3]));return null!==
q};var e=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;a.prototype.rgba=function(d){var q=null;null!==(q=d.match(e))&&(this.r=Number(q[1]),this.g=Number(q[2]),this.b=Number(q[3]),this.a=Number(q[4]));return null!==q};a.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join()+")":"rgb("+[this.r,this.g,this.b].join()+")"};a.prototype.namedColor=function(d){d=d.toLowerCase();var q=k[d];if(q)this.r=q[0],this.g=q[1],this.b=
q[2];else if("transparent"===d)return this.r=this.g=this.b=this.a=0,!0;return!!q};a.prototype.isColor=!0;var k={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,
237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,
0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,
140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],
lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],
olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,
164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};p.exports=a},{}],4:[function(n,
p,f){function a(L,N){var G=W++;N=N||{};N.logging&&(y.options.logging=!0,y.options.start=Date.now());N.async="undefined"===typeof N.async?!0:N.async;N.allowTaint="undefined"===typeof N.allowTaint?!1:N.allowTaint;N.removeContainer="undefined"===typeof N.removeContainer?!0:N.removeContainer;N.javascriptEnabled="undefined"===typeof N.javascriptEnabled?!1:N.javascriptEnabled;N.imageTimeout="undefined"===typeof N.imageTimeout?1E4:N.imageTimeout;N.renderer="function"===typeof N.renderer?N.renderer:w;N.strict=
!!N.strict;if("string"===typeof L){if("string"!==typeof N.proxy)return Promise.reject("Proxy must be used when rendering url");var z=null!=N.width?N.width:window.innerWidth,P=null!=N.height?N.height:window.innerHeight;return F(d(L),N.proxy,document,z,P,N).then(function(X){return c(X.contentWindow.document.documentElement,X,N,z,P)})}L=(void 0===L?[document.documentElement]:L.length?L:[L])[0];L.setAttribute("data-html2canvas-node"+G,G);return l(L.ownerDocument,N,L.ownerDocument.defaultView.innerWidth,
L.ownerDocument.defaultView.innerHeight,G).then(function(X){"function"===typeof N.onrendered&&(y("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),N.onrendered(X));return X})}function l(L,N,G,z,P){return x(L,L,G,z,N,L.defaultView.pageXOffset,L.defaultView.pageYOffset).then(function(X){y("Document cloned");var Y="data-html2canvas-node"+P,ba="["+Y+"\x3d'"+P+"']";L.querySelector(ba).removeAttribute(Y);Y=X.contentWindow;var oa=Y.document.querySelector(ba);return("function"===
typeof N.onclone?Promise.resolve(N.onclone(Y.document)):Promise.resolve(!0)).then(function(){return c(oa,X,N,G,z)})})}function c(L,N,G,z,P){var X=N.contentWindow,Y=new q(X.document),ba=new v(G,Y),oa=Q(L);z="view"===G.type?z:e(X.document);P="view"===G.type?P:k(X.document);var da=new G.renderer(z,P,ba,G,document);return(new E(L,da,Y,ba,G)).ready.then(function(){y("Finished rendering");var Ca="view"===G.type?h(da.canvas,{width:da.canvas.width,height:da.canvas.height,top:0,left:0,x:0,y:0}):L===X.document.body||
L===X.document.documentElement||null!=G.canvas?da.canvas:h(da.canvas,{width:null!=G.width?G.width:oa.width,height:null!=G.height?G.height:oa.height,top:oa.top,left:oa.left,x:0,y:0});G.removeContainer&&(N.parentNode.removeChild(N),y("Cleaned up container"));return Ca})}function h(L,N){var G=document.createElement("canvas"),z=Math.min(L.width-1,Math.max(0,N.left)),P=Math.min(L.width,Math.max(1,N.left+N.width)),X=Math.min(L.height-1,Math.max(0,N.top)),Y=Math.min(L.height,Math.max(1,N.top+N.height));
G.width=N.width;G.height=N.height;P-=z;Y-=X;y("Cropping canvas at:","left:",N.left,"top:",N.top,"width:",P,"height:",Y);y("Resulting crop with width",N.width,"and height",N.height,"with x",z,"and y",X);G.getContext("2d").drawImage(L,z,X,P,Y,N.x,N.y,P,Y);return G}function e(L){return Math.max(Math.max(L.body.scrollWidth,L.documentElement.scrollWidth),Math.max(L.body.offsetWidth,L.documentElement.offsetWidth),Math.max(L.body.clientWidth,L.documentElement.clientWidth))}function k(L){return Math.max(Math.max(L.body.scrollHeight,
L.documentElement.scrollHeight),Math.max(L.body.offsetHeight,L.documentElement.offsetHeight),Math.max(L.body.clientHeight,L.documentElement.clientHeight))}function d(L){var N=document.createElement("a");N.href=L;N.href=N.href;return N}var q=n("./support"),w=n("./renderers/canvas"),v=n("./imageloader"),E=n("./nodeparser");f=n("./nodecontainer");var y=n("./log"),u=n("./utils"),x=n("./clone"),F=n("./proxy").loadUrlDocument,Q=u.getBounds,W=0;a.CanvasRenderer=w;a.NodeContainer=f;a.log=y;a.utils=u;n="undefined"===
typeof document||"function"!==typeof Object.create||"function"!==typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:a;p.exports=n},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(n,p,f){function a(h){this.src=h;l("DummyImageContainer for",h);if(!this.promise||!this.image){l("Initiating DummyImageContainer");a.prototype.image=new Image;
var e=this.image;a.prototype.promise=new Promise(function(k,d){e.onload=k;e.onerror=d;e.src=c();!0===e.complete&&k(e)})}}var l=n("./log"),c=n("./utils").smallImage;p.exports=a},{"./log":13,"./utils":26}],6:[function(n,p,f){var a=n("./utils").smallImage;p.exports=function(l,c){var h=document.createElement("div"),e=document.createElement("img"),k=document.createElement("span");h.style.visibility="hidden";h.style.fontFamily=l;h.style.fontSize=c;h.style.margin=0;h.style.padding=0;document.body.appendChild(h);
e.src=a();e.width=1;e.height=1;e.style.margin=0;e.style.padding=0;e.style.verticalAlign="baseline";k.style.fontFamily=l;k.style.fontSize=c;k.style.margin=0;k.style.padding=0;k.appendChild(document.createTextNode("Hidden Text"));h.appendChild(k);h.appendChild(e);l=e.offsetTop-k.offsetTop+1;h.removeChild(k);h.appendChild(document.createTextNode("Hidden Text"));h.style.lineHeight="normal";e.style.verticalAlign="super";e=e.offsetTop-h.offsetTop+1;document.body.removeChild(h);this.baseline=l;this.lineWidth=
1;this.middle=e}},{"./utils":26}],7:[function(n,p,f){function a(){this.data={}}var l=n("./font");a.prototype.getMetrics=function(c,h){void 0===this.data[c+"-"+h]&&(this.data[c+"-"+h]=new l(c,h));return this.data[c+"-"+h]};p.exports=a},{"./font":6}],8:[function(n,p,f){function a(h,e,k){this.image=null;this.src=h;var d=this,q=l(h);this.promise=(e?new Promise(function(w){"about:blank"===h.contentWindow.document.URL||null==h.contentWindow.document.documentElement?h.contentWindow.onload=h.onload=function(){w(h)}:
w(h)}):this.proxyLoad(k.proxy,q,k)).then(function(w){return n("./core")(w.contentWindow.document.documentElement,{type:"view",width:w.width,height:w.height,proxy:k.proxy,javascriptEnabled:k.javascriptEnabled,removeContainer:k.removeContainer,allowTaint:k.allowTaint,imageTimeout:k.imageTimeout/2})}).then(function(w){return d.image=w})}var l=n("./utils").getBounds,c=n("./proxy").loadUrlDocument;a.prototype.proxyLoad=function(h,e,k){var d=this.src;return c(d.src,h,d.ownerDocument,e.width,e.height,k)};
p.exports=a},{"./core":4,"./proxy":16,"./utils":26}],9:[function(n,p,f){function a(l){this.src=l.value;this.colorStops=[];this.type=null;this.y1=this.x1=this.y0=this.x0=.5;this.promise=Promise.resolve(!0)}a.TYPES={LINEAR:1,RADIAL:2};a.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i;p.exports=a},{}],10:[function(n,p,f){p.exports=function(a,l){this.src=a;this.image=new Image;var c=this;this.tainted=
null;this.promise=new Promise(function(h,e){c.image.onload=h;c.image.onerror=e;l&&(c.image.crossOrigin="anonymous");c.image.src=a;!0===c.image.complete&&h(c.image)})}},{}],11:[function(n,p,f){function a(y,u){this.link=null;this.options=y;this.support=u;this.origin=this.getOrigin(window.location.href)}var l=n("./log"),c=n("./imagecontainer"),h=n("./dummyimagecontainer"),e=n("./proxyimagecontainer"),k=n("./framecontainer"),d=n("./svgcontainer"),q=n("./svgnodecontainer"),w=n("./lineargradientcontainer"),
v=n("./webkitgradientcontainer"),E=n("./utils").bind;a.prototype.findImages=function(y){var u=[];y.reduce(function(x,F){switch(F.node.nodeName){case "IMG":return x.concat([{args:[F.node.src],method:"url"}]);case "svg":case "IFRAME":return x.concat([{args:[F.node],method:F.node.nodeName}])}return x},[]).forEach(this.addImage(u,this.loadImage),this);return u};a.prototype.findBackgroundImage=function(y,u){u.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(y,this.loadImage),
this);return y};a.prototype.addImage=function(y,u){return function(x){x.args.forEach(function(F){this.imageExists(y,F)||(y.splice(0,0,u.call(this,x)),l("Added image #"+y.length,"string"===typeof F?F.substring(0,100):F))},this)}};a.prototype.hasImageBackground=function(y){return"none"!==y.method};a.prototype.loadImage=function(y){return"url"===y.method?(y=y.args[0],!this.isSVG(y)||this.support.svg||this.options.allowTaint?y.match(/data:image\/.*;base64,/i)?new c(y.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,
""),!1):this.isSameOrigin(y)||!0===this.options.allowTaint||this.isSVG(y)?new c(y,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new c(y,!0):this.options.proxy?new e(y,this.options.proxy):new h(y):new d(y)):"linear-gradient"===y.method?new w(y):"gradient"===y.method?new v(y):"svg"===y.method?new q(y.args[0],this.support.svg):"IFRAME"===y.method?new k(y.args[0],this.isSameOrigin(y.args[0].src),this.options):new h(y)};a.prototype.isSVG=function(y){return"svg"===y.substring(y.length-
3).toLowerCase()||d.prototype.isInline(y)};a.prototype.imageExists=function(y,u){return y.some(function(x){return x.src===u})};a.prototype.isSameOrigin=function(y){return this.getOrigin(y)===this.origin};a.prototype.getOrigin=function(y){var u=this.link||(this.link=document.createElement("a"));u.href=y;u.href=u.href;return u.protocol+u.hostname+u.port};a.prototype.getPromise=function(y){return this.timeout(y,this.options.imageTimeout)["catch"](function(){return(new h(y.src)).promise.then(function(u){y.image=
u})})};a.prototype.get=function(y){var u=null;return this.images.some(function(x){return(u=x).src===y})?u:null};a.prototype.fetch=function(y){this.images=y.reduce(E(this.findBackgroundImage,this),this.findImages(y));this.images.forEach(function(u,x){u.promise.then(function(){l("Succesfully loaded image #"+(x+1),u)},function(F){l("Failed loading image #"+(x+1),u,F)})});this.ready=Promise.all(this.images.map(this.getPromise,this));l("Finished searching images");return this};a.prototype.timeout=function(y,
u){var x,F=Promise.race([y.promise,new Promise(function(Q,W){x=setTimeout(function(){l("Timed out loading image",y);W(y)},u)})]).then(function(Q){clearTimeout(x);return Q});F["catch"](function(){clearTimeout(x)});return F};p.exports=a},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(n,p,f){function a(h){l.apply(this,
arguments);this.type=l.TYPES.LINEAR;var e=a.REGEXP_DIRECTION.test(h.args[0])||!l.REGEXP_COLORSTOP.test(h.args[0]);e?h.args[0].split(/\s+/).reverse().forEach(function(k,d){switch(k){case "left":this.x0=0;this.x1=1;break;case "top":this.y0=0;this.y1=1;break;case "right":this.x0=1;this.x1=0;break;case "bottom":this.y0=1;this.y1=0;break;case "to":d=this.y0;k=this.x0;this.y0=this.y1;this.x0=this.x1;this.x1=k;this.y1=d;break;case "center":break;default:k=.01*parseFloat(k,10),isNaN(k)||(0===d?(this.y0=k,
this.y1=1-this.y0):(this.x0=k,this.x1=1-this.x0))}},this):(this.y0=0,this.y1=1);this.colorStops=h.args.slice(e?1:0).map(function(k){k=k.match(l.REGEXP_COLORSTOP);var d=+k[2],q=0===d?"%":k[3];return{color:new c(k[1]),stop:"%"===q?d/100:null}});null===this.colorStops[0].stop&&(this.colorStops[0].stop=0);null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1);this.colorStops.forEach(function(k,d){null===k.stop&&this.colorStops.slice(d).some(function(q,
w){return null!==q.stop?(k.stop=(q.stop-this.colorStops[d-1].stop)/(w+1)+this.colorStops[d-1].stop,!0):!1},this)},this)}var l=n("./gradientcontainer"),c=n("./color");a.prototype=Object.create(l.prototype);a.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i;p.exports=a},{"./color":3,"./gradientcontainer":9}],13:[function(n,p,f){var a=function(){a.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,
[Date.now()-a.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};a.options={logging:!1};p.exports=a},{}],14:[function(n,p,f){function a(v,E){this.node=v;this.parent=E;this.borders=this.bounds=this.stack=null;this.clip=[];this.backgroundClip=[];this.computedStyles=this.visible=this.offsetBounds=null;this.colors={};this.styles={};this.transformMatrix=this.transformData=this.backgroundImages=null;this.isPseudoElement=!1;this.opacity=null}function l(v){if(v&&"matrix"===v[1])return v[2].split(",").map(function(E){return parseFloat(E.trim())});
if(v&&"matrix3d"===v[1])return v=v[2].split(",").map(function(E){return parseFloat(E.trim())}),[v[0],v[1],v[4],v[5],v[12],v[13]]}function c(v){return-1!==v.toString().indexOf("%")}function h(v){return v.replace("px","")}function e(v){return parseFloat(v)}var k=n("./color");n=n("./utils");var d=n.getBounds,q=n.parseBackgrounds,w=n.offsetBounds;a.prototype.cloneTo=function(v){v.visible=this.visible;v.borders=this.borders;v.bounds=this.bounds;v.clip=this.clip;v.backgroundClip=this.backgroundClip;v.computedStyles=
this.computedStyles;v.styles=this.styles;v.backgroundImages=this.backgroundImages;v.opacity=this.opacity};a.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity};a.prototype.assignStack=function(v){this.stack=v;v.children.push(this)};a.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&
("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))};a.prototype.css=function(v){this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null));return this.styles[v]||(this.styles[v]=this.computedStyles[v])};a.prototype.prefixedCss=function(v){var E=["webkit","moz","ms","o"],y=this.css(v);void 0===y&&E.some(function(u){y=this.css(u+v.substr(0,1).toUpperCase()+v.substr(1));return void 0!==y},this);
return void 0===y?null:y};a.prototype.computedStyle=function(v){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,v)};a.prototype.cssInt=function(v){v=parseInt(this.css(v),10);return isNaN(v)?0:v};a.prototype.color=function(v){return this.colors[v]||(this.colors[v]=new k(this.css(v)))};a.prototype.cssFloat=function(v){v=parseFloat(this.css(v));return isNaN(v)?0:v};a.prototype.fontWeight=function(){var v=this.css("fontWeight");switch(parseInt(v,10)){case 401:v="bold";break;case 400:v=
"normal"}return v};a.prototype.parseClip=function(){var v=this.css("clip").match(this.CLIP);return v?{top:parseInt(v[1],10),right:parseInt(v[2],10),bottom:parseInt(v[3],10),left:parseInt(v[4],10)}:null};a.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=q(this.css("backgroundImage")))};a.prototype.cssList=function(v,E){v=(this.css(v)||"").split(",");v=v[E||0]||v[0]||"auto";v=v.trim().split(" ");1===v.length&&(v=[v[0],c(v[0])?"auto":v[0]]);return v};a.prototype.parseBackgroundSize=
function(v,E,y){y=this.cssList("backgroundSize",y);if(c(y[0]))var u=v.width*parseFloat(y[0])/100;else{if(/contain|cover/.test(y[0]))return E=E.width/E.height,v.width/v.height<E^"contain"===y[0]?{width:v.height*E,height:v.height}:{width:v.width,height:v.width/E};u=parseInt(y[0],10)}v="auto"===y[0]&&"auto"===y[1]?E.height:"auto"===y[1]?u/E.width*E.height:c(y[1])?v.height*parseFloat(y[1])/100:parseInt(y[1],10);"auto"===y[0]&&(u=v/E.height*E.width);return{width:u,height:v}};a.prototype.parseBackgroundPosition=
function(v,E,y,u){y=this.cssList("backgroundPosition",y);var x=c(y[0])?(v.width-(u||E).width)*(parseFloat(y[0])/100):parseInt(y[0],10);v="auto"===y[1]?x/E.width*E.height:c(y[1])?(v.height-(u||E).height)*parseFloat(y[1])/100:parseInt(y[1],10);"auto"===y[0]&&(x=v/E.height*E.width);return{left:x,top:v}};a.prototype.parseBackgroundRepeat=function(v){return this.cssList("backgroundRepeat",v)[0]};a.prototype.parseTextShadows=function(){var v=this.css("textShadow"),E=[];if(v&&"none"!==v){v=v.match(this.TEXT_SHADOW_PROPERTY);
for(var y=0;v&&y<v.length;y++){var u=v[y].match(this.TEXT_SHADOW_VALUES);E.push({color:new k(u[0]),offsetX:u[1]?parseFloat(u[1].replace("px","")):0,offsetY:u[2]?parseFloat(u[2].replace("px","")):0,blur:u[3]?u[3].replace("px",""):0})}}return E};a.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var v=this.parseBounds(),E=this.prefixedCss("transformOrigin").split(" ").map(h).map(e);E[0]+=v.left;E[1]+=v.top;this.transformData={origin:E,matrix:this.parseTransformMatrix()}}else this.transformData=
{origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData};a.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var v=this.prefixedCss("transform");this.transformMatrix=(v=v?l(v.match(this.MATRIX_PROPERTY)):null)?v:[1,0,0,1,0,0]}return this.transformMatrix};a.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?w(this.node):d(this.node))};a.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&
this.parent.hasTransform()};a.prototype.getValue=function(){var v=this.node.value||"";"SELECT"===this.node.tagName?(v=this.node,v=(v=v.options[v.selectedIndex||0])?v.text||"":""):"password"===this.node.type&&(v=Array(v.length+1).join("\u2022"));return 0===v.length?this.node.placeholder||"":v};a.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/;a.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g;a.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;a.prototype.CLIP=
/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/;p.exports=a},{"./color":3,"./utils":26}],15:[function(n,p,f){function a(A,O,J,Z,S){da("Starting NodeParser");this.renderer=O;this.options=S;this.range=null;this.support=J;this.renderQueue=[];this.stack=new t(!0,1,A.ownerDocument,null);J=new qa(A,null);S.background&&O.rectangle(0,0,O.width,O.height,new na(S.background));if(A===A.ownerDocument.documentElement){var aa=new qa(J.color("backgroundColor").isTransparent()?A.ownerDocument.body:A.ownerDocument.documentElement,
null);O.rectangle(0,0,O.width,O.height,aa.color("backgroundColor"))}J.visibile=J.isElementVisible();this.createPseudoHideStyles(A.ownerDocument);this.disableAnimations(A.ownerDocument);this.nodes=[].concat.apply([],[J].concat(this.getChildren(J)).filter(function(sa){return sa.visible=sa.isElementVisible()}).map(this.getPseudoElements,this));this.fontMetrics=new R;da("Fetched nodes, total:",this.nodes.length);da("Calculate overflow clips");this.calculateOverflowClips();da("Start fetching images");
this.images=Z.fetch(this.nodes.filter(G));this.ready=this.images.ready.then(B(function(){da("Images loaded, starting parsing");da("Creating stacking contexts");this.createStackingContexts();da("Sorting stacking contexts");this.sortStackingContexts(this.stack);this.parse(this.stack);da("Render queue created with "+this.renderQueue.length+" items");return new Promise(B(function(sa){S.async?"function"===typeof S.async?S.async.call(this,this.renderQueue,sa):0<this.renderQueue.length?(this.renderIndex=
0,this.asyncRenderer(this.renderQueue,sa)):sa():(this.renderQueue.forEach(this.paint,this),sa())},this))},this))}function l(A){return A.replace(/(\-[a-z])/g,function(O){return O.toUpperCase().replace("-","")})}function c(){}function h(A,O,J,Z){return A.map(function(S,aa){if(0<S.width){var sa=O.left,la=O.top,xa=O.width,Ga=O.height-A[2].width;switch(aa){case 0:Ga=A[0].width;S.args=q({c1:[sa,la],c2:[sa+xa,la],c3:[sa+xa-A[1].width,la+Ga],c4:[sa+A[3].width,la+Ga]},Z[0],Z[1],J.topLeftOuter,J.topLeftInner,
J.topRightOuter,J.topRightInner);break;case 1:sa=O.left+O.width-A[1].width;xa=A[1].width;S.args=q({c1:[sa+xa,la],c2:[sa+xa,la+Ga+A[2].width],c3:[sa,la+Ga],c4:[sa,la+A[0].width]},Z[1],Z[2],J.topRightOuter,J.topRightInner,J.bottomRightOuter,J.bottomRightInner);break;case 2:la=la+O.height-A[2].width;Ga=A[2].width;S.args=q({c1:[sa+xa,la+Ga],c2:[sa,la+Ga],c3:[sa+A[3].width,la],c4:[sa+xa-A[3].width,la]},Z[2],Z[3],J.bottomRightOuter,J.bottomRightInner,J.bottomLeftOuter,J.bottomLeftInner);break;case 3:xa=
A[3].width,S.args=q({c1:[sa,la+Ga+A[2].width],c2:[sa,la],c3:[sa+xa,la+A[0].width],c4:[sa+xa,la+Ga]},Z[3],Z[0],J.bottomLeftOuter,J.bottomLeftInner,J.topLeftOuter,J.topLeftInner)}}return S})}function e(A,O,J,Z){var S=(Math.sqrt(2)-1)/3*4,aa=J*S;S*=Z;J=A+J;Z=O+Z;return{topLeft:d({x:A,y:Z},{x:A,y:Z-S},{x:J-aa,y:O},{x:J,y:O}),topRight:d({x:A,y:O},{x:A+aa,y:O},{x:J,y:Z-S},{x:J,y:Z}),bottomRight:d({x:J,y:O},{x:J,y:O+S},{x:A+aa,y:Z},{x:A,y:Z}),bottomLeft:d({x:J,y:Z},{x:J-aa,y:Z},{x:A,y:O+S},{x:A,y:O})}}function k(A,
O,J){var Z=A.left,S=A.top,aa=A.width;A=A.height;var sa=O[0][0]<aa/2?O[0][0]:aa/2,la=O[0][1]<A/2?O[0][1]:A/2,xa=O[1][0]<aa/2?O[1][0]:aa/2,Ga=O[1][1]<A/2?O[1][1]:A/2,Na=O[2][0]<aa/2?O[2][0]:aa/2,Ia=O[2][1]<A/2?O[2][1]:A/2,Ma=O[3][0]<aa/2?O[3][0]:aa/2;O=O[3][1]<A/2?O[3][1]:A/2;var Aa=aa-xa,Ua=A-Ia,Oa=aa-Na,K=A-O;return{topLeftOuter:e(Z,S,sa,la).topLeft.subdivide(.5),topLeftInner:e(Z+J[3].width,S+J[0].width,Math.max(0,sa-J[3].width),Math.max(0,la-J[0].width)).topLeft.subdivide(.5),topRightOuter:e(Z+Aa,
S,xa,Ga).topRight.subdivide(.5),topRightInner:e(Z+Math.min(Aa,aa+J[3].width),S+J[0].width,Aa>aa+J[3].width?0:xa-J[3].width,Ga-J[0].width).topRight.subdivide(.5),bottomRightOuter:e(Z+Oa,S+Ua,Na,Ia).bottomRight.subdivide(.5),bottomRightInner:e(Z+Math.min(Oa,aa-J[3].width),S+Math.min(Ua,A+J[0].width),Math.max(0,Na-J[1].width),Ia-J[2].width).bottomRight.subdivide(.5),bottomLeftOuter:e(Z,S+K,Ma,O).bottomLeft.subdivide(.5),bottomLeftInner:e(Z+J[3].width,S+K,Math.max(0,Ma-J[3].width),O-J[2].width).bottomLeft.subdivide(.5)}}
function d(A,O,J,Z){var S=function(aa,sa,la){return{x:aa.x+(sa.x-aa.x)*la,y:aa.y+(sa.y-aa.y)*la}};return{start:A,startControl:O,endControl:J,end:Z,subdivide:function(aa){var sa=S(A,O,aa),la=S(O,J,aa),xa=S(J,Z,aa),Ga=S(sa,la,aa);la=S(la,xa,aa);aa=S(Ga,la,aa);return[d(A,sa,Ga,aa),d(aa,la,xa,Z)]},curveTo:function(aa){aa.push(["bezierCurve",O.x,O.y,J.x,J.y,Z.x,Z.y])},curveToReversed:function(aa){aa.push(["bezierCurve",J.x,J.y,O.x,O.y,A.x,A.y])}}}function q(A,O,J,Z,S,aa,sa){var la=[];0<O[0]||0<O[1]?(la.push(["line",
Z[1].start.x,Z[1].start.y]),Z[1].curveTo(la)):la.push(["line",A.c1[0],A.c1[1]]);0<J[0]||0<J[1]?(la.push(["line",aa[0].start.x,aa[0].start.y]),aa[0].curveTo(la),la.push(["line",sa[0].end.x,sa[0].end.y]),sa[0].curveToReversed(la)):(la.push(["line",A.c2[0],A.c2[1]]),la.push(["line",A.c3[0],A.c3[1]]));0<O[0]||0<O[1]?(la.push(["line",S[1].end.x,S[1].end.y]),S[1].curveToReversed(la)):la.push(["line",A.c4[0],A.c4[1]]);return la}function w(A,O,J,Z,S,aa,sa){0<O[0]||0<O[1]?(A.push(["line",Z[0].start.x,Z[0].start.y]),
Z[0].curveTo(A),Z[1].curveTo(A)):A.push(["line",aa,sa]);(0<J[0]||0<J[1])&&A.push(["line",S[0].start.x,S[0].start.y])}function v(A){return 0>A.cssInt("zIndex")}function E(A){return 0<A.cssInt("zIndex")}function y(A){return 0===A.cssInt("zIndex")}function u(A){return-1!==["inline","inline-block","inline-table"].indexOf(A.css("display"))}function x(A){return 0<A.node.data.trim().length}function F(A){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(O){O=A.css("border"+O+"Radius").split(" ");
1>=O.length&&(O[1]=O[0]);return O.map(X)})}function Q(A){return A.nodeType===Node.TEXT_NODE||A.nodeType===Node.ELEMENT_NODE}function W(A){return"static"!==A.css("position")}function L(A){return"none"!==A.css("float")}function N(A){var O=this;return function(){return!A.apply(O,arguments)}}function G(A){return A.node.nodeType===Node.ELEMENT_NODE}function z(A){return A.node.nodeType===Node.TEXT_NODE}function P(A){return function(O,J){return O.cssInt("zIndex")+A.indexOf(O)/A.length-(J.cssInt("zIndex")+
A.indexOf(J)/A.length)}}function X(A){return parseInt(A,10)}function Y(A){return A.width}function ba(A){return A.node.nodeType!==Node.ELEMENT_NODE||-1==="SCRIPT HEAD TITLE OBJECT BR OPTION".split(" ").indexOf(A.node.nodeName)}function oa(A){for(var O=[],J=0,Z=!1,S;A.length;)-1!==[32,13,10,9,45].indexOf(A[J])===Z?(S=A.splice(0,J),S.length&&O.push(Ca.ucs2.encode(S)),Z=!Z,J=0):J++,J>=A.length&&(S=A.splice(0,J),S.length&&O.push(Ca.ucs2.encode(S)));return O}var da=n("./log"),Ca=n("punycode"),qa=n("./nodecontainer"),
za=n("./textcontainer"),wa=n("./pseudoelementcontainer"),R=n("./fontmetrics"),na=n("./color"),t=n("./stackingcontext");n=n("./utils");var B=n.bind,C=n.getBounds,I=n.parseBackgrounds,H=n.offsetBounds;a.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(A){if(G(A)){!0===A.isPseudoElement&&A.appendToDOM();A.borders=this.parseBorders(A);var O="hidden"===A.css("overflow")?[A.borders.clip]:[],J=A.parseClip();J&&-1!==["absolute","fixed"].indexOf(A.css("position"))&&O.push([["rect",A.bounds.left+
J.left,A.bounds.top+J.top,J.right-J.left,J.bottom-J.top]]);A.clip=A.parent&&A.parent.clip.length?A.parent.clip.concat(O):O;A.backgroundClip="hidden"!==A.css("overflow")?A.clip.concat([A.borders.clip]):A.clip;!0===A.isPseudoElement&&A.cleanDOM()}else z(A)&&(A.clip=A.parent&&A.parent.clip.length?A.parent.clip:[]);!0!==A.isPseudoElement&&(A.bounds=null)},this)};a.prototype.asyncRenderer=function(A,O,J){J=J||Date.now();this.paint(A[this.renderIndex++]);A.length===this.renderIndex?O():J+20>Date.now()?
this.asyncRenderer(A,O,J):setTimeout(B(function(){this.asyncRenderer(A,O)},this),0)};a.prototype.createPseudoHideStyles=function(A){this.createStyles(A,"."+wa.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+wa.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')};a.prototype.disableAnimations=function(A){this.createStyles(A,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")};
a.prototype.createStyles=function(A,O){var J=A.createElement("style");J.innerHTML=O;A.body.appendChild(J)};a.prototype.getPseudoElements=function(A){var O=[[A]];if(A.node.nodeType===Node.ELEMENT_NODE){var J=this.getPseudoElement(A,":before");A=this.getPseudoElement(A,":after");J&&O.push(J);A&&O.push(A)}return[].concat.apply([],O)};a.prototype.getPseudoElement=function(A,O){var J=A.computedStyle(O);if(!J||!J.content||"none"===J.content||"-moz-alt-content"===J.content||"none"===J.display)return null;
var Z=J.content;var S=Z.substr(0,1);S=S===Z.substr(Z.length-1)&&S.match(/'|"/)?Z.substr(1,Z.length-2):Z;var aa="url"===S.substr(0,3);Z=document.createElement(aa?"img":"html2canvaspseudoelement");A=new wa(Z,A,O);for(O=J.length-1;0<=O;O--){var sa=l(J.item(O));Z.style[sa]=J[sa]}Z.className=wa.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+wa.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER;if(aa)return Z.src=I(S)[0].args[0],[A];J=document.createTextNode(S);Z.appendChild(J);return[A,new za(J,A)]};a.prototype.getChildren=
function(A){return[].concat.apply([],[].filter.call(A.node.childNodes,Q).map(function(O){var J=[O.nodeType===Node.TEXT_NODE?new za(O,A):new qa(O,A)].filter(ba);return O.nodeType===Node.ELEMENT_NODE&&J.length&&"TEXTAREA"!==O.tagName?J[0].isElementVisible()?J.concat(this.getChildren(J[0])):[]:J},this))};a.prototype.newStackingContext=function(A,O){var J=new t(O,A.getOpacity(),A.node,A.parent);A.cloneTo(J);(O?J.getParentStack(this):J.parent.stack).contexts.push(J);A.stack=J};a.prototype.createStackingContexts=
function(){this.nodes.forEach(function(A){var O;if(O=G(A))(O=this.isRootElement(A)||1>A.getOpacity())||(O=A.css("position"),O="auto"!==(-1!==["absolute","relative","fixed"].indexOf(O)?A.css("zIndex"):"auto")),O=O||this.isBodyWithTransparentRoot(A)||A.hasTransform();O?this.newStackingContext(A,!0):G(A)&&(W(A)&&y(A)||-1!==["inline-block","inline-table"].indexOf(A.css("display"))||L(A))?this.newStackingContext(A,!1):A.assignStack(A.parent.stack)},this)};a.prototype.isBodyWithTransparentRoot=function(A){return"BODY"===
A.node.nodeName&&A.parent.color("backgroundColor").isTransparent()};a.prototype.isRootElement=function(A){return null===A.parent};a.prototype.sortStackingContexts=function(A){A.contexts.sort(P(A.contexts.slice(0)));A.contexts.forEach(this.sortStackingContexts,this)};a.prototype.parseTextBounds=function(A){return function(O,J,Z){if("none"!==A.parent.css("textDecoration").substr(0,4)||0!==O.trim().length){if(this.support.rangeBounds&&!A.parent.hasTransform())return J=Z.slice(0,J).join("").length,this.getRangeBounds(A.node,
J,O.length);if(A.node&&"string"===typeof A.node.data)return O=A.node.splitText(O.length),J=this.getWrapperBounds(A.node,A.parent.hasTransform()),A.node=O,J}else if(!this.support.rangeBounds||A.parent.hasTransform())A.node=A.node.splitText(O.length);return{}}};a.prototype.getWrapperBounds=function(A,O){var J=A.ownerDocument.createElement("html2canvaswrapper"),Z=A.parentNode,S=A.cloneNode(!0);J.appendChild(A.cloneNode(!0));Z.replaceChild(J,A);A=O?H(J):C(J);Z.replaceChild(S,J);return A};a.prototype.getRangeBounds=
function(A,O,J){var Z=this.range||(this.range=A.ownerDocument.createRange());Z.setStart(A,O);Z.setEnd(A,O+J);return Z.getBoundingClientRect()};a.prototype.parse=function(A){var O=A.contexts.filter(v),J=A.children.filter(G),Z=J.filter(N(L)),S=Z.filter(N(W)).filter(N(u));J=J.filter(N(W)).filter(L);var aa=Z.filter(N(W)).filter(u);Z=A.contexts.concat(Z.filter(W)).filter(y);var sa=A.children.filter(z).filter(x);A=A.contexts.filter(E);O.concat(S).concat(J).concat(aa).concat(Z).concat(sa).concat(A).forEach(function(la){this.renderQueue.push(la);
la instanceof t&&(this.parse(la),this.renderQueue.push(new c))},this)};a.prototype.paint=function(A){try{A instanceof c?this.renderer.ctx.restore():z(A)?(!0===A.parent.isPseudoElement&&A.parent.appendToDOM(),this.paintText(A),!0===A.parent.isPseudoElement&&A.parent.cleanDOM()):this.paintNode(A)}catch(O){if(da(O),this.options.strict)throw O;}};a.prototype.paintNode=function(A){A instanceof t&&(this.renderer.setOpacity(A.opacity),this.renderer.ctx.save(),A.hasTransform()&&this.renderer.setTransform(A.parseTransform()));
"INPUT"===A.node.nodeName&&"checkbox"===A.node.type?this.paintCheckbox(A):"INPUT"===A.node.nodeName&&"radio"===A.node.type?this.paintRadio(A):this.paintElement(A)};a.prototype.paintElement=function(A){var O=A.parseBounds();this.renderer.clip(A.backgroundClip,function(){this.renderer.renderBackground(A,O,A.borders.borders.map(Y))},this);this.renderer.clip(A.clip,function(){this.renderer.renderBorders(A.borders.borders)},this);this.renderer.clip(A.backgroundClip,function(){switch(A.node.nodeName){case "svg":case "IFRAME":var J=
this.images.get(A.node);J?this.renderer.renderImage(A,O,A.borders,J):da("Error loading \x3c"+A.node.nodeName+"\x3e",A.node);break;case "IMG":(J=this.images.get(A.node.src))?this.renderer.renderImage(A,O,A.borders,J):da("Error loading \x3cimg\x3e",A.node.src);break;case "CANVAS":this.renderer.renderImage(A,O,A.borders,{image:A.node});break;case "SELECT":case "INPUT":case "TEXTAREA":this.paintFormValue(A)}},this)};a.prototype.paintCheckbox=function(A){var O=A.parseBounds(),J=Math.min(O.width,O.height),
Z={width:J-1,height:J-1,top:O.top,left:O.left};O=[3,3];var S=[O,O,O,O],aa=[1,1,1,1].map(function(la){return{color:new na("#A5A5A5"),width:la}}),sa=k(Z,S,aa);this.renderer.clip(A.backgroundClip,function(){this.renderer.rectangle(Z.left+1,Z.top+1,Z.width-2,Z.height-2,new na("#DEDEDE"));this.renderer.renderBorders(h(aa,Z,sa,S));A.node.checked&&(this.renderer.font(new na("#424242"),"normal","normal","bold",J-3+"px","arial"),this.renderer.text("\u2714",Z.left+J/6,Z.top+J-1))},this)};a.prototype.paintRadio=
function(A){var O=A.parseBounds(),J=Math.min(O.width,O.height)-2;this.renderer.clip(A.backgroundClip,function(){this.renderer.circleStroke(O.left+1,O.top+1,J,new na("#DEDEDE"),1,new na("#A5A5A5"));A.node.checked&&this.renderer.circle(Math.ceil(O.left+J/4)+1,Math.ceil(O.top+J/4)+1,Math.floor(J/2),new na("#424242"))},this)};a.prototype.paintFormValue=function(A){var O=A.getValue();if(0<O.length){var J=A.node.ownerDocument,Z=J.createElement("html2canvaswrapper");"lineHeight textAlign fontFamily fontWeight fontSize color paddingLeft paddingTop paddingRight paddingBottom width height borderLeftStyle borderTopStyle borderLeftWidth borderTopWidth boxSizing whiteSpace wordWrap".split(" ").forEach(function(aa){try{Z.style[aa]=
A.css(aa)}catch(sa){da("html2canvas: Parse: Exception caught in renderFormValue: "+sa.message)}});var S=A.parseBounds();Z.style.position="fixed";Z.style.left=S.left+"px";Z.style.top=S.top+"px";Z.textContent=O;J.body.appendChild(Z);this.paintText(new za(Z.firstChild,A));J.body.removeChild(Z)}};a.prototype.paintText=function(A){A.applyTextTransform();var O=Ca.ucs2.decode(A.node.data),J=this.options.letterRendering&&!/^(normal|none|0px)$/.test(A.parent.css("letterSpacing"))||/[^\u0000-\u00ff]/.test(A.node.data)?
O.map(function(sa){return Ca.ucs2.encode([sa])}):oa(O);O=A.parent.fontWeight();var Z=A.parent.css("fontSize"),S=A.parent.css("fontFamily"),aa=A.parent.parseTextShadows();this.renderer.font(A.parent.color("color"),A.parent.css("fontStyle"),A.parent.css("fontVariant"),O,Z,S);aa.length?this.renderer.fontShadow(aa[0].color,aa[0].offsetX,aa[0].offsetY,aa[0].blur):this.renderer.clearShadow();this.renderer.clip(A.parent.clip,function(){J.map(this.parseTextBounds(A),this).forEach(function(sa,la){sa&&(this.renderer.text(J[la],
sa.left,sa.bottom),this.renderTextDecoration(A.parent,sa,this.fontMetrics.getMetrics(S,Z)))},this)},this)};a.prototype.renderTextDecoration=function(A,O,J){switch(A.css("textDecoration").split(" ")[0]){case "underline":this.renderer.rectangle(O.left,Math.round(O.top+J.baseline+J.lineWidth),O.width,1,A.color("color"));break;case "overline":this.renderer.rectangle(O.left,Math.round(O.top),O.width,1,A.color("color"));break;case "line-through":this.renderer.rectangle(O.left,Math.ceil(O.top+J.middle+J.lineWidth),
O.width,1,A.color("color"))}};var ka={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};a.prototype.parseBorders=function(A){var O=A.parseBounds(),J=F(A),Z=["Top","Right","Bottom","Left"].map(function(aa,sa){var la=A.css("border"+aa+"Style"),xa=A.color("border"+aa+"Color");"inset"===la&&xa.isBlack()&&(xa=new na([255,255,255,xa.a]));sa=ka[la]?ka[la][sa]:null;return{width:A.cssInt("border"+aa+"Width"),color:sa?xa[sa[0]](sa[1]):xa,args:null}}),S=k(O,J,Z);return{clip:this.parseBackgroundClip(A,
S,Z,J,O),borders:h(Z,O,S,J)}};a.prototype.parseBackgroundClip=function(A,O,J,Z,S){var aa=[];switch(A.css("backgroundClip")){case "content-box":case "padding-box":w(aa,Z[0],Z[1],O.topLeftInner,O.topRightInner,S.left+J[3].width,S.top+J[0].width);w(aa,Z[1],Z[2],O.topRightInner,O.bottomRightInner,S.left+S.width-J[1].width,S.top+J[0].width);w(aa,Z[2],Z[3],O.bottomRightInner,O.bottomLeftInner,S.left+S.width-J[1].width,S.top+S.height-J[2].width);w(aa,Z[3],Z[0],O.bottomLeftInner,O.topLeftInner,S.left+J[3].width,
S.top+S.height-J[2].width);break;default:w(aa,Z[0],Z[1],O.topLeftOuter,O.topRightOuter,S.left,S.top),w(aa,Z[1],Z[2],O.topRightOuter,O.bottomRightOuter,S.left+S.width,S.top),w(aa,Z[2],Z[3],O.bottomRightOuter,O.bottomLeftOuter,S.left+S.width,S.top+S.height),w(aa,Z[3],Z[0],O.bottomLeftOuter,O.topLeftOuter,S.left,S.top+S.height)}return aa};p.exports=a},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,
punycode:1}],16:[function(n,p,f){function a(E,y,u){var x="withCredentials"in new XMLHttpRequest;if(!y)return Promise.reject("No proxy configured");var F=c(x);E=h(y,E,F);return x?k(E):l(u,E,F).then(function(Q){return w(Q.content)})}function l(E,y,u){return new Promise(function(x,F){var Q=E.createElement("script"),W=function(){delete window.html2canvas.proxy[u];E.body.removeChild(Q)};window.html2canvas.proxy[u]=function(L){W();x(L)};Q.src=y;Q.onerror=function(L){W();F(L)};E.body.appendChild(Q)})}function c(E){return E?
"":"html2canvas_"+Date.now()+"_"+ ++v+"_"+Math.round(1E5*Math.random())}function h(E,y,u){return E+"?url\x3d"+encodeURIComponent(y)+(u.length?"\x26callback\x3dhtml2canvas.proxy."+u:"")}function e(E){return function(y){var u=new DOMParser;try{var x=u.parseFromString(y,"text/html")}catch(F){d("DOMParser not supported, falling back to createHTMLDocument");x=document.implementation.createHTMLDocument("");try{x.open(),x.write(y),x.close()}catch(Q){d("createHTMLDocument write not supported, falling back to document.body.innerHTML"),
x.body.innerHTML=y}}y=x.querySelector("base");y&&y.href.host||(y=x.createElement("base"),y.href=E,x.head.insertBefore(y,x.head.firstChild));return x}}var k=n("./xhr");p=n("./utils");var d=n("./log"),q=n("./clone"),w=p.decode64,v=0;f.Proxy=a;f.ProxyURL=function(E,y,u){var x="crossOrigin"in new Image,F=c(x);E=h(y,E,F);return x?Promise.resolve(E):l(u,E,F).then(function(Q){return"data:"+Q.type+";base64,"+Q.content})};f.loadUrlDocument=function(E,y,u,x,F,Q){return(new a(E,y,window.document)).then(e(E)).then(function(W){return q(W,
u,x,F,Q,0,0)})}},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(n,p,f){var a=n("./proxy").ProxyURL;p.exports=function(l,c){var h=document.createElement("a");h.href=l;this.src=l=h.href;this.image=new Image;var e=this;this.promise=new Promise(function(k,d){e.image.crossOrigin="Anonymous";e.image.onload=k;e.image.onerror=d;(new a(l,c,document)).then(function(q){e.image.src=q})["catch"](d)})}},{"./proxy":16}],18:[function(n,p,f){function a(c,h,e){l.call(this,c,h);this.isPseudoElement=
!0;this.before=":before"===e}var l=n("./nodecontainer");a.prototype.cloneTo=function(c){a.prototype.cloneTo.call(this,c);c.isPseudoElement=!0;c.before=this.before};a.prototype=Object.create(l.prototype);a.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node);this.parent.node.className+=" "+this.getHideClass()};a.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node);this.parent.node.className=
this.parent.node.className.replace(this.getHideClass(),"")};a.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]};a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before";a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after";p.exports=a},{"./nodecontainer":14}],19:[function(n,p,f){function a(c,h,e,k,d){this.width=c;this.height=h;this.images=e;this.options=k;this.document=d}var l=n("./log");
a.prototype.renderImage=function(c,h,e,k){var d=c.cssInt("paddingLeft"),q=c.cssInt("paddingTop"),w=c.cssInt("paddingRight");c=c.cssInt("paddingBottom");e=e.borders;w=h.width-(e[1].width+e[3].width+d+w);c=h.height-(e[0].width+e[2].width+q+c);this.drawImage(k,0,0,k.image.width||w,k.image.height||c,h.left+d+e[3].width,h.top+q+e[0].width,w,c)};a.prototype.renderBackground=function(c,h,e){0<h.height&&0<h.width&&(this.renderBackgroundColor(c,h),this.renderBackgroundImage(c,h,e))};a.prototype.renderBackgroundColor=
function(c,h){c=c.color("backgroundColor");c.isTransparent()||this.rectangle(h.left,h.top,h.width,h.height,c)};a.prototype.renderBorders=function(c){c.forEach(this.renderBorder,this)};a.prototype.renderBorder=function(c){c.color.isTransparent()||null===c.args||this.drawShape(c.args,c.color)};a.prototype.renderBackgroundImage=function(c,h,e){c.parseBackgroundImages().reverse().forEach(function(k,d,q){switch(k.method){case "url":var w=this.images.get(k.args[0]);w?this.renderBackgroundRepeating(c,h,
w,q.length-(d+1),e):l("Error loading background-image",k.args[0]);break;case "linear-gradient":case "gradient":(d=this.images.get(k.value))?this.renderBackgroundGradient(d,h,e):l("Error loading background-image",k.args[0]);break;case "none":break;default:l("Unknown background-image type",k.args[0])}},this)};a.prototype.renderBackgroundRepeating=function(c,h,e,k,d){var q=c.parseBackgroundSize(h,e.image,k),w=c.parseBackgroundPosition(h,e.image,k,q);switch(c.parseBackgroundRepeat(k)){case "repeat-x":case "repeat no-repeat":this.backgroundRepeatShape(e,
w,q,h,h.left+d[3],h.top+w.top+d[0],99999,q.height,d);break;case "repeat-y":case "no-repeat repeat":this.backgroundRepeatShape(e,w,q,h,h.left+w.left+d[3],h.top+d[0],q.width,99999,d);break;case "no-repeat":this.backgroundRepeatShape(e,w,q,h,h.left+w.left+d[3],h.top+w.top+d[0],q.width,q.height,d);break;default:this.renderBackgroundRepeat(e,w,q,{top:h.top,left:h.left},d[3],d[0])}};p.exports=a},{"./log":13}],20:[function(n,p,f){function a(k,d){c.apply(this,arguments);this.canvas=this.options.canvas||this.document.createElement("canvas");
this.options.canvas||(this.canvas.width=k,this.canvas.height=d);this.ctx=this.canvas.getContext("2d");this.taintCtx=this.document.createElement("canvas").getContext("2d");this.ctx.textBaseline="bottom";this.variables={};e("Initialized CanvasRenderer with size",k,"x",d)}function l(k){return 0<k.length}var c=n("../renderer"),h=n("../lineargradientcontainer"),e=n("../log");a.prototype=Object.create(c.prototype);a.prototype.setFillStyle=function(k){this.ctx.fillStyle="object"===typeof k&&k.isColor?k.toString():
k;return this.ctx};a.prototype.rectangle=function(k,d,q,w,v){this.setFillStyle(v).fillRect(k,d,q,w)};a.prototype.circle=function(k,d,q,w){this.setFillStyle(w);this.ctx.beginPath();this.ctx.arc(k+q/2,d+q/2,q/2,0,2*Math.PI,!0);this.ctx.closePath();this.ctx.fill()};a.prototype.circleStroke=function(k,d,q,w,v,E){this.circle(k,d,q,w);this.ctx.strokeStyle=E.toString();this.ctx.stroke()};a.prototype.drawShape=function(k,d){this.shape(k);this.setFillStyle(d).fill()};a.prototype.taints=function(k){if(null===
k.tainted){this.taintCtx.drawImage(k.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),k.tainted=!1}catch(d){this.taintCtx=document.createElement("canvas").getContext("2d"),k.tainted=!0}}return k.tainted};a.prototype.drawImage=function(k,d,q,w,v,E,y,u,x){this.taints(k)&&!this.options.allowTaint||this.ctx.drawImage(k.image,d,q,w,v,E,y,u,x)};a.prototype.clip=function(k,d,q){this.ctx.save();k.filter(l).forEach(function(w){this.shape(w).clip()},this);d.call(q);this.ctx.restore()};a.prototype.shape=function(k){this.ctx.beginPath();
k.forEach(function(d,q){"rect"===d[0]?this.ctx.rect.apply(this.ctx,d.slice(1)):this.ctx[0===q?"moveTo":d[0]+"To"].apply(this.ctx,d.slice(1))},this);this.ctx.closePath();return this.ctx};a.prototype.font=function(k,d,q,w,v,E){this.setFillStyle(k).font=[d,q,w,v,E].join(" ").split(",")[0]};a.prototype.fontShadow=function(k,d,q,w){this.setVariable("shadowColor",k.toString()).setVariable("shadowOffsetY",d).setVariable("shadowOffsetX",q).setVariable("shadowBlur",w)};a.prototype.clearShadow=function(){this.setVariable("shadowColor",
"rgba(0,0,0,0)")};a.prototype.setOpacity=function(k){this.ctx.globalAlpha=k};a.prototype.setTransform=function(k){this.ctx.translate(k.origin[0],k.origin[1]);this.ctx.transform.apply(this.ctx,k.matrix);this.ctx.translate(-k.origin[0],-k.origin[1])};a.prototype.setVariable=function(k,d){this.variables[k]!==d&&(this.variables[k]=this.ctx[k]=d);return this};a.prototype.text=function(k,d,q){this.ctx.fillText(k,d,q)};a.prototype.backgroundRepeatShape=function(k,d,q,w,v,E,y,u,x){this.clip([[["line",Math.round(v),
Math.round(E)],["line",Math.round(v+y),Math.round(E)],["line",Math.round(v+y),Math.round(u+E)],["line",Math.round(v),Math.round(u+E)]]],function(){this.renderBackgroundRepeat(k,d,q,w,x[3],x[0])},this)};a.prototype.renderBackgroundRepeat=function(k,d,q,w,v,E){v=Math.round(w.left+d.left+v);d=Math.round(w.top+d.top+E);this.setFillStyle(this.ctx.createPattern(this.resizeImage(k,q),"repeat"));this.ctx.translate(v,d);this.ctx.fill();this.ctx.translate(-v,-d)};a.prototype.renderBackgroundGradient=function(k,
d){if(k instanceof h){var q=this.ctx.createLinearGradient(d.left+d.width*k.x0,d.top+d.height*k.y0,d.left+d.width*k.x1,d.top+d.height*k.y1);k.colorStops.forEach(function(w){q.addColorStop(w.stop,w.color.toString())});this.rectangle(d.left,d.top,d.width,d.height,q)}};a.prototype.resizeImage=function(k,d){k=k.image;if(k.width===d.width&&k.height===d.height)return k;var q=document.createElement("canvas");q.width=d.width;q.height=d.height;q.getContext("2d").drawImage(k,0,0,k.width,k.height,0,0,d.width,
d.height);return q};p.exports=a},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(n,p,f){function a(c,h,e,k){l.call(this,e,k);this.ownStacking=c;this.contexts=[];this.children=[];this.opacity=(this.parent?this.parent.stack.opacity:1)*h}var l=n("./nodecontainer");a.prototype=Object.create(l.prototype);a.prototype.getParentStack=function(c){var h=this.parent?this.parent.stack:null;return h?h.ownStacking?h:h.getParentStack(c):c.stack};p.exports=a},{"./nodecontainer":14}],
22:[function(n,p,f){function a(l){this.rangeBounds=this.testRangeBounds(l);this.cors=this.testCORS();this.svg=this.testSVG()}a.prototype.testRangeBounds=function(l){var c=!1;if(l.createRange){var h=l.createRange();if(h.getBoundingClientRect){var e=l.createElement("boundtest");e.style.height="123px";e.style.display="block";l.body.appendChild(e);h.selectNode(e);h=h.getBoundingClientRect();h=h.height;123===h&&(c=!0);l.body.removeChild(e)}}return c};a.prototype.testCORS=function(){return"undefined"!==
typeof(new Image).crossOrigin};a.prototype.testSVG=function(){var l=new Image,c=document.createElement("canvas"),h=c.getContext("2d");l.src="data:image/svg+xml,\x3csvg xmlns\x3d'http://www.w3.org/2000/svg'\x3e\x3c/svg\x3e";try{h.drawImage(l,0,0),c.toDataURL()}catch(e){return!1}return!0};p.exports=a},{}],23:[function(n,p,f){function a(h){this.src=h;this.image=null;var e=this;this.promise=this.hasFabric().then(function(){return e.isInline(h)?Promise.resolve(e.inlineFormatting(h)):l(h)}).then(function(k){return new Promise(function(d){window.html2canvas.svg.fabric.loadSVGFromString(k,
e.createCanvas.call(e,d))})})}var l=n("./xhr"),c=n("./utils").decode64;a.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(Error("html2canvas.svg.js is not loaded, cannot render svg"))};a.prototype.inlineFormatting=function(h){return/^data:image\/svg\+xml;base64,/.test(h)?this.decode64(this.removeContentType(h)):this.removeContentType(h)};a.prototype.removeContentType=function(h){return h.replace(/^data:image\/svg\+xml(;base64)?,/,
"")};a.prototype.isInline=function(h){return/^data:image\/svg\+xml/i.test(h)};a.prototype.createCanvas=function(h){var e=this;return function(k,d){var q=new window.html2canvas.svg.fabric.StaticCanvas("c");e.image=q.lowerCanvasEl;q.setWidth(d.width).setHeight(d.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(k,d)).renderAll();h(q.lowerCanvasEl)}};a.prototype.decode64=function(h){return"function"===typeof window.atob?window.atob(h):c(h)};p.exports=a},{"./utils":26,"./xhr":28}],24:[function(n,
p,f){function a(l,c){this.src=l;this.image=null;var h=this;this.promise=c?new Promise(function(e,k){h.image=new Image;h.image.onload=e;h.image.onerror=k;h.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(l);!0===h.image.complete&&e(h.image)}):this.hasFabric().then(function(){return new Promise(function(e){window.html2canvas.svg.fabric.parseSVGDocument(l,h.createCanvas.call(h,e))})})}n=n("./svgcontainer");a.prototype=Object.create(n.prototype);p.exports=a},{"./svgcontainer":23}],
25:[function(n,p,f){function a(h,e){c.call(this,h,e)}function l(h,e,k){if(0<h.length)return e+k.toUpperCase()}var c=n("./nodecontainer");a.prototype=Object.create(c.prototype);a.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))};a.prototype.transform=function(h){var e=this.node.data;switch(h){case "lowercase":return e.toLowerCase();case "capitalize":return e.replace(/(^|\s|:|-|\(|\))([a-z])/g,l);case "uppercase":return e.toUpperCase();default:return e}};
p.exports=a},{"./nodecontainer":14}],26:[function(n,p,f){f.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"};f.bind=function(a,l){return function(){return a.apply(l,arguments)}};f.decode64=function(a){var l=a.length,c,h="";for(c=0;c<l;c+=4){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[c]);var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[c+1]);var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[c+
2]);var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[c+3]);e=e<<2|k>>4;k=(k&15)<<4|d>>2;var w=(d&3)<<6|q;h=64===d?h+String.fromCharCode(e):64===q||-1===q?h+String.fromCharCode(e,k):h+String.fromCharCode(e,k,w)}return h};f.getBounds=function(a){if(a.getBoundingClientRect){var l=a.getBoundingClientRect(),c=null==a.offsetWidth?l.width:a.offsetWidth;return{top:l.top,bottom:l.bottom||l.top+l.height,right:l.left+c,left:l.left,width:c,height:null==a.offsetHeight?l.height:
a.offsetHeight}}return{}};f.offsetBounds=function(a){var l=a.offsetParent?f.offsetBounds(a.offsetParent):{top:0,left:0};return{top:a.offsetTop+l.top,bottom:a.offsetTop+a.offsetHeight+l.top,right:a.offsetLeft+l.left+a.offsetWidth,left:a.offsetLeft+l.left,width:a.offsetWidth,height:a.offsetHeight}};f.parseBackgrounds=function(a){var l,c,h,e,k=[],d=0,q=0,w,v=function(){y&&('"'===l.substr(0,1)&&(l=l.substr(1,l.length-2)),l&&E.push(l),"-"===y.substr(0,1)&&0<(h=y.indexOf("-",1)+1)&&(c=y.substr(0,h),y=y.substr(h)),
k.push({prefix:c,method:y.toLowerCase(),value:e,args:E,image:null}));E=[];y=c=l=e=""};var E=[];var y=c=l=e="";a.split("").forEach(function(u){if(!(0===d&&-1<" \r\n\t".indexOf(u))){switch(u){case '"':w?w===u&&(w=null):w=u;break;case "(":if(!w){if(0===d){d=1;e+=u;return}q++}break;case ")":if(!w&&1===d){if(0===q){d=0;e+=u;v();return}q--}break;case ",":if(!w){if(0===d){v();return}if(1===d&&0===q&&!y.match(/^url$/i)){E.push(l);l="";e+=u;return}}}e+=u;0===d?y+=u:l+=u}});v();return k}},{}],27:[function(n,
p,f){function a(c){l.apply(this,arguments);this.type="linear"===c.args[0]?l.TYPES.LINEAR:l.TYPES.RADIAL}var l=n("./gradientcontainer");a.prototype=Object.create(l.prototype);p.exports=a},{"./gradientcontainer":9}],28:[function(n,p,f){p.exports=function(a){return new Promise(function(l,c){var h=new XMLHttpRequest;h.open("GET",a);h.onload=function(){200===h.status?l(h.responseText):c(Error(h.statusText))};h.onerror=function(){c(Error("Network Error"))};h.send()})}},{}]},{},[4])(4)}();!0;(function(m){var n=
function(){function p(c){var h,e;this.data=c;this.pos=8;this.palette=[];this.imgData=[];this.transparency={};this.animation=null;this.text={};for(e=null;;){var k=this.readUInt32();var d=c=void 0;c=[];for(d=0;4>d;++d)c.push(String.fromCharCode(this.data[this.pos++]));c=c.join("");switch(c){case "IHDR":this.width=this.readUInt32();this.height=this.readUInt32();this.bits=this.data[this.pos++];this.colorType=this.data[this.pos++];this.compressionMethod=this.data[this.pos++];this.filterMethod=this.data[this.pos++];
this.interlaceMethod=this.data[this.pos++];break;case "acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||Infinity,frames:[]};break;case "PLTE":this.palette=this.read(k);break;case "fcTL":e&&this.animation.frames.push(e);this.pos+=4;e={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()};c=this.readUInt16();k=this.readUInt16()||100;e.delay=1E3*c/k;e.disposeOp=this.data[this.pos++];e.blendOp=this.data[this.pos++];e.data=[];
break;case "IDAT":case "fdAT":"fdAT"===c&&(this.pos+=4,k-=4);c=(null!=e?e.data:void 0)||this.imgData;for(d=0;0<=k?d<k:d>k;0<=k?++d:--d)c.push(this.data[this.pos++]);break;case "tRNS":this.transparency={};switch(this.colorType){case 3:c=this.palette.length/3;this.transparency.indexed=this.read(k);if(this.transparency.indexed.length>c)throw Error("More transparent colors than palette size");k=c-this.transparency.indexed.length;if(0<k)for(c=0;0<=k?c<k:c>k;0<=k?++c:--c)this.transparency.indexed.push(255);
break;case 0:this.transparency.grayscale=this.read(k)[0];break;case 2:this.transparency.rgb=this.read(k)}break;case "tEXt":d=this.read(k);k=d.indexOf(0);c=String.fromCharCode.apply(String,d.slice(0,k));this.text[c]=String.fromCharCode.apply(String,d.slice(k+1));break;case "IEND":e&&this.animation.frames.push(e);a:{switch(this.colorType){case 0:case 3:case 4:e=1;break a;case 2:case 6:e=3;break a}e=void 0}this.colors=e;this.hasAlphaChannel=4===(h=this.colorType)||6===h;h=this.colors+(this.hasAlphaChannel?
1:0);this.pixelBitlength=this.bits*h;a:{switch(this.colors){case 1:h="DeviceGray";break a;case 3:h="DeviceRGB";break a}h=void 0}this.colorSpace=h;this.imgData=new Uint8Array(this.imgData);return;default:this.pos+=k}this.pos+=4;if(this.pos>this.data.length)throw Error("Incomplete or corrupt PNG file");}}p.load=function(c,h,e){"function"===typeof h&&(e=h);var k=new XMLHttpRequest;k.open("GET",c,!0);k.responseType="arraybuffer";k.onload=function(){var d=new Uint8Array(k.response||k.mozResponseArrayBuffer);
d=new p(d);"function"===typeof(null!=h?h.getContext:void 0)&&d.render(h);return"function"===typeof e?e(d):void 0};return k.send(null)};p.prototype.read=function(c){var h;var e=[];for(h=0;0<=c?h<c:h>c;0<=c?++h:--h)e.push(this.data[this.pos++]);return e};p.prototype.readUInt32=function(){var c=this.data[this.pos++]<<24;var h=this.data[this.pos++]<<16;var e=this.data[this.pos++]<<8;var k=this.data[this.pos++];return c|h|e|k};p.prototype.readUInt16=function(){var c=this.data[this.pos++]<<8;var h=this.data[this.pos++];
return c|h};p.prototype.decodePixels=function(c){var h,e,k,d,q,w,v,E;null==c&&(c=this.imgData);if(0===c.length)return new Uint8Array(0);c=new T(c);c=c.getBytes();var y=this.pixelBitlength/8;var u=y*this.width;var x=new Uint8Array(u*this.height);var F=c.length;for(e=d=q=0;d<F;){switch(c[d++]){case 0:for(k=h=0;h<u;k=h+=1)x[e++]=c[d++];break;case 1:for(k=w=0;w<u;k=w+=1){h=c[d++];var Q=k<y?0:x[e-y];x[e++]=(h+Q)%256}break;case 2:for(k=Q=0;Q<u;k=Q+=1){h=c[d++];var W=(k-k%y)/y;w=q&&x[(q-1)*u+W*y+k%y];x[e++]=
(w+h)%256}break;case 3:for(k=E=0;E<u;k=E+=1)h=c[d++],W=(k-k%y)/y,Q=k<y?0:x[e-y],w=q&&x[(q-1)*u+W*y+k%y],x[e++]=(h+Math.floor((Q+w)/2))%256;break;case 4:for(k=E=0;E<u;k=E+=1){h=c[d++];W=(k-k%y)/y;Q=k<y?0:x[e-y];0===q?w=v=0:(w=x[(q-1)*u+W*y+k%y],v=W&&x[(q-1)*u+(W-1)*y+k%y]);var L=Q+w-v;k=Math.abs(L-Q);W=Math.abs(L-w);L=Math.abs(L-v);Q=k<=W&&k<=L?Q:W<=L?w:v;x[e++]=(h+Q)%256}break;default:throw Error("Invalid filter algorithm: "+c[d-1]);}q++}return x};p.prototype.decodePalette=function(){var c,h,e,k,
d;var q=this.palette;var w=this.transparency.indexed||[];var v=new Uint8Array((w.length||0)+q.length);var E=e=c=h=0;for(k=q.length;e<k;E=e+=3)v[h++]=q[E],v[h++]=q[E+1],v[h++]=q[E+2],v[h++]=null!=(d=w[c++])?d:255;return v};p.prototype.copyToImageData=function(c,h){var e,k;var d=this.colors;var q=null;var w=this.hasAlphaChannel;this.palette.length&&(q=null!=(e=this._decodedPalette)?e:this._decodedPalette=this.decodePalette(),d=4,w=!0);c=c.data||c;var v=c.length;var E=q||h;e=k=0;if(1===d)for(;e<v;)d=
q?4*h[e/4]:k,k=E[d++],c[e++]=k,c[e++]=k,c[e++]=k,c[e++]=w?E[d++]:255,k=d;else for(;e<v;)d=q?4*h[e/4]:k,c[e++]=E[d++],c[e++]=E[d++],c[e++]=E[d++],c[e++]=w?E[d++]:255,k=d};p.prototype.decode=function(){var c=new Uint8Array(this.width*this.height*4);this.copyToImageData(c,this.decodePixels());return c};try{var f=m.document.createElement("canvas");var a=f.getContext("2d")}catch(c){return-1}var l=function(c){a.width=c.width;a.height=c.height;a.clearRect(0,0,c.width,c.height);a.putImageData(c,0,0);c=new Image;
c.src=f.toDataURL();return c};p.prototype.decodeFrames=function(c){var h,e;if(this.animation){var k=this.animation.frames;var d=[];var q=h=0;for(e=k.length;h<e;q=++h){q=k[q];var w=c.createImageData(q.width,q.height);var v=this.decodePixels(new Uint8Array(q.data));this.copyToImageData(w,v);q.imageData=w;d.push(q.image=l(w))}return d}};p.prototype.renderFrame=function(c,h){var e=this.animation.frames;var k=e[h];e=e[h-1];0===h&&c.clearRect(0,0,this.width,this.height);1===(null!=e?e.disposeOp:void 0)?
c.clearRect(e.xOffset,e.yOffset,e.width,e.height):2===(null!=e?e.disposeOp:void 0)&&c.putImageData(e.imageData,e.xOffset,e.yOffset);0===k.blendOp&&c.clearRect(k.xOffset,k.yOffset,k.width,k.height);return c.drawImage(k.image,k.xOffset,k.yOffset)};p.prototype.animate=function(c){var h,e=this;var k=0;var d=this.animation;var q=d.numFrames;var w=d.frames;var v=d.numPlays;return(h=function(){var E=k++%q;var y=w[E];e.renderFrame(c,E);if(1<q&&k/q<v)return e.animation._timeout=setTimeout(h,y.delay)})()};
p.prototype.stopAnimation=function(){var c;return clearTimeout(null!=(c=this.animation)?c._timeout:void 0)};p.prototype.render=function(c){c._png&&c._png.stopAnimation();c._png=this;c.width=this.width;c.height=this.height;c=c.getContext("2d");if(this.animation)return this.decodeFrames(c),this.animate(c);var h=c.createImageData(this.width,this.height);this.copyToImageData(h,this.decodePixels());return c.putImageData(h,0,0)};return p}();m.AcroForm.PNG=n})("undefined"!==typeof window&&window||void 0);
var ma=function(){function m(){this.bufferLength=this.pos=0;this.eof=!1;this.buffer=null}m.prototype={ensureBuffer:function(n){var p=this.buffer,f=p?p.byteLength:0;if(n<f)return p;for(var a=512;a<n;)a<<=1;n=new Uint8Array(a);for(a=0;a<f;++a)n[a]=p[a];return this.buffer=n},getByte:function(){for(var n=this.pos;this.bufferLength<=n;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(n){var p=this.pos;if(n){this.ensureBuffer(p+n);for(n=p+n;!this.eof&&this.bufferLength<
n;)this.readBlock();var f=this.bufferLength;n>f&&(n=f)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}this.pos=n;return this.buffer.subarray(p,n)},lookChar:function(){for(var n=this.pos;this.bufferLength<=n;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var n=this.pos;this.bufferLength<=n;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(n,p,f){for(var a=
n+p;this.bufferLength<=a&&!this.eof;)this.readBlock();return new Stream(this.buffer,n,p,f)},skip:function(n){n||(n=1);this.pos+=n},reset:function(){this.pos=0}};return m}(),T=function(){function m(h){throw Error(h);}function n(h){var e=0,k=h[e++],d=h[e++];-1!=k&&-1!=d||m("Invalid header in flate stream");8!=(k&15)&&m("Unknown compression method in flate stream");0!=((k<<8)+d)%31&&m("Bad FCHECK in flate stream");d&32&&m("FDICT bit set in flate stream");this.bytes=h;this.bytesPos=e;this.codeBuf=this.codeSize=
0;ma.call(this)}if("undefined"!==typeof Uint32Array){var p=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),a=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,
868353,876545]),l=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59E4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,
524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,
589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,
589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,
590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,
524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,
589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,
589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],c=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];n.prototype=Object.create(ma.prototype);n.prototype.getBits=function(h){for(var e=this.codeSize,k=this.codeBuf,d=this.bytes,q=this.bytesPos,w;e<h;)"undefined"==typeof(w=
d[q++])&&m("Bad encoding in flate stream"),k|=w<<e,e+=8;this.codeBuf=k>>h;this.codeSize=e-=h;this.bytesPos=q;return k&(1<<h)-1};n.prototype.getCode=function(h){var e=h[0],k=h[1];h=this.codeSize;for(var d=this.codeBuf,q=this.bytes,w=this.bytesPos;h<k;){var v;"undefined"==typeof(v=q[w++])&&m("Bad encoding in flate stream");d|=v<<h;h+=8}k=e[d&(1<<k)-1];e=k>>16;k&=65535;(0==h||h<e||0==e)&&m("Bad encoding in flate stream");this.codeBuf=d>>e;this.codeSize=h-e;this.bytesPos=w;return k};n.prototype.generateHuffmanTable=
function(h){for(var e=h.length,k=0,d=0;d<e;++d)h[d]>k&&(k=h[d]);for(var q=1<<k,w=new Uint32Array(q),v=1,E=0,y=2;v<=k;++v,E<<=1,y<<=1)for(var u=0;u<e;++u)if(h[u]==v){var x=0,F=E;for(d=0;d<v;++d)x=x<<1|F&1,F>>=1;for(d=x;d<q;d+=y)w[d]=v<<16|u;++E}return[w,k]};n.prototype.readBlock=function(){function h(x,F,Q,W,L){for(x=x.getBits(Q)+W;0<x--;)F[E++]=L}var e=this.getBits(3);e&1&&(this.eof=!0);e>>=1;if(0==e){var k=this.bytes,d=this.bytesPos,q;"undefined"==typeof(q=k[d++])&&m("Bad block header in flate stream");
var w=q;"undefined"==typeof(q=k[d++])&&m("Bad block header in flate stream");w|=q<<8;"undefined"==typeof(q=k[d++])&&m("Bad block header in flate stream");e=q;"undefined"==typeof(q=k[d++])&&m("Bad block header in flate stream");(e|q<<8)!=(~w&65535)&&m("Bad uncompressed block length in flate stream");this.codeSize=this.codeBuf=0;q=this.bufferLength;e=this.ensureBuffer(q+w);this.bufferLength=w=q+w;for(var v=q;v<w;++v){if("undefined"==typeof(q=k[d++])){this.eof=!0;break}e[v]=q}this.bytesPos=d}else{if(1==
e)d=l,q=c;else if(2==e){e=this.getBits(5)+257;q=this.getBits(5)+1;k=this.getBits(4)+4;d=Array(p.length);for(var E=0;E<k;)d[p[E++]]=this.getBits(3);d=this.generateHuffmanTable(d);E=k=0;q=e+q;for(w=Array(q);E<q;)v=this.getCode(d),16==v?h(this,w,2,3,k):17==v?h(this,w,3,3,k=0):18==v?h(this,w,7,11,k=0):w[E++]=k=v;d=this.generateHuffmanTable(w.slice(0,e));q=this.generateHuffmanTable(w.slice(e,q))}else m("Unknown block type in flate stream");w=(e=this.buffer)?e.length:0;for(v=this.bufferLength;;){var y=
this.getCode(d);if(256>y)v+1>=w&&(e=this.ensureBuffer(v+1),w=e.length),e[v++]=y;else{if(256==y){this.bufferLength=v;break}y-=257;y=f[y];var u=y>>16;0<u&&(u=this.getBits(u));k=(y&65535)+u;y=this.getCode(q);y=a[y];u=y>>16;0<u&&(u=this.getBits(u));y=(y&65535)+u;v+k>=w&&(e=this.ensureBuffer(v+k),w=e.length);for(u=0;u<k;++u,++v)e[v]=e[v-y]}}}};return n}}();String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/,"")});String.prototype.trimRight||(String.prototype.trimRight=
function(){return this.replace(/\s\s*$/,"")});return M}})})},"widgets/PublicNotification/Download_CSV":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/Deferred"],function(ya,ta,ha){return ta(null,{save:function(ea,U){var M=new ha;ea=ya.map(ea,function(D){return'"'+D.join('","')+'"\n'});U=this._createAndSaveCSV(ea,U);M.resolve(U);return M},_createAndSaveCSV:function(ea,U){ea=new Blob(ea,{type:"text/csv"});if(U)if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(ea,U+".csv");
else{var M=window.document.createElement("a");M.href=window.URL.createObjectURL(ea);M.download=U+".csv";document.body.appendChild(M);M.click();document.body.removeChild(M);window.URL.revokeObjectURL(ea)}return ea}})})},"widgets/PublicNotification/Highlighter":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/Deferred esri/graphic esri/symbols/SimpleFillSymbol esri/symbols/SimpleLineSymbol esri/symbols/SimpleMarkerSymbol".split(" "),function(ya,ta,ha,ea,U,M,D,ia){return ta([],
{constructor:function(ca){this._drawingChunkSize="number"===typeof ca?ca:100},createGraphic:function(ca,ma){function T(a,l){var c;a.getLayer&&(c=a.getLayer())&&(a=a.getLayer()._getSymbol(a),!a||isNaN(a.width)||isNaN(a.height)||(l=1+Math.max(a.width,a.height)));return l}var m=null,n=10;if(ca)if(ca.geometry){var p=ca.geometry;var f=p.type}else if(p=ca,p.hasOwnProperty("x")&&p.hasOwnProperty("y"))f="point";else if(p.hasOwnProperty("paths"))f="polyline";else if(p.hasOwnProperty("rings"))f="polygon";else if(p.hasOwnProperty("points"))f=
"multipoint";else return null;else return null;switch(f){case "point":if(isNaN(p.x)||isNaN(p.y))return null;n=T(ca,n);m=new U(p,new ia(ia.STYLE_SQUARE,n,new D(D.STYLE_SOLID,ma.point.lineColor,ma.point.lineWidth),ma.point.fillColor));break;case "polyline":m=new U(p,new D(D.STYLE_SOLID,ma.line.lineColor,ma.line.lineWidth));break;case "polygon":m=new U(p,new M(M.STYLE_SOLID,new D(D.STYLE_SOLID,ma.polygon.lineColor,ma.polygon.lineWidth),ma.polygon.fillColor));break;case "multipoint":n=T(ca,n),m=new U(p,
new ia(ia.STYLE_SQUARE,n,new D(D.STYLE_SOLID,ma.point.lineColor,ma.point.lineWidth),ma.point.fillColor))}return m},highlightFeatures:function(ca,ma,T,m,n){var p=new ea;if(0<ca.length)if(ca.length<=this._drawingChunkSize)this._highlightFeatures(ca,ma,T,m).then(function(){p.resolve(!0)});else{n(0);var f=Math.ceil(ca.length/this._drawingChunkSize);setTimeout(ha.hitch(this,function(){this._highlightFeaturesContinuation(ca,ma,T,m,n,this._drawingChunkSize,f,0,0).then(function(){p.resolve(!0)})}),50)}else p.resolve(!0);
return p},_highlightFeaturesContinuation:function(ca,ma,T,m,n,p,f,a,l){var c=new ea;if(l>=ca.length)return c.resolve(!0),c;var h=Math.min(l+p,ca.length);this._highlightFeatures(ca.slice(l,h),ma,T,m).then(ha.hitch(this,function(){++a;n(100*a/f);setTimeout(ha.hitch(this,function(){this._highlightFeaturesContinuation(ca,ma,T,m,n,this._drawingChunkSize,f,a,h).then(function(){c.resolve(!0)})}),10)}));return c},_highlightFeatures:function(ca,ma,T,m){var n=new ea;ya.forEach(ca,function(p){ma(p,T,m)},this);
n.resolve(!0);return n}})})},"widgets/PublicNotification/labelFormatUtils":function(){define("dojo/_base/array dojo/_base/kernel dojo/_base/lang dojo/Deferred dojo/promise/all esri/arcade/arcade esri/arcade/Feature esri/support/expressionUtils esri/arcadeProfiles/utils esri/graphic ./generalUtils".split(" "),function(ya,ta,ha,ea,U,M,D,ia,ca,ma,T){var m={convertPopupToLabelSpec:function(n){var p=[];var f=n.description;var a=n.fieldInfos;var l=n.expressionInfos;n=T.sanitizeNoTags(m.convertBreaksToEOLs(m.convertEndParasToEOLs(f))).trim();
n=n.replace(/\{/gi,"${");n=n.replace(/\u00a0/gi," ");n=n.split("\n");n=ya.map(n,function(c){var h="";c=c.replace(/\{([^}]+)\}/g,function(e,k){var d;ya.some(a,function(q){if(q.fieldName.toLowerCase()===k.toLowerCase()){d=q.fieldName;var w=q.label||q.fieldName;if(!q.hasOwnProperty("label")&&l)for(q=0;q<l.length;q++)w==="expression/"+l[q].name&&(w=l[q].title);h=""===h?w:h+" "+w;return!0}});return d?k?"{"+d+"}":e:k?"{"+k+"}":e});p.push(h);return c.trim()});n.csvHeaderRow=p;return n},createLabelsFromFeatures:function(n,
p,f,a){var l=new ea,c=[],h=[],e=0;m.layer=f;m.map=a;m.expressionInfos=p.expressionInfos;if(p.relationships)ya.forEach(n,function(d){m.objEach(p.relationships,function(q,w){var v=new ea,E=q.relatedQuery;h.push(v);var y=d.attributes[q.operLayer.layerObject.objectIdField];E.objectIds=[y];q.operLayer.layerObject.queryRelatedFeatures(E,function(u){var x=[];u[y]&&u[y].features&&(u=u[y].features,ya.forEach(u,function(F){var Q;var W=d.attributes;var L="relationships/"+w+"/";m.objEach(F.attributes,function(N,
G){Q=L+G;W[Q]=N});F=new ma(d.geometry,null,W);x.push(m.populateLabelLines(F,p))}));U(x).then(function(F){v.resolve(F)})})})}),U(h).then(function(d){ya.forEach(d,function(q){ya.forEach(q,function(w){++e;c.push(w)})});console.log(e+" related address features found");l.resolve(c)});else{var k=[];ya.forEach(n,function(d){k.push(m.populateLabelLines(d,p))});U(k).then(function(d){l.resolve(d)})}return l},populateLabelLines:function(n,p){var f=new ea,a=[];m.combineFeatureAttributesAndExpressionResolutions(n,
p.parsedExpressions).then(function(l){ya.forEach(p,function(c){a.push(m.substitute(c,l,m.useEmptyStringForNull))});f.resolve(a)});return f.promise},substitute:function(n,p,f){var a=ta.global;f=f?ha.hitch(a,f):function(l){return l};return n.replace(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,function(l,c){if(""===c)return"$";l=f(p[c],c);if("undefined"===typeof l)throw Error('string.substitute could not find key "'+c+'" in template');return l.toString()})},parseArcadeExpressions:function(n){if(Array.isArray(n)&&
0<n.length){var p={};ya.forEach(n,function(f){p[f.name]=M.parseScript(f.expression)})}return p},initArcadeContext:function(n){var p=null,f=null,a=null,l=null;m.expressionInfos&&(a=m.expressionInfos);m.map&&(f=m.map);m.layer&&m.layer.layerObject&&(p=m.layer.layerObject);n&&n.geometry&&n.geometry.spatialReference&&(l=n.geometry.spatialReference);return m.getEvalOptions({expression:a,feature:n,layer:p,map:f,sr:l}).context},getEvalOptions:function(n){var p=n.feature,f=n.layer,a=n.map;n=n.spatialReference;
p=p?D.createFromGraphicLikeObject(p.geometry,p.attributes,f):null;if(f){var l={spatialReference:n};var c=f.getMap()?ia.createFeatureSetFromLayer(f,l):ia.createFeatureSetFromLayerUrl(f.url,l);l=(f=ca.getServiceUrl(f.url))?ia.createFeatureSetCollectionFromServiceUrl(f,l):null}a=a?ia.createFeatureSetCollectionFromMap(a):null;return{context:{vars:{$feature:p,$layer:c,$datastore:l,$map:a},spatialReference:n}}},combineFeatureAttributesAndExpressionResolutions:function(n,p){var f=new ea,a=[],l;var c=ha.mixin({},
n.attributes);if(p){n=m.initArcadeContext(n);for(l in p)a.push(m.executeArcadeExpression(l,p[l],n,c));U(a).then(function(){f.resolve(c)})}else f.resolve(c);return f.promise},executeArcadeExpression:function(n,p,f,a){var l=new ea;(p=M.executeScript(p,f))&&p.then?p.then(function(c){a["expression/"+n]=c?c.toString():"";l.resolve(c)},function(c){a["expression/"+n]=c?c.toString():"";l.resolve(c)}):(a["expression/"+n]=p?p.toString():"",l.resolve(p));return l.promise},convertEndParasToEOLs:function(n){var p=
n;n=n.match(/<\/p>/gi);ya.forEach(n,function(f){p=p.replace(f,"\n")});return p},convertBreaksToEOLs:function(n){var p=n;n=n.match(/<br\s*\/?>/gi);ya.forEach(n,function(f){p=p.replace(f,"\n")});return p},useEmptyStringForNull:function(n){return n?n:""},objEach:function(n,p,f){for(var a in n)n.hasOwnProperty(a)&&p.call(f,n[a],a)}};return m})},"widgets/PublicNotification/generalUtils":function(){define(["jimu/utils"],function(ya){return{sanitizeNoTags:function(ta){if(!ta)return ta;var ha=ya.sanitizeHTML(ta);
ta=RegExp("\x3c(?:!--(?:(?:-*[^-\x3e])*--+|-?)|script\\b(?:[^\"'\x3e]|\"[^\"]*\"|'[^']*')*\x3e[\\s\\S]*?\x3c/script\\s*|style\\b(?:[^\"'\x3e]|\"[^\"]*\"|'[^']*')*\x3e[\\s\\S]*?\x3c/style\\s*|/?[a-z](?:[^\"'\x3e]|\"[^\"]*\"|'[^']*')*)\x3e","gi");do{var ea=ha;ha=ha.replace(ta,"")}while(ha!==ea);return ha=ha.replace(/</g,"\x26lt;").trim()}}})},"widgets/PublicNotification/Queryer":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/DeferredList esri/geometry/geometryEngineAsync esri/tasks/BufferParameters esri/tasks/GeometryService esri/tasks/query esri/tasks/QueryTask".split(" "),
function(ya,ta,ha,ea,U,M,D,ia,ca,ma){return ta([],{constructor:function(T,m){this.map=T;this._geometryService=new ia(m)},createUnionOfGeometries:function(T){var m=new ea;if(!Array.isArray(T))return m.reject("No geometries to buffer"),m;M.union(T).then(ha.hitch(this,function(n){n?m.resolve(n):m.reject("Unioning failed")}),ha.hitch(this,function(){m.reject("Unioning failed")}));return m},bufferGeometries:function(T,m){var n=new ea;if(!Array.isArray(T))return n.reject("No geometries to buffer"),n;var p=
new D;p.bufferSpatialReference=this.map.spatialReference;p.distances=m;p.unionResults=!0;p.geodesic=!0;p.geometries=T;p.outSpatialReference=this.map.spatialReference;p.unit=ia.UNIT_METER;this._geometryService.buffer(p,function(f){Array.isArray(f)&&0<f.length?n.resolve(f[0]):n.reject("Buffering failed")},function(f){n.reject("Buffering failed: "+f)});return n},groupGeometriesByType:function(T){var m=[],n=[],p=[],f=[],a=[],l=new ea;0<T.length?(ya.forEach(T,ha.hitch(this,function(c){"point"===c.type?
(m.push(c),f.push(.2)):"polyline"===c.type?(n.push(c),a.push(.2)):"polygon"===c.type&&p.push(c)})),T=[],0<m.length&&T.push(this.bufferGeometries(m,f)),0<n.length&&T.push(this.bufferGeometries(n,a)),0<T.length?(new U(T)).then(ha.hitch(this,function(c){if(0<c.length){for(var h=0;h<c.length;h++)p.push(c[h][1]);l.resolve(p)}}),function(c){l.reject("Buffering point/line geometires failed: "+c)}):l.resolve(p)):l.resolve(T);return l},createBufferFromGeometries:function(T,m){var n,p;var f=new ea;if(!Array.isArray(T)||
0>=T.length)return f.reject("No geometries to buffer"),f;this.groupGeometriesByType(T).then(ha.hitch(this,function(a){n=m;M.union(a).then(ha.hitch(this,function(l){l?0<n||"polygon"===l.type?(0===n&&(n=-.1),p=new D,p.bufferSpatialReference=this.map.spatialReference,p.distances=[n],p.geodesic=!0,p.geometries=[l],p.outSpatialReference=this.map.spatialReference,p.unit=ia.UNIT_METER,this._geometryService.buffer(p,function(c){Array.isArray(c)&&0<c.length?f.resolve(c[0]):f.reject("Buffering failed")},function(c){f.reject("Buffering failed: "+
c)})):f.resolve(l):f.reject("Unioning failed")}),function(l){f.reject(l)})}));return f},findIntersectingFeatures:function(T,m,n,p,f){var a=new ea,l={};m=new ma(m);var c=new ca;T&&(c.geometry=T);c.returnGeometry=!0;c.outFields=n;p&&(c.where=p);f&&(c.outSpatialReference=f);m.execute(c,ha.hitch(this,function(h){h&&Array.isArray(h.features)&&0<h.features.length?M.union(this._getFeatureGeometries(h.features)).then(ha.hitch(this,function(e){if(Array.isArray(e.rings)&&0<e.rings.length){var k=new D;k.bufferSpatialReference=
this.map.spatialReference;k.distances=[-.1];k.geodesic=!0;k.geometries=[e];k.outSpatialReference=this.map.spatialReference;k.unit=ia.UNIT_METER;this._geometryService.buffer(k,function(d){Array.isArray(d)&&0<d.length?(l.intersectGeometry=T,l.features=h.features,l.highlight=d[0],a.resolve(l)):a.reject("Buffering union failed")})}else l.intersectGeometry=T,l.features=h.features,l.highlight=e,a.resolve(l)})):(l.intersectGeometry=T,l.features=[],l.highlight=null,a.resolve(l))}),function(h){a.reject(h)});
return a},find:function(T,m,n,p,f){var a=new ea;this.findIntersectingFeatures(T,m,n,f).then(ha.hitch(this,function(l){console.log(l.features.length+" "+p+" features found");a.resolve(l)}),function(l){a.reject(l)});return a},_getFeatureGeometries:function(T){return ya.map(T,ha.hitch(this,function(m){return m.geometry}))}})})},"widgets/PublicNotification/SearchLayers":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/on dojo/when dojo/promise/all jimu/BaseWidget jimu/portalUtils jimu/utils esri/lang esri/request esri/dijit/Search esri/tasks/locator esri/layers/FeatureLayer esri/InfoTemplate".split(" "),
function(ya,ta,ha,ea,U,M,D,ia,ca,ma,T,m,n,p,f,a){return ya([ia],{baseClass:"jimu-search-layers",declaredClass:"jimu.dijit.SearchLayers",_searchDijitReady:null,_searchDijit:null,_layerInfosObj:null,_esriLocatorRegExp:/geocode(.){0,3}\.arcgis.com\/arcgis\/rest\/services\/World\/GeocodeServer/g,_mainWidgetNode:null,constructor:function(l,c,h,e,k){this._mainWidgetNode=k;this._searchDijitReady=new ea;this._layerInfosObj=h;this.own(h.on("layerInfosFilterChanged",ta.hitch(this,this._onLayerInfosFilterChanged)));
M(this._getConfigInfo(l,c)).then(ta.hitch(this,function(d){return D(this._convertConfig(d)).then(function(q){return ha.filter(q,function(w){return w})})})).then(ta.hitch(this,function(d){l.sources=d;this._searchDijit=new n(l,e);this._searchDijit.startup();this.setFocus();this._searchDijitReady.resolve(this._searchDijit)}))},searchDijit:function(){return this._searchDijitReady},setFocus:function(){this._searchDijit&&(this._mainWidgetNode.openAtStartAysn=!0,ma.isAutoFocusFirstNodeWidget(this._mainWidgetNode)&&
this._searchDijit.inputNode.focus())},destroy:function(){this._searchDijit&&(this._searchDijit.destroy(),this._searchDijit=null);this.inherited(arguments)},_onLayerInfosFilterChanged:function(l){ha.some(l,ta.hitch(this,function(c){this._searchDijit&&this._searchDijit.sources&&0<this._searchDijit.sources.length&&ha.forEach(this._searchDijit.sources,function(h){h._featureLayerId===c.id&&h.featureLayer.setDefinitionExpression(c.getFilter())})}))},_getConfigInfo:function(l,c){return l&&l.sources&&0<l.sources.length?
(c=null,this._searchLayer(l.map)&&l.upgradeFromGeocoder?(c=l.map.itemInfo.itemData.applicationProperties.viewing.search,c=ha.map(c.layers,ta.hitch(this,function(h,e){e.hintText=h;return this._getQueryTypeGeocoder(l.map,e)},c.hintText)),D(c).then(ta.hitch(this,function(h){l.sources=[].concat(h).concat(l.sources);return l}))):l):M(this._getSourcesFromPortalAndWebmap(l.map,c)).then(ta.hitch(this,function(h){return{allPlaceholder:"",showInfoWindowOnSelect:!1,sources:h}}))},_convertConfig:function(l){return ha.map(l.sources,
ta.hitch(this,function(c){var h=new ea;if(c&&c.url&&"locator"===c.type){var e={locator:new p(c.url||""),outFields:["*"],singleLineFieldName:c.singleLineFieldName||"",name:ma.stripHTML(c.name||""),placeholder:ma.stripHTML(c.placeholder||""),countryCode:c.countryCode||"",maxSuggestions:c.maxSuggestions,maxResults:c.maxResults||6,zoomScale:c.zoomScale||5E4,useMapExtent:!!c.searchInCurrentMapExtent};c.enableLocalSearch&&(e.localSearchOptions={minScale:c.localSearchMinScale,distance:c.localSearchDistance});
h.resolve(e)}else c&&c.url&&"query"===c.type?(e=new f(c.url||null,{outFields:["*"]}),this.own(U(e,"load",ta.hitch(this,function(k){var d=k.layer,q=this._getInfoTemplate(d,c,c.displayField),w=null;c.searchFields&&0<c.searchFields.length?w=c.searchFields:(w=[],ha.forEach(d.fields,function(v){"esriFieldTypeOID"!==v.type&&v.name!==d.objectIdField&&"esriFieldTypeGeometry"!==v.type&&w.push(v.name)}));k={featureLayer:d,outFields:["*"],searchFields:w,displayField:c.displayField||"",exactMatch:!!c.exactMatch,
name:ma.stripHTML(c.name||""),placeholder:ma.stripHTML(c.placeholder||""),maxSuggestions:c.maxSuggestions||6,maxResults:c.maxResults||6,zoomScale:c.zoomScale||5E4,infoTemplate:q,useMapExtent:!!c.searchInCurrentMapExtent,_featureLayerId:c.layerId,enableHighlight:!0,showInfoWindowOnSelect:l.showInfoWindowOnSelect,enableInfoWindow:l.showInfoWindowOnSelect};q||delete k.infoTemplate;k._featureLayerId&&(q=this._layerInfosObj.getLayerInfoById(k._featureLayerId),d.setDefinitionExpression(q.getFilter()));
h.resolve(k)}))),this.own(U(e,"error",function(){h.resolve(null)}))):h.resolve(null);return h}))},_getInfoTemplate:function(l,c,h){var e=this._layerInfosObj.getLayerInfoById(c.layerId),k=e&&e.getInfoTemplate(),d=e&&k;if(e&&!d)return null;d||(k=new a,k.setTitle("\x26nbsp;"),k.setContent(ta.hitch(this,"_formatContent",c.name,l,h)));return k},_getSourcesFromPortalAndWebmap:function(l,c){var h=[],e=null;this._searchLayer(l)&&(e=l.itemInfo.itemData.applicationProperties.viewing.search,ha.forEach(e.layers,
ta.hitch(this,function(k,d){d.hintText=k;h.push(this._getQueryTypeGeocoder(l,d))},e.hintText)));return ca.getPortalSelfInfo(c).then(ta.hitch(this,function(k){if((k=k.helperServices&&k.helperServices.geocode)&&0<k.length)for(var d=0,q=k.length;d<q;d++){var w=k[d];w&&h.push(this._processSingleLine(w))}return D(h).then(ta.hitch(this,function(v){for(var E=[],y=0;y<v.length;y++){var u=v[y];u&&(u&&"query"===u.type?E.push(u):(u={name:u.name||this._getGeocodeName(u.url),url:u.url,singleLineFieldName:u.singleLineFieldName,
placeholder:u.placeholder||u.name||this._getGeocodeName(u.url),maxResults:6,searchInCurrentMapExtent:!1,type:"locator"},u.enableLocalSearch=this._isEsriLocator(u.url),u.localSearchMinScale=3E5,u.localSearchDistance=5E4,E.push(u)))}return E}))}))},_getQueryTypeGeocoder:function(l,c){l=l.getLayer(c.id);var h=null,e=null,k=null;k=T.isDefined(c.subLayer)?c.id+"_"+c.subLayer:c.id;h=this._layerInfosObj.traversal(function(d){return d.id===k?(e=d,!0):!1});return l&&h&&e?(h=T.isDefined(c.subLayer)?e.url||
l.url+"/"+c.subLayer:e.url||l.url,{name:e.title,layerId:k,url:h,placeholder:c.hintText,searchFields:[c.field.name],displayField:c.field.name,exactMatch:c.field.exactMatch||!1,maxResults:6,searchInCurrentMapExtent:!1,type:"query"}):null},_isEsriLocator:function(l){this._esriLocatorRegExp.lastIndex=0;return this._esriLocatorRegExp.test(l)},_processSingleLine:function(l){if(l.singleLineFieldName)return l;if(this._isEsriLocator(l.url))return l.singleLineFieldName="SingleLine",l;var c=new ea;m({url:l.url,
content:{f:"json"},handleAs:"json",callbackParamName:"callback"}).then(ta.hitch(this,function(h){h.singleLineAddressField&&h.singleLineAddressField.name?(l.singleLineFieldName=h.singleLineAddressField.name,c.resolve(l)):(console.warn(l.url+"has no singleLineFieldName"),c.resolve(null))}),ta.hitch(this,function(h){console.error(h);c.resolve(null)}));return c.promise},_getGeocodeName:function(l){if("string"!==typeof l)return"geocoder";l=l.split("/");return l[l.length-2]||"geocoder"},_getGeocoderName:function(l){return this._getGeocodeName(l)},
_hasAppSearchInfo:function(l){return l.itemInfo&&l.itemInfo.itemData&&l.itemInfo.itemData.applicationProperties&&l.itemInfo.itemData.applicationProperties.viewing&&l.itemInfo.itemData.applicationProperties.viewing.search},_searchLayer:function(l){if(!this._hasAppSearchInfo(l))return!1;l=l.itemInfo.itemData.applicationProperties.viewing.search;return l.enabled&&0!==l.layers.length?!0:!1}})})},"esri/dijit/Search":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Evented dojo/Deferred dojo/keys dojo/on dojo/query dojo/uacss dojo/regexp dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/date/locale dojo/i18n!../nls/jsapi dojo/text!./Search/templates/Search.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/_FocusMixin dijit/a11yclick dijit/focus ../lang ../InfoTemplate ../kernel ../SpatialReference ../graphic ../promiseList ../symbols/PictureMarkerSymbol ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../symbols/TextSymbol ../symbols/Font ../geometry/Point ../geometry/Extent ../geometry/normalizeUtils ../geometry/scaleUtils ../tasks/locator ../tasks/query ../Color ../styles/basic".split(" "),
function(ya,ta,ha,ea,U,M,D,ia,ca,ma,T,m,n,p,f,a,l,c,h,e,k,d,q,w,v,E,y,u,x,F,Q,W,L,N,G,z,P,X,Y,ba,oa,da,Ca,qa){function za(t,B){return ea.map(ea.filter(t.trim().split(" "),function(C){return!!C.trim()}),function(C){return{onFields:B,searchTerm:C,searchType:"prefix"}})}function wa(t,B){t=t&&t.indexes;if(!t||!B||!B.length)return!1;t=ea.filter(t,function(C){return"FullText"===C.indexType});return ea.some(t,function(C){var I=C.fields&&ea.map(C.fields.split(","),function(H){return H.trim().toLowerCase()})||
[];return ea.every(B,function(H){return I.includes(H.toLowerCase())})})}function R(t){return!!(t&&t.advancedQueryCapabilities&&t.advancedQueryCapabilities.supportsFullTextSearch)}function na(t,B){t&&B&&(t._layer=B,t._sourceLayer=B)}ta=ta([e,k,d,U],{declaredClass:"esri.dijit.Search",templateString:h,reHostedFS:/https?:\/\/services.*\.arcgis\.com/i,constructor:function(t,B){this.css={searchGroup:"searchGroup",searchInput:"searchInput",searchInputGroup:"searchInputGroup",searchBtn:"searchBtn",searchSubmit:"searchSubmit",
searchIcon:"searchIcon esri-icon-search",searchButtonText:"searchButtonText",searchToggle:"searchToggle",searchToggleIcon:"searchIcon esri-icon-down-arrow",searchMenu:"searchMenu",searchMenuHeader:"menuHeader",searchClear:"searchClear",searchClearIcon:"searchIcon esri-icon-close searchClose",searchSpinner:"searchIcon esri-icon-loading-indicator searchSpinner",searchSourceName:"sourceName",suggestionsMenu:"suggestionsMenu",sourcesMenu:"sourcesMenu",activeSource:"active",hasValue:"hasValue",hasButtonMode:"hasButtonMode",
hasMultipleSources:"hasMultipleSources",showSuggestions:"showSuggestions",showSources:"showSources",showNoResults:"showNoResults",searchLoading:"searchLoading",latLonHeader:"searchLatLongHeader",searchMoreResults:"moreResults",searchMoreResultsList:"resultsList",searchMoreResultsHeader:"moreHeader",searchMoreResultsItem:"moreItem",searchMoreResultsListHeader:"popupHeader",searchShowMoreResults:"showMoreResults",searchNoResultsMenu:"noResultsMenu",searchNoResultsBody:"noResultsBody",searchNoResultsHeader:"noResultsHeader",
searchNoValueIcon:"noValueIcon esri-icon-notice-triangle",searchNoValueText:"noValueText",searchNoResultsText:"noResultsText",searchExpandContainer:"searchExpandContainer",searchAnimateContainer:"searchAnimate",searchExpanded:"searchExpanded",searchCollapsed:"searchCollapsed",searchClearFloat:"searchClearFloat"};this._allIndex="all";this._objectIdIdentifier="_objectId";this._deferreds=[];this._sourceNames=[];this.defaultSource={locator:new oa("//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"),
singleLineFieldName:"SingleLine",outFields:["Addr_type","Match_addr","StAddr","City"],name:c.widgets.Search.main.esriLocatorName,localSearchOptions:{minScale:3E5,distance:5E4},placeholder:c.widgets.Search.main.placeholder,highlightSymbol:(new Q(ya.toUrl("./Search/images/search-pointer.png"),36,36)).setOffset(9,18)};this.options={map:null,theme:"arcgisSearch",visible:!0,value:"",allPlaceholder:"",sources:[this.defaultSource],activeSourceIndex:0,suggestionDelay:350,enableSourcesMenu:!0,enableSuggestionsMenu:!0,
enableInfoWindow:!0,showInfoWindowOnSelect:!0,enableSuggestions:!0,enableButtonMode:!1,autoNavigate:!0,autoSelect:!0,addLayersFromMap:!1,zoomScale:1E3,graphicsLayer:null,enableHighlight:!0,highlightGraphic:null,enableLabel:!1,labelSymbol:(new G).setColor(new Ca([181,56,46,.9])).setFont(new z("14px",z.STYLE_NORMAL,z.VARIANT_NORMAL,z.WEIGHT_BOLD,"Arial")),labelGraphic:null,infoTemplate:new E(c.widgets.Search.main.searchResult,'\x3cdiv class\x3d"${searchTheme}"\x3e\x3cdiv id\x3d"${searchMoreResultsId}" class\x3d"${searchMoreResults}"\x3e\x3cdiv class\x3d"${searchMoreResultsItem}"\x3e${searchResult}\x3c/div\x3e\x3cdiv\x3e${searchMoreResultsHtml}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),
searchResults:null,suggestResults:null,selectedResult:null,magicKey:null,selectedFeatureId:null,expanded:!1,maxLength:128,maxResults:6,maxSuggestions:6,locationToAddressDistance:1500,minCharacters:3,enableSearchingAll:!0};t=ha.mixin({},this.options,t);this.set(t);this._updateActiveSource();this._i18n=c;this._defaultSR=new u(4326);this.domNode=B},startup:function(){this.inherited(arguments);this.sources||(this.sources=[]);this._mapLoaded().then(ha.hitch(this,this._init))},postCreate:function(){var t=
this;this.inherited(arguments);this._moreResultsId=this.id+"_more_results";this.own(ia(this.submitNode,q,ha.hitch(this,this._searchButton)));this.own(ia(this.sourcesBtnNode,q,ha.hitch(this,this._toggleSourcesMenu)));this.own(ia(this.inputNode,q,ha.hitch(this,this._inputClick)));this.own(ia(this.clearNode,q,ha.hitch(this,this._clearButton)));this.own(ia(this.formNode,"submit",ha.hitch(this,function(B){B.preventDefault();this._cancelSuggest();this.search()})));this.own(ia(this.inputNode,"keyup",ha.hitch(this,
function(B){this._inputKey(B)})));this.own(ia(this.sourcesBtnNode,"keyup",ha.hitch(this,function(B){this._sourceBtnKey(B)})));this.own(ia(this.suggestionsNode,"li:click, li:keyup",function(B){t._suggestionsEvent(B,this)}));this.own(ia(this.sourcesNode,"li:click, li:keyup",function(B){t._sourcesEvent(B,this)}));this.own(ia(this.inputNode,"input, paste",ha.hitch(this,function(){this._suggestDelay()})));this.map&&this.map.infoWindow&&this.map.infoWindow.domNode&&this.enableInfoWindow&&(this.own(ia(this.map.infoWindow.domNode,
"#"+this._moreResultsId+"_show:click",ha.hitch(this,function(B){this._showMoreResultsClick(B)}))),this.own(ia(this.map.infoWindow.domNode,"#"+this._moreResultsId+"_list li a:click",ha.hitch(this,function(B){this._moreResultsClick(B)}))),this.own(ia(this.map.infoWindow.domNode,"#"+this._moreResultsId+" [data-switch-coordinates]:click",ha.hitch(this,function(B){this._switchCoordinatesClick(B)}))));this.value&&this._checkStatus();this._hideMenus();this._updateVisible();this._insertSources(this.sources);
this._setPlaceholder(this.activeSourceIndex);this._updateButtonMode(this.enableButtonMode);this.toggle(this.expanded)},destroy:function(){this.clear();a.empty(this.domNode);this.inherited(arguments)},clear:function(){this.clearGraphics();n.get(this.inputNode,"value")&&n.set(this.inputNode,"value","");this._changeAttrValue("value","");this.set("searchResults",null);this.set("suggestResults",null);this.set("selectedResult",null);this.set("magicKey",null);this.set("selectedFeatureId",null);p.remove(this.containerNode,
this.css.hasValue);n.set(this.clearNode,"title","");this._hideMenus();this._closePopup();this._hideLoading();this.emit("clear-search")},show:function(){f.set(this.domNode,"display","block")},hide:function(){f.set(this.domNode,"display","none")},expand:function(){this.enableButtonMode&&(p.add(this.containerNode,this.css.searchExpanded),p.remove(this.containerNode,this.css.searchCollapsed),this._hideMenus(),this.set("expanded",!0))},collapse:function(){this.enableButtonMode&&(p.remove(this.containerNode,
this.css.searchExpanded),p.add(this.containerNode,this.css.searchCollapsed),this._hideMenus(),this.set("expanded",!1))},toggle:function(t){this.enableButtonMode&&("undefined"===typeof t&&(t=!this.expanded),t?this.expand():this.collapse())},search:function(t){var B=new M;this._mapLoaded().then(ha.hitch(this,function(){this._searchDeferred(t).then(ha.hitch(this,function(C){var I=C.results;this.set("searchResults",I);0===C.numResults&&(this._noResults(C.value),this._showNoResultsMenu());this._hideLoading();
this.emit("search-results",C);this._selectFirstResult(I,C.activeSourceIndex);B.resolve(I)}),ha.hitch(this,function(C){B.reject(C)}))}));return B.promise},suggest:function(t){var B=new M;this._mapLoaded().then(ha.hitch(this,function(){this._suggestDeferred(t).then(ha.hitch(this,function(C){if(C){var I=C.results;this.set("suggestResults",I);this._insertSuggestions(I,C.value);this.emit("suggest-results",C);B.resolve(I)}}),ha.hitch(this,function(C){B.reject(C)}))}));return B.promise},select:function(t){var B=
this._getDefaultSymbol(t),C=this.labelSymbol,I=this.sources,H=this.activeSourceIndex,ka=this.enableHighlight,A=this.enableLabel,O=this.autoNavigate,J=this.showInfoWindowOnSelect,Z=this.enableInfoWindow,S=this.infoTemplate,aa=t.feature?new x(t.feature.toJson()):null,sa=aa?t.feature._sourceLayer:null;na(aa,sa);if(H===this._allIndex){var la=this._getSourceIndexOfResult(t);if(null!==la){var xa=I[la];H=la}}else xa=I[H];xa&&(xa.hasOwnProperty("highlightSymbol")&&(B=xa.highlightSymbol),xa.hasOwnProperty("labelSymbol")&&
(C=xa.labelSymbol),xa.hasOwnProperty("enableHighlight")&&(ka=xa.enableHighlight),xa.hasOwnProperty("enableLabel")&&(A=xa.enableLabel),xa.hasOwnProperty("autoNavigate")&&(O=xa.autoNavigate),xa.hasOwnProperty("showInfoWindowOnSelect")&&(J=xa.showInfoWindowOnSelect),xa.hasOwnProperty("enableInfoWindow")&&(Z=xa.enableInfoWindow),xa.hasOwnProperty("infoTemplate")?S=xa.infoTemplate:xa.featureLayer&&xa.featureLayer.infoTemplate&&(S=xa.featureLayer.infoTemplate));this._hideMenus();this._hideLoading();if(aa){I=
this.highlightGraphic;var Ga=this.graphicsLayer;la=this.labelGraphic;var Na=ha.mixin({},aa.attributes,{searchTheme:this.theme,searchResult:this._searchResultHTML(t),searchMoreResults:this.css.searchMoreResults,searchMoreResultsItem:this.css.searchMoreResultsItem,searchMoreResultsId:this._moreResultsId,searchMoreResultsHtml:this._moreResultsHTML(t)}),Ia=null;Z&&(Ia=S);la?(la.setGeometry(aa.geometry),la.setAttributes(Na),la.setSymbol(C),C&&"textsymbol"===C.type&&la.symbol.setText(t.name)):(la=new x(aa.geometry,
C,Na),na(la,sa),C&&"textsymbol"===C.type&&la.symbol.setText(t.name),A&&(Ga?Ga.add(la):this.map&&this.map.graphics&&this.map.graphics.add(la)));I?(I.setGeometry(aa.geometry),I.setAttributes(Na),I.setInfoTemplate(Ia),I.setSymbol(B)):(I=new x(aa.geometry,B,Na,Ia),na(I,sa),ka&&(Ga?Ga.add(I):this.map&&this.map.graphics&&this.map.graphics.add(I)));I&&I.symbol&&"textsymbol"===I.symbol.type&&I.symbol.setText(t.name);this.map&&this.map.infoWindow&&Z&&J&&(this.map.infoWindow.setFeatures([I]),B=this._getPointFromGeometry(I.geometry),
this.map.infoWindow.show(B));this.map&&O&&t&&t.hasOwnProperty("extent")&&"function"===typeof this.map.setExtent&&this.map.setExtent(t.extent,!0);this.set("highlightGraphic",I);this.set("labelGraphic",la)}this.set("selectedResult",t);this.emit("select-result",{result:t,source:xa,sourceIndex:H})},focus:function(){w.focus(this.inputNode)},blur:function(){this.inputNode.blur();w.curNode&&w.curNode.blur()},clearGraphics:function(){var t=this.highlightGraphic,B=this.graphicsLayer,C=this.labelGraphic;t&&
(B?B.remove(t):this.map&&this.map.graphics&&this.map.graphics.remove(t));C&&(B?B.remove(C):this.map&&this.map.graphics&&this.map.graphics.remove(C));this.set("labelGraphic",null);this.set("highlightGraphic",null)},_mapLoaded:function(){var t=new M;if(this.map)if(this.map.loaded)t.resolve();else ia.once(this.map,"load",ha.hitch(this,function(){t.resolve()}));else t.resolve();return t.promise},_init:function(){this._getMapLayers().then(ha.hitch(this,function(){this.set("loaded",!0);this.emit("load")}))},
_clearButton:function(){this.clear();w.focus(this.inputNode)},_error:function(t){return Error(this.declaredClass+" "+t)},_searchDeferred:function(t){var B=new M,C=this.value,I=this.activeSourceIndex;t&&t.hasOwnProperty("index")&&(I=t.index);this._showLoading();this._hideMenus();this._closePopup();this.clearGraphics();var H={magicKey:this.magicKey,text:C};t?"string"===typeof t?(H.text=t,t=this._searchQueries(H)):t="object"===typeof t&&t.hasOwnProperty("magicKey")?this._searchQueries(t):"object"===
typeof t&&t.hasOwnProperty("geometry")?this._searchQueries({geometry:t}):"object"===typeof t&&t.hasOwnProperty(this._objectIdIdentifier)?this._searchQueries(t):"object"===typeof t&&"point"===t.type?this._searchQueries({point:t}):t instanceof Array&&2===t.length?this._searchQueries({latlon:t}):this._searchQueries(H):t=this._searchQueries(H);t.always(ha.hitch(this,function(ka){ka=this._formatResults(ka,I,C);B.resolve(ka)}));return B.promise},_suggestDeferred:function(t){var B=new M;this._deferreds.push(B);
t||(t=this.value);var C=this.activeSourceIndex;this._suggestQueries({text:t}).always(ha.hitch(this,function(I){var H;if(I)for(var ka=0;ka<I.length;ka++)I[ka]&&(H=!0);H?(I=this._formatResults(I,C,t),B.resolve(I)):B.resolve()}));return B.promise},_getDefaultSymbol:function(t){var B;this.map&&(B=this.map.getBasemap());B||(B="topo");if(t&&t.feature&&t.feature.geometry)var C=t.feature.geometry.type;"polyline"===C?C="line":"circle"===C||"extent"===C?C="polygon":"multipoint"===C&&(C="point");if(C){if(t=
qa.getSchemes({theme:"default",basemap:B,geometryType:C}))var I=t.primaryScheme;if(I){I.color&&I.hasOwnProperty("opacity")&&(I.color.a=I.opacity);var H=I;t=I.color;I=I.size;switch(C){case "point":var ka=new W;ka.setColor(t);ka.setSize(null!==I?I:H.size);C=new L;C.setColor(H.outline.color);C.setWidth(H.outline.width);ka.setOutline(C);break;case "line":ka=new L;ka.setColor(t);ka.setWidth(null!==I?I:H.width);break;case "polygon":ka=new N,ka.setColor(t),C=new L,C.setColor(H.outline.color),C.setWidth(H.outline.width),
ka.setOutline(C)}H=ka}}return H},_selectFirstResult:function(t,B){if(this.autoSelect&&t){var C;B===this._allIndex?C=this._getFirstResult(t):t[B]&&t[B][0]&&(C=t[B][0]);C&&this.select(C)}},_getSourceIndexOfResult:function(t){var B=this.searchResults;if(B)for(var C in B)if(B[C]&&B[C].length)for(var I=0;I<B[C].length;I++)if(B[C][I]===t)return parseInt(C,10);return null},_getFirstResult:function(t){if(t)for(var B in t)if(t[B]&&t[B][0])return t[B][0];return!1},_onFocus:function(){this.map&&"function"===
typeof this.map.disableKeyboardNavigation&&this.map.disableKeyboardNavigation();this.emit("focus");this.inherited(arguments)},_onBlur:function(){this._hideMenus();this.map&&"function"===typeof this.map.enableKeyboardNavigation&&this.map.enableKeyboardNavigation();this.enableButtonMode&&this.loaded&&this.collapse();this.emit("blur");this.inherited(arguments)},_getMapLayers:function(){var t=new M;if(this.addLayersFromMap&&this.map){var B=[],C=this.map.graphicsLayerIds;if(C&&C.length){for(var I=0;I<
C.length;I++){var H=this.map.getLayer(C[I]);H&&B.push(this._featureLayerLoaded(H))}F(B).always(ha.hitch(this,function(ka){for(var A,O=this.sources,J=0;J<ka.length;J++)ka[J]&&ka[J].loaded&&"Feature Layer"===ka[J].type&&(O.push({featureLayer:ka[J],enableSuggestions:!0}),A=!0);A&&this.set("sources",O);t.resolve()}))}else t.resolve()}else t.resolve();return t.promise},_switchCoordinatesClick:function(t){t.preventDefault();if(t=n.get(t.target,"data-switch-coordinates"))this._cancelSuggest(),this.set("value",
t),this.search()},_moreResultsClick:function(t){t.preventDefault();var B=t.target;t=parseInt(n.get(B,"data-source-index"),10);B=parseInt(n.get(B,"data-index"),10);var C=this.searchResults;C&&C[t]&&(t=C[t][B])&&this.select(t)},_showMoreResultsClick:function(t){t.preventDefault();if(t=m.byId(this._moreResultsId)){p.toggle(t,this.css.searchShowMoreResults);var B=m.byId(this._moreResultsId+"_show");B&&(p.contains(t,this.css.searchShowMoreResults)?n.set(B,"textContent",c.widgets.Search.main.hideMoreResults):
n.set(B,"textContent",c.widgets.Search.main.showMoreResults))}},_featureLayerLoaded:function(t){var B=new M;if(t.loaded)B.resolve(t);else if(t.loadError)B.reject(this._error("Layer failed to load."));else{var C=ia.once(t,"load",ha.hitch(this,function(){I.remove();B.resolve(t)}));var I=ia.once(t,"error",ha.hitch(this,function(){C.remove();B.reject(this._error("Layer could not be loaded."))}))}return B.promise},_getObjectSize:function(t){var B=0,C;for(C in t)t.hasOwnProperty(C)&&B++;return B},_sourcesEvent:function(t,
B){var C=n.get(B,"data-index"),I=ca("li",this.sourcesNode);B=ea.indexOf(I,B);C!==this._allIndex&&(C=parseInt(C,10));"click"===t.type||t.keyCode===D.ENTER?(this.set("activeSourceIndex",C),w.focus(this.inputNode),this._hideSourcesMenu()):t.keyCode===D.UP_ARROW?(t.stopPropagation(),t.preventDefault(),t=B-1,0>t?w.focus(this.sourcesBtnNode):w.focus(I[t])):t.keyCode===D.DOWN_ARROW?(t.stopPropagation(),t.preventDefault(),t=B+1,t>=I.length?w.focus(this.sourcesBtnNode):w.focus(I[t])):t.keyCode===D.ESCAPE&&
(this._hideSourcesMenu(),w.focus(this.inputNode))},_suggestionsEvent:function(t,B){var C=n.get(B,"data-source-index"),I=parseInt(n.get(B,"data-index"),10),H=ca("li",this.suggestionsNode),ka=this.sources;B=ea.indexOf(H,B);C!==this._allIndex&&(C=parseInt(C,10));var A;this._clearQueryTimeout();"click"===t.type||t.keyCode===D.ENTER?((H=this.suggestResults)&&H[C]&&H[C][I]&&(A=H[C][I]),A&&(A.index=C,ka[C].featureLayer?(C=ka[C].featureLayer.objectIdField,A[this._objectIdIdentifier]=A.feature.attributes[C],
this.set("value",this._getSuggestionName(A)),this.set("selectedFeatureId",A.feature.attributes[C])):A.magicKey&&A.text&&(this.set("value",A.text),this.set("magicKey",A.magicKey)),this.search(A),w.focus(this.inputNode))):t.keyCode===D.BACKSPACE||t.keyCode===D.DELETE?w.focus(this.inputNode):t.keyCode===D.UP_ARROW?(t.stopPropagation(),t.preventDefault(),A=B-1,0>A?w.focus(this.inputNode):w.focus(H[A])):t.keyCode===D.DOWN_ARROW?(t.stopPropagation(),t.preventDefault(),A=B+1,A>=H.length?w.focus(this.inputNode):
w.focus(H[A])):t.keyCode===D.ESCAPE&&(this._hideMenus(),w.focus(this.inputNode))},_getResultName:function(t){var B;t.hasOwnProperty("name")&&null!==t.name&&(B=t.name.toString());B||(B=c.widgets.Search.main.untitledResult);return B},_getSuggestionName:function(t){var B;t.hasOwnProperty("name")&&null!==t.name&&(B=t.name.toString());t=t.text||B;t||(t=c.widgets.Search.main.untitledResult);return t},_searchResultHTML:function(t){var B="";if(t.feature&&t.feature.attributes&&t.feature.attributes.Addr_type&&
"LatLong"===t.feature.attributes.Addr_type){var C=t.name.split(" ");if(2===C.length){var I=C[0];var H=C[1]}H&&I?(t=parseFloat(I),H=parseFloat(H),C=H+", "+t,B+='\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e',B+='\x3cdiv class\x3d"'+this.css.latLonHeader+'"\x3e'+c.widgets.Search.main.lonlat+"\x3c/div\x3e",B=B+(t+", "+H)+'\x3c/div\x3e\x3cdiv class\x3d"'+(this.css.searchMoreResultsItem+'"\x3e'),t===H||90<t||-90>t||180<H||-180>H||(B+='\x3cdiv class\x3d"'+this.css.latLonHeader+'"\x3e'+c.widgets.Search.main.reverseLonLatHeader+
"\x3c/div\x3e",B+='\x3ca data-switch-coordinates\x3d"'+C+'" tabindex\x3d"0" href\x3d"#"\x3e'+C+"\x3c/a\x3e\x3c/div\x3e")):B=t.name}else B=t.name;return B},_moreResultsHTML:function(t){var B="",C="",I=this.searchResults,H=this.sources,ka=0;if(I){C+='\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e';C+='\x3ca href\x3d"#" id\x3d"'+this._moreResultsId+'_show"\x3e'+c.widgets.Search.main.showMoreResults+"\x3c/a\x3e";C=C+'\x3c/div\x3e\x3cdiv class\x3d"'+(this.css.searchMoreResultsList+'"\x3e');
C+='\x3cdiv id\x3d"'+this._moreResultsId+'_list"\x3e';for(var A in I)if(I[A]){var O=I[A].length;if(O){var J=1===O&&I[A][0]===t;if(1<this._getObjectSize(I)&&!J){var Z=this._getSourceName(A);C+='\x3cdiv class\x3d"'+this.css.searchMoreResultsListHeader+'"\x3e'+Z+"\x3c/div\x3e"}if(O&&!J){C+="\x3cul\x3e";Z=H[A].maxResults||this.maxResults;for(J=0;J<O&&J<Z;++J)if(I[A][J]!==t){var S=this._getResultName(I[A][J]);C+='\x3cli\x3e\x3ca tabindex\x3d"0" data-index\x3d"'+J+'" data-source-index\x3d"'+A+'" href\x3d"#"\x3e'+
S+"\x3c/a\x3e\x3c/li\x3e";ka++}C+="\x3c/ul\x3e"}}}C+="\x3c/div\x3e\x3c/div\x3e"}ka&&(B+=C);return B},_validField:function(t,B){return t.getField(B)},_validFields:function(t,B){if(t&&B&&B.length){for(var C=0;C<B.length;C++)if(!this._validField(t,B[C]))return!1;return!0}return!1},_getCodedName:function(t,B){if(t&&t.length)for(var C=0,I=t.length;C<I;C++){var H=t[C];if(H.code===B)return H.name}},_getCodedValue:function(t,B,C){if(t&&t.length)for(var I=0,H=t.length;I<H;I++){var ka=t[I],A=ka.name,O=B;C||
(A=A.toLowerCase(),O=O.toLowerCase());if(A===O)return ka.code}return!1},_whereClause:function(t,B,C,I,H){var ka=null;if(t){var A="",O=this.reHostedFS.test(B.url);O&&this._containsNonLatinCharacter(t)&&(A="N");if(C&&C.length)for(var J=0,Z=C.length;J<Z;J++){var S="";S=t.replace(/'/g,"''");var aa=C[J],sa=B.getField(aa),la=B.getDomain(aa);la&&"codedValue"===la.type&&(S=this._getCodedValue(la.codedValues,S,I));!1!==S&&(sa=sa.type,"esriFieldTypeString"===sa||"esriFieldTypeDate"===sa?I&&"search"===H?S=aa+
" \x3d "+A+"'"+S+"'":(aa=O?aa:"LOWER("+aa+")",S=(O?S:S.toLowerCase())+"%",S=aa+" LIKE "+A+"'"+S+"'"):"esriFieldTypeOID"===sa||"esriFieldTypeSmallInteger"===sa||"esriFieldTypeInteger"===sa||"esriFieldTypeSingle"===sa||"esriFieldTypeDouble"===sa?(S=parseFloat(S),S=isNaN(S)?!1:aa+" \x3d "+S):S=aa+" \x3d "+S,S&&(ka=ka?ka+" or ":"",ka+=S))}}return ka},_suggest:function(t){t||(t={index:this.activeSourceIndex,text:this.value});var B=new M,C=t.index,I=this.sources[C],H=this.enableSuggestions;I.hasOwnProperty("enableSuggestions")&&
(H=I.enableSuggestions);var ka=0;if(t.hasOwnProperty("text")&&t.text){var A=ha.trim(t.text);ka=t.text.length}t=I.minCharacters||this.minCharacters;if(H&&A&&ka>=t&&this._supportsPagination(I)){var O="";I.prefix&&(O+=I.prefix);O+=A;I.suffix&&(O+=I.suffix);var J=this._defaultSR;this.map&&(J=this.map.spatialReference);H={};I.locator?(I.categories&&(H.categories=I.categories),I.locator.outSpatialReference=J,this.map&&I.localSearchOptions&&I.localSearchOptions.hasOwnProperty("distance")&&I.localSearchOptions.hasOwnProperty("minScale")&&
(ka=this._getScale(),!I.localSearchOptions.minScale||ka&&ka<=parseFloat(I.localSearchOptions.minScale))&&(H.location=this.map.extent.getCenter(),H.distance=I.localSearchOptions.distance),H.text=O,I.useMapExtent&&this.map&&this.map.extent&&(H.searchExtent=this.map.extent),I.searchExtent&&(H.searchExtent=I.searchExtent),H.maxSuggestions=I.maxSuggestions||this.maxSuggestions,I.sourceCountry&&(H.countryCode=I.sourceCountry),I.countryCode&&(H.countryCode=I.countryCode),I.locator.suggestLocations(H).then(ha.hitch(this,
function(Z){B.resolve(Z)}),ha.hitch(this,function(Z){Z||(Z=this._error("Locator suggestLocations could not be performed."));B.reject(Z)}))):I.featureLayer?this._featureLayerLoaded(I.featureLayer).then(ha.hitch(this,function(){var Z=this._getDisplayField(I),S=I.searchFields||[Z],aa=[];I.suggestionTemplate?I.suggestionTemplate.replace(/(?:\$\{([^}]+)\})/g,function(Ga,Na){aa.push(Na)}):aa=[Z];-1===ea.indexOf(aa,I.featureLayer.objectIdField)&&aa.push(I.featureLayer.objectIdField);Z=this._validField(I.featureLayer,
Z);var sa=this._validFields(I.featureLayer,aa),la=this._validFields(I.featureLayer,S);if(Z&&sa&&la){Z=new da;I.hasOwnProperty("suggestQueryParams")&&ha.mixin(Z,I.suggestQueryParams);Z.outSpatialReference=J;Z.returnGeometry=!1;Z.num=I.maxSuggestions||this.maxSuggestions;Z.outFields=aa;I.useMapExtent&&this.map&&this.map.extent&&(Z.geometry=this.map.extent);I.searchExtent&&(Z.geometry=I.searchExtent);R(I.featureLayer)&&wa(I.featureLayer,S)&&!I.exactMatch&&O?Z.fullText=za(O,S):Z.where=this._whereClause(O,
I.featureLayer,S,I.exactMatch,"suggest");if(Z.fullText||Z.where)var xa=!0;xa?I.featureLayer.queryFeatures(Z,ha.hitch(this,function(Ga){var Na;(Ga=Ga.features)&&(Na=this._hydrateResults(Ga,C,!0));B.resolve(Na)}),ha.hitch(this,function(Ga){Ga||(Ga=this._error("FeatureLayer queryFeatures errored with suggestions"));B.reject(Ga)})):B.resolve()}else B.reject(this._error("Invalid FeatureLayer field"))})):B.reject(this._error("Invalid source"))}else B.resolve();return B.promise},_supportsPagination:function(t){var B;
t.locator?B=!0:t.featureLayer&&t.featureLayer.advancedQueryCapabilities&&t.featureLayer.advancedQueryCapabilities.supportsPagination&&(B=!0);return B},_suggestQueries:function(t){var B=this.sources,C=this.activeSourceIndex,I=[];if(C===this._allIndex)for(C=0;C<B.length;C++){var H=t;H.index=C;H=this._suggest(H);I.push(H)}else t.index=C,H=this._suggest(t),I.push(H);return F(I)},_getPointFromGeometry:function(t){switch(t.type){case "extent":var B=t.getCenter();break;case "multipoint":B=t.getPoint(0);
break;case "point":B=t;break;case "polygon":B=t.getCentroid();break;case "polyline":B=t.getPoint(0,0)}return B},_searchQueries:function(t){t.hasOwnProperty("index")||(t.index=this.activeSourceIndex);var B=[];if(t.index===this._allIndex)for(var C=this.sources,I=0;I<C.length;I++){var H=t;H.index=I;H=this._search(H);B.push(H)}else t=this._search(t),B.push(t);return F(B)},_searchButton:function(){this.enableButtonMode&&!this.expanded?(this.expand(),w.focus(this.inputNode)):(this._cancelSuggest(),this.search())},
_search:function(t){t||(t={text:this.value,magicKey:null,geometry:null,point:null,index:this.activeSourceIndex,latlon:null});this.selectedFeatureId&&(t.text=null,t[this._objectIdIdentifier]=this.selectedFeatureId);var B,C=new M,I=t.index,H=this.sources[I],ka;t.hasOwnProperty("text")&&t.text&&(ka=ha.trim(t.text));if(H){var A="";H.prefix&&!t.magicKey&&(A+=H.prefix);A+=ka;H.suffix&&!t.magicKey&&(A+=H.suffix);var O=this._defaultSR;this.map&&(O=this.map.spatialReference);if(H.locator)if(t.hasOwnProperty("text")&&
ka){var J={};H.categories&&(J.categories=H.categories);H.locationType&&(J.locationType=H.locationType);O&&(H.locator.outSpatialReference=O);if(this.map&&H.localSearchOptions&&H.localSearchOptions.hasOwnProperty("distance")&&H.localSearchOptions.hasOwnProperty("minScale")){var Z=this._getScale();if(!H.localSearchOptions.minScale||Z&&Z<=parseFloat(H.localSearchOptions.minScale))J.location=this.map.extent.getCenter(),J.distance=H.localSearchOptions.distance}J.address={};J.maxLocations=H.maxResults||
this.maxResults;H.useMapExtent&&this.map&&this.map.extent&&(J.searchExtent=this.map.extent);H.searchExtent&&(J.searchExtent=H.searchExtent);H.sourceCountry&&(J.countryCode=H.sourceCountry);H.countryCode&&(J.countryCode=H.countryCode);t.magicKey&&(J.magicKey=t.magicKey);H.singleLineFieldName?J.address[H.singleLineFieldName]=A:J.address["Single Line Input"]=A;H.outFields&&(J.outFields=H.outFields);H.locator.addressToLocations(J).then(ha.hitch(this,function(S){S=this._hydrateResults(S,I,!1);C.resolve(S)}),
ha.hitch(this,function(S){S||(S=this._error("Locator addressToLocations could not be performed"));C.reject(S)}))}else t.geometry?(B=this._getPointFromGeometry(t.geometry.geometry))?this._reverseGeocodePoint(I,B).then(function(S){C.resolve(S)},function(S){C.reject(S)}):C.reject(this._error("Invalid point to reverse geocode")):t.point?this._reverseGeocodePoint(I,t.point).then(function(S){C.resolve(S)},function(S){C.reject(S)}):t.latlon?(J=new P(t.latlon,this._defaultSR),this._reverseGeocodePoint(I,
J).then(function(S){C.resolve(S)},function(S){C.reject(S)})):t.hasOwnProperty("text")&&!ka?C.resolve([]):C.reject(this._error("Invalid query type for Locator"));else H.featureLayer?this._featureLayerLoaded(H.featureLayer).then(ha.hitch(this,function(){var S=this._getDisplayField(H),aa=H.searchFields||[S];S=this._validField(H.featureLayer,S);var sa=this._validFields(H.featureLayer,aa);if(S&&sa){S=new da;H.hasOwnProperty("searchQueryParams")&&ha.mixin(S,H.searchQueryParams);O&&(S.outSpatialReference=
O,sa=this.map&&this.map.getMaxResolution()||1/ba.getUnitValueForSR(O))&&(S.maxAllowableOffset=sa);S.returnGeometry=!0;H.outFields&&(S.outFields=H.outFields);if(!t.hasOwnProperty(this._objectIdIdentifier)){this._supportsPagination(H)&&(S.num=H.maxResults||this.maxResults);H.useMapExtent&&this.map&&this.map.extent&&(S.geometry=this.map.extent);H.searchExtent&&(S.geometry=H.searchExtent);var la=H.exactMatch}t.hasOwnProperty("text")&&ka?(R(H.featureLayer)&&wa(H.featureLayer,aa)&&!la&&A?S.fullText=za(A,
aa):S.where=this._whereClause(A,H.featureLayer,aa,la,"search"),aa=S.fullText||S.where?!0:!1):t.hasOwnProperty(this._objectIdIdentifier)?(S.objectIds=[t[this._objectIdIdentifier]],aa=!0):t.geometry?(S.geometry=t.geometry,aa=!0):t.point?(S.geometry=t.point,aa=!0):t.latlon?(B=new P(t.latlon,this._defaultSR),S.geometry=B,aa=!0):(t.hasOwnProperty("text")&&!ka?C.resolve([]):C.reject(this._error("Invalid query type for FeatureLayer")),aa=!1);aa?H.featureLayer.queryFeatures(S,ha.hitch(this,function(xa){xa=
xa.features;var Ga;xa&&(Ga=this._hydrateResults(xa,I,!1));C.resolve(Ga)}),ha.hitch(this,function(xa){xa||(xa=this._error("FeatureLayer queryFeatures could not be performed"));C.reject(xa)})):C.resolve()}else C.reject(this._error("Invalid FeatureLayer field"))})):C.reject(this._error("Invalid source"))}else C.reject(this._error("Source is undefined"));return C.promise},_clearQueryTimeout:function(){this._queryTimer&&clearTimeout(this._queryTimer)},_formatResults:function(t,B,C){C={activeSourceIndex:B,
value:C,numResults:0,numErrors:0,errors:null,results:null};var I={},H={};if(t)if(B===this._allIndex)for(B=0;B<t.length;B++)t[B]&&(t[B]instanceof Error?(I[B]=t[B],C.numErrors++):(H[B]=t[B],C.numResults+=t[B].length));else t[0]&&(t[0]instanceof Error?(I[B]=t[0],C.numErrors++):(H[B]=t[0],C.numResults+=t[0].length));C.numErrors&&(C.errors=I);C.numResults&&(C.results=H);return C},_reverseGeocodePoint:function(t,B){var C=new M,I=this.sources[t];if(B&&I){var H=I.locationToAddressDistance||this.locationToAddressDistance;
I.locator.outSpatialReference=this._defaultSR;this.map&&(I.locator.outSpatialReference=this.map.spatialReference);I.locator.locationToAddress(B,H,ha.hitch(this,function(ka){ka=this._hydrateResults([ka],t,!1);C.resolve(ka)}),ha.hitch(this,function(ka){ka||(ka=this._error("Locator locationToAddress could not be performed"));C.reject(ka)}))}else C.reject(this._error("No point or source defined for reverse geocoding"));return C.promise},_cancelDeferreds:function(){if(this._deferreds&&this._deferreds.length)for(var t=
0;t<this._deferreds.length;t++)this._deferreds[t].cancel(this.declaredClass+" cancelling request");this._deferreds=[]},_sourceBtnKey:function(t){if(t){var B=ca("li",this.sourcesNode);t.keyCode===D.UP_ARROW?(t.stopPropagation(),t.preventDefault(),this._showSourcesMenu(),(t=B.length)&&w.focus(B[t-1])):t.keyCode===D.DOWN_ARROW&&(t.stopPropagation(),t.preventDefault(),this._showSourcesMenu(),B[0]&&w.focus(B[0]))}},_inputKey:function(t){if(t){var B=ca("li",this.suggestionsNode),C=this.suggestResults;if(t.keyCode===
D.TAB||t.keyCode===D.ESCAPE)this._cancelSuggest(),this._hideMenus();else if(t.keyCode===D.UP_ARROW)t.stopPropagation(),t.preventDefault(),this._cancelSuggest(),C&&this._showSuggestionsMenu(),(t=B.length)&&w.focus(B[t-1]);else if(t.keyCode===D.DOWN_ARROW)t.stopPropagation(),t.preventDefault(),this._cancelSuggest(),C&&this._showSuggestionsMenu(),B[0]&&w.focus(B[0]);else{if(t.ctrlKey||t.metaKey||t.keyCode===D.copyKey||t.keyCode===D.LEFT_ARROW||t.keyCode===D.RIGHT_ARROW||t.keyCode===D.ENTER)return t;
this._suggestDelay()}}},_cancelSuggest:function(){this._cancelDeferreds();this._clearQueryTimeout()},_suggestDelay:function(){this._cancelSuggest();this._changeValue();this._queryTimer=setTimeout(ha.hitch(this,function(){this.suggest()}),this.suggestionDelay)},_changeValue:function(){this.set("magicKey",null);this.set("selectedFeatureId",null);this._changeAttrValue("value",this.inputNode.value);this._checkStatus()},_inputClick:function(){this._hideSourcesMenu();this._hideNoResultsMenu()},_getSourceName:function(t){return this._sourceNames[t]},
_loadSources:function(t){t=ea.filter(t,function(B){return!!B.featureLayer});t=ea.map(t,function(B){return this._featureLayerLoaded(B.featureLayer)},this);return F(t)},_createSourceNameMap:function(t){return this._loadSources(t).then(ha.hitch(this,function(){var B=ea.map(t,function(C){return C.name||C.featureLayer&&C.featureLayer.name||c.widgets.Search.main.untitledSource});this._preventDuplicateSourceNames(t,B);return B}))},_getDuplicateSourceNameIndexes:function(t){var B={},C=[];ea.forEach(t,function(I,
H){B.hasOwnProperty(I)?(-1===C.indexOf(B[I])&&C.push(B[I]),C.push(H)):t.lastIndexOf(I)!==H&&(B[I]=H)});return C},_preventDuplicateSourceNames:function(t,B){if(B&&1<B.length){var C=this._getDuplicateSourceNameIndexes(B);ea.forEach(C,function(I){B[I]+=this._getFieldsString(t[I])},this)}},_getFieldsString:function(t){var B="",C=t.featureLayer;if(C){t=t.searchFields||[this._getDisplayField(t)];for(var I=0;I<t.length;I++){B=0===I?B+": ":B+", ";var H=t[I],ka=C.getFieldLabel(H);B+=ka||H}}return B},_splitResult:function(t,
B){B=T.escapeString(B);return t.replace(new RegExp("(^|)("+B+")(|$)","ig"),"$1|$2|$3").split("|")},_insertSuggestions:function(t,B){if(this.enableSuggestionsMenu&&this.suggestionsNode){this._hideSourcesMenu();this._hideNoResultsMenu();var C=this.sources;if(t){var I=a.create("div");for(var H in t)if(t[H]&&t[H].length){var ka=this._getSourceName(H);1<C.length&&this.activeSourceIndex===this._allIndex&&a.create("div",{className:this.css.searchMenuHeader,textContent:ka},I);ka=a.create("ul",{role:"menu"},
I);for(var A=C[H].maxSuggestions||this.maxSuggestions,O=0;O<t[H].length&&O<A;++O){var J=a.create("li",{"data-index":O,"data-source-index":H,role:"menuitem",tabindex:0},ka),Z=this._getSuggestionName(t[H][O]);Z=this._splitResult(Z,B);for(var S=Z.length,aa=0;aa<S;aa++){var sa=Z[aa];sa.toLowerCase()===B.toLowerCase()?a.create("strong",{textContent:sa},J):(sa=document.createTextNode(sa),a.place(sa,J))}}}}I?(a.place(I,this.suggestionsNode,"only"),this._showSuggestionsMenu()):(a.empty(this.suggestionsNode),
this._hideSuggestionsMenu())}},_insertSources:function(t){if(this.enableSourcesMenu&&t&&1<t.length){var B,C=this.activeSourceIndex,I=a.create("ul",{role:"menu"});if(this.enableSearchingAll){var H="";C===this._allIndex&&(H="active");a.create("li",{"data-index":this._allIndex,role:"menuitem",className:H,tabIndex:0,textContent:c.widgets.Search.main.all},I)}for(B=0;B<t.length;B++){H="";B===C&&(H=this.css.activeSource);var ka=this._getSourceName(B);a.create("li",{"data-index":B,role:"menuitem",className:H,
tabIndex:0,textContent:ka},I)}p.add(this.containerNode,this.css.hasMultipleSources);a.place(I,this.sourcesNode,"only")}else p.remove(this.containerNode,this.css.hasMultipleSources),a.empty(this.sourcesNode)},_showLoading:function(){p.add(this.containerNode,this.css.searchLoading)},_hideLoading:function(){p.remove(this.containerNode,this.css.searchLoading)},_checkStatus:function(){this.value?(p.add(this.containerNode,this.css.hasValue),n.set(this.clearNode,"title",c.widgets.Search.main.clearButtonTitle)):
this.clear()},_closePopup:function(){this.enableInfoWindow&&this.map&&this.map.infoWindow&&this.map.infoWindow.hide()},_noResults:function(t){var B;t&&(B=ha.trim(t));var C=a.create("div",{className:this.css.searchNoResultsBody});t&&B?(a.create("div",{className:this.css.searchNoResultsHeader,textContent:c.widgets.Search.main.noResults},C),a.create("div",{className:this.css.searchNoResultsText,textContent:v.substitute({value:'"'+t+'"'},c.widgets.Search.main.noResultsFound)},C)):(t=a.create("div",{},
C),a.create("span",{"aria-hidden":"true",className:this.css.searchNoValueIcon},t),a.create("span",{className:this.css.searchNoValueText,textContent:c.widgets.Search.main.emptyValue},t));a.place(C,this.noResultsMenuNode,"only")},_hideMenus:function(){this._hideSourcesMenu();this._hideSuggestionsMenu();this._hideNoResultsMenu()},_hideNoResultsMenu:function(){p.remove(this.containerNode,this.css.showNoResults)},_showNoResultsMenu:function(){this._hideSourcesMenu();this._hideSuggestionsMenu();p.add(this.containerNode,
this.css.showNoResults)},_hideSourcesMenu:function(){p.remove(this.containerNode,this.css.showSources)},_hideSuggestionsMenu:function(){p.remove(this.containerNode,this.css.showSuggestions)},_showSourcesMenu:function(){this._hideSuggestionsMenu();this._hideNoResultsMenu();p.add(this.containerNode,this.css.showSources)},_showSuggestionsMenu:function(){this._hideSourcesMenu();this._hideNoResultsMenu();p.add(this.containerNode,this.css.showSuggestions)},_toggleSourcesMenu:function(){this._hideSuggestionsMenu();
this._hideNoResultsMenu();p.toggle(this.containerNode,this.css.showSources)},_getFirstStringField:function(t){if(t&&(t=t.fields)&&t.length)for(var B=0;B<t.length;B++){var C=t[B];if("esriFieldTypeString"===C.type)return C.name}return""},_getDisplayField:function(t){return t.displayField||t.featureLayer.displayField||this._getFirstStringField(t.featureLayer)},_validLocation:function(t){return t&&"number"===typeof t.x&&"number"===typeof t.y},_validExtent:function(t){return t&&"number"===typeof t.xmin&&
"number"===typeof t.ymin&&"number"===typeof t.xmax&&"number"===typeof t.ymax},_hydrateResult:function(t,B,C){var I={},H=this._defaultSR;B=this.sources[B];this.map&&(H=this.map.spatialReference);if(t.hasOwnProperty("text")&&t.hasOwnProperty("magicKey"))return t;if(t.hasOwnProperty("geometry")){var ka=new x(t.toJson());I.feature=ka;(ka=I.feature.geometry)&&ka.setSpatialReference(H)}else if(t.hasOwnProperty("location")&&this._validLocation(t.location)){var A=new P(t.location.x,t.location.y,H);ka={};
t.hasOwnProperty("attributes")&&(ka=t.attributes);t.hasOwnProperty("address")&&"object"===typeof t.address&&ha.mixin(ka,t.address);t.hasOwnProperty("score")&&(ka.score=t.score);I.feature=new x(A,null,ka,null)}!I.feature&&C&&(ka={},t.hasOwnProperty("attributes")&&(ka=t.attributes),t.hasOwnProperty("score")&&(ka.score=t.score),I.feature=new x(null,null,ka,null));if(I.feature){if(t.hasOwnProperty("extent")&&this._validExtent(t.extent))I.extent=new X(t.extent),I.extent.setSpatialReference(H);else if(I.feature&&
I.feature.geometry)switch(I.feature.geometry.type){case "extent":I.extent=I.feature.geometry;break;case "multipoint":I.extent=Y.getDenormalizedExtent(I.feature.geometry);break;case "polygon":I.extent=Y.getDenormalizedExtent(I.feature.geometry);break;case "polyline":I.extent=Y.getDenormalizedExtent(I.feature.geometry);break;case "point":this.map?(H=this.zoomScale,B&&B.zoomScale&&(H=B.zoomScale),this._getScale()>H?I.extent=ba.getExtentForScale(this.map,H).centerAt(I.feature.geometry):I.extent=this.map.extent.centerAt(I.feature.geometry)):
I.extent=new X({xmin:I.feature.geometry.x-.25,ymin:I.feature.geometry.y-.25,xmax:I.feature.geometry.x+.25,ymax:I.feature.geometry.y+.25,spatialReference:this._defaultSR})}else I.extent=null;I.name="";B.featureLayer?B.suggestionTemplate&&C?I.name=v.substitute(t.attributes,B.suggestionTemplate):B.searchTemplate?I.name=v.substitute(t.attributes,B.searchTemplate):(ka=this._getDisplayField(B),C=B.featureLayer.getField(ka),H=B.featureLayer.getDomain(ka),ka&&t.hasOwnProperty("attributes")&&t.attributes.hasOwnProperty(ka)&&
(t=t.attributes[ka],H&&"codedValue"===H.type?I.name=this._getCodedName(H.codedValues,t):C&&"esriFieldTypeDate"===C.type&&!isNaN(t)?I.name=l.format(new Date(t)):I.name=t)):t.address&&B.searchTemplate?I.name=v.substitute(t.address,B.searchTemplate):t.hasOwnProperty("name")?I.name=t.name:t.hasOwnProperty("attributes")&&"object"===typeof t.attributes&&t.attributes.LongLabel?I.name=t.attributes.LongLabel:t.hasOwnProperty("attributes")&&"object"===typeof t.attributes&&t.attributes.Match_addr?(I.name=t.attributes.Match_addr,
t.attributes.Addr_type&&"POI"===t.attributes.Addr_type&&t.attributes.StAddr&&t.attributes.City?I.name+=" - "+t.attributes.StAddr+", "+t.attributes.City:t.attributes.Addr_type&&"POI"===t.attributes.Addr_type&&t.attributes.City&&(I.name+=" - "+t.attributes.City)):t.hasOwnProperty("address")&&"string"===typeof t.address?I.name=t.address:t.hasOwnProperty("address")&&"object"===typeof t.address&&t.address.hasOwnProperty("Address")?t.address.hasOwnProperty("Match_addr")?I.name=t.address.Match_addr:t.address.hasOwnProperty("Address")&&
(I.name=t.address.Address):I.feature&&I.feature.geometry&&(I.name=I.feature.geometry.x+","+I.feature.geometry.y);B.featureLayer&&I.feature&&na(I.feature,B.featureLayer);return I}},_getScale:function(){var t;this.map&&"function"===typeof this.map.getScale&&(t=this.map.getScale());return t},_hydrateResults:function(t,B,C){var I=[],H=0;if(t&&t.length)for(H;H<t.length;H++){var ka=this._hydrateResult(t[H],B,C);ka&&I.push(ka)}return I},_containsNonLatinCharacter:function(t){for(var B=0;B<t.length;B++)if(255<
t.charCodeAt(B))return!0;return!1},_setPlaceholder:function(t){var B="",C=this.sources[t];t===this._allIndex?B=this.allPlaceholder||c.widgets.Search.main.allPlaceholder:C&&C.placeholder&&(B=C.placeholder);var I=c.widgets.Search.main.all;C&&(I=this._getSourceName(t));n.set(this.sourceNameNode,"textContent",I);n.set(this.inputNode,"placeholder",B);n.set(this.inputNode,"title",B)},_updateActiveSource:function(){var t=this.sources,B=this.activeSourceIndex,C;t&&t[B]&&(C=t[B]);C?this.set("activeSource",
C):this.set("activeSource",null)},_updateVisible:function(){this.visible?this.show():this.hide()},_updateButtonMode:function(t){t?(p.toggle(this.containerNode,this.css.searchExpanded,this.expanded),p.toggle(this.containerNode,this.css.searchCollapsed,!this.expanded),p.add(this.containerNode,this.css.hasButtonMode)):(p.remove(this.containerNode,this.css.searchExpanded),p.remove(this.containerNode,this.css.searchCollapsed),p.remove(this.containerNode,this.css.hasButtonMode))},_setDefaultActiveSourceIndex:function(t){t&&
1===t.length||!this.enableSearchingAll?this.set("activeSourceIndex",0):this.set("activeSourceIndex",this._allIndex)},_setEnableSourcesMenuAttr:function(t){this._set("enableSourcesMenu",t);this._created&&this._insertSources(this.sources)},_setEnableSearchingAllAttr:function(t){this._set("enableSearchingAll",t);this._created&&(this._setDefaultActiveSourceIndex(this.sources),this._hideMenus(),this._insertSources(this.sources))},_setSourcesAttr:function(t){this._createSourceNameMap(t).then(ha.hitch(this,
function(B){this._sourceNames=B;this._created&&(this._setDefaultActiveSourceIndex(t),this._hideMenus(),this._insertSources(t))}));this._set("sources",t)},_setAllPlaceholderAttr:function(t){this._set("allPlaceholder",t);this._created&&this._setPlaceholder(this.activeSourceIndex)},_setActiveSourceIndexAttr:function(t){this._set("activeSourceIndex",t);this._updateActiveSource();this._created&&(this._setPlaceholder(t),this._hideMenus(),this._insertSources(this.sources))},_setMaxLengthAttr:function(t){this._set("maxLength",
t);this._created&&n.set(this.inputNode,"maxLength",t)},_setValueAttr:function(t){this.set("magicKey",null);this.set("selectedFeatureId",null);this._set("value",t);this._created&&(n.set(this.inputNode,"value",t),this._checkStatus())},_setVisibleAttr:function(t){this._set("visible",t);this._created&&this._updateVisible()},_setEnableButtonModeAttr:function(t){this._set("enableButtonMode",t);this._created&&this._updateButtonMode(t)},_setThemeAttr:function(t){this._created&&(p.remove(this.domNode,this.theme),
p.add(this.domNode,t));this._set("theme",t)}});ma("extend-esri")&&ha.setObject("dijit.Search",ta,y);return ta})},"esri/tasks/locator":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/json dojo/has ../kernel ../request ../deferredUtils ./Task ./AddressCandidate".split(" "),function(ya,ta,ha,ea,U,M,D,ia,ca,ma,T){ya=ya(ma,{declaredClass:"esri.tasks.Locator",_eventMap:{"address-to-locations-complete":["addresses"],"addresses-to-locations-complete":["addresses"],
"location-to-address-complete":["address"],"suggest-locations-complete":["suggestions"]},constructor:function(m){this._geocodeHandler=ta.hitch(this,this._geocodeHandler);this._geocodeAddressesHandler=ta.hitch(this,this._geocodeAddressesHandler);this._reverseGeocodeHandler=ta.hitch(this,this._reverseGeocodeHandler);this.registerConnectEvents()},outSpatialReference:null,setOutSpatialReference:function(m){this.outSpatialReference=m},_geocodeHandler:function(m,n,p,f,a){try{var l=m.candidates;n=[];var c,
h=l.length,e=m.spatialReference,k;for(c=0;c<h;c++){var d=l[c];if(k=d.location)k.spatialReference=e;n[c]=new T(d)}this._successHandler([n],"onAddressToLocationsComplete",p,a)}catch(q){this._errorHandler(q,f,a)}},_geocodeAddressesHandler:function(m,n,p,f,a){try{var l=m.locations;n=[];var c,h=l.length,e=m.spatialReference,k;for(c=0;c<h;c++){if(k=l[c].location)k.spatialReference=e;n[c]=new T(l[c])}this._successHandler([n],"onAddressesToLocationsComplete",p,a)}catch(d){this._errorHandler(d,f,a)}},addressToLocations:function(m,
n,p,f,a){var l;if(m.address){f=p;p=n;n=m.outFields;a=m.searchExtent;var c=m.countryCode;var h=m.magicKey;var e=m.distance;var k=m.categories;m.location&&this.normalization&&(l=m.location.normalize());var d=m.locationType;var q=m.maxLocations;var w=m.forStorage;m=m.address}a&&(a=a.shiftCentralMeridian());var v=this.outSpatialReference;m=this._encode(ta.mixin({},this._url.query,m,{f:"json",outSR:v&&U.toJson(v.toJson()),outFields:n&&n.join(",")||null,searchExtent:a&&U.toJson(a.toJson()),category:k&&
k.join(",")||null,countryCode:c||null,magicKey:h||null,distance:e||null,location:l||null,locationType:d||null,maxLocations:q||null,forStorage:w||null}));var E=this._geocodeHandler,y=this._errorHandler,u=new ea(ca._dfdCanceller);u._pendingDfd=ia({url:this._url.path+"/findAddressCandidates",content:m,callbackParamName:"callback",load:function(x,F){E(x,F,p,f,u)},error:function(x){y(x,f,u)}});return u},suggestLocations:function(m){var n=new ea(ca._dfdCanceller);m.hasOwnProperty("location")&&this.normalization&&
(m.location=m.location.normalize());m.searchExtent&&(m.searchExtent=m.searchExtent.shiftCentralMeridian());m=this._encode(ta.mixin({},this._url.query,{f:"json",text:m.text,maxSuggestions:m.maxSuggestions,searchExtent:m.searchExtent&&U.toJson(m.searchExtent.toJson()),category:m.categories&&m.categories.join(",")||null,countryCode:m.countryCode||null,location:m.location||null,distance:m.distance||null},{f:"json"}));m=ia({url:this._url.path+"/suggest",content:m,callbackParamName:"callback"});n._pendingDfd=
m;m.then(ta.hitch(this,function(p){p=p.suggestions||[];this.onSuggestLocationsComplete(p);n.resolve(p)}),ta.hitch(this,function(p){this._errorHandler(p);n.reject(p)}));return n},addressesToLocations:function(m,n,p){var f=this.outSpatialReference,a=[],l=m.categories,c=m.locationType,h=m.countryCode;ha.forEach(m.addresses,function(q,w){a.push({attributes:q})});m=this._encode(ta.mixin({},this._url.query,{category:l&&l.join(",")||null,locationType:c||null,sourceCountry:h||null},{addresses:U.toJson({records:a})},
{f:"json",outSR:f&&U.toJson(f.toJson())}));var e=this._geocodeAddressesHandler,k=this._errorHandler,d=new ea(ca._dfdCanceller);d._pendingDfd=ia({url:this._url.path+"/geocodeAddresses",content:m,callbackParamName:"callback",load:function(q,w){e(q,w,n,p,d)},error:function(q){k(q,p,d)}});return d},_reverseGeocodeHandler:function(m,n,p,f,a){try{var l=new T({address:m.address,location:m.location,score:100});this._successHandler([l],"onLocationToAddressComplete",p,a)}catch(c){this._errorHandler(c,f,a)}},
locationToAddress:function(m,n,p,f){m&&this.normalization&&(m=m.normalize());var a=this.outSpatialReference;m=this._encode(ta.mixin({},this._url.query,{outSR:a&&U.toJson(a.toJson()),location:m&&U.toJson(m.toJson()),distance:n,f:"json"}));var l=this._reverseGeocodeHandler,c=this._errorHandler,h=new ea(ca._dfdCanceller);h._pendingDfd=ia({url:this._url.path+"/reverseGeocode",content:m,callbackParamName:"callback",load:function(e,k){l(e,k,p,f,h)},error:function(e){c(e,f,h)}});return h},onSuggestLocationsComplete:function(){},
onAddressToLocationsComplete:function(){},onAddressesToLocationsComplete:function(){},onLocationToAddressComplete:function(){}});M("extend-esri")&&ta.setObject("tasks.Locator",ya,D);return ya})},"esri/tasks/AddressCandidate":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../geometry/Point"],function(ya,ta,ha,ea,U){ya=ya(null,{declaredClass:"esri.tasks.AddressCandidate",constructor:function(M){ta.mixin(this,M);this.location=new U(this.location)}});ha("extend-esri")&&
ta.setObject("tasks.AddressCandidate",ya,ea);return ya})},"esri/styles/basic":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/has","../kernel","../Color"],function(ya,ta,ha,ea,U){function M(T,m){if(T){var n={};n.color=new U(T.color);n.opacity=T.opacity||1;switch(m){case "point":n.outline={color:new U(T.outline.color),width:T.outline.width};n.size=T.size;break;case "line":n.width=T.width;break;case "polygon":n.outline={color:new U(T.outline.color),width:T.outline.width}}}return n}function D(T){if("esriGeometryPoint"===
T||"esriGeometryMultipoint"===T)T="point";else if("esriGeometryPolyline"===T)T="line";else if("esriGeometryPolygon"===T||"esriGeometryMultiPatch"===T)T="polygon";return T}var ia={"default":{name:"default",label:"Default",description:"Default theme for basic visualization of features.",basemapGroups:{light:"streets gray topo terrain national-geographic oceans osm gray-vector streets-vector topo-vector streets-relief-vector streets-navigation-vector".split(" "),dark:["satellite","hybrid","dark-gray",
"dark-gray-vector","streets-night-vector"]},pointSchemes:{light:{primary:{color:[77,77,77,1],outline:{color:[255,255,255,.25],width:1},size:8},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:1},size:8},{color:[255,255,255,1],outline:{color:[51,51,51,.25],width:1},size:8}]},dark:{primary:{color:[255,255,255,1],outline:{color:[92,92,92,.25],width:1},size:8},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:1},size:8},{color:[26,26,26,1],outline:{color:[178,
178,178,.25],width:1},size:8}]}},lineSchemes:{light:{primary:{color:[77,77,77,1],width:2},secondary:[{color:[226,119,40,1],width:2},{color:[255,255,255,1],width:2}]},dark:{primary:{color:[255,255,255,1],width:2},secondary:[{color:[226,119,40,1],width:2},{color:[26,26,26,1],width:2}]}},polygonSchemes:{light:{primary:{color:[227,139,79,1],outline:{color:[255,255,255,.25],width:1},opacity:.8},secondary:[{color:[128,128,128,1],outline:{color:[255,255,255,.25],width:1},opacity:.8},{color:[255,255,255,
1],outline:{color:[128,128,128,.25],width:1},opacity:.8}]},dark:{primary:{color:[227,139,79,1],outline:{color:[92,92,92,.25],width:1},opacity:.8},secondary:[{color:[178,178,178,1],outline:{color:[92,92,92,.25],width:1},opacity:.8},{color:[26,26,26,1],outline:{color:[128,128,128,.25],width:1},opacity:.8}]}}}},ca={};(function(){var T,m,n;for(T in ia){var p=ia[T];var f=p.basemapGroups;var a=ca[T]={basemaps:[].concat(f.light).concat(f.dark),point:{},line:{},polygon:{}};for(m in f){var l=f[m];for(n=0;n<
l.length;n++){var c=l[n];p.pointSchemes&&(a.point[c]=p.pointSchemes[m]);p.lineSchemes&&(a.line[c]=p.lineSchemes[m]);p.polygonSchemes&&(a.polygon[c]=p.polygonSchemes[m])}}}})();var ma={getAvailableThemes:function(T){var m=[],n;for(n in ia){var p=ia[n];var f=ca[n];T&&-1===ya.indexOf(f.basemaps,T)||m.push({name:p.name,label:p.label,description:p.description,basemaps:f.basemaps.slice(0)})}return m},getSchemes:function(T){var m=T.theme,n=T.basemap,p=D(T.geometryType);T=ca[m];var f;(T=(T=T&&T[p])&&T[n])&&
(f={primaryScheme:M(T.primary,p),secondarySchemes:ya.map(T.secondary,function(a){return M(a,p)})});return f},cloneScheme:function(T){if(T){var m=ta.mixin({},T);m.color&&(m.color=new U(m.color));m.outline&&(m.outline={color:m.outline.color&&new U(m.outline.color),width:m.outline.width})}return m}};ha("extend-esri")&&ta.setObject("styles.basic",ma,ea);return ma})},"widgets/PublicNotification/reviewResults":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./reviewResults.html dojo/_base/lang jimu/dijit/FeatureSetChooserForMultipleLayers dojo/dom-attr jimu/utils dojo/query dojo/dom-class dojo/Evented dojo/keys dojo/on dijit/focus dijit/form/TextBox".split(" "),
function(ya,ta,ha,ea,U,M,D,ia,ca,ma,T,m,n,p,f){return ya([ta,ha,ea,m],{templateString:U,baseClass:"jimu-widget-public-notification-reviewResults",constructor:function(a){a&&M.mixin(this,a)},startup:function(){},postCreate:function(){this.clearBtn.innerHTML=this.nls.common.clear;ia.set(this.clearBtn,"aria-label",this.nls.common.clear);this.reviewResultsDownloadBtn.innerHTML=window.jimuNls.layerInfosMenu.itemDownload;ia.set(this.reviewResultsDownloadBtn,"aria-label",window.jimuNls.layerInfosMenu.itemDownload);
this.addresseeTextbox.set("value",this.addresseeLayer.title);this.formatSelect.addOption(this.formselectOptions);this._eventListners();this._createSelectTool()},_eventListners:function(){this.own(p(this.reviewResultsDownloadBtn,"keydown",M.hitch(this,function(a){a.keyCode!==n.ENTER&&a.keyCode!==n.SPACE||this._onDownloadBtnClicked()})));this.own(p(this.clearBtn,"keydown",M.hitch(this,function(a){a.keyCode!==n.ENTER&&a.keyCode!==n.SPACE||this.emit("clear")})))},_createSelectTool:function(){this._selectTool=
new D({geoTypes:this.geoTypes,map:this.map,updateSelection:!0,fullyWithin:!1},this.selectToolDiv);this._selectTool.startup();var a=ma(".draw-item-btn",this._selectTool.domNode)[0];T.add(a,"esriCTselectToolDiv");a=ma(".btn-clear",this._selectTool.domNode)[0];T.add(a,"hidden");this._onUnloading()},_onClearBtnClicked:function(){this.emit("clear")},_getGeoType:function(){switch(this.addresseeLayer.layerObject.geometryType){case "esriGeometryPolygon":var a="POLYGON";break;case "esriGeometryPolyline":a=
"POLYLINE";break;case "esriGeometryPoint":a="POINT";break;default:a="EXTENT"}return a},_onUnloading:function(){""!==this._selectTool&&null!==this._selectTool&&void 0!==this._selectTool&&this.own(p(this._selectTool,"unloading",M.hitch(this,function(){this.emit("unloadingComplete")})))},resetFeatureLayerToSelectTool:function(a){var l=[];l.push(a);""!==this._selectTool&&null!==this._selectTool&&void 0!==this._selectTool&&this._selectTool.setFeatureLayers(l)},_deactivateSelectTool:function(){this._selectTool&&
this._selectTool.deactivate()},_onDownloadBtnClicked:function(){this.emit("onDownloadBtnClicked")},setAccessibility:function(){this._setFirstFocusNode();this._setLastFocusNode();this.setFocus()},_setFirstFocusNode:function(){var a=ma(".draw-item-btn",this._selectTool.domNode);""!==a&&null!==a&&void 0!==a&&ca.initFirstFocusNode(this.domNode,a[0])},_setLastFocusNode:function(){ca.initLastFocusNode(this.domNode,this.reviewResultsDownloadBtn)},setFocus:function(){ca.focusFirstFocusNode(this.domNode)},
setFocusOnDownloadButton:function(){f.focus(this.reviewResultsDownloadBtn)},updateDownloadBtnAriaLabel:function(a){ia.set(this.reviewResultsDownloadBtn,"aria-label",a?a+" "+this.reviewResultsDownloadBtn.innerHTML:this.reviewResultsDownloadBtn.innerHTML)}})})},"widgets/PublicNotification/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:dijit/templates/ProgressBar.html":'\x3cdiv class\x3d"dijitProgressBar dijitProgressBarEmpty" role\x3d"progressbar"\r\n\t\x3e\x3cdiv  data-dojo-attach-point\x3d"internalProgress" class\x3d"dijitProgressBarFull"\r\n\t\t\x3e\x3cdiv class\x3d"dijitProgressBarTile" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\x3e\x3cspan style\x3d"visibility:hidden"\x3e\x26#160;\x3c/span\r\n\t\x3e\x3c/div\r\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"labelNode" class\x3d"dijitProgressBarLabel" id\x3d"${id}_label"\x3e\x3c/div\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"indeterminateHighContrastImage"\r\n\t\t   class\x3d"dijitInline dijitProgressBarIndeterminateHighContrastImage"\x3e\x3c/span\r\n\x3e\x3c/div\x3e\r\n',
"url:jimu/dijit/templates/SearchDistance.html":'\x3cdiv\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"cbxDiv"\x3e\x3c/div\x3e\r\n\t\x3ctable style\x3d"table-layout:fixed;width:100%;"\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"15px"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"numberTextBox" data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n\t\t\t\t\t data-dojo-props\x3d\'"required":true,intermediateChanges:false,constraints:{min:0,pattern:"#####0.##########"}\'\r\n\t\t\t\t\t style\x3d"width:100%;" data-dojo-attach-event\x3d"change:_onNumberTextBoxChanged" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cselect data-dojo-type\x3d"jimu/dijit/formSelect" data-dojo-attach-point\x3d"unitSelect"\r\n\t\t\t\t\tdata-dojo-attach-event\x3d"change:_onUnitSelectChanged" style\x3d"width:100%;"\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"MILES" selected\x3e${nls.miles}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"KILOMETERS"\x3e${nls.kilometers}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"FEET"\x3e${nls.feet}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"METERS"\x3e${nls.meters}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"YARDS"\x3e${nls.yards}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"NAUTICAL_MILES"\x3e${nls.nauticalMiles}\x3c/option\x3e\r\n\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:jimu/dijit/templates/FeatureSetChooserForMultipleLayers.html":'\x3cdiv class\x3d"jimu-not-selectable"\x3e\r\n  \x3cdiv class\x3d"draw-item-btn" tabindex\x3d"0"\x3e\r\n    \x3cdiv class\x3d"current-draw-item" data-dojo-attach-point\x3d"currentDrawItem"\x3e\r\n      \x3cdiv class\x3d"btn-select" data-dojo-attach-point\x3d"btnSelect"\x3e\r\n        \x3cdiv class\x3d"labels"\x3e\r\n            \x3cdiv class\x3d"feature-action" data-dojo-attach-point\x3d"geoTypeIcon"\x3e\x3c/div\x3e\r\n            \x3cdiv class\x3d"select-text"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"arrow feature-action icon-drop-down" data-dojo-attach-event\x3d"click:_onArrowClicked"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"btn-clear" data-dojo-attach-point\x3d"btnClear" tabindex\x3d"0"\x3e\r\n    \x3cdiv class\x3d"feature-action icon-clear-selection"\x3e\x3c/div\x3e\x3cdiv class\x3d"clear-text"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:esri/dijit/Search/templates/Search.html":'\x3cdiv role\x3d"presentation" class\x3d"${theme}"\x3e\r\n  \x3cdiv role\x3d"presentation" class\x3d"${css.searchGroup}" data-dojo-attach-point\x3d"containerNode"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"expandNode" class\x3d"${css.searchExpandContainer}"\x3e\r\n      \x3cdiv class\x3d"${css.searchAnimateContainer}"\x3e\r\n        \x3cdiv role\x3d"button" title\x3d"${_i18n.widgets.Search.main.searchIn}" id\x3d"${id}_menu_button" class\x3d"${css.searchBtn} ${css.searchToggle}" tabindex\x3d"0" data-dojo-attach-point\x3d"sourcesBtnNode"\x3e\r\n          \x3cspan aria-hidden\x3d"true" role\x3d"presentation" class\x3d"${css.searchToggleIcon}"\x3e\x3c/span\x3e\x3cspan class\x3d"${css.searchSourceName}" data-dojo-attach-point\x3d"sourceNameNode"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"${css.searchInputGroup}"\x3e\r\n          \x3cform data-dojo-attach-point\x3d"formNode"\x3e\r\n            \x3cinput maxlength\x3d"${maxLength}" autocomplete\x3d"off" type\x3d"text" tabindex\x3d"0" class\x3d"${css.searchInput}" value\x3d"${value}" aria-haspopup\x3d"true" id\x3d"${id}_input" data-dojo-attach-point\x3d"inputNode" role\x3d"textbox"\x3e\r\n          \x3c/form\x3e\r\n          \x3cdiv role\x3d"button" class\x3d"${css.searchClear}" tabindex\x3d"0" data-dojo-attach-point\x3d"clearNode"\x3e\x3cspan aria-hidden\x3d"true" class\x3d"${css.searchClearIcon}"\x3e\x3c/span\x3e\x3cspan aria-hidden\x3d"true" class\x3d"${css.searchSpinner}"\x3e\x3c/span\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"suggestionsNode" class\x3d"${css.searchMenu} ${css.suggestionsMenu}"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv role\x3d"button" title\x3d"${_i18n.widgets.Search.main.searchButtonTitle}" class\x3d"${css.searchBtn} ${css.searchSubmit}" tabindex\x3d"0" data-dojo-attach-point\x3d"submitNode"\x3e\r\n      \x3cspan aria-hidden\x3d"true" role\x3d"presentation" class\x3d"${css.searchIcon}"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"${css.searchButtonText}"\x3e${_i18n.widgets.Search.main.searchButtonTitle}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"sourcesNode" class\x3d"${css.searchMenu} ${css.sourcesMenu}"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"noResultsMenuNode" class\x3d"${css.searchMenu} ${css.searchNoResultsMenu}"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.searchClearFloat}"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/PublicNotification/reviewResults.html":' \x3cdiv style\x3d"width: 100%;" data-dojo-attach-point\x3d"reviewResultsNode"\x3e\r\n     \x3cdiv class\x3d"esriCTHeader"\x3e\r\n     \x3cdiv class\x3d"esriCTPageTittle"\x3e${nls.reviewResults.reviewResultsLabel}\x3c/div\x3e\r\n     \x3cdiv class\x3d"esriCTPageContent"\x3e\r\n\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.addresseeSource}\x3c/div\x3e\r\n            \x3cdiv class\x3d"entryFullWidth"\x3e\r\n              \x3cdiv style\x3d"width: 100%;" aria-label\x3d"${nls.groupingLabels.addresseeSource}" data-dojo-attach-point\x3d"addresseeTextbox" data-dojo-type\x3d"dijit/form/TextBox" disabled\x3dtrue\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cdiv class\x3d"section" style\x3d"padding-bottom:5px;"\x3e\r\n            \x3cdiv class\x3d"esriCTSelectToolWrapper"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"selectToolDiv"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.formatHeaderText}\x3c/div\x3e\r\n            \x3cdiv class\x3d"entryFullWidth"\x3e\r\n              \x3cselect aria-label\x3d"${nls.groupingLabels.formatHeaderText}" class\x3d"lastFocusNode" data-dojo-attach-point\x3d"formatSelect" data-dojo-type\x3d"jimu/dijit/formSelect"\x3e\x3c/select\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv id\x3d"rrNumAddresseesFound" class\x3d"hidden"\x3e\x3c/div\x3e\r\n            \x3c!-- aria-label added at runtime --\x3e\r\n            \x3cdiv class\x3d"esriCTButtonsWrapper"\x3e\r\n                \x3cdiv class\x3d"esriCTButton esriCTMargin10"\x3e\r\n                    \x3cdiv tabindex\x3d"0" role\x3d"button" data-dojo-attach-point\x3d"clearBtn" class\x3d"jimu-btn jimu-float-trailing"\r\n                    data-dojo-attach-event\x3d"onclick:_onClearBtnClicked"\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriCTButton esriCTMargin2"\x3e\r\n                    \x3cdiv tabindex\x3d"0" role\x3d"button" data-dojo-attach-point\x3d"reviewResultsDownloadBtn"\r\n                        class\x3d"jimu-btn jimu-float-trailing focusableItem" data-dojo-attach-event\x3d"onclick:_onDownloadBtnClicked"\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n     \x3c/div\x3e\r\n    \x3c/div\x3e\r\n \x3c/div\x3e',
"url:widgets/PublicNotification/Widget.html":'\x3cdiv\x3e\r\n    \x3cdiv id\x3d"activeWidgetSection" style\x3d"display:none" data-dojo-attach-point\x3d"mainPageContainer"\x3e\r\n        \x3cdiv id\x3d"sourceInputsSection"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.searchHeaderText}\x3c/div\x3e\r\n            \x3cdiv class\x3d"section"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"searchNode" class\x3d"search-node searchDijitFillsContainer"\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv tabindex\x3d"-1" data-dojo-attach-point\x3d"searchResultsNode" class\x3d"searchResults arcgisSearch"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"section" data-dojo-attach-point\x3d"drawBoxDijit"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"drawBoxDiv"\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"section" data-dojo-attach-point\x3d"searchDistanceDijit" style\x3d"height:68px"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"searchDistanceDiv" class\x3d"section entryFullWidth"\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv id\x3d"sourceInputsSectionScrim" class\x3d\'scrim hidden\'\x3e\x3c/div\x3e\r\n\r\n        \x3cdiv id\x3d"addresseeSourceSection" class\x3d"section"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.addresseeSource}\x3c/div\x3e\r\n            \x3cdiv class\x3d"entryFullWidth"\x3e\r\n                \x3cselect aria-label\x3d"${nls.groupingLabels.addresseeSource}" data-dojo-attach-point\x3d"addresseeSelect"\r\n                    data-dojo-type\x3d"jimu/dijit/formSelect"\x3e\x3c/select\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.formatHeaderText}\x3c/div\x3e\r\n            \x3cdiv class\x3d"entryFullWidth"\x3e\r\n                \x3cselect aria-label\x3d"${nls.groupingLabels.formatHeaderText}" class\x3d"lastFocusNode" data-dojo-attach-point\x3d"formatSelect"\r\n                    data-dojo-type\x3d"jimu/dijit/formSelect"\x3e\x3c/select\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv id\x3d"numAddresseesFound"\x3e\x3c/div\x3e\r\n            \x3c!-- aria-label added at runtime --\x3e\r\n            \x3cdiv class\x3d"esriCTButtonsWrapper"\x3e\r\n                \x3cdiv class\x3d"esriCTButton esriCTMargin10"\x3e\r\n                    \x3cdiv tabindex\x3d"0" role\x3d"button" data-dojo-attach-point\x3d"reviewBtn" data-dojo-attach-event\x3d"onclick:_onReviewBtnClicked" class\x3d"jimu-btn jimu-float-trailing hidden"\x3e\x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriCTButton esriCTMargin2"\x3e\r\n                    \x3cdiv tabindex\x3d"0" role\x3d"button" data-dojo-attach-point\x3d"downloadBtn" data-dojo-attach-event\x3d"onclick:_onDownloadBtnClicked" class\x3d"jimu-btn jimu-float-trailing focusableItem hidden"\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv data-dojo-type\x3d"dijit/ProgressBar" class\x3d"progressbar"\r\n                data-dojo-attach-point\x3d"indeterminateProgress" id\x3d"indeterminateProgress"\x3e\x3c/div\x3e\r\n            \x3cdiv data-dojo-type\x3d"dijit/ProgressBar" class\x3d"progressbar"\r\n                data-dojo-attach-point\x3d"determinateProgress" id\x3d"downloadProgress"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3c!-- results review page starts --\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"reviewResultsContainer"\x3e\x3c/div\x3e\r\n    \x3c!-- results review page ends --\x3e\r\n    \x3cdiv id\x3d"nothingConfiguredSection" style\x3d"display:none"\x3e\r\n        \x3cdiv\x3e${nls.tooltips.nothingConfigured}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/PublicNotification/css/style.css":'.jimu-widget-public-notification .search-controls {height: 34px;}.jimu-widget-public-notification .search-node {height: 34px;}.jimu-widget-public-notification .esriCTSelectLocationDiv {margin: 0px 0px 0px 2px; float: right; min-width: 34px;}.jimu-widget-public-notification .imgBtnCell {width: 34px;}.jimu-widget-public-notification .imgBtn {cursor: pointer; width: 34px; height: 34px; border: 1px solid #57585A; border-radius: 4px; background-position: center center; background-repeat: no-repeat; position: relative;}.jimu-widget-public-notification .focusableItem:focus {border-color: rgb(81,177,254); box-shadow: rgb(81,177,254) 0px 0px 5px 0px; outline-color: rgb(77,144,254);}.jimu-widget-public-notification .arcgisSearch .searchBtn {padding: 6px;}.jimu-widget-public-notification table {width: 100%;}.jimu-widget-public-notification {min-height: 32px;}.jimu-widget-public-notification .search-node.default-width-for-openAtStart {width: 274px;}.jimu-widget-public-notification .result-item-selected {background: #eee;}.jimu-widget-public-notification .arcgisSearch .searchBtn {padding: 6px;}.jimu-widget-public-notification .arcgisSearch .searchBtn:hover,.jimu-widget-public-notification .arcgisSearch .searchBtn:focus {background-color: #485566; color: white;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchToggle {float: left;}.jimu-rtl .jimu-widget-public-notification.use-absolute .arcgisSearch .searchToggle {float: right;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchInputGroup {position: absolute; top: 0; width: auto; left: 34px; right: 34px;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchInputGroup form {overflow: hidden; z-index: 0; position: relative;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchInputGroup .searchClear {z-index: 0;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchExpandContainer {float: none;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchSubmit {float: right;}.jimu-rtl .jimu-widget-public-notification.use-absolute .arcgisSearch .searchSubmit {float: left;}.jimu-widget-public-notification .arcgisSearch .show-all-results {position: absolute; height: 25px; color: #686868; line-height: 25px; display: none; width: 237px; margin: auto; background-color: #fff; padding: 0 12px; cursor: pointer;}.jimu-widget-public-notification .arcgisSearch .searchMenu {border-radius: 0; color: #686868; font-size: 12px; padding: 0; top: 33px;}.jimu-widget-public-notification .arcgisSearch .searchMenu li.active {background-color: #d9dde0; color: #686868; font-size: 14px;}.jimu-widget-public-notification .arcgisSearch .searchMenu li {padding: 0 12px; line-height: 25px;}.jimu-widget-public-notification .arcgisSearch .searchMenu .menuHeader {background-color: #d9dde0; color: #686868; font-size: 14px; min-height: 30px; padding: 0 12px; line-height: 30px;}.dart-panel .jimu-widget-public-notification .arcgisSearch .searchMenu {background-color: #373737 !important;}.dart-panel .jimu-widget-public-notification .arcgisSearch .searchMenu li.active {background-color: #4C4C4C !important;}.dart-panel .jimu-widget-public-notification .arcgisSearch .searchMenu li:hover, .dart-panel .jimu-widget-public-notification .arcgisSearch .searchMenu li:focus {background-color: #232323 !important;}.jimu-widget-public-notification .section,.jimu-widget-public-notification-reviewResults .section {clear: both; padding-bottom: 12px;}.jimu-widget-public-notification .entryFullWidth,.jimu-widget-public-notification-reviewResults .entryFullWidth {margin: 4px; height: 30px;}.jimu-widget-public-notification .distance {width: calc(100% - 126px); width: 49%;}.jimu-widget-public-notification .unitsSelect {float: right; width: 120px; width: 49%;}.jimu-widget-public-notification .hidden,.jimu-widget-public-notification-reviewResults .hidden {display: none;}.jimu-widget-public-notification .sourceInputsSection {position: relative;}.jimu-widget-public-notification .scrim {position: absolute; background-color: transparent; z-index: 10;}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .searchExpandContainer {float: none; width: calc(100% - 22px);}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .searchInputGroup {width: calc(100% - 12px);}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .searchGroup .searchInput {width: calc(100% - 13px); padding: 6px;}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .hasMultipleSources .searchExpandContainer {float: none; width: calc(100% - 10px);}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .hasMultipleSources .searchInputGroup {width: calc(100% - 58px);}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .hasMultipleSources .searchInput {width: calc(100% - 12px); padding: 6px;}.jimu-widget-public-notification #numAddresseesFound {margin-left: 5px; margin-bottom: 12px;}.jimu-widget-public-notification .progressbar {display: none; margin-top: 40px;}.jimu-widget-public-notification .esriCTClearBoth {clear: both;}.jimu-widget-public-notification .esriCTFullWidth {width: 100%;}.jimu-widget-public-notification .switch-toggle.dijitCheckBox {height: 16px; width: 28px; border: 0 none; background: #adadad; position: relative; display: inline-block; cursor: pointer; -moz-border-radius: 10px; -webkit-border-radius: 10px; border-radius: 10px; margin-left: 2px;}.jimu-widget-public-notification .switch-toggle.dijitCheckBox:before {content: ""; background: #f8f8f8; position: absolute; padding: 0; height: 12px; width: 12px; left: auto; right: 14px; top: 2px; z-index: 1; -webkit-transition: right 0.3s; -moz-transition: right 0.3s; -o-transition: right 0.3s; transition: right 0.3s; -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%;}.jimu-widget-public-notification .switch-toggle.dijitCheckBox input {width: 100%; height: 100%; position: absolute; left: 0; z-index: 2;}.jimu-widget-public-notification .switch-toggle.dijitCheckBox.dijitCheckBoxChecked {background: #50ad4e;}.jimu-widget-public-notification .switch-toggle.dijitCheckBox.dijitCheckBoxChecked:before {right: 2px;}.jimu-widget-public-notification .esriCTButton, .jimu-widget-public-notification-reviewResults .esriCTButton {display: inline-block; max-width: 140px;}.jimu-widget-public-notification .esriCTButtonsWrapper, .jimu-widget-public-notification-reviewResults .esriCTButtonsWrapper {width: 100%; overflow: hidden; text-align: right; padding-top: 2px;}.jimu-widget-public-notification-reviewResults .esriCTHeader {height: 30px; border-bottom: 1px solid #464646; width: 100%;}.jimu-widget-public-notification-reviewResults .esriCTPageContent {width: calc(100% - 20px); margin: 20px 10px 10px 10px; display: inline-block;}.jimu-widget-public-notification-reviewResults .esriCTPageTittle {line-height: 10px; font-weight: bold; text-align: center; width: 100%; padding: 5px 3px 5px 3px; display: inline-block;}.jimu-widget-public-notification-reviewResults .esriCTselectToolDiv {margin: 0 auto;}.jimu-rtl .jimu-widget-public-notification .esriCTButtonsWrapper,.jimu-rtl .jimu-widget-public-notification-reviewResults .esriCTButtonsWrapper {text-align: left;}.jimu-rtl .jimu-widget-public-notification .esriCTMargin10,.jimu-rtl .jimu-widget-public-notification-reviewResults .esriCTMargin10 {margin-left: 10px;}.jimu-widget-public-notification .esriCTMargin10,.jimu-widget-public-notification-reviewResults .esriCTMargin10 {margin-right: 10px;}.jimu-widget-public-notification .esriCTMargin2,.jimu-widget-public-notification-reviewResults .esriCTMargin2 {margin-right: 2px;}.jimu-rtl .jimu-widget-public-notification .esriCTMargin2,.jimu-rtl .jimu-widget-public-notification-reviewResults .esriCTMargin2 {margin-left: 2px;}.jimu-widget-public-notification #rrNumAddresseesFound {margin-left: 5px; margin-bottom: 12px;}',
"*now":function(ya){ya(['dojo/i18n!*preload*widgets/PublicNotification/nls/Widget*["ar","bg","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/_base/array dojo/_base/Color dojo/_base/lang dojo/dom dojo/DeferredList dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/Evented dojo/keys dojo/on dojo/dom-attr dojo/query dojo/string dijit/_WidgetsInTemplateMixin dijit/ProgressBar esri/geometry/geometryEngineAsync esri/layers/GraphicsLayer esri/tasks/BufferParameters esri/tasks/GeometryService esri/tasks/query esri/tasks/QueryTask esri/tasks/RelationshipQuery jimu/dijit/DrawBox jimu/dijit/SearchDistance jimu/dijit/FeatureSetChooserForMultipleLayers jimu/BaseWidget jimu/LayerInfos/LayerInfos jimu/utils ./Download_Avery ./Download_CSV ./Highlighter ./labelFormatUtils ./Queryer ./SearchLayers jimu/FilterManager jimu/SelectionManager esri/layers/FeatureLayer jimu/utils esri/symbols/SimpleFillSymbol esri/symbols/SimpleLineSymbol esri/renderers/SimpleRenderer esri/graphic ./reviewResults dijit/form/CheckBox jimu/dijit/formSelect dojo/domReady!".split(" "),function(ya,
ta,ha,ea,U,M,D,ia,ca,ma,T,m,n,p,f,a,l,c,h,e,k,d,q,w,v,E,y,u,x,F,Q,W,L,N,G,z,P,X,Y,ba,oa,da,Ca,qa,za,wa){return ya([x,l,T],{baseClass:"jimu-widget-public-notification",_origin:void 0,_bufferDistanceMeters:0,_drawToolOption:{},_activeDrawToolNode:null,_formatCodeHandlers:{AVERY:"./Download_Avery",CSV:"./Download_CSV"},_formatCodeHandlerInstances:{AVERY:null,CSV:null},_bufferGeometry:null,_searchResultSymbology:{point:{lineColor:new ha("aqua"),lineWidth:2,fillColor:new ha([0,255,255,.1])},line:{lineColor:new ha("aqua"),
lineWidth:2},polygon:{lineColor:new ha("aqua"),lineWidth:2,fillColor:new ha([0,255,255,.1])}},_bufferSymbology:{point:{lineColor:new ha("green"),lineWidth:3,fillColor:new ha([0,255,0,.1])},line:{lineColor:new ha("green"),lineWidth:3},polygon:{lineColor:new ha("green"),lineWidth:3,fillColor:new ha([0,255,0,.1])}},_addresseeSymbology:{point:{lineColor:new ha("blue"),lineWidth:2,fillColor:new ha([0,0,255,.1])},line:{lineColor:new ha("blue"),lineWidth:2},polygon:{lineColor:new ha("blue"),lineWidth:2,
fillColor:new ha([0,0,255,.1])}},_addresseeSources:[],_foundAddressees:[],_foundLabels:[],nls:null,config:null,_testConfig:null,_currentOpenPanel:"mainPage",_reviewResultsObj:null,_geoTypes:null,constructor:function(R,na){this._testConfig=na},postMixInProperties:function(){this._testConfig&&(this.nls=this._testConfig.nls,this.config=this._testConfig.config);this.nls.common={};ea.mixin(this.nls.common,window.jimuNls.common)},postCreate:function(){this.inherited(arguments);this.filterManager=X.getInstance();
this.selectionManager=Y.getInstance();this._activeDrawToolNode=null;this._checkDownloadBtnEnable()},_setTheme:function(){var R;if("DartTheme"===this.appConfig.theme.name)oa.loadStyleLink(this.baseClass+"dartPanelOverrideCSS",this.folderUrl+"/css/dartPanelTheme.css",null);else if(R=document.getElementById(this.baseClass+"dartPanelOverrideCSS"))R.disabled=!0},startup:function(){this.inherited(arguments);this._currentOpenPanel="mainPage";this._geoTypes=this._reviewResultsObj=null;this._init();this._setTheme()},
onOpen:function(){this._searchComponent&&this._searchComponent.setFocus();this._dblClickZoom=this.map.isDoubleClickZoom},onClose:function(){this._clearAll();this._drawTool&&this._drawTool.deactivate();this._showPanel("mainPage");this._deactivateSelectTool();this._deactivateReviewSelectTool();this._clearLayers()},destroy:function(){this._drawTool&&(this._drawTool.destroyRecursive(),this._drawTool=null);this.inherited(arguments)},_isFeatureUsedForBuffereing:function(R,na){var t=!1;this._prevSelectedFeatures&&
this._prevSelectedFeatures.bufferedFeatures&&0<this._prevSelectedFeatures.bufferedFeatures.length&&ta.some(this._prevSelectedFeatures.bufferedFeatures,function(B){if(R===B._layer.id&&B.attributes[B._layer.objectIdField]===na)return t=!0});return t},_filterBufferedFeatures:function(R){var na=[],t=[];ta.forEach(R,function(B){this._isFeatureUsedForBuffereing(B._layer.id,B.attributes[B._layer.objectIdField])?na.push(B):t.push(B)},this);return{bufferedFeatures:na,nonBufferedFeatures:t}},_init:function(){var R,
na,t=[],B;this.own(n(this.downloadBtn,"keydown",ea.hitch(this,function(I){I.keyCode!==m.ENTER&&I.keyCode!==m.SPACE||this._onDownloadBtnClicked()})));this.own(n(this.reviewBtn,"keydown",ea.hitch(this,function(I){I.keyCode!==m.ENTER&&I.keyCode!==m.SPACE||this._onReviewBtnClicked()})));F.getInstance(this.map,this.map.itemInfo).then(ea.hitch(this,function(I){var H=ea.clone(this.config.searchSourceSettings.search);C=this.config.searchSourceSettings.drawing.tools[0];R=ta.filter(this.config.searchSourceSettings.drawing.tools.slice(1),
function(J,Z){return"1"===C[Z]});0<R.length&&(this._drawToolOption.map=this.map,this._drawToolOption.geoTypes=R,this._drawToolOption.showClear=!0,this._drawToolOption.keepOneGraphic=!0,this._drawTool=new E(this._drawToolOption),na=this._drawTool.domNode.childNodes[1].children,ta.forEach(R,function(J){ta.some(na,function(Z){return Z.attributes["data-geotype"].nodeValue===J?(t.push(Z),!0):!1})}),t.push(na[na.length-1]),this._replaceChildren(this._drawTool.domNode.childNodes[1],t),this._drawTool.placeAt(this.drawBoxDiv),
this.own(this._drawTool.on("icon-selected",ea.hitch(this,this._onDrawIconSelected))),this.own(this._drawTool.on("draw-end",ea.hitch(this,this._onDrawEnd))),this.own(this._drawTool.on("clear",ea.hitch(this,this._onDrawClear))),this.own(this._drawTool.on("user-clear",ea.hitch(this,this._onDrawClear))));if(this.config.searchSourceSettings.drawing.select){var ka=ia.create("div",{width:"100%"});var A=ia.create("div",null,ka);B=R.indexOf("LINE");0<=B&&(R.splice(B,1),0>R.indexOf("POLYLINE")&&R.splice(B,
0,"POLYLINE"));this._geoTypes=0<R.length?R:["EXTENT"];this._selectTool=new u({geoTypes:this._geoTypes,map:this.map,updateSelection:!0,fullyWithin:!1},A);this._selectTool.startup();this.mapSelectionLayers=ta.filter(ta.map(I.getLayerInfoArray(),function(J){return J.layerObject}),function(J){return J});var O=ta.filter(ta.map(H.sources,function(J){return J.layerId}),function(J){return J});this.mapSelectionLayers=ta.filter(this.mapSelectionLayers,function(J){return 0<=O.indexOf(J.id)});0<this.mapSelectionLayers.length&&
this._selectTool.setFeatureLayers(this.mapSelectionLayers);A=f(".draw-item-btn",this._selectTool.domNode)[0];this.own(n(A,"click",ea.hitch(this,this._onSelectSelected)));A=f(".arrow",this._selectTool.domNode)[0];this.own(n(A,"click",ea.hitch(this,this._onSelectSelected)));A=f(".btn-clear",this._selectTool.domNode)[0];this.own(n(A,"click",ea.hitch(this,this._onSelectClear)));this.own(n(this._selectTool,"unloading",ea.hitch(this,function(J,Z,S,aa,sa){var la=[];!this._prevSelectedFeatures||aa||sa||(this._prevSelectedFeatures=
null);var xa={};ta.forEach(this.mapSelectionLayers,ea.hitch(this,function(Ia){var Ma=Ia.getSelectedFeatures(),Aa=[];if(0<Ma.length){for(var Ua=0;Ua<Ma.length;Ua++)Aa.push(Ma[Ua].attributes[Ia.objectIdField]);xa[Ia.id]={layer:Ia,where:Ia.objectIdField+" in ( "+Aa.join()+" )"}}}));J=[];var Ga=[];if(0<Object.keys(xa).length)for(var Na in xa)Ga.push(xa[Na].layer),J.push(this._queryer.findIntersectingFeatures(null,xa[Na].layer.url,[xa[Na].layer.objectIdField],xa[Na].where,this.map.spatialReference));(new M(J)).then(ea.hitch(this,
function(Ia){for(var Ma=0;Ma<Ia.length;Ma++)Ia[Ma]&&1<Ia[Ma].length&&Ia[Ma][1].features&&(Ia[Ma][1].features=ta.map(Ia[Ma][1].features,function(Aa){Aa._layer=Ga[Ma];return Aa}),la=la.concat(Ia[Ma][1].features),this.selectionManager&&this.selectionManager.getDisplayLayer(Ia[Ma][1].features[0]._layer.id)&&this.selectionManager._updateDisplayLayer(Ia[Ma][1].features[0]._layer,Ia[Ma][1].features));this._prevSelectedFeatures=!this._bufferDistanceMeters||this._bufferDistanceMeters&&!this._prevSelectedFeatures?
{bufferedFeatures:la,nonBufferedFeatures:[]}:this._filterBufferedFeatures(la);this._origin=ta.map(this._prevSelectedFeatures.bufferedFeatures,function(Aa){return Aa.geometry});this._prevSelectedFeatures&&(0<this._prevSelectedFeatures.nonBufferedFeatures.length||0<this._prevSelectedFeatures.bufferedFeatures.length)?this._doBufferSearch(this._prevSelectedFeatures.nonBufferedFeatures):this._clearAll();0===la.length&&(this._prevSelectedFeatures=null)}))})));ia.place(ka,this.drawBoxDiv,"last")}H.map=this.map;
this._searchComponent=new P(H,this.appConfig.portalUrl,I,ia.create("div",null,this.searchNode),this);this._searchComponent.searchDijit().then(ea.hitch(this,function(J){this._searchDijit=J;this.own(n(J,"search-results",ea.hitch(this,this._onSearchResults)));this.own(n(J,"clear-search",ea.hitch(this,this._onClearSearch)));1===this._searchComponent.sources.length?Q.initFirstFocusNode(this.domNode,this._searchComponent._searchDijit.inputNode):Q.initFirstFocusNode(this.domNode,this._searchComponent._searchDijit.sourcesBtnNode);
this.openAtStartAysn=!0;oa.isAutoFocusFirstNodeWidget(this)&&Q.focusFirstFocusNode(this.domNode)}));C=this.config.addresseeSourceSettings.sources[0];this._addresseeSources=ta.filter(this.config.addresseeSourceSettings.sources.slice(1),function(J,Z){return"1"===C[Z]});ta.forEach(this._addresseeSources,function(J,Z){ta.some(I._operLayers,function(S){return J.name===S.title&&S.popupInfo&&S.popupInfo.description?(J.labelLineTemplates=G.convertPopupToLabelSpec(S.popupInfo),J.labelLineTemplates.expressionInfos=
S.popupInfo.expressionInfos,J.labelLineTemplates.parsedExpressions=G.parseArcadeExpressions(S.popupInfo.expressionInfos),J.url=S.url,J.useRelatedRecords&&(J.labelLineTemplates.relationships=this._createRelationshipQueries(S)),this.addresseeSelect.addOption({value:Z,label:J.name,id:S.id}),!0):!1},this)},this)}));if(0<this.addresseeSelect.options.length){ma.set("activeWidgetSection","display","");this.own(this.addresseeSelect.on("change",ea.hitch(this,this._updateAddresseesFromBufferGeometry)));this._queryer=
new z(this.map,this.config.searchSourceSettings.geometryServiceURL);this._bufferLayer=new e;this.map.addLayer(this._bufferLayer);this._highlighter=new N(100);this._createSearchDistanceDisplay();var C=this.config.notificationSettings.labelFormats[0];ta.filter(this.config.notificationSettings.labelFormats.slice(1),ea.hitch(this,function(I,H){var ka="1"===C[H];ka&&this.formatSelect.addOption({value:H,label:"\x3cspan"+(I.hint?' title\x3d"'+I.hint+'"':"")+"\x3e"+I.name+"\x3c/span\x3e"});return ka}));this.reviewBtn.innerHTML=
this.nls.reviewButtonLabel;this.downloadBtn.innerHTML=window.jimuNls.layerInfosMenu.itemDownload;p.set(this.downloadBtn,"aria-label",window.jimuNls.layerInfosMenu.itemDownload);this.resize()}else ma.set("nothingConfiguredSection","display","block")},_createSearchDistanceDisplay:function(R){var na=!1,t=[],B=!1;this._searchDistance?na=this._searchDistance.isEnabled():ia.empty(this.searchDistanceDiv);this._searchDistanceSource=R;R="undefined"===typeof this._searchDistanceSource?this.config.searchSourceSettings.drawing.buffer:
this.config.searchSourceSettings.search.sources[this._searchDistanceSource].buffer;var C=R.bufferUnitsMenu[0];var I=ta.filter(R.bufferUnitsMenu.slice(1),function(ka,A){return"1"===C[A]});this._searchDistance||(this._searchDistance=new y({distance:R.bufferDistance,unit:R.bufferUnits}),this._allUnitOptions=ea.clone(this._searchDistance.unitSelect.options),B=!0);var H=this._allUnitOptions;ta.forEach(I,function(ka){ta.some(H,function(A){return A.value===ka?(t.push(A),!0):!1},this)},this);0<t.length&&
this._searchDistance.unitSelect.set("options",t);B?this._searchDistance.placeAt(this.searchDistanceDiv):(this._searchDistance.setDistance(R.bufferDistance),this._searchDistance.setUnit(R.bufferUnits));na?this._searchDistance.enable():this._searchDistance.disable();this._updateDisplayedBuffer(this._searchDistance.getData());B&&(this.own(this._searchDistance.numberTextBox.on("keyup",ea.hitch(this,this._onBufferDistanceKeyup))),this.own(n(this._searchDistance,"change",ea.hitch(this,this._onSearchDistanceChanged))))},
_updateDisplayedBuffer:function(R){this._bufferDistanceMeters=0;R&&R.isEnabled&&0<=R.meters&&(this._bufferDistanceMeters=R.meters);Array.isArray(this._origin)&&0<this._origin.length&&(this._prevSelectedFeatures&&0<this._prevSelectedFeatures.bufferedFeatures.length&&this._prevSelectedFeatures.nonBufferedFeatures?this._doBufferSearch(this._prevSelectedFeatures.nonBufferedFeatures):this._doBufferSearch())},_replaceChildren:function(R,na){for(;R.firstChild;)R.removeChild(R.firstChild);ta.forEach(na,function(t){R.appendChild(t)})},
_createRelationshipQueries:function(R){var na=!1,t={},B=/\d+/,C;if(C=R.popupInfo.description.match(/\{relationships\/\d+\//gm))na=!0,ta.forEach(C,function(I){var H=I.match(B)[0];t.hasOwnProperty(H)||(I=new v,I.outFields=["*"],I.relationshipId=H,I.returnGeometry=!1,t[H]={operLayer:R,relatedQuery:I})});return na?t:null},_enableSourceInputs:function(R){var na=U.byId("sourceInputsSectionScrim");R?D.add(na,"hidden"):(R=ca.getMarginBox(U.byId("sourceInputsSection")),ca.setMarginBox(na,R),D.remove(na,"hidden"))},
_doBufferSearch:function(R){this._onStartBuffer();(!this._origin||this._origin&&0>=this._origin.length)&&R&&0<R.length&&this._unionNonBufferdFeatures(null,R);this._queryer.createBufferFromGeometries(this._origin,this._bufferDistanceMeters).then(ea.hitch(this,function(na){R&&0<R.length?this._unionNonBufferdFeatures(na,R):(this._bufferGeometry=na,Q.featureAction.zoomTo(this.map,[this._bufferGeometry]),this._updateAddresseesFromBufferGeometry())}),ea.hitch(this,function(na){this._onEndBuffer();console.log(na)}))},
_unionNonBufferdFeatures:function(R,na){var t;na=ta.map(na,function(B){return B.geometry});this._queryer.createBufferFromGeometries(na,0).then(ea.hitch(this,function(B){R?(t=[R].concat(B),this._queryer.createUnionOfGeometries(t).then(ea.hitch(this,function(C){this._onBufferAndUnionComplete(C)}),ea.hitch(this,function(C){this._onEndBuffer();console.log(C)}))):this._onBufferAndUnionComplete(B)}),ea.hitch(this,function(B){this._onEndBuffer();console.log(B)}))},_onBufferAndUnionComplete:function(R){this._bufferGeometry=
R;Q.featureAction.zoomTo(this.map,[this._bufferGeometry]);this._updateAddresseesFromBufferGeometry()},_getExpressionByLayerURL:function(R,na){var t="",B;for(B in this.map._layers)if(this.map._layers[B].url===R&&B===na){t=this.filterManager.getFilterExp(B);break}return t},_updateAddresseesFromBufferGeometry:function(){this._onStartBuffer();if(this._bufferGeometry){this.indeterminateProgress.set({value:Number.POSITIVE_INFINITY});ma.set(this.indeterminateProgress.domNode,"display","block");this._createAndAddGraphic(this._bufferGeometry,
this._bufferSymbology,this._bufferLayer);var R=this.addresseeSelect._getSelectedOptionsAttr().id;R=this._getExpressionByLayerURL(this._addresseeSources[this.addresseeSelect.value].url,R);this._queryer.find(this._bufferGeometry,this._addresseeSources[this.addresseeSelect.value].url,["*"],"addressee",R).then(ea.hitch(this,function(na){na.features&&Array.isArray(na.features)&&0<na.features.length?(this._foundAddressees=na.features,ma.set(this.indeterminateProgress.domNode,"display","none"),this._highlighter.highlightFeatures(this._foundAddressees,
ea.hitch(this,this._createAndAddGraphic),this._addresseeSymbology,this._bufferLayer,ea.hitch(this,this._setProgressPercentage))):this._activeDrawToolNode&&(this._activeDrawToolNode.focus(),this._activeDrawToolNode=null);this._onEndBuffer()}),ea.hitch(this,function(na){this._onEndBuffer();console.log(na)}))}else this._onEndBuffer()},_setProgressPercentage:function(R){0>=R?(this.determinateProgress.set({value:0}),ma.set(this.determinateProgress.domNode,"display","block")):100<=R?(this.determinateProgress.set({value:100}),
ma.set(this.determinateProgress.domNode,"display","none")):this.determinateProgress.set({value:R})},_createAndAddGraphic:function(R,na,t){(R=this._highlighter.createGraphic(R,na))&&t.add(R)},_onBufferDistanceKeyup:function(R){R.keyCode===m.ENTER&&this._updateDisplayedBuffer(this._searchDistance.getData())},_onSearchDistanceChanged:function(R){var na="undefined"===typeof this._searchDistanceSource?this.config.searchSourceSettings.drawing.buffer:this.config.searchSourceSettings.search.sources[this._searchDistanceSource].buffer;
na.bufferDistance=R.distance;na.bufferUnits=R.unit;this._updateDisplayedBuffer(R)},_onSearchResults:function(R){var na=R.results,t=R.activeSourceIndex;this._clearAll();0<R.numResults&&na&&G.objEach(na,function(B,C){B&&0<B.length&&(this._origin=[B[0].feature.geometry],this._createAndAddGraphic(B[0].feature,this._searchResultSymbology,this.map.graphics),this._createSearchDistanceDisplay("all"===t?C:t),this._doBufferSearch())},this)},_onClearSearch:function(){this._clearAll()},_onDrawIconSelected:function(R){this._selectTool&&
this._selectTool.isActive()&&this._selectTool.deactivate();this._activeDrawToolNode=R;this.map.disableDoubleClickZoom();this.map.navigationManager.setImmediateClick(!0);this.map.setInfoWindowOnClick(!1);this._clearAll();this._createSearchDistanceDisplay()},_onDrawEnd:function(R){this._dblClickZoom&&this.map.enableDoubleClickZoom();this.map.navigationManager.setImmediateClick(!1);this._origin=[R.geometry];this._doBufferSearch()},_onDrawClear:function(){this.map.setInfoWindowOnClick(!0);this._clearAll()},
_onSelectSelected:function(){this._onSelectClear()},_onSelectClear:function(){this._clearAll();this._createSearchDistanceDisplay()},_onStartBuffer:function(){this._enableSourceInputs(!1);this._clearBufferGraphics();this.indeterminateProgress.set({value:Number.POSITIVE_INFINITY});ma.set(this.indeterminateProgress.domNode,"display","block")},_onEndBuffer:function(){this._enableSourceInputs(!0);ma.set(this.indeterminateProgress.domNode,"display","none");this._checkDownloadBtnEnable()},_clearAll:function(){this._origin=
void 0;this._prevSelectedFeatures=null;this._foundAddressees=[];this._foundLabels=[];this._bufferGeometry=null;this._clearSelections();this.map.graphics.clear();this._drawTool&&this._drawTool.drawLayer&&this._drawTool.drawLayer.clear();this._clearBufferGraphics();this._checkDownloadBtnEnable()},_clearSelections:function(){this._selectTool&&this._selectTool.clear(!0);ta.forEach(this.mapSelectionLayers,function(R){R.clearSelection()})},_clearBufferGraphics:function(){this._foundAddressees=[];this._foundLabels=
[];this._bufferLayer&&this._bufferLayer.clear();this._checkDownloadBtnEnable()},_checkDownloadBtnEnable:function(){0<this._addresseeSources.length&&(this.indeterminateProgress.set({value:Number.POSITIVE_INFINITY}),ma.set(this.indeterminateProgress.domNode,"display","block"),G.createLabelsFromFeatures(this._foundAddressees,this._addresseeSources[this.addresseeSelect.value].labelLineTemplates,this._getSelectedAddresseeLayer(),this.map).then(ea.hitch(this,function(R){var na=U.byId("numAddresseesFound"),
t="",B=U.byId("rrNumAddresseesFound");this._foundLabels=R;0<this._foundLabels.length?(t=a.substitute(this.nls.numAddresseesFound,{count:this._foundLabels.length}),D.remove(this.downloadBtn,"hidden"),this.config.addresseeSourceSettings.hasOwnProperty("showReviewButton")&&this.config.addresseeSourceSettings.showReviewButton&&D.remove(this.reviewBtn,"hidden"),p.set(this.downloadBtn,"aria-label",t+" "+this.downloadBtn.innerHTML),Q.initLastFocusNode(this.domNode,this.downloadBtn),this.downloadBtn.focus()):
(D.add(this.downloadBtn,"hidden"),D.add(this.reviewBtn,"hidden"),Q.initLastFocusNode(this.domNode,this.formatSelect.domNode));na.innerHTML=t;""!==B&&null!==B&&void 0!==B&&(""!==t&&null!==t&&void 0!==t?(B.innerHTML=t,p.set(B,"aria-label",t),D.remove(B,"hidden"),this._reviewResultsObj.updateDownloadBtnAriaLabel(t)):(D.add(B,"hidden"),this._reviewResultsObj.updateDownloadBtnAriaLabel()));ma.set(this.indeterminateProgress.domNode,"display","none")})))},_onDownloadBtnClicked:function(){var R=ea.clone(this.config.notificationSettings.labelPageOptions);
var na="reviewResultsPage"===this._currentOpenPanel?this.config.notificationSettings.labelFormats[this._reviewResultsObj.formatSelect.value+1]:this.config.notificationSettings.labelFormats[this.formatSelect.value+1];switch(na.labelSpec.type){case "AVERY":this._formatCodeHandlerInstances[na.labelSpec.type]=new W;R.guidance.printSuggestion=this.nls.tooltips.printSuggestion;break;case "CSV":this._formatCodeHandlerInstances[na.labelSpec.type]=new L}this._doSave(this._formatCodeHandlerInstances[na.labelSpec.type],
na.labelSpec,R)},_doSave:function(R,na,t){if(R&&0!==this._foundLabels.length){var B=this._foundLabels;var C=this._addresseeSources[this.addresseeSelect.value].name;if(t.hasOwnProperty("addCSVHeader")&&t.addCSVHeader&&"CSV"===na.type){var I=[];I.push(this._addresseeSources[this.addresseeSelect.value].labelLineTemplates.csvHeaderRow);B=I.concat(B)}this.determinateProgress.set({value:0});ma.set(this.determinateProgress.domNode,"display","block");console.log("Downloading ",B.length," labels");setTimeout(ea.hitch(this,
function(){R.save(B,C,na,t,this.domNode,this.determinateProgress).then(ea.hitch(this,function(H){console.log("PDF document(s) "+(H?"":"not ")+"created");this.determinateProgress.set({value:100});ma.set(this.determinateProgress.domNode,"display","none")}))}),10)}},_getResultGraphicsLayer:function(){return this._bufferLayer},_getDisplayTaxParcelGraphicsLayer:function(){var R=this._getMainParcelFeatureLayerId();return this.map.getLayer("displayLayer_of_"+R)},_getMainParcelFeatureLayer:function(){var R=
this._getMainParcelFeatureLayerId();return this.map.getLayer(R)},_getMainParcelFeatureLayerId:function(){if(this.addresseeSelect)var R=this.addresseeSelect.getOptions(this.addresseeSelect.value).id;return R},_clearMainFeatureLayerSelection:function(){this._getMainParcelFeatureLayer().clearSelection()},_onReviewBtnClicked:function(){this._reviewResultsObj=null;ia.empty(this.reviewResultsContainer);this._reviewResultsObj=new wa({nls:this.nls,config:this.config,formselectOptions:this.formatSelect.getOptions(),
addresseeLayer:this._getSelectedAddresseeLayer(),map:this.map,parentNode:this.domNode,geoTypes:this._geoTypes});this._reviewResultsObj.placeAt(this.reviewResultsContainer);this._reviewResultsObj.startup();this.own(n(this._reviewResultsObj,"unloadingComplete",ea.hitch(this,function(){this._showAndClearDisplayLayerOfTaxParcels();this._addNewResultFeaturesIntoBufferLayer();this._checkDownloadBtnEnable();this._reviewResultsObj.setFocusOnDownloadButton()})));this.own(n(this._reviewResultsObj,"onDownloadBtnClicked",
ea.hitch(this,function(){this._onDownloadBtnClicked()})));this.own(n(this._reviewResultsObj,"clear",ea.hitch(this,function(){D.add(this.downloadBtn,"hidden");D.add(this.reviewBtn,"hidden");this._showPanel("mainPage");this._deactivateSelectTool();this._deactivateReviewSelectTool();this._clearLayers();this._clearAll()})));this._showPanel("reviewResultsPage");this._deactivateSelectTool();this._clearLayers();this._onSelectionComplete();this._selectFeaturesInMainResultFeatureLayer()},_deactivateReviewSelectTool:function(){""!==
this._reviewResultsObj&&null!==this._reviewResultsObj&&void 0!==this._reviewResultsObj&&this._reviewResultsObj._deactivateSelectTool()},_showPanel:function(R){if(this._currentOpenPanel){var na=this._getNodeByName(this._currentOpenPanel);D.add(na,"hidden")}na=this._getNodeByName(R);D.remove(na,"hidden");this._lastOpenPanel=this._currentOpenPanel;this._currentOpenPanel=R;this._supportAccessibility()},_getNodeByName:function(R){switch(R){case "mainPage":var na=this.mainPageContainer;break;case "reviewResultsPage":na=
this.reviewResultsContainer}return na},_supportAccessibility:function(){1===this._searchComponent.sources.length?Q.initFirstFocusNode(this.domNode,this._searchComponent._searchDijit.inputNode):Q.initFirstFocusNode(this.domNode,this._searchComponent._searchDijit.sourcesBtnNode);Q.focusFirstFocusNode(this.domNode);Q.initLastFocusNode(this.domNode,this.formatSelect.domNode)},_getSelectedAddresseeLayer:function(){var R,na=this.addresseeSelect.getOptions(this.addresseeSelect.value).label,t=this.addresseeSelect.getOptions(this.addresseeSelect.value).id;
F.getInstance(this.map,this.map.itemInfo).then(ea.hitch(this,function(B){ta.some(B._operLayers,ea.hitch(this,function(C){na===C.title&&t===C.id&&(R=C)}))}));return R},_selectFeaturesInMainResultFeatureLayer:function(){var R=this._getWhereClause();var na=new q;na.where=R;this._getMainParcelFeatureLayer().selectFeatures(na,ba.SELECTION_NEW)},_getWhereClause:function(){var R=[];var na=this._getMainParcelFeatureLayer();ta.forEach(this._foundAddressees,ea.hitch(this,function(t){R.push(t.attributes[na.objectIdField])}));
return na.objectIdField+" IN ("+R.join()+")"},_showAndClearResultGraphicsLayer:function(){var R=this._getResultGraphicsLayer();R.show();R.clear()},_showAndClearDisplayLayerOfTaxParcels:function(){var R=this._getDisplayTaxParcelGraphicsLayer();""!==R&&null!==R&&void 0!==R&&(R.show(),R.clear())},_clearLayers:function(){this._showAndClearResultGraphicsLayer();this._showAndClearDisplayLayerOfTaxParcels();this._clearMainFeatureLayerSelection();this._clearSelectedFeaturesWebGL();this._clearDrawGraphics();
this._clearSelections();this.map.graphics.clear()},_clearSelectedFeaturesWebGL:function(){var R=this._getMainParcelFeatureLayer();""!==R&&null!==R&&void 0!==R&&R.hasOwnProperty("_selectedFeaturesWebGL")&&(R._selectedFeaturesWebGL={})},_hookFLToSelectTool:function(){var R=this._getMainParcelFeatureLayer();this._reviewResultsObj.resetFeatureLayerToSelectTool(R)},_onSelectionComplete:function(){var R=this._getMainParcelFeatureLayer(),na=this.own(n(R,"selection-complete",ea.hitch(this,function(){na[0].remove();
this._hookFLToSelectTool();this._addNewResultFeaturesIntoBufferLayer();this._checkDownloadBtnEnable();this._reviewResultsObj.setAccessibility()})))},_deactivateSelectTool:function(){this._selectTool&&this._selectTool.deactivate()},_addNewResultFeaturesIntoBufferLayer:function(){this._foundAddressees=[];this._bufferLayer.clear();var R=this._getMainParcelFeatureLayer();var na=R.getSelectedFeatures();R._selectedFeaturesWebGL={};ta.forEach(na,ea.hitch(this,function(t){R._selectedFeaturesWebGL[t.attributes[R.objectIdField]]=
t;var B=this._highlighter.createGraphic(t,this._addresseeSymbology);B&&(B.setAttributes(t.attributes),this._bufferLayer.add(B),this._foundAddressees.push(B))}))},_clearDrawGraphics:function(){this._drawTool&&this._drawTool.drawLayer&&this._drawTool.drawLayer.clear()},resize:function(){"reviewResultsPage"===this._currentOpenPanel?this._reviewResultsObj.setFocus():Q.focusFirstFocusNode(this.domNode)}})});
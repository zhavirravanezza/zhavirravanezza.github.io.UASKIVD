// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/ThreatAnalysis/setting/newThreatType":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./newThreatType.html dojo/_base/lang jimu/dijit/Popup dojo/Evented dojo/number ./defaultThreatTypes dojo/on dojo/_base/array jimu/dijit/SimpleTable ./newZone jimu/utils jimu/dijit/Message dojo/string dojo/_base/kernel dijit/form/ValidationTextBox dijit/form/TextBox dijit/form/Select".split(" "),function(z,u,d,r,n,l,v,D,
B,C,y,m,w,e,q,g,k,A){return z([u,d,r,D],{templateString:n,baseClass:"jimu-widget-threatAnalysis-newThreatTypePopup",prevThreatType:null,selectedThreatType:null,constructor:function(){},postCreate:function(){this.currentRowData&&this.currentRowData.threatType&&(this.prevThreatType=this.currentRowData.threatType,this.threatTypeTextBox.set("value",this.currentRowData.threatType),this.threatTypeTextBox.set("title",this.currentRowData.threatType));this.selectedUnitAbbr="feet"===this.selectedUnitType.toLowerCase()?
this.nls.feetAbbr:this.nls.metersAbbr;this._threatTypeTextBoxValidator();this._createZoneTable();this._populateZoneTableRows();this._createPopUp();this._handleClickEvents()},_handleClickEvents:function(){this.own(y(this.addZoneButton,"click",l.hitch(this,function(){this._createNewZonePopup(!0)})));this.own(y(this.threatTypeTextBox,"blur",l.hitch(this,function(){this.threatTypeTextBox.set("value",q.stripHTML(q.sanitizeHTML(this.threatTypeTextBox.value)));this.threatTypeTextBox.set("title",q.stripHTML(q.sanitizeHTML(this.threatTypeTextBox.value)))})));
this.own(y(this.defaultThreatTypeIcon,"click",l.hitch(this,this._onDefaultThreatTypeIconClick)))},_createPopUp:function(){this.newThreatTypePopup=new v({titleLabel:this.isAddThreat?this.nls.newThreatTypePopupLabel:this.nls.editThreatLabel,width:600,maxHeight:800,autoHeight:!0,"class":this.baseClass,content:this,buttons:[{label:this.nls.ok,onClick:l.hitch(this,function(){0===this._threatZonesTable.getRows().length||!this.threatTypeTextBox.isValid()||this._isDuplicateZoneNames()?new g({message:this.nls.threatTypeHelp}):
(this.emit("threatInfoUpdated",{threatName:q.stripHTML(q.sanitizeHTML(this.threatTypeTextBox.value)),zones:this._getZoneTableInfo()}),this.newThreatTypePopup.close())})},{label:this.nls.cancel,classNames:["jimu-btn-vacation"],onClick:l.hitch(this,function(){this.newThreatTypePopup.close()})}]})},_isDuplicateThreatTypeName:function(c){var h=!1;m.some(this.existingThreatNames,l.hitch(this,function(p){if(this._getThreatTypeNls(c).toLowerCase()===p.toLowerCase())return h=!0}));return h},_threatTypeTextBoxValidator:function(){this.threatTypeTextBox.validator=
l.hitch(this,function(c){return c?c!==this.prevThreatType&&this._isDuplicateThreatTypeName(c)?(this.threatTypeTextBox.set("invalidMessage",this.nls.uniqueThreatTypeMsg),!1):!0:(this.threatTypeTextBox.set("invalidMessage",this.nls.requiredMsg),!1)})},_createZoneTable:function(){var c={fields:[{name:"zoneDescription",title:this.nls.zoneDescriptionColLabel,type:"text",width:"40%"},{name:"distance",title:k.substitute(this.nls.distanceLabel,{unitAbbr:this.selectedUnitAbbr}),type:"text",width:"40%"},{name:"symbol",
title:this.nls.symbologyColLabel,type:"text",hidden:!0},{name:"actions",title:this.nls.actions,type:"actions","class":"actions",actions:["edit","delete"],width:"20%"}],selectable:!1};this._threatZonesTable=new w(c);this._threatZonesTable.placeAt(this.threatZonesTableNode);this._threatZonesTable.startup();this.own(y(this._threatZonesTable,"actions-edit",l.hitch(this,this._onEditZoneInfoClick)))},_populateZoneTableRows:function(){if(this.currentRow&&this.currentRow.hasOwnProperty("_configInfo")&&this.currentRow._configInfo&&
this.currentRow._configInfo.hasOwnProperty("zones")){var c=this._sortZonesInAscOrder(this.currentRow._configInfo.zones);m.forEach(c,l.hitch(this,function(h){this._addRowToZoneTable(h)}))}},_addRowToZoneTable:function(c){var h=c.distance;var p={zoneDescription:this._getZoneNameNls(c.name),distance:B.format(h,{places:2}),symbol:JSON.stringify(c.symbol)};p=this._threatZonesTable.addRow(p);p.success&&p.tr&&(p=p.tr,p.zoneDescription=c.name,p.distance=h,p.symbol=c.symbol)},_getZoneNameNls:function(c){var h=
{"Mandatory Evacuation Distance":"mandatoryLabel","Safe Evacuation Distance":"safeLabel","Fireball Diameter":"fireBallDiameterLable","Safe Distance":"lpgSafeDistanceLable"};c=void 0!==h[c]?this.nls[h[c]]:c;return c},_getZoneTableInfo:function(){var c=[];var h=this._threatZonesTable.getRows();m.forEach(h,l.hitch(this,function(p){var a=this._threatZonesTable.getRowData(p),b={name:"",distance:0,symbol:{}};b.name=p.zoneDescription;b.distance=p.distance;b.symbol=JSON.parse(a.symbol);c.push(b)}));return c},
_createNewZonePopup:function(c,h,p){c=new e({config:this.config,nls:this.nls,isAddZone:c,currentRow:h,currentRowData:p,unitAbbr:this.selectedUnitAbbr,existingZoneNames:this._getExistingZoneNames()});c.startup();y(c,"zoneInfoUpdated",l.hitch(this,function(a){var b=[];h?(b={},h.zoneDescription=b.zoneDescription=a.name,h.distance=a.distance,b.distance=B.format(a.distance,{places:2}),b.symbol=JSON.stringify(a.symbol),h.symbol=a.symbol,this._threatZonesTable.editRow(h,b),b=this._getZoneTableInfo()):(b=
this._getZoneTableInfo(),b.push(a));this._rePopulateZonesTableRow(b)}))},_onEditZoneInfoClick:function(c){var h=this._threatZonesTable.getRowData(c);h&&this._createNewZonePopup(!1,c,h)},_getExistingZoneNames:function(){var c,h=[];(c=this._threatZonesTable.getRows())&&0<c.length&&m.forEach(c,l.hitch(this,function(p){p&&(p=A.locale.includes("en")?p.zoneDescription:p.innerText.split("\n")[0],h.push(p))}));return h},_sortZonesInAscOrder:function(c){return c.sort(function(h,p){return h.distance-p.distance})},
_clearNewOrEditThreatPopupContent:function(){this.threatTypeTextBox.set("value","");this.threatTypeTextBox.set("title","");this._threatZonesTable.clear()},_onDefaultThreatTypeIconClick:function(){this.defaultThreatTypeObj=new C({nls:this.nls});this.own(y(this.defaultThreatTypeObj,"selectedDefaultThreatInfo",l.hitch(this,function(c){0!==this._threatZonesTable.getRows().length&&this._clearNewOrEditThreatPopupContent();this.threatTypeTextBox.set("value",c.threatName);this.threatTypeTextBox.set("title",
c.threatName);c=this._sortZonesInAscOrder(c.zones);m.forEach(c,l.hitch(this,function(h){h.distance="feet"===this.selectedUnitType.toLowerCase()?h.distance:.3048*h.distance;this._addRowToZoneTable(h)}))})))},_rePopulateZonesTableRow:function(c){this._threatZonesTable.clear();c=this._sortZonesInAscOrder(c);m.forEach(c,l.hitch(this,function(h){this._addRowToZoneTable(h)}))},_isDuplicateZoneNames:function(){var c=this._getZoneTableInfo();if(0<c.length){var h=c.map(function(p){return p.name});return h.some(function(p,
a){return h.indexOf(p)!==a})}},_getThreatTypeNls:function(c){var h={"Pipe Bomb":"pipeBombLabel","Suicide Bomb":"suicideBombLabel",Briefcase:"briefcaseLabel",Car:"carLabel","SUV/VAN":"suvVanLabel","Small Delivery Truck":"smallDeliveryTruckLabel","Container/Water Truck":"containerWaterTruckLabel","Semi-Trailer":"semiTrailerLabel","Small LPG Tank":"smallLPGTank","Large LPG Tank":"largeLPGTank","Commercial/Residential LPG Tank":"commercialResidentialLPGTank","Small LPG Truck":"smallLPGTruck","Semi-Tanker LPG":"semiTankerLPG"};
c=void 0!==h[c]?this.nls[h[c]]:c;return c}})})},"widgets/ThreatAnalysis/setting/defaultThreatTypes":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./defaultThreatTypes.html dojo/_base/lang jimu/dijit/Popup dojo/text!../models/ThreatTypes.json dojo/text!../models/LpgThreatTypes.json dojo/_base/array dojo/Evented dijit/form/Select ../utils dojo/on dojo/dom-class dijit/form/ValidationTextBox jimu/dijit/formSelect".split(" "),function(z,
u,d,r,n,l,v,D,B,C,y,m,w,e,q){return z([u,d,r,y],{templateString:n,baseClass:"jimu-widget-threatAnalysis-defaultThreatTypePopup",constructor:function(g){g&&l.mixin(this,g)},postCreate:function(){this._threatData=JSON.parse(D);this._lpgThreatData=JSON.parse(B);this.defaultThreats=w.getDefaultThreats(this._threatData,this._lpgThreatData);this.defaultThreatsDropdown=new m({style:"width: 99%","class":"esriCTDefaultThreatsDropdown",options:this._getOptions()});this.defaultThreatsDropdown.placeAt(this.defaultThreatsDropdownNode);
this.defaultThreatsDropdown.dropDown&&(q.add(this.defaultThreatsDropdown.dropDown.domNode,this.baseClass),q.add(this.defaultThreatsDropdown.dropDown.containerNode,"esriCTCustomOptions"));this.own(e(this.defaultThreatsDropdown,"change",l.hitch(this,function(){""!==this.defaultThreatsDropdown.get("value")?this.defaultThreatTypePopup.enableButton(0):this.defaultThreatTypePopup.disableButton(0)})));this.defaultThreatsDropdown.startup();this._createPopUp()},_getOptions:function(){var g=[];g.push({label:"",
value:"",disabled:!0});g.push({label:"\x3cb\x3e\x3ci\x3e"+this.nls.chemicalThreatLegendLabel+"\x3ci\x3e\x3c/b\x3e",value:"Chemical",disabled:!0});C.forEach(this._threatData,l.hitch(this,function(k){g.push({label:this._getThreatTypeNls(k.Threat),value:k.Threat})}));g.push({label:"\x3cb\x3e\x3ci\x3e"+this.nls.lpgThreatLegendLabel+"\x3ci\x3e\x3c/b\x3e",value:"Lpg",disabled:!0});C.forEach(this._lpgThreatData,l.hitch(this,function(k){g.push({label:this._getThreatTypeNls(k.Threat),value:k.Threat})}));return g},
_getSelectedThreatZoneInfo:function(){var g;C.some(this.defaultThreats,function(k){if(this.defaultThreatsDropdown.get("value")===k.threatName)return g=k.zones,!0},this);return g},_createPopUp:function(){this.defaultThreatTypePopup=new v({titleLabel:this.nls.defaultThreatTypePopUpLabel,width:500,maxHeight:70,autoHeight:!0,"class":this.baseClass,content:this,buttons:[{label:this.nls.ok,id:"okButton",onClick:l.hitch(this,function(){""!==this.defaultThreatsDropdown.get("value")&&(this.emit("selectedDefaultThreatInfo",
{threatName:this.defaultThreatsDropdown.getOptions(this.defaultThreatsDropdown.value).label,zones:this._getSelectedThreatZoneInfo()}),this.defaultThreatTypePopup.close())})},{label:this.nls.cancel,id:"cancelButton",classNames:["jimu-btn-vacation"],onClick:l.hitch(this,function(){this.defaultThreatTypePopup.close()})}]});this.defaultThreatTypePopup.disableButton(0)},_getThreatTypeNls:function(g){var k={"Pipe Bomb":"pipeBombLabel","Suicide Bomb":"suicideBombLabel",Briefcase:"briefcaseLabel",Car:"carLabel",
"SUV/VAN":"suvVanLabel","Small Delivery Truck":"smallDeliveryTruckLabel","Container/Water Truck":"containerWaterTruckLabel","Semi-Trailer":"semiTrailerLabel","Small LPG Tank":"smallLPGTank","Large LPG Tank":"largeLPGTank","Commercial/Residential LPG Tank":"commercialResidentialLPGTank","Small LPG Truck":"smallLPGTruck","Semi-Tanker LPG":"semiTankerLPG"};g=void 0!==k[g]?this.nls[k[g]]:g;return g}})})},"widgets/ThreatAnalysis/utils":function(){define(["dojo/_base/lang","dojo/_base/array"],function(z,
u){return{transformOldConfigToNewConfigJson:function(d){var r={threats:[],generalSettings:{operationalLayer:{name:""},unit:"feet",defaultInputType:"interactive",layerToSelectFeatures:"",defaultThreatType:""}};d.hasOwnProperty("threatAnalysis")&&(d.threatAnalysis.hasOwnProperty("operationalLayer")&&d.threatAnalysis.operationalLayer.name&&(r.generalSettings.operationalLayer.name=d.threatAnalysis.operationalLayer.name),d.threatAnalysis.hasOwnProperty("unit")&&(r.generalSettings.unit=d.threatAnalysis.unit));
d.hasOwnProperty("threatTypes")&&u.forEach(d.threatTypes,z.hitch(this,function(n){r.threats.push(this._getConvertedThreatJson(n,!0,d.threatAnalysis.symbology))}));d.hasOwnProperty("lpgThreatTypes")&&u.forEach(d.lpgThreatTypes,z.hitch(this,function(n){r.threats.push(this._getConvertedThreatJson(n,!1,d.threatAnalysis.symbology))}));return r},_getConvertedThreatJson:function(d,r,n){var l=r?["Mandatory Evacuation Distance","Safe Evacuation Distance"]:["Fireball Diameter","Safe Distance"],v=r?[d.Bldg_Dist,
d.Outdoor_Dist]:[d.Fireball_Dia,d.Safe_Dist];return{threatName:d.Threat,zones:[{name:l[0],distance:this._validateDistance(v[0]),symbol:{outlineColor:r?this._getSymbol(n.mandatoryOutlineColor):this._getSymbol(n.fireballDiaOutlineColor),fillColor:r?this._getSymbol(n.mandatoryFillColor):this._getSymbol(n.fireballDiaFillColor)}},{name:l[1],distance:this._validateDistance(v[1]),symbol:{outlineColor:r?this._getSymbol(n.safeOutlineColor):this._getSymbol(n.safeDistanceOutlineColor),fillColor:r?this._getSymbol(n.safeFillColor):
this._getSymbol(n.safeDistanceFillColor)}}]}},_getSymbol:function(d){return{color:d.color,transparency:d.transparency,type:d.type}},getDefaultThreats:function(d,r){var n=[],l=this._getDefaultSymbology();u.forEach(d,z.hitch(this,function(v){n.push(this._getConvertedThreatJson(v,!0,l))}));u.forEach(r,z.hitch(this,function(v){n.push(this._getConvertedThreatJson(v,!1,l))}));return n},_getDefaultSymbology:function(){return{mandatoryOutlineColor:{color:"#d10e40",transparency:0,type:"esriSLSSolid"},mandatoryFillColor:{color:"#d10e40",
transparency:.88,type:"esriSFSSolid"},safeOutlineColor:{color:"#ffffff",transparency:0,type:"esriSLSNull"},safeFillColor:{color:"#ffd700",transparency:.78,type:"esriSFSSolid"},fireballDiaOutlineColor:{color:"#d10e40",transparency:0,type:"esriSLSSolid"},fireballDiaFillColor:{color:"#d10e40",transparency:.88,type:"esriSFSSolid"},safeDistanceOutlineColor:{color:"#ffffff",transparency:0,type:"esriSLSNull"},safeDistanceFillColor:{color:"#ffd700",transparency:.78,type:"esriSFSSolid"}}},_validateDistance:function(d){if(isNaN(d)||
-1!==[null,void 0,""].indexOf(d)||0>=d)d=.01;return d}}})},"widgets/ThreatAnalysis/setting/newZone":function(){define("dojo/_base/declare dojo/_base/array ./ColorPickerEditor jimu/BaseWidget dijit/_WidgetsInTemplateMixin dojo/text!./newZone.html dojo/_base/lang dojo/Evented dojo/dom-class dojo/query dijit/registry jimu/dijit/Popup jimu/utils dojo/string dojo/on dijit/form/NumberTextBox dijit/form/ValidationTextBox dijit/form/Select jimu/dijit/SymbolChooser".split(" "),function(z,u,d,r,n,l,v,D,B,C,
y,m,w,e,q){return z([r,n,D],{baseClass:"jimu-widget-threatAnalysis-newZoneSettings",templateString:l,selectedSettings:{},colorPickerNodes:[],dropdownNodes:[],prevZoneName:null,newZonePopup:null,constructor:function(g){v.mixin(this,g)},startup:function(){this._setSymbologySettings()},postCreate:function(){this.inherited(arguments);this.newZonePopup=this.prevZoneName=null;this.currentRowData&&this.currentRowData.zoneDescription&&(this.zoneDescriptionTextBox.set("value",this.currentRowData.zoneDescription),
this.zoneDescriptionTextBox.set("title",this.currentRowData.zoneDescription),this.prevZoneName=this.currentRowData.zoneDescription);this._zoneDescriptionTextBoxValidator();this.currentRowData&&this.currentRowData.distance&&(this.zoneDistanceTextBox.set("value",this.currentRowData.distance),this.zoneDistanceTextBox.set("title",this.currentRowData.distance));this.zoneDistanceLabel.innerHTML=e.substitute(this.nls.distanceLabel,{unitAbbr:this.unitAbbr});this.own(q(this.zoneDescriptionTextBox,"blur",v.hitch(this,
function(){this.zoneDescriptionTextBox.set("value",w.stripHTML(w.sanitizeHTML(this.zoneDescriptionTextBox.value)));this.zoneDescriptionTextBox.set("title",w.stripHTML(w.sanitizeHTML(this.zoneDescriptionTextBox.value)))})));this.own(q(this.zoneDescriptionTextBox,"change",v.hitch(this,function(g){this.zoneDescriptionTextBox.set("title",g)})));this.own(q(this.zoneDistanceTextBox,"change",v.hitch(this,function(){isNaN(this.zoneDistanceTextBox.value)?this.zoneDistanceTextBox.set("title",""):this.zoneDistanceTextBox.set("title",
this.zoneDistanceTextBox.value)})));this._createPopUp()},_createPopUp:function(){this.newZonePopup=new m({titleLabel:this.isAddZone?this.nls.newThreatZonePopupLabel:this.nls.editThreatZonePopupLabel,width:700,maxHeight:800,autoHeight:!0,"class":this.baseClass,content:this,buttons:[{label:this.nls.ok,onClick:v.hitch(this,function(){this.zoneDescriptionTextBox.isValid()?this.zoneDistanceTextBox.isValid()?this._validInputs()&&(this.emit("zoneInfoUpdated",{name:w.stripHTML(w.sanitizeHTML(this.zoneDescriptionTextBox.value)),
distance:this.zoneDistanceTextBox.get("value"),symbol:this._getSymbologySettings()}),this.newZonePopup.close()):this.zoneDistanceTextBox.focus():this.zoneDescriptionTextBox.focus()})},{label:this.nls.cancel,classNames:["jimu-btn-vacation"],onClick:v.hitch(this,function(){this.newZonePopup.close()})}]})},_setSymbologySettings:function(){var g={outlineColor:{color:"#d10e40",transparency:0,type:"esriSLSSolid"},fillColor:{color:"#d10e40",transparency:.88,type:"esriSFSSolid"}};this.colorPickerNodes=C(".colorPicker",
this.domNode);this.dropdownNodes=C(".dropdown",this.domNode);u.forEach(this.colorPickerNodes,v.hitch(this,function(k){k=new d({nls:this.nls,type:B.contains(k,"Line")?"line":"fill"},k);k.setValues({color:this.currentRow&&this.currentRow.symbol?this.currentRow.symbol[k.id].color:g[k.id].color,transparency:this.currentRow&&this.currentRow.symbol?this.currentRow.symbol[k.id].transparency:g[k.id].transparency});k.startup();k.dropdown.set("value",this.currentRow&&this.currentRow.symbol?this.currentRow.symbol[k.id].type:
g[k.id].type)}))},_getSymbologySettings:function(){u.forEach(this.colorPickerNodes,v.hitch(this,function(g){var k={color:y.byId(g.id).getValues().color,transparency:y.byId(g.id).getValues().transparency,type:y.byId(g.id).dropdown.getValue()};this.selectedSettings[g.id]=k}));return this.selectedSettings},_isDuplicateZoneName:function(g){var k=!1;u.some(this.existingZoneNames,v.hitch(this,function(A){if(g.toLowerCase()===A.toLowerCase())return k=!0}));return k},_zoneDescriptionTextBoxValidator:function(){this.zoneDescriptionTextBox.validator=
v.hitch(this,function(g){return g?g!==this.prevZoneName&&this._isDuplicateZoneName(g)?(this.zoneDescriptionTextBox.set("invalidMessage",this.nls.uniqueZoneDescriptionMsg),!1):!0:(this.zoneDescriptionTextBox.set("invalidMessage",this.nls.requiredMsg),!1)})},_validInputs:function(){var g=!0;u.some(this.colorPickerNodes,function(k){if(!y.byId(k.id).validateSpinner())return g=!1,!0},this);return g}})})},"widgets/ThreatAnalysis/setting/ColorPickerEditor":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/Color dojo/on dojo/query dojo/_base/html dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./ColorPickerEditor.html dijit/form/HorizontalSlider jimu/dijit/ColorPickerPopup dijit/form/NumberSpinner".split(" "),
function(z,u,d,r,n,l,v,D,B,C,y,m,w){return z([D,B,C],{_defaultColor:"#485566",templateString:y,nls:null,postCreate:function(){this.colorPicker=new w({color:this._defaultColor},this.colorPicker);this.colorPicker.startup();this.slider=new m({name:"slider",value:100,minimum:0,maximum:100,discreteValues:101,intermediateChanges:!0,showButtons:!1,style:"display: inline-block;"},this.sliderBar);this.slider.startup();var e=[],q,g="esriSLSDash esriSLSDashDot esriSLSDashDotDot esriSLSDot esriSLSLongDash esriSLSLongDashDot esriSLSNull esriSLSShortDash esriSLSShortDashDot esriSLSShortDashDotDot esriSLSShortDot esriSLSSolid".split(" "),
k="esriSFSBackwardDiagonal esriSFSCross esriSFSDiagonalCross esriSFSForwardDiagonal esriSFSHorizontal esriSFSNull esriSFSSolid esriSFSVertical".split(" ");"line"===this.type?u.forEach(g,d.hitch(this,function(A){q={value:A,label:'\x3cspan title\x3d"'+this.nls.lineStyles[A]+'"\x3e'+this.nls.lineStyles[A]+"\x3c/span\x3e"};e.push(q)})):u.forEach(k,d.hitch(this,function(A){q={value:A,label:'\x3cspan title\x3d"'+this.nls.fillStyles[A]+'"\x3e'+this.nls.fillStyles[A]+"\x3c/span\x3e"};e.push(q)}));this.dropdown.addOption(e);
this.inherited(arguments)},startup:function(){this.own(n(this.slider,"change",d.hitch(this,function(e){isNaN(e)||!1===this._isSameVal()&&(e>this.spinner.maximum?this.spinner.setValue(this.spinner.maximum):this.spinner.setValue(e))})));this.own(n(this.spinner,"change",d.hitch(this,function(e){isNaN(e)||!1===this._isSameVal()&&e<=this.slider.maximum&&this.slider.setValue(e)})));this._stylePolyfill();this.inherited(arguments)},_isSameVal:function(){return this.slider.getValue()===this.spinner.getValue()},
getValues:function(){var e=null,q=null;(q=this.colorPicker.getColor())&&q.toHex&&(e=q.toHex());q=this.spinner.getValue()/100;return{color:e,transparency:q}},setValues:function(e){if("object"===typeof e||"string"===typeof e)this.colorPicker.setColor(new r(e.color)),e.transparency="undefined"===typeof e.transparency?0:100*e.transparency,this.slider.setValue(e.transparency),this.spinner.setValue(e.transparency)},_stylePolyfill:function(){var e=l(".dijitSliderLeftBumper",this.domNode)[0];e&&e.parentNode&&
v.setStyle(e.parentNode,"background-color","#24b5cc")},validateSpinner:function(){var e=!0;this.spinner.isValid()||(this._shake(this.spinner.domNode,16),this.spinner.focus(),e=!1);return e},_shake:function(e,q){function g(){if(15>k){e.style.transform="translate(0px, 0px)";q-=A;var p=c(-q,q),a=c(-q,q);e.style.transform="translate("+p+"px, "+a+"px)";k+=1;requestAnimationFrame(g)}15<=k&&(e.style.transform="translate(0, 0)",h._shakingElements.splice(h._shakingElements.indexOf(e),1))}var k=1,A=q/15,c=
function(p,a){return Math.floor(Math.random()*(a-p+1))+p};this._shakingElements||(this._shakingElements=[]);if(-1===this._shakingElements.indexOf(e)){this._shakingElements.push(e);var h=this;g()}}})})},"jimu/dijit/ColorPickerPopup":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/_base/lang dojo/_base/html dojo/on dojo/_base/Color dijit/TooltipDialog dijit/popup jimu/dijit/ColorPalette jimu/utils".split(" "),function(z,u,d,r,n,l,v,D,B,C,y){return z([u,d],{baseClass:"jimu-color-pickerPopup",
declaredClass:"jimu.dijit.ColorPickerPopup",templateString:'\x3cdiv class\x3d"jimu-color-picker"\x3e\x3c/div\x3e',_isTooltipDialogOpened:!1,color:null,showLabel:!1,around:null,_ENABLE:!0,recordUID:"",postCreate:function(){this.inherited(arguments);this._createTooltipDialog(this.domNode);this._hideTooltipDialog()},destroy:function(){B.close(this.tooltipDialog);this.picker.destroy();this.tooltipDialog.destroy();this.inherited(arguments)},enable:function(){this._ENABLE=!0;n.removeClass(this.domNode,
"disable")},disable:function(){this._ENABLE=!1;n.addClass(this.domNode,"disable")},isPartOfPopup:function(m){var w=this.tooltipDialog.domNode;return m===w||n.isDescendant(m,w)},hideTooltipDialog:function(){this._hideTooltipDialog()},showTooltipDialog:function(){this._showTooltipDialog()},initUI:function(){this.picker.initUI()},isOpen:function(){return this._isTooltipDialogOpened},_showTooltipDialog:function(){B.open({parent:this.getParent(),popup:this.tooltipDialog,around:this.around?this.around:
this.domNode,orient:this.orient});this._isTooltipDialogOpened=!0},_hideTooltipDialog:function(){B.hide(this.tooltipDialog);this._isTooltipDialogOpened=!1},_createTooltipDialog:function(){var m=n.create("div");this.tooltipDialog=new D({content:m});n.addClass(this.tooltipDialog.domNode,"jimu-color-picker-popup-dialog");var w=new C({appearance:{showTransparent:!1,showColorPalette:!0,showCoustom:!0,showColorPickerOK:!0,showColorPickerApply:!0,showCoustomRecord:!0,closeDialogWhenChange:!0},recordUID:this.recordUID,
onChange:r.hitch(this,function(e){e&&(e=new v(e),this.setColor(e),this.onChange(e))})});w.placeAt(m);w.startup();this.own(l(w,"close",r.hitch(this,function(){this._hideTooltipDialog()})));this.own(l(w,"change-style",r.hitch(this,function(){this._hideTooltipDialog();this._showTooltipDialog()})));this.own(l(this.domNode,"click",r.hitch(this,function(e){e.stopPropagation();e.preventDefault();this._isTooltipDialogOpened?this._hideTooltipDialog():!1!==this._ENABLE&&this._showTooltipDialog()})));this.own(l(document,
"click",r.hitch(this,function(e){this.isPartOfPopup(e.srcElement||e.target)||this._hideTooltipDialog()})));this.picker=w},setColor:function(m){if(m instanceof v){null===this.color&&!0===this.showLabel&&this._changeLabel(m);var w=m.toHex();this.color=m;n.setStyle(this.domNode,"backgroundColor",w);this.picker&&(this.picker.refreshRecords(),this.picker.setColor(w,!1,!0));this.showLabel&&this._changeLabel(this.color)}},getColor:function(){return this.color},_changeLabel:function(m){n.empty(this.domNode);
n.create("span",{innerHTML:m.toHex(),className:"color-label",style:{color:y.invertColor(m.toHex())}},this.domNode)},onChange:function(m){m&&this.showLabel&&this._changeLabel(m)},changeColor:function(){this.picker&&this.picker.changeColor();this.showLabel&&this._changeLabel(this.color)},setTitle:function(m){this.domNode.title=m},getTooltipDialog:function(){return this.tooltipDialog||null}})})},"widgets/ThreatAnalysis/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html","dojo/text!./css/style.css",
"dojo/i18n!./nls/strings"],function(){})},"url:widgets/ThreatAnalysis/models/ThreatTypes.json":'[{\r\n    "ID": 1,\r\n    "Threat": "Pipe Bomb",\r\n    "Capacity": 5,\r\n    "Capacity_Unit": "LBS",\r\n    "Bldg_Dist": 70,\r\n    "Outdoor_Dist": 1200,\r\n    "Icon_URL": "name.png",\r\n    "Unit": "Feet"\r\n  },\r\n  {\r\n    "ID": 2,\r\n    "Threat": "Suicide Bomb",\r\n    "Capacity": 20,\r\n    "Capacity_Unit": "LBS",\r\n    "Bldg_Dist": 110,\r\n    "Outdoor_Dist": 1700,\r\n    "Icon_URL": "name.png",\r\n    "Unit": "Feet"\r\n  },\r\n  {\r\n    "ID": 3,\r\n    "Threat": "Briefcase",\r\n    "Capacity": 50,\r\n    "Capacity_Unit": "LBS",\r\n    "Bldg_Dist": 150,\r\n    "Outdoor_Dist": 1850,\r\n    "Icon_URL": "name.png",\r\n    "Unit": "Feet"\r\n  },\r\n  {\r\n    "ID": 4,\r\n    "Threat": "Car",\r\n    "Capacity": 500,\r\n    "Capacity_Unit": "LBS",\r\n    "Bldg_Dist": 320,\r\n    "Outdoor_Dist": 1900,\r\n    "Icon_URL": "name.png",\r\n    "Unit": "Feet"\r\n  },\r\n  {\r\n    "ID": 5,\r\n    "Threat": "SUV/VAN",\r\n    "Capacity": 1000,\r\n    "Capacity_Unit": "LBS",\r\n    "Bldg_Dist": 400,\r\n    "Outdoor_Dist": 2400,\r\n    "Icon_URL": "name.png",\r\n    "Unit": "Feet"\r\n  },\r\n  {\r\n    "ID": 6,\r\n    "Threat": "Small Delivery Truck",\r\n    "Capacity": 4000,\r\n    "Capacity_Unit": "LBS",\r\n    "Bldg_Dist": 640,\r\n    "Outdoor_Dist": 3800,\r\n    "Icon_URL": "name.png",\r\n    "Unit": "Feet"\r\n  },\r\n  {\r\n    "ID": 7,\r\n    "Threat": "Container/Water Truck",\r\n    "Capacity": 10000,\r\n    "Capacity_Unit": "LBS",\r\n    "Bldg_Dist": 860,\r\n    "Outdoor_Dist": 5100,\r\n    "Icon_URL": "name.png",\r\n    "Unit": "Feet"\r\n  },\r\n  {\r\n    "ID": 8,\r\n    "Threat": "Semi-Trailer",\r\n    "Capacity": 60000,\r\n    "Capacity_Unit": "LBS",\r\n    "Bldg_Dist": 1570,\r\n    "Outdoor_Dist": 9300,\r\n    "Icon_URL": "name.png",\r\n    "Unit": "Feet"\r\n  }\r\n]',
"url:widgets/ThreatAnalysis/models/LpgThreatTypes.json":'[{\r\n    "ID": 1,\r\n    "Threat": "Small LPG Tank",\r\n    "LPG Mass": 20,\r\n    "Capacity_Unit": "LBS",\r\n    "Fireball_Dia": 40,\r\n    "Safe_Dist": 160,\r\n    "Icon_URL": "name.png",\r\n    "Unit": "Feet"\r\n  },\r\n  {\r\n    "ID": 2,\r\n    "Threat": "Large LPG Tank",\r\n    "LPG Mass": 100,\r\n    "Capacity_Unit": "LBS",\r\n    "Fireball_Dia": 69,\r\n    "Safe_Dist": 276,\r\n    "Icon_URL": "name.png",\r\n    "Unit": "Feet"\r\n  },\r\n  {\r\n    "ID": 3,\r\n    "Threat": "Commercial/Residential LPG Tank",\r\n    "LPG Mass": 2000,\r\n    "Capacity_Unit": "LBS",\r\n    "Fireball_Dia": 184,\r\n    "Safe_Dist": 736,\r\n    "Icon_URL": "name.png",\r\n    "Unit": "Feet"\r\n  },\r\n  {\r\n    "ID": 4,\r\n    "Threat": "Small LPG Truck",\r\n    "LPG Mass": 8000,\r\n    "Capacity_Unit": "LBS",\r\n    "Fireball_Dia": 292,\r\n    "Safe_Dist": 1168,\r\n    "Icon_URL": "name.png",\r\n    "Unit": "Feet"\r\n  },\r\n  {\r\n    "ID": 5,\r\n    "Threat": "Semi-Tanker LPG",\r\n    "LPG Mass": 40000,\r\n    "Capacity_Unit": "LBS",\r\n    "Fireball_Dia": 499,\r\n    "Safe_Dist": 1996,\r\n    "Icon_URL": "name.png",\r\n    "Unit": "Feet"\r\n  }\r\n]',
"url:widgets/ThreatAnalysis/setting/newThreatType.html":'\x3cdiv class\x3d"esriCTPopupContainer"\x3e \r\n\r\n  \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n    \x3cdiv class\x3d"esriCTDeafultIconWrapper"\x3e\r\n      \x3cspan class\x3d"esriCTDefaultLabel"\x3e${nls.chooseDefaultThreatTypeIconLabel}\x3c/span\x3e\r\n      \x3cdiv class\x3d"esriCTDefaultIcon" data-dojo-attach-point\x3d"defaultThreatTypeIcon"\r\n        title\x3d"${nls.defaultThreatTypeIconTooltip}"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n    \x3cdiv class\x3d"esriCTLabel"\x3e${nls.threatTypeLabel}\x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTDijitControl"\x3e\r\n      \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n        \x3cdiv class\x3d"esriCTDijitWrapper" data-dojo-attach-point\x3d"threatTypeTextBox"\r\n          data-dojo-type\x3d"dijit/form/ValidationTextBox" trim\x3d"true" required\x3d"true"\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"esriCTAddBtnWrapper"\x3e\r\n    \x3cdiv class\x3d"esriCTAddZoneBtn" data-dojo-attach-point\x3d"addZoneButton"\x3e\r\n      \x3cspan class\x3d"esriCTBtnAddIcon"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"esriCTBtnAddLabel"\x3e${nls.addThreatZoneButtonLabel}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTWrapper esriCTZonesTableMaxHeight" data-dojo-attach-point\x3d"threatZonesTableNode"\x3e\r\n  \x3c/div\x3e\r\n\r\n\x3c/div\x3e',
"url:widgets/ThreatAnalysis/setting/defaultThreatTypes.html":'\x3cdiv class\x3d"esriCTMainContainer esriCTPopupContainer"\x3e\r\n  \x3cdiv class\x3d"esriCTDijitContent" style\x3d"padding-bottom: 5px;"\x3e\r\n    \x3cdiv class\x3d"esriCTDijitControlLabel"\x3e${nls.chooseDefaultThreatLabel}\x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTDijitControl"\x3e\r\n      \x3cdiv class\x3d"esriCTDijitWrapper" data-dojo-attach-point\x3d"defaultThreatsDropdownNode"\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/ThreatAnalysis/setting/ColorPickerEditor.html":'\x3cdiv class\x3d"colorPickerEditor"\x3e\r\n  \x3cdiv class\x3d"colorPicker" data-dojo-attach-point\x3d"colorPicker"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"sliderWrapper"\x3e\r\n    \x3cdiv class\x3d"sliderbar" data-dojo-attach-point\x3d"sliderBar"\x3e\r\n      \x3col data-dojo-type\x3d"dijit/form/HorizontalRuleLabels" style\x3d"height:2.5em;" container\x3d"topDecoration"\x3e\r\n        \x3cli\x3e${nls.transparencyLabel}\x3c/li\x3e\r\n        \x3cli\x3e\x3c/li\x3e\r\n      \x3c/ol\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/NumberSpinner" value\x3d"0" data-dojo-attach-point\x3d"spinner"\r\n    data-dojo-props\x3d"smallDelta:10,intermediateChanges:true,constraints: {min:0,max:100}"\x3e\r\n  \x3cdiv class\x3d\'styleSelectSection\'\x3e\r\n    \x3clabel style\x3d"margin-bottom: 3px;" for\x3d"${id}_select"\x3e${nls.style}\x3c/label\x3e\r\n    \x3cselect class\x3d"styleSelect" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"dropdown" /\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/ThreatAnalysis/setting/newZone.html":'\x3cdiv\x3e\r\n\r\n  \x3cdiv class\x3d"esriCTPopupContainer"\x3e\r\n\r\n    \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n      \x3cdiv class\x3d"esriCTLabel"\x3e${nls.descriptionLabel}\x3c/div\x3e\r\n      \x3cdiv class\x3d"esriCTDijitControl"\x3e\r\n        \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n          \x3cdiv class\x3d"esriCTDijitWrapper" data-dojo-attach-point\x3d"zoneDescriptionTextBox"\r\n            data-dojo-type\x3d"dijit/form/ValidationTextBox" aria-label\x3d"${nls.descriptionLabel}" trim\x3d"true" required\x3d"true"\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n      \x3cdiv class\x3d"esriCTLabel" data-dojo-attach-point\x3d"zoneDistanceLabel"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"esriCTDijitControl"\x3e\r\n        \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n          \x3cdiv class\x3d"esriCTDijitWrapper" data-dojo-attach-point\x3d"zoneDistanceTextBox"\r\n          data-dojo-type\x3d"dijit/form/NumberTextBox" data-dojo-props\x3d"constraints:{min: 0.01}" trim\x3d"true" required\x3d"true"\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n      \x3cdiv class\x3d"esriCTSymbologyLabel" title\x3d"${nls.outline}"\x3e${nls.outline}\x3c/div\x3e\r\n      \x3cdiv class\x3d"colorPicker Line" id\x3d"outlineColor" data-dojo-attach-point\x3d"outlineColorPicker"\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n      \x3cdiv class\x3d"esriCTSymbologyLabel" title\x3d"${nls.fill}"\x3e${nls.fill}\x3c/div\x3e\r\n      \x3cdiv class\x3d"colorPicker Fill" id\x3d"fillColor" data-dojo-attach-point\x3d"fillColorPicker"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n  \x3c/div\x3e\r\n\r\n\x3c/div\x3e',
"url:widgets/ThreatAnalysis/setting/Setting.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"tabDiv" class\x3d"esriCTTabsDiv"\x3e\r\n    \x3cdiv\x3e\r\n      \x3cdiv class\x3d"esriCTTabWrapper" data-dojo-attach-point\x3d"threatTypeTab"\x3e\r\n        \x3cdiv class\x3d"esriCTThreatTypeNode" data-dojo-attach-point\x3d"threatTypeSettingsNode"\x3e\r\n          \x3c!-- threat type button --\x3e\r\n          \x3cdiv class\x3d"esriCTAddBtnWrapper"\x3e\r\n            \x3cdiv class\x3d"esriCTAddThreatTypeBtn" data-dojo-attach-point\x3d"addThreatTypeButton"\x3e\r\n              \x3cspan class\x3d"esriCTBtnAddIcon"\x3e\x3c/span\x3e\r\n              \x3cspan class\x3d"esriCTBtnAddLabel"\x3e${nls.addThreatTypesLabel}\x3c/span\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3c!-- threat types --\x3e\r\n          \x3cdiv class\x3d"esriCTThreatTypeWrapper esriCTThreatTableMaxHeight" data-dojo-attach-point\x3d"threatTypesTableNode"\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3c!-- measure of unit label --\x3e\r\n          \x3cdiv class\x3d"unitMeasureLabel" data-dojo-attach-point\x3d"unitMeasureLabel"\x3e{$nls.unitMeasureLabel}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv class\x3d"esriCTTabWrapper esriCTMiscTabWrapperWidth" data-dojo-attach-point\x3d"MiscTab"\x3e\r\n        \x3cdiv class\x3d"esriCTMiscWrapper"\x3e\r\n\r\n          \x3cdiv class\x3d"esriCTWrapper esriCTPadding10"\x3e\r\n            \x3cdiv class\x3d"esriCTLabel"\x3e${nls.selectOpLayerLabel}\x3c/div\x3e\r\n            \x3cdiv class\x3d"esriCTDijitControl"\x3e\r\n              \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n                \x3cselect class\x3d"esriCTDijitWidth" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"opLayerList"\x3e\r\n                \x3c/select\x3e\r\n                \x3cdiv title\x3d"${nls.helpIconTooltip}" class\x3d"jimu-icon helpBtn safari_only" data-dojo-attach-point\x3d"helpBtn"\x3e\x3c/div\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n\r\n          \x3cdiv class\x3d"esriCTWrapper esriCTPadding10"\x3e\r\n            \x3cdiv class\x3d"esriCTLabel"\x3e${nls.selectDefaultMeasurementLabel}\x3c/div\x3e\r\n            \x3cdiv class\x3d"esriCTDijitControl"\x3e\r\n              \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n                \x3cselect class\x3d"esriCTDijitWidth" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"unitType"\x3e\r\n                  \x3coption value\x3d"feet"\x3e${nls.feet}\x3c/option\x3e\r\n                  \x3coption value\x3d"meters"\x3e${nls.meters}\x3c/option\x3e\r\n                \x3c/select\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n\r\n          \x3cdiv class\x3d"esriCTWrapper esriCTPadding10"\x3e\r\n            \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultInputLocationLabel}\x3c/div\x3e\r\n            \x3cdiv class\x3d"esriCTDijitControl"\x3e\r\n              \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n                \x3cselect class\x3d"esriCTDijitWidth" data-dojo-type\x3d"dijit/form/Select"\r\n                  data-dojo-attach-point\x3d"defaultInputLocation"\x3e\r\n                  \x3coption value\x3d"interactive" selected\x3d"true"\x3e${nls.interactive}\x3c/option\x3e\r\n                  \x3coption value\x3d"manual_location" selected\x3e${nls.fromCoord}\x3c/option\x3e\r\n                  \x3coption value\x3d"existing_features"\x3e${nls.existingFeature}\x3c/option\x3e\r\n                \x3c/select\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cdiv class\x3d"esriCTWrapper esriCTPadding10"\x3e\r\n            \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultInputLayer}\x3c/div\x3e\r\n            \x3cdiv class\x3d"esriCTDijitControl"\x3e\r\n              \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n                \x3cselect class\x3d"esriCTDijitWidth" data-dojo-type\x3d"dijit/form/Select"\r\n                  data-dojo-attach-point\x3d"defaultInputLayer"\x3e\r\n                \x3c/select\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n\r\n          \x3cdiv class\x3d"esriCTWrapper esriCTPadding10"\x3e\r\n            \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultThreatType}\x3c/div\x3e\r\n            \x3cdiv class\x3d"esriCTDijitControl"\x3e\r\n              \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n                \x3cselect class\x3d"esriCTDijitWidth" data-dojo-type\x3d"dijit/form/Select"\r\n                  data-dojo-attach-point\x3d"defaultThreatType"\x3e\r\n                \x3c/select\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/ThreatAnalysis/setting/css/style.css":'.jimu-widget-threatAnalysis-setting {margin: 0; padding: 0; font-size: 14px; position: absolute; top: 0; bottom: 0; left: 0; right: 0; letter-spacing: 0.38px;}.jimu-widget-threatAnalysis-setting .SettingsRow {width: 100%; display: inline-flex; margin-left: 10px;}.jimu-rtl .jimu-widget-threatAnalysis-setting .SettingsRow {margin-right: 10px;}.jimu-widget-threatAnalysis-setting .SymbologyContainer {width: 100%; padding: 0px 0px 20px 0px; overflow: hidden;}.jimu-widget-threatAnalysis-setting .HalfWidthContainer {display: flex; width: 50%;}.jimu-widget-threatAnalysis-setting .InputLabel {float: left; line-height: 28px; padding: 5px 5px 0px 0;}.jimu-widget-threatAnalysis-setting .InputLabelSettings {float: left; line-height: 28px; padding: 5px 0px 0px 0px;}.jimu-widget-threatAnalysis-setting .opLayerlabelSettings {padding: 0px; font-size: initial;}.jimu-widget-threatAnalysis-setting .opLayerSelectSettings {height: 30px; color: #7d7d7d; padding: 0 5px 0 5px; font-size: 13px; width: 96%; font-family: \'Avenir Medium\'; margin: 7px 0px 20px 0px;}.jimu-widget-threatAnalysis-setting .DropdownLabel {line-height: 28px; padding-bottom: 5px; padding-top: 5px;}.jimu-widget-threatAnalysis-setting .Ellipsis,.jimu-widget-threatAnalysis-newZoneSettings .Ellipsis {overflow: hidden; text-overflow: ellipsis; white-space: nowrap;}.jimu-widget-threatAnalysis-setting.SubTitle {font-weight: bold;}.jimu-widget-threatAnalysis-setting .SubTitleRed {line-height: 28px; font-weight: bold; color: #ff0000; padding: 5px 0px 0px 10px;}.jimu-widget-threatAnalysis-newZoneSettings .styleSelectSection {display: inline-grid; vertical-align: bottom; width: 38%;}.jimu-widget-threatAnalysis-setting .styleSelect {width: 100%; background-color: #fff;}.jimu-widget-threatAnalysis-setting .dijitSelectLabel {text-overflow: ellipsis; -ms-text-overflow: ellipsis; text-align: justify; overflow: hidden; width: 150px; padding: 5px 0px 0px 0px;}.jimu-widget-threatAnalysis-setting .dijitSelect .dijitArrowButton {background-color: #fff; background-image: none; border-color: #fff;}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none) {.jimu-widget-threatAnalysis-newZoneSettings .styleSelectSection {display: inline-grid; vertical-align: bottom; margin: 8px 10px 0 10px;}}.jimu-widget-threatAnalysis-setting .Pointer {cursor: pointer;}.jimu-widget-threatAnalysis-setting .SettingsButtonIcon {margin-top: 13px; height: 16px; width: 16px;}.jimu-rtl .jimu-widget-threatAnalysis-setting .SettingsButtonIcon {margin-top: 9px; margin-left: 2px;}.jimu-widget-threatAnalysis-setting .LabelSettingsDownButton {background: url("./images/arrow-down_black.png") no-repeat; margin-top: 15px;}.jimu-rtl .jimu-widget-threatAnalysis-setting .LabelSettingsDownButton {margin: 15px 0 0 5px; width: 13px;}.jimu-widget-threatAnalysis-setting .LabelSettingsDownButton:hover {background: url("./images/arrow-down_black_hover.png") no-repeat;}.jimu-widget-threatAnalysis-setting .LabelSettingsRightButton {background: url("./images/arrow-right_black.png") no-repeat;}.jimu-rtl .jimu-widget-threatAnalysis-setting .LabelSettingsRightButton {transform: rotate(180deg);}.jimu-widget-threatAnalysis-setting .LabelSettingsRightButton:hover {background: url("./images/arrow-right_black_hover.png") no-repeat;}.jimu-widget-threatAnalysis-setting .controlGroupHidden,.jimu-widget-threatAnalysis-defaultThreatTypePopup .controlGroupHidden {display: none;}.jimu-widget-threatAnalysis-setting .instruction {margin-bottom: 10px;}.jimu-widget-threatAnalysis-setting .tabs {font-family: "Avenir Light"; color: #000000; height: 100%;}.jimu-widget-threatAnalysis-setting .tabs .tab-description {margin: 10px 0;}.jimu-widget-threatAnalysis-setting .tabs .jimu-radio-checked .jimu-radio-inner {width: 6px; height: 6px; margin: 4px; border-radius: 50%; background-color: #24B5CC;}.jimu-widget-threatAnalysis-setting .tabs .jimu-radio {border: 1px solid #ccc; vertical-align: top;}.jimu-widget-threatAnalysis-setting .jimu-tab\x3e.control\x3e.tab {background-color: #fff; border-top: 0; border-left: 0; border-right: 0; border-bottom: 1px solid #dedede; color: #898989; font-family: "Avenir Medium"; font-size: 14px;}.jimu-widget-threatAnalysis-setting .jimu-tab\x3e.control\x3e.tab.jimu-state-selected {border-bottom: 3px solid #24b5cc; font-family: "Avenir Heavy"; color: #000000;}.jimu-widget-threatAnalysis-setting .tabs .titles {font-weight: bold; font-family: "Avenir Medium"; font-size: 12px; margin: 20px 0 10px 0;}.jimu-widget-threatAnalysis-setting .tabs .hide {display: none;}.jimu-widget-threatAnalysis-setting .tabs .indent {margin-left: 20px; margin-top: 10px;}.jimu-widget-threatAnalysis-setting .tabs .unit-item {margin: 15px 5px 5px 5px; line-height: 18px; height: 18px; vertical-align: middle;}.jimu-widget-threatAnalysis-setting .tabs .jimu-widget-threatAnalysis-settingearFix {*overflow: hidden; *zoom: 1;}.jimu-widget-threatAnalysis-setting .tabs .jimu-widget-threatAnalysis-settingearFix:after {display: table; content: ""; width: 0; clear: both;}.jimu-widget-threatAnalysis-setting .tabs .view {height: 100%; overflow-y: auto;}.jimu-widget-threatAnalysis-setting .tabs .jimu-tab\x3e.jimu-viewstack {padding-bottom: 20px;}.jimu-widget-threatAnalysis-newZoneSettings .sliderWrapper {width: 235px; display: inline-block; margin: 5px;}.jimu-widget-threatAnalysis-newZoneSettings .dijitSlider {width: 100%;}.jimu-widget-threatAnalysis-newZoneSettings .colorPickerEditor {padding-top: 5px; padding-bottom: 8px; width: 100%;}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none) {.jimu-widget-threatAnalysis-newZoneSettings .colorPickerEditor {padding-top: 5px; padding-bottom: 8px; width: 100%; display: inline-flex;}}.jimu-widget-threatAnalysis-newZoneSettings .colorPickerEditor .jimu-color-picker {display: inline-block; width: 25px; height: 25px;}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none) {.jimu-widget-threatAnalysis-newZoneSettings .colorPickerEditor .jimu-color-picker {display: inline-block; width: 25px; height: 25px; margin-top: 26px;}}.jimu-widget-threatAnalysis-newZoneSettings .colorPickerEditor .dijitSpinner.dijitNumberTextBox.dijitValidationTextBox {width: 66px; height: 30px;}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none) {.jimu-widget-threatAnalysis-newZoneSettings .dijitSpinner.dijitNumberTextBox.dijitValidationTextBox {width: 66px; height: 30px; margin-top: 25px;}}.jimu-widget-threatAnalysis-newZoneSettings .dijitSlider .dijitSliderImageHandleH {top: -10px; width: 20px; height: 20px;}.jimu-widget-threatAnalysis-newZoneSettings .dijitSliderImageHandleH {top: -7px;}.jimu-widget-threatAnalysis-newZoneSettings .dijitSliderImageHandle.dijitSliderImageHandleH {background-image: url("../../images/sliderball.svg"); background-position: 0 0;}.jimu-widget-threatAnalysis-newZoneSettings .dijitSliderThumbHover {background-image: url("../../images/sliderball.svg"); background-position: 0 0;}.jimu-widget-threatAnalysis-newZoneSettings .dijitSlider .dijitSliderProgressBarH,.jimu-widget-threatAnalysis-newZoneSettings .dijitSlider .dijitSliderLeftBumper {border-color: #000; background-color: #000; background-image: -webkit-linear-gradient(top, #000 0px, #000 1px, rgba(255, 255, 255, 0) 2px); background-image: -o-linear-gradient(top, #000 0px, #000 1px, rgba(255, 255, 255, 0) 2px); background-image: linear-gradient(top, #000 0px, #000 1px, rgba(255, 255, 255, 0) 2px);}.jimu-widget-threatAnalysis-newZoneSettings .dijitSlider .dijitSliderRemainingBarH,.jimu-widget-threatAnalysis-newZoneSettings .dijitSlider .dijitSliderRightBumper {border-color: #d7d7d7; background-color: #d7d7d7;}.jimu-widget-threatAnalysis-setting .tabs .colorPickerEditor .trans {font-family: "Avenir Light"; font-size: 12px; padding: 0 10px 0 20px; letter-spacing: 0.33px;}.jimu-widget-threatAnalysis-setting .tabs .sliderbar {width: 60px;}.dijitRuleLabelH {left: -12%;}.jimu-widget-threatAnalysis-setting .layers-tab {}.jimu-widget-threatAnalysis-setting .layers-tab .editor-container {}.jimu-widget-threatAnalysis-setting .layers-tab .editor-container .dijitEditorIFrameContainer textarea {resize: none;}.jimu-widget-threatAnalysis-setting .symbology-tab {overflow-y: auto; height: 490px;}.jimu-widget-threatAnalysis-setting .symbology-tab .size-selector .size-box-container {display: inline-block; text-align: center; margin: 0 10px 0 0; width: 80px; -o-text-overflow: ellipsis; text-overflow: ellipsis; overflow: hidden; white-space: nowrap;}.jimu-widget-threatAnalysis-setting .symbology-tab .size-selector .size-box {width: 80px; height: 60px; background: no-repeat; margin-bottom: 5px;}.jimu-widget-threatAnalysis-setting .symbology-tab .size-selector .percent25 {background: url("../../images/percent25.svg") center center no-repeat; ;}.jimu-widget-threatAnalysis-setting .symbology-tab .size-selector .percent25.selected {background: url("../../images/percent25_selected.svg") center center no-repeat; ;}.jimu-widget-threatAnalysis-setting .symbology-tab .size-selector .percent50 {background: url("../../images/percent50.svg") center center no-repeat; ;}.jimu-widget-threatAnalysis-setting .symbology-tab .size-selector .percent50.selected {background: url("../../images/percent50_selected.svg") center center no-repeat; ;}.jimu-widget-threatAnalysis-setting .symbology-tab .size-selector .percent75 {background: url("../../images/percent75.svg") center center no-repeat; ;}.jimu-widget-threatAnalysis-setting .symbology-tab .size-selector .percent75.selected {background: url("../../images/percent75_selected.svg") center center no-repeat; ;}.jimu-widget-threatAnalysis-setting .symbology-tab .size-selector .percent100 {background: url("../../images/percent100.svg") center center no-repeat; ;}.jimu-widget-threatAnalysis-setting .symbology-tab .size-selector .percent100.selected {background: url("../../images/percent100_selected.svg") center center no-repeat; ;}.jimu-widget-threatAnalysis-setting .symbology-tab .size-selector .custom {background: url("../../images/custom.svg") center center no-repeat; ;}.jimu-widget-threatAnalysis-setting .symbology-tab .size-selector .custom.selected {background: url("../../images/custom_selected.svg") center center no-repeat; ;}.jimu-widget-threatAnalysis-setting .symbology-tab .size-selector .custom-label {vertical-align: top; line-height: 20px;}.jimu-rtl .jimu-widget-threatAnalysis-setting .symbology-tab .sizes\x3e:first-child {margin-right: 0;}.jimu-widget-threatAnalysis-setting .symbology-tab .size-selector .wh {margin: 0 14px;}.jimu-widget-threatAnalysis-setting .symbology-tab .size-selector .wh .wh-item {display: inline-block; margin-right: 10px;}.jimu-widget-threatAnalysis-setting .symbology-tab .size-selector .wh .wh-item .lable {font-family: "Avenir Medium"; font-size: 12px; color: #353535; margin: 0 0 5px 0; width: 96px; -o-text-overflow: ellipsis; text-overflow: ellipsis; overflow: hidden; white-space: nowrap;}.jimu-widget-threatAnalysis-setting .symbology-tab .size-selector .wh .inputs {width: 96px; border: 1px solid #d9dde0;}.jimu-widget-threatAnalysis-setting .symbology-tab .size-selector .wh .inputs .text-box {width: 70px; border: none;}.jimu-widget-threatAnalysis-setting .symbology-tab .size-selector .wh .inputs .unit {color: #898989; letter-spacing: 0;}.jimu-widget-threatAnalysis-setting .symbology-tab .align-selector .align-box-container {display: inline-block; text-align: center; margin: 0 10px; width: 50px; -o-text-overflow: ellipsis; text-overflow: ellipsis; overflow: hidden; white-space: nowrap;}.jimu-widget-threatAnalysis-setting .symbology-tab .align-selector .align-box {width: 40px; height: 36px; background: no-repeat; margin: 0 5px 5px 5px;}.jimu-widget-threatAnalysis-setting .symbology-tab .align-selector .top {background: url("../../images/top.svg") center center no-repeat; border: none;}.jimu-widget-threatAnalysis-setting .symbology-tab .align-selector .top.selected {background: url("../../images/top_selected.svg") center center no-repeat; border: 1px #24B5CC solid;}.jimu-widget-threatAnalysis-setting .symbology-tab .align-selector .middle {background: url("../../images/middle.svg") center center no-repeat; border: none;}.jimu-widget-threatAnalysis-setting .symbology-tab .align-selector .middle.selected {background: url("../../images/middle_selected.svg") center center no-repeat; border: 1px #24B5CC solid;}.jimu-widget-threatAnalysis-setting .symbology-tab .jimu-image-chooser {height: 30px; width: 124px; background: #24B5CC; border: 1px solid #24B5CC;}.jimu-widget-threatAnalysis-setting .symbology-tab .file-name {font-size: 12px; line-height: 33px; height: 33px; color: #000000; margin: 0 20px 0 20px;}.jimu-widget-threatAnalysis-setting .symbology-tab .types\x3e:first-child {margin-left: 0;}.jimu-rtl .jimu-widget-threatAnalysis-setting .symbology-tab .types\x3e:first-child {margin-right: 0;}.jimu-widget-threatAnalysis-setting .symbology-tab .fillstype {margin: 10px 20px 0 20px;}.jimu-widget-threatAnalysis-setting .symbology-tab .buttonText {width: 290px; margin-bottom: 10px;}.jimu-widget-threatAnalysis-setting .instruction span {color: #596679;}.jimu-widget-threatAnalysis-setting .editor-container {position: absolute; top: 34px; bottom: 165px; left: 0; right: 0; border: 1px solid #d2dae2; background-color: #fafafc;}.jimu-widget-threatAnalysis-setting .editor-container .dijitEditorIFrameContainer {position: relative; width: 100%; overflow: hidden;}.jimu-widget-threatAnalysis-setting .editor-container .dijitEditorIFrameContainer {padding-top: 0;}.jimu-widget-threatAnalysis-setting .editor-container .uploaderInsideNode embed {display: none;}.jimu-widget-threatAnalysis-setting .splash-footer {color: #596679; height: 155px; margin-top: 20px;}.jimu-widget-threatAnalysis-setting .splash-footer .require-continue {position: absolute; top: 0;}.jimu-widget-threatAnalysis-setting .splash-footer .require-item {margin-bottom: 10px;}.jimu-widget-threatAnalysis-setting .splash-footer .option-text {display: none; margin: 10px 0 15px 23px;}.jimu-widget-threatAnalysis-setting .splash-footer .confirm-container {display: none; margin-left: 20px; margin-bottom: 10px;}.jimu-widget-threatAnalysis-setting .splash-footer .confirm-text,.jimu-widget-threatAnalysis-setting .splash-footer .confirm-option {width: 100%; margin-top: 10px;}.jimu-widget-threatAnalysis-setting .splash-footer .spinner-label {line-height: 30px; margin-right: 10px; display: inline-block;}.jimu-widget-threatAnalysis-setting .splash-footer .set-background,.jimu-widget-threatAnalysis-setting .splash-footer .set-background * {vertical-align: middle;}.jimu-widget-threatAnalysis-setting .splash-footer input {width: 755px; color: #7989a0;}.jimu-widget-threatAnalysis-setting .dojoxEditorUploadNorm.dijitButtonDisabled {background: #ccc url(.././images/uploadImageIcon_disabled.gif) no-repeat 2px 2px;}.jimu-widget-threatAnalysis-setting .style-selector .jimu-widget-threatAnalysis-settingearFix {*overflow: hidden; *zoom: 1}.jimu-widget-threatAnalysis-setting .style-selector .jimu-widget-threatAnalysis-settingearFix:after {display: table; content: ""; width: 0; clear: both}.jimu-widget-threatAnalysis-setting .style-selector .hide {display: none}.jimu-widget-threatAnalysis-setting .settings-container {}.jimu-widget-threatAnalysis-setting .settings-container .title {font-size: 14px; color: #000000; letter-spacing: 0.39px; margin-bottom: 20px;}.jimu-widget-threatAnalysis-setting .settings-container .label {font-size: 12px; color: #282828; letter-spacing: 0.33px; line-height: 30px;}.jimu-widget-threatAnalysis-setting .style-selector .label {margin: 0 0; max-width: 160px; line-height: 30px; font-size: 12px; vertical-align: middle; overflow: hidden; text-overflow: ellipsis;}.jimu-widget-threatAnalysis-setting .style-selector .dijitTextBox,.jimu-widget-threatAnalysis-setting .style-selector .dijitSelect {width: 100%; height: 30px; border: 1px solid #D7D7D7;}.jimu-widget-threatAnalysis-setting .style-selector .jimu-color-picker {width: 40px !important; height: 30px !important; border: 1px solid #D7D7D7 !important;}.jimu-widget-threatAnalysis-setting .style-selector .dijitSelect .dijitArrowButtonContainer {border: none;}.jimu-widget-threatAnalysis-setting .style-selector .dijitDownArrowButton .dijitButtonContents,.jimu-widget-threatAnalysis-setting .style-selector .dijitComboBox .dijitDownArrowButton {border: none;}.jimu-widget-threatAnalysis-setting .style-selector .dijitTextBox .dijitInputInner {padding: 1px 0 0 0 !important; font-size: 12px; font-style: normal !important; height: 28px; line-height: 28px !important;}.jimu-widget-threatAnalysis-setting .style-selector .dijitSelectLabel {font-size: 12px;}.jimu-widget-threatAnalysis-setting .style-selector .dijitSelect,.jimu-widget-threatAnalysis-setting .style-selector .dijitSelect .dijitButtonContents,.jimu-widget-threatAnalysis-setting .style-selector .dijitTextBox,.jimu-widget-threatAnalysis-setting .style-selector .dijitTextBox .dijitButtonNode {background-color: transparent;}.jimu-widget-threatAnalysis-setting .style-selector .dijitSelect .dijitArrowButton {background-color: transparent;}.jimu-widget-threatAnalysis-setting .style-selector .dijitSelect .dijitInputField {padding: 0px 10px;}.jimu-widget-threatAnalysis-setting .jimu-image-chooser .display-text {width: 100%; font-size: 12px; color: #4A4A4A; letter-spacing: 0.33px; background-color: #FFF; text-align: center;}.jimu-image-chooser:hover .hint .display-text {color: #FFF;}.jimu-widget-threatAnalysis-setting .dijitTextBoxFocused {border: 1px solid #D7D7D7 !important; box-shadow: 0 0 0 0 !important;}.jimu-widget-threatAnalysis-setting .dijitTextBox .dijitInputField {padding: 0px 10px;}.jimu-widget-threatAnalysis-setting .dijitSelectFocused .dijitArrowButton .dijitArrowButtonInner {background-position: -35px 53%;}.jimu-widget-threatAnalysis-setting .text-size .text-size-group\x3e.dijitComboBox.dijitValidationTextBox {width: 80px;}.jimu-widget-threatAnalysis-setting .text-size .text-size-group\x3etable {width: 140px;}.jimu-widget-threatAnalysis-setting .halo-size .halo-size-group\x3e.dijitComboBox.dijitValidationTextBox {width: 80px;}.jimu-widget-threatAnalysis-setting .text-size .text-size-group\x3etable {width: 140px;}.jimu-widget-threatAnalysis-setting .style-selector .setting-items {height: 30px; width: 100%; margin: 10px 0; vertical-align: middle; white-space: nowrap;}.jimu-widget-threatAnalysis-setting .style-selector .setting-wapper {width: 230px;}.jimu-widget-threatAnalysis-setting .style-selector .background-btn,.jimu-widget-threatAnalysis-setting .style-selector .text-color-btn {width: 40px; height: 30px; overflow: hidden;}.jimu-widget-threatAnalysis-setting .style-selector .halo-color-btn {width: 50px; height: 30px; overflow: hidden; padding-left: 5px; padding-right: 5px;}.jimu-widget-threatAnalysis-setting .style-selector .align-group {margin-right: 8px; margin-left: -3px;}.jimu-rtl .jimu-widget-threatAnalysis-setting .style-selector .align-group {margin-right: -3px; margin-left: 8px;}.jimu-widget-threatAnalysis-setting .style-selector .font-group-btns {margin-left: 6px; margin-right: 6px;}.jimu-widget-threatAnalysis-setting .style-selector .align-btn,.jimu-widget-threatAnalysis-setting .style-selector .font-btn {height: 30px; margin: 0 3px;}.jimu-widget-threatAnalysis-setting .style-selector .font-btn {width: 30px;}.jimu-widget-threatAnalysis-setting .style-selector .align-btn {width: 30px;}.jimu-widget-threatAnalysis-setting .style-selector .image-btn {width: 120px; height: 30px; border: 1px solid #D7D7D7;}.jimu-widget-threatAnalysis-setting .style-selector .bold {background: url("../../images/B.svg") no-repeat;}.jimu-widget-threatAnalysis-setting .style-selector .bold.selected {background: url("../../images/B_selected.svg") no-repeat;}.jimu-widget-threatAnalysis-setting .style-selector .italic {background: url("../../images/I.svg") no-repeat;}.jimu-widget-threatAnalysis-setting .style-selector .italic.selected {background: url("../../images/I_selected.svg") no-repeat;}.jimu-widget-threatAnalysis-setting .style-selector .underline {background: url("../../images/U.svg") no-repeat;}.jimu-widget-threatAnalysis-setting .style-selector .underline.selected {background: url("../../images/U_selected.svg") no-repeat;}.jimu-widget-threatAnalysis-setting .switch-toggle-group {padding: 5px;}.jimu-widget-threatAnalysis-setting .switch-toggle-group .checkbox-inline {padding-left: 36px; vertical-align: top;}.jimu-widget-threatAnalysis-setting .switch-toggle-group .switch-toggle.dijitCheckBox {margin-left: -36px;}.jimu-widget-threatAnalysis-setting .switch-toggle.dijitCheckBox {height: 16px; width: 28px; border: 0 none; background: #e04f1d; position: relative; display: inline-block; cursor: pointer; -moz-border-radius: 10px; -webkit-border-radius: 10px; border-radius: 10px;}.jimu-widget-threatAnalysis-setting .switch-toggle.dijitCheckBox:before {content: ""; background: #f8f8f8; position: absolute; padding: 0; height: 12px; width: 12px; left: auto; right: 2px; top: 2px; z-index: 1; -webkit-transition: right 0.3s; -moz-transition: right 0.3s; -o-transition: right 0.3s; transition: right 0.3s; -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%;}.jimu-widget-threatAnalysis-setting .switch-toggle.dijitCheckBox input {width: 100%; height: 100%; position: absolute; left: 0; z-index: 2;}.jimu-widget-threatAnalysis-setting .switch-toggle.dijitCheckBox.dijitCheckBoxChecked {background: #50ad4e;}.jimu-widget-threatAnalysis-setting .switch-toggle.dijitCheckBox.dijitCheckBoxChecked:before {right: 14px;}.jimu-widget-threatAnalysis-setting .halo-toggle-group {padding: 5px;}.jimu-widget-threatAnalysis-setting .halo-toggle-group .checkbox-inline {padding-left: 36px; vertical-align: top;}.jimu-widget-threatAnalysis-setting .halo-toggle-group .halo-toggle.dijitCheckBox {margin-left: -36px;}.jimu-widget-threatAnalysis-setting .halo-toggle.dijitCheckBox {height: 16px; width: 28px; border: 0 none; background: #e04f1d; position: relative; display: inline-block; cursor: pointer; -moz-border-radius: 10px; -webkit-border-radius: 10px; border-radius: 10px; margin-top: 6px; margin-left: 5px;}.jimu-widget-threatAnalysis-setting .halo-toggle.dijitCheckBox:before {content: ""; background: #f8f8f8; position: absolute; padding: 0; height: 12px; width: 12px; left: auto; right: 2px; top: 2px; z-index: 1; -webkit-transition: right 0.3s; -moz-transition: right 0.3s; -o-transition: right 0.3s; transition: right 0.3s; -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%;}.jimu-widget-threatAnalysis-setting .halo-toggle.dijitCheckBox input {width: 100%; height: 100%; position: absolute; left: 0; z-index: 2;}.jimu-widget-threatAnalysis-setting .halo-toggle.dijitCheckBox.dijitCheckBoxChecked {background: #50ad4e;}.jimu-widget-threatAnalysis-setting .halo-toggle.dijitCheckBox.dijitCheckBoxChecked:before {right: 14px;}.jimu-widget-threatAnalysis-setting .btn-add-section {display: inline-block; overflow: hidden; height: 24px; margin-left: 1px; margin-bottom: 3px; cursor: pointer; font-size: 13px; color: #538ec8; margin-top: 8px;}.jimu-widget-threatAnalysis-setting .btn-add-section .btn-add-icon {height: 100%; width: 14px; background-repeat: no-repeat; background-position: center center; background-image: url(images/add.png); display: inline-block; vertical-align: top;}.jimu-widget-threatAnalysis-setting .btn-add-section .btn-add-label {height: 100%; line-height: 24px; margin-left: 7px; text-decoration: underline; display: inline-block; vertical-align: top;}.jimu-widget-threatAnalysis-setting .helpBtn {float: right; background: url(./images/help_black.png); background-repeat: no-repeat; background-color: transparent; width: 16px; height: 16px; margin-top: 8px; vertical-align: middle;}@media not all and (min-resolution:.001dpcm) {@supports (-webkit-appearance:none) and (stroke-color:transparent) {.jimu-widget-threatAnalysis-setting .helpBtn.safari_only {margin-top: 8px;}}}.jimu-rtl .jimu-widget-threatAnalysis-setting .helpBtn {float: left; transform: rotateY(180deg);}.jimu-widget-threatAnalysis-setting .helpBtn:hover {background: url(./images/help_black_hover.png);}.jimu-widget-threatAnalysis-setting .esriCTFullHeight {height: 100%;}.jimu-widget-threatAnalysis-setting .esriCTTabWrapper {padding: 10px; height: 100%;}.jimu-widget-threatAnalysis-setting .esriCTMiscTabWrapperWidth {width: 100%;}.jimu-widget-threatAnalysis-setting .esriCTAddThreatTypeBtn,.jimu-widget-threatAnalysis-newThreatTypePopup .addZoneButton {display: inline-block; height: 20px; cursor: pointer; font-size: 13px; color: rgb(83, 142, 200); overflow: hidden; float: right;}.jimu-rtl .jimu-widget-threatAnalysis-setting .esriCTAddThreatTypeBtn,.jimu-rtl .jimu-widget-threatAnalysis-newThreatTypePopup .addZoneButton {float: left;}.jimu-widget-threatAnalysis-setting .esriCTBtnAddIcon,.jimu-widget-threatAnalysis-newThreatTypePopup .esriCTBtnAddIcon {height: 100%; width: 14px; background-image: url(images/add.png); display: inline-block; vertical-align: top; background-repeat: no-repeat; background-position: center center;}.jimu-widget-threatAnalysis-setting .esriCTBtnAddLabel,.jimu-widget-threatAnalysis-newThreatTypePopup .esriCTBtnAddLabel {height: 100%; line-height: 20px; margin-left: 7px; display: inline-block; vertical-align: top; text-decoration: none;}.jimu-rtl .jimu-widget-threatAnalysis-setting .esriCTBtnAddLabel,.jimu-rtl .jimu-widget-threatAnalysis-newThreatTypePopup .esriCTBtnAddLabel {margin-right: 7px; margin-left: 0px;}.jimu-widget-threatAnalysis-setting .esriCTAddBtnWrapper,.jimu-widget-threatAnalysis-newThreatTypePopup .esriCTAddBtnWrapper {width: 100%; padding: 5px; overflow: hidden; height: 25px;}.jimu-widget-threatAnalysis-setting .esriCTThreatTypeWrapper {width: 100%; padding: 5px; overflow: hidden; margin-top: 10px; height: 100%; clear: both;}.jimu-widget-threatAnalysis-newThreatTypePopup .esriCTWrapper,.jimu-widget-threatAnalysis-newZoneSettings .esriCTWrapper,.jimu-widget-threatAnalysis-setting .esriCTWrapper {width: 100%; overflow: hidden; padding: 5px;}.jimu-rtl .jimu-widget-threatAnalysis-defaultThreatTypePopup .esriCTDijitContent {padding-right: 0px;}.jimu-widget-threatAnalysis-newThreatTypePopup .esriCTLabel,.jimu-widget-threatAnalysis-newZoneSettings .esriCTLabel,.jimu-widget-threatAnalysis-setting .esriCTLabel {width: 40%; padding: 0px 10px 0px 0px; word-break: break-word; float: left; font-size: 14px; color: #596679; line-height: 30px;}.jimu-rtl .jimu-widget-threatAnalysis-newThreatTypePopup .esriCTLabel,.jimu-rtl .jimu-widget-threatAnalysis-newZoneSettings .esriCTLabel,.jimu-rtl .jimu-widget-threatAnalysis-setting .esriCTLabel {float: right;}.jimu-rtl .jimu-widget-threatAnalysis-defaultThreatTypePopup .esriCTDijitControlLabel,.jimu-rtl .jimu-widget-threatAnalysis-newZoneSettings .esriCTDijitControlLabel {float: right; padding: 0px 0px 0px 5px;}.jimu-widget-threatAnalysis-newThreatTypePopup .esriCTDijitControl,.jimu-widget-threatAnalysis-defaultThreatTypePopup .esriCTDijitControl,.jimu-widget-threatAnalysis-newZoneSettings .esriCTDijitControl,.jimu-widget-threatAnalysis-setting .esriCTDijitControl{width: 60%; float: right;}.jimu-rtl .jimu-widget-threatAnalysis-newThreatTypePopup .esriCTDijitControl,.jimu-rtl .jimu-widget-threatAnalysis-newZoneSettings .esriCTDijitControl,.jimu-rtl .jimu-widget-threatAnalysis-setting .esriCTDijitControl {float: left;}.jimu-widget-threatAnalysis-newThreatTypePopup .esriCTDijitWrapper,.jimu-widget-threatAnalysis-defaultThreatTypePopup .esriCTDijitWrapper,.jimu-widget-threatAnalysis-setting .esriCTDijitWrapper{width: 100%;}.jimu-widget-threatAnalysis-newZoneSettings .esriCTDijitWrapper {width: 95%;}.jimu-widget-threatAnalysis-newThreatTypePopup .esriCTDefaultIcon {height: 25px; width: 25px; background-image: url(images/default-threat-type.png); display: inline-block; vertical-align: top; background-repeat: no-repeat; background-position: center center; cursor: pointer;}.jimu-widget-threatAnalysis-newThreatTypePopup .esriCTDefaultLabel {padding: 0px 10px 0px 0px; word-break: break-word; float: left; font-size: 14px; color: #596679; line-height: 30px; width: 40%;}.jimu-rtl .jimu-widget-threatAnalysis-newThreatTypePopup .esriCTDefaultLabel {float: right;}.jimu-widget-threatAnalysis-defaultThreatTypePopup .esriCTThreatTypesContainer {word-break: break-word; font-size: 14px; width: 100%; border: 1px solid #596679; margin-top: 10px; clear: both; height: auto; overflow: auto;}.jimu-widget-threatAnalysis-defaultThreatTypePopup .esriCTDefaultThreats {clear: both; line-height: 30px; width: 100%; padding: 5px; overflow: hidden; text-indent: 5px; cursor: pointer;}.jimu-widget-threatAnalysis-defaultThreatTypePopup .esriCTDefaultThreats:hover {background-color: #eee; color: #7989a0;}.jimu-widget-threatAnalysis-defaultThreatTypePopup .esriCTMainContainer {margin-right: 5px;}.jimu-rtl .jimu-widget-threatAnalysis-defaultThreatTypePopup .esriCTMainContainer {margin-left: 5px; margin-right: 0px;}.jimu-widget-threatAnalysis-defaultThreatTypePopup .esriCTWrapper {height: 250px; width: 100;}.jimu-widget-threatAnalysis-defaultThreatTypePopup .esriCTLabel {width: 100%; clear: both; height: 19px;}.jimu-widget-threatAnalysis-defaultThreatTypePopup .selectedThreat {background-color: #ddd; color: #596679;}.jimu-widget-threatAnalysis-setting .esriCTTabsDiv {width: 100%; height: 100%; overflow: hidden;}.jimu-widget-threatAnalysis-setting .jimu-viewstack {height: calc(100% - 45px);}.jimu-widget-threatAnalysis-setting .unitMeasureLabel {color: #7989a0; padding: 0 5px 0 5px; font-weight: bold; font-style: italic; margin: 0; position: absolute; bottom: 25px;}.jimu-widget-threatAnalysis-defaultThreatTypePopup .esriCTDijitControlLabel {width: 40%; padding: 0px 10px 5px 0px; word-break: break-word; float: left;}.jimu-widget-threatAnalysis-Setting .esriCTFieldSet {height: auto; width: calc(100% - 4px); border: 1px solid #a0acbf; border-radius: 5px; font-size: 14px; color: #596679; margin: 10px 0px 10px 0px;}.jimu-widget-threatAnalysis-setting .esriCTFieldSetLegend {margin-left: 15px; font-weight: bold;}.jimu-widget-threatAnalysis-setting .container {margin-left: 10px;}.jimu-rtl .jimu-widget-threatAnalysis-setting .container {margin-right: 10px;}.jimu-widget-threatAnalysis-setting .styleSelect {width: 200px;}.jimu-widget-threatAnalysis-defaultThreatTypePopup .esriCTCustomOptions tr {text-indent: 20px;}.jimu-widget-threatAnalysis-defaultThreatTypePopup .esriCTCustomOptions .dijitDisabled {text-indent: 0px !important;}.jimu-widget-threatAnalysis-newThreatTypePopup .esriCTAddZoneBtn {display: inline-block; height: 20px; cursor: pointer; font-size: 13px; color: rgb(83, 142, 200); overflow: hidden; float: right;}.jimu-rtl .jimu-widget-threatAnalysis-newThreatTypePopup .esriCTAddZoneBtn {float: left;}.jimu-widget-threatAnalysis-newZoneSettings .esriCTSymbologyLabel {padding: 0px 10px 0px 0px; word-break: break-word; font-size: 14px; color: #596679; line-height: 30px;}.jimu-widget-threatAnalysis-newThreatTypePopup .esriCTZonesTableMaxHeight .jimu-simple-table {max-height: 187px;}.jimu-widget-threatAnalysis-newThreatTypePopup .esriCTHintCheck {float: left; font-size: 13px; color: rgb(160, 172, 191); font-style: oblique; line-height: 20px; padding-left: 10px; padding-right: 15px; padding-top: 5px;}.jimu-widget-threatAnalysis-setting .esriCTThreatTableMaxHeight .jimu-simple-table {max-height: calc(100% - 63px);}.jimu-widget-threatAnalysis-setting .esriCTThreatTypeNode {height: 100%;}.jimu-widget-threatAnalysis-newThreatTypePopup .esriCTPopupContainer,.jimu-widget-threatAnalysis-newZoneSettings .esriCTPopupContainer,.jimu-widget-threatAnalysis-defaultThreatTypePopup .esriCTPopupContainer {overflow: hidden; width: 100%; height: 100%;}.jimu-widget-threatAnalysis-defaultThreatTypePopup .esriCTDefaultThreatsDropdown .dijitSelectLabel {text-overflow: ellipsis; text-align: justify; overflow: hidden; width: 220px; padding: 5px 0px 0px 0px;}.jimu-widget-threatAnalysis-setting .esriCTDijitWidth {width: calc(100% - 25px);}.jimu-widget-threatAnalysis-setting .esriCTPadding10{padding: 10px;}.jimu-widget-threatAnalysis-setting .esriCTDijitWrapper .dijitSelectLabel {width: 450px;}',
"*now":function(z){z(['dojo/i18n!*preload*widgets/ThreatAnalysis/setting/nls/Setting*["ar","bg","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/kernel dojo/query dojo/number dijit/_WidgetsInTemplateMixin dijit/registry jimu/BaseWidgetSetting jimu/LayerStructure jimu/utils dojo/on jimu/dijit/TabContainer3 dojo/text!../models/ThreatTypes.json dojo/text!../models/LpgThreatTypes.json jimu/dijit/SimpleTable ./newThreatType dojo/dom-style ../utils dojo/dom-attr jimu/dijit/Message dijit/form/Select".split(" "),function(z,u,d,r,n,l,v,D,B,C,y,m,w,e,q,g,k,A,c,h,p){return z([B,v],
{baseClass:"jimu-widget-threatAnalysis-setting",_SettingsInstance:null,_currentSettings:null,_shakingElements:[],postMixInProperties:function(){this.nls=d.mixin(this.nls,window.jimuNls.common,window.jimuNls.units)},postCreate:function(){String.prototype.format||(String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,f){return"undefined"!==typeof a[f]?a[f]:b})});this.inherited(arguments);this.config.hasOwnProperty("threatAnalysis")&&(this.config=c.transformOldConfigToNewConfigJson(this.config));
window.isRTL&&"ar"===r.locale?A.set(this.helpBtn,"transform","rotateY(180deg)"):A.set(this.helpBtn,"transform","");this._threatData=JSON.parse(e);this._lpgThreatData=JSON.parse(q);this._handleClickEvents();this._populateLayerSelect(this._getAllMapLayers(!1),this.opLayerList,!1);this._populateLayerSelect(this._getAllMapLayers(!0),this.defaultInputLayer,!0)},startup:function(){this.inherited(arguments);this._initTabs();this._initThreatTypeTable();this.setConfig(this.config)},setConfig:function(a){this.config=
a;this.config.hasOwnProperty("generalSettings")&&(this.config.generalSettings.operationalLayer&&""!==this.config.generalSettings.operationalLayer.name?this.opLayerList.set("value",this.config.generalSettings.operationalLayer.name):this.opLayerList.set("value",""),this.config.generalSettings.unit&&""!==this.config.generalSettings.unit?this.unitType.set("value",this.config.generalSettings.unit,!1):this.unitType.set("value","feet",!1),this.config.generalSettings.layerToSelectFeatures&&""!==this.config.generalSettings.layerToSelectFeatures?
this.defaultInputLayer.set("value",this.config.generalSettings.layerToSelectFeatures):this.defaultInputLayer.set("value",""),this.config.generalSettings.defaultInputType&&""!==this.config.generalSettings.defaultInputType?this.defaultInputLocation.set("value",this.config.generalSettings.defaultInputType):this.defaultInputLocation.set("value","interactive"));a=this.config.hasOwnProperty("threats")?this.config.threats:c.getDefaultThreats(this._threatData,this._lpgThreatData);this._threatTypeTable.clear();
for(var b=0;b<a.length;b++){var f=a[b];this._populateThreatTableRow(f)}if(!t)var t=this.unitType.value;this.unitMeasureLabel.innerHTML=this.nls.unitMeasureLabel.format(t&&"meters"===t.toLowerCase()?this.nls.meters:this.nls.feet);this.defaultThreatType.set("options",this._getDefaultThreatOptions(!0));this.config.generalSettings.defaultThreatType&&""!==this.config.generalSettings.defaultThreatType?this.defaultThreatType.set("value",this.config.generalSettings.defaultThreatType):this.defaultThreatType.set("value",
"")},getConfig:function(){if(0<this._getThreatNamesWithDuplicateZonesName().length)return new p({message:""+this.nls.uniqueZoneRequiredMsg+" "+this._getThreatNamesWithDuplicateZonesName().join(", ")}),!1;this.config.generalSettings.operationalLayer.name=this.opLayerList.value;this.config.generalSettings.unit=this.unitType.value;this.config.threats=this._getConfiguredThreats();this.config.generalSettings.defaultInputType=this.defaultInputLocation.value;this.config.generalSettings.layerToSelectFeatures=
this.defaultInputLayer.value;this.config.generalSettings.defaultThreatType=this.defaultThreatType.value;return this.config},destroy:function(){this.inherited(arguments)},_checkValidValues:function(){var a=n(".dijitSpinner.dijitNumberTextBox.dijitValidationTextBox",this._SettingsInstance.domNode);return u.every(a,function(b){var f=D.byNode(b);if(f){if(f.value>=f.constraints.min&&f.value<=f.constraints.max)return!0;d.hitch(this,this._shake(b,16));return!1}},this)},_getAllMapLayers:function(a){var b=
[];C.getInstance().traversal(function(f){"undefined"!==typeof f._layerInfo.layerObject.type&&-1===f._layerInfo.layerObject.type.indexOf("tile")&&("esriGeometryPolygon"===f._layerInfo.layerObject.geometryType||a)&&b.push(f._layerInfo.layerObject)});return b},_populateLayerSelect:function(a,b,f){var t=[{value:"",label:this.nls.selectLabel,selected:!0}];u.forEach(a,d.hitch(this,function(x){f?"Feature Layer"===x.type&&t.push({value:x.name,label:y.sanitizeHTML(x.name),selected:!1}):x.url&&"Feature Layer"===
x.type&&this._containsSupportedCapabilities(x.capabilities)&&t.push({value:x.name,label:y.sanitizeHTML(x.name)})}));b.set("options",t)},_containsSupportedCapabilities:function(a){var b=!0;["create","delete","query","update","editing"].forEach(function(f){-1===a.toLowerCase().split(",").indexOf(f)&&(b=!1)});return b},_getThreatTypeNls:function(a){var b={"Pipe Bomb":"pipeBombLabel","Suicide Bomb":"suicideBombLabel",Briefcase:"briefcaseLabel",Car:"carLabel","SUV/VAN":"suvVanLabel","Small Delivery Truck":"smallDeliveryTruckLabel",
"Container/Water Truck":"containerWaterTruckLabel","Semi-Trailer":"semiTrailerLabel","Small LPG Tank":"smallLPGTank","Large LPG Tank":"largeLPGTank","Commercial/Residential LPG Tank":"commercialResidentialLPGTank","Small LPG Truck":"smallLPGTruck","Semi-Tanker LPG":"semiTankerLPG"};a=void 0!==b[a]?this.nls[b[a]]:a;return a},_shake:function(a,b){function f(){if(15>t){a.style.transform="translate(0px, 0px)";b-=x;var E=G(-b,b),F=G(-b,b);a.style.transform="translate("+E+"px, "+F+"px)";t+=1;requestAnimationFrame(f)}15<=
t&&(a.style.transform="translate(0, 0)",H._shakingElements.splice(H._shakingElements.indexOf(a),1))}var t=1,x=b/15,G=function(E,F){return Math.floor(Math.random()*(F-E+1))+E};if(-1===this._shakingElements.indexOf(a)){this._shakingElements.push(a);var H=this;f()}},_initTabs:function(){this.tab=new w({tabs:[{title:this.nls.threatTypeLabel,content:this.threatTypeTab},{title:this.nls.generalLabel,content:this.MiscTab}],"class":"esriCTFullHeight"});this.own(m(this.tab,"tabChanged",d.hitch(this,function(){this.tab.containerNode.scrollTop=
0})));this.tab.placeAt(this.tabDiv)},_initThreatTypeTable:function(){var a=this._getTableFields(!0);this._threatTypeTable=new g(a);this._threatTypeTable.placeAt(this.threatTypesTableNode);this._threatTypeTable.startup();this.own(m(this._threatTypeTable,"actions-edit",d.hitch(this,this._onEditThreatInfoClick)));this.own(m(this._threatTypeTable,"row-delete",d.hitch(this,this._onDeleteThreatInfoClick)))},_getTableFields:function(){return{fields:[{name:"threatType",title:this.nls.threatTypeLabel,type:"text",
width:"30%"},{name:"threatDescription",title:this.nls.threatDescriptionColLabel,type:"text",width:"60%"},{name:"actions",title:this.nls.actions,type:"actions","class":"actions",actions:["edit","delete","up","down"],width:"10%"}],selectable:!1}},_handleClickEvents:function(){this.own(m(this.addThreatTypeButton,"click",d.hitch(this,function(){this._createNewThreatTypePopup(!0)})));this.own(m(this.unitType,"change",d.hitch(this,function(){this._convertValues("meters"===this.unitType.value)})))},_createNewThreatTypePopup:function(a,
b,f){var t=!1;this.newThreatTypeObj=new k({currentRow:b,currentRowData:f,isAddThreat:a,nls:this.nls,selectedUnitType:this.unitType.value,existingThreatNames:this._getExistingThreatTypes()});this.newThreatTypeObj.startup();this.own(m(this.newThreatTypeObj,"threatInfoUpdated",d.hitch(this,function(x){b?(b._configInfo.threatName===this.defaultThreatType.value&&(t=!0),b._configInfo=x,this._threatTypeTable.editRow(b,{threatType:this._getThreatTypeNls(x.threatName),threatDescription:this._getThreatDescription(x)}),
this.defaultThreatType.set("options",this._getDefaultThreatOptions(!1)),t&&this.defaultThreatType.set("value",x.threatName),this._setNodeTitle(b)):(this._populateThreatTableRow(x),this.defaultThreatType.addOption({label:this._getThreatTypeNls(x.threatName),value:x.threatName}))})))},_convertValues:function(a){this.unitMeasureLabel.innerHTML=this.nls.unitMeasureLabel.format(a?this.nls.meters:this.nls.feet);this.onUnitChange(a)},onUnitChange:function(a){var b=this._threatTypeTable.getRows();u.forEach(b,
d.hitch(this,function(f){u.forEach(f._configInfo.zones,d.hitch(this,function(t){var x=t.distance;t.distance=a?.3048*x:3.28084*x}));this._threatTypeTable.editRow(f,{threatDescription:this._getThreatDescription(f._configInfo)});this._setNodeTitle(f)}))},_populateThreatTableRow:function(a){var b={};b.threatType=this._getThreatTypeNls(a.threatName);b.threatDescription=this._getThreatDescription(a);b=this._threatTypeTable.addRow(b);b.success&&b.tr&&(b=b.tr,b._configInfo=a,this._setNodeTitle(b))},_getThreatDescription:function(a){var b=
"";u.forEach(a.zones,d.hitch(this,function(f,t){b=b+this._getZoneNameNls(f.name)+": "+l.format(f.distance,{places:2});a.zones.length-1!==t&&(b+=" | ")}));return b},_getZoneNameNls:function(a){var b={"Mandatory Evacuation Distance":"mandatoryLabel","Safe Evacuation Distance":"safeLabel","Fireball Diameter":"fireBallDiameterLable","Safe Distance":"lpgSafeDistanceLable"};a=void 0!==b[a]?this.nls[b[a]]:a;return a},_getConfiguredThreats:function(){var a=[];var b=this._threatTypeTable.getRows();u.forEach(b,
d.hitch(this,function(f){var t={};f._configInfo&&(t=f._configInfo,a.push(t))}));return a},_onEditThreatInfoClick:function(a){var b=this._threatTypeTable.getRowData(a);b&&this._createNewThreatTypePopup(!1,a,b)},_getExistingThreatTypes:function(){var a,b=[];(a=this._threatTypeTable.getRows())&&0<a.length&&u.forEach(a,function(f){f._configInfo&&(f=r.locale.includes("en")?f._configInfo.threatName:f.innerText.split("\n")[0],b.push(f))});return b},_setNodeTitle:function(a){a=n("..normal-text-div",a)[1];
var b=a.innerHTML.split(" | ").join("\n");a.title="";-1!==b.search("\x26nbsp;")&&(b=b.split("\x26nbsp;").join(" "));b&&h.set(a,"title",b)},_getThreatNamesWithDuplicateZonesName:function(){var a=[],b=!1,f=this._getThreatsInfo();u.forEach(f,d.hitch(this,function(t){this._isDuplicateZoneNames(t.zones)&&(b=!0);b&&(a.push(t.threatName),b=!1)}));return a},_isDuplicateZoneNames:function(a){if(0<a.length){var b=a.map(function(f){return f.name});return b.some(function(f,t){return b.indexOf(f)!==t})}},_getDefaultThreatOptions:function(a){var b=
[{value:"",label:this.nls.selectLabel,selected:a}],f={};a=this._getThreatsInfo();u.forEach(a,d.hitch(this,function(t){f={label:this._getThreatTypeNls(t.threatName),value:t.threatName};b.push(f)}));return b},_getThreatsInfo:function(){var a=[];var b=this._threatTypeTable.getRows();u.forEach(b,d.hitch(this,function(f){f._configInfo&&a.push(f._configInfo)}));return a},_onDeleteThreatInfoClick:function(a){if(this._threatTypeTable.getRowData(a)){var b=this.defaultThreatType.getOptions(a._configInfo.threatName);
b&&this.defaultThreatType.removeOption(b)}a._configInfo.threatName===this.defaultThreatType.value&&this.defaultThreatType.set("value","")}})});
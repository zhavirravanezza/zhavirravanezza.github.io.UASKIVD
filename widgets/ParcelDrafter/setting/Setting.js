// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/ParcelDrafter/setting/SymbolChooserPopup":function(){define("dojo/_base/declare jimu/BaseWidgetSetting dijit/_WidgetsInTemplateMixin dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on dojo/text!./SymbolChooserPopup.html jimu/dijit/SymbolChooser jimu/dijit/Popup dijit/focus dojo/domReady!".split(" "),function(g,a,c,d,k,m,n,t,B,z,C){return g([a,c],{templateString:t,baseClass:"jimu-widget-ParcelDrafter-setting",postCreate:function(){this.own(n(this.okButton,"click",d.hitch(this,
this._onOKButtonClicked)));this._initSymbolChooser();this._createSymbolChooserPopup()},_initSymbolChooser:function(){this.symbolChooser=new B(this.symbolParams,m.create("div",{},this.symbolData));this.symbolChooser.startup()},_createSymbolChooserPopup:function(){this.popup=new z({titleLabel:this.symbolChooserTitle,width:420,height:400,content:this.domNode})},_onOKButtonClicked:function(){if(!k.contains(this.okButton,"jimu-state-disabled"))if(this._validatePointSymbolSize())if(this._validatePointOutlineWidth())if(this._validateLineWidth())if(this._validatePolygonOutlineWidth())this.onOkClick();
else C.focus(this.symbolChooser.fillOutlineWidth.focusNode);else C.focus(this.symbolChooser.lineWidth.focusNode);else C.focus(this.symbolChooser.pointOutlineWidth.focusNode);else C.focus(this.symbolChooser.pointSize.focusNode)},onOkClick:function(q){return q},_validatePointSymbolSize:function(){return this.symbolChooser&&this.symbolChooser.hasOwnProperty("pointSize")?this.symbolChooser.pointSize.isValid():!0},_validatePolygonOutlineWidth:function(){return this.symbolChooser&&this.symbolChooser.hasOwnProperty("fillOutlineWidth")?
this.symbolChooser.fillOutlineWidth.isValid():!0},_validatePointOutlineWidth:function(){return this.symbolChooser&&this.symbolChooser.hasOwnProperty("pointOutlineWidth")?this.symbolChooser.pointOutlineWidth.isValid():!0},_validateLineWidth:function(){if(this.symbolChooser&&this.symbolChooser.hasOwnProperty("lineWidth"))if(this.symbolChooser.lineWidth.isValid()){var q=this.symbolChooser.lineWidth.getValue();if(""===q||null===q||void 0===q||isNaN(q))return this.symbolChooser.lineWidth.setValue("0"),
!1}else return!1;return!0}})})},"widgets/ParcelDrafter/setting/LayerChooser":function(){define("dojo/_base/declare jimu/BaseWidgetSetting dijit/_WidgetsInTemplateMixin dojo/_base/array dojo/_base/lang dojo/on dojo/text!./LayerChooser.html jimu/dijit/LayerChooserFromMap jimu/dijit/LayerChooserFromMapWithDropbox dojo/dom-class jimu/utils dojo/Deferred esri/request dojo/promise/all jimu/dijit/Message jimu/dijit/Popup dojo/dom-construct dojo/query dojo/domReady!".split(" "),function(g,a,c,d,k,m,n,t,B,
z,C,q,p,w,K,M,Q,D){return g([a,c],{baseClass:"jimu-widget-ParcelDrafter-setting",templateString:n,selectedLayerDetails:[],relatedLayerInfo:[],relatedLayerTypes:[],chooseRelatedLayers:!1,_layerChooserFromMap:null,startup:function(){this.inherited(arguments)},postCreate:function(){this.selectedLayerDetails=[];this.relatedLayerInfo=[];this.relatedLayerTypes&&0!==this.relatedLayerTypes.length||(this.relatedLayerTypes=["point","polyline","polygon"]);this._initPopup();this._initLayerSelector();if(C.has("ff")||
C.has("safari")){var v=D(".jimu-tree .jimu-tree-check-node",this.singleLayerChooser);d.forEach(v,function(l){z.add(l,"esriCTTreeNode")})}},_initPopup:function(){this.okButton=Q.create("button",{title:this.nls.common.ok});this.okButton.label=this.nls.common.ok;this.okButton.onClick=k.hitch(this,function(){this.multiple&&this._getSelectedLayers();this.chooseRelatedLayers&&0<this.relatedLayerInfo.length&&this.selectedLayerDetails.push(this.relatedLayerInfo[this.relatedLayerSelector.value]);this.onOKButtonClicked(this.selectedLayerDetails);
this.popup.close()});this.cancelButton=Q.create("button",{title:this.nls.common.cancel});this.cancelButton.label=this.nls.common.cancel;this.cancelButton.onClick=k.hitch(this,function(v){this.onCancelClick(v);this.popup.close()});this.popup=new M({titleLabel:this.title,content:this.domNode,width:830,autoHeight:!0,buttons:[this.okButton,this.cancelButton]});this.popup.disableButton(0)},_initLayerSelector:function(){var v={multiple:this.multiple,createMapResponse:this.map.webMapResponse,showLayerTypes:this.showLayerTypes,
filter:this._createFiltersForLayerSelector()};this.multiple?this._layerChooserFromMap=new t(v):(v=new t(v),this._layerChooserFromMap=new B({layerChooser:v}));this.chooseRelatedLayers?this._layerChooserFromMap.placeAt(this.relatedLayerChooserDiv):(z.add(this.relatedLayerChooser,"esriCTHidden"),this._layerChooserFromMap.placeAt(this.singleLayerChooser));this._layerChooserFromMap.startup();this.multiple?this._layerChooserFromMap._onTreeClick=k.hitch(this,function(){this._layerChooserFromMap.getSelectedItems().length?
this.popup.enableButton(0):this.popup.disableButton(0)}):this.own(m(this._layerChooserFromMap,"selection-change",k.hitch(this,function(l){this._setSelectedLayerDetails(l)})))},_createFiltersForLayerSelector:function(){var v=t.createFeaturelayerFilter(this.types?this.types:["point","polyline","polygon"],!1,!1);var l=t.createImageServiceLayerFilter(!0);return t.orCombineFilters([v,l])},_setSelectedLayerDetails:function(v){var l={};this.selectedLayerDetails=[];l.id=v[0].id;l.url=v[0].url;l.geometryType=
v[0].geometryType;l.layerId=v[0].layerId;l.baseURL=v[0].url.substr(0,v[0].url.lastIndexOf("/")+1);v[0].relationships&&(l.relationships=v[0].relationships);this.selectedLayerDetails.push(l);this.chooseRelatedLayers?this._createRelatedLayerOptions(this.selectedLayerDetails[0]):this.popup.enableButton(0)},_getSelectedLayers:function(){var v;this.selectedLayerDetails=[];var l=this._layerChooserFromMap.getSelectedItems();if(0<l.length)for(this.popup.enableButton(0),v=0;v<l.length;v++){var u={url:l[v].layerInfo.layerObject.url,
geometryType:l[v].layerInfo.layerObject.geometryType,id:l[v].layerInfo.layerObject.id};u.layerId=l[v].layerId?l[v].layerId:u.url.substr(u.url.lastIndexOf("/")+1,u.url.length);var y=u.url.substr(0,u.url.lastIndexOf("/")+1);u.baseURL=y;this.selectedLayerDetails.push(u)}},_getLayerDetailsFromMap:function(v,l){var u=[],y;this.map&&this.map.webMapResponse&&this.map.webMapResponse.itemInfo&&this.map.webMapResponse.itemInfo.itemData&&this.map.webMapResponse.itemInfo.itemData.operationalLayers&&d.forEach(this.map.webMapResponse.itemInfo.itemData.operationalLayers,
k.hitch(this,function(A){y={};A.layerObject&&("ArcGISMapServiceLayer"===A.layerType||"ArcGISTiledMapServiceLayer"===A.layerType?v.substring(0,v.length-1)===A.url&&(d.forEach(A.resourceInfo.layers,k.hitch(this,function(H){H.id===parseInt(l,10)&&(y.title=H.name,u.push(y))})),d.forEach(A.layers,k.hitch(this,function(H){H.id===parseInt(l,10)&&(H.name&&(y.title=H.name),y.id=A.id,u.push(y))}))):A.url.replace(/.*?:\/\//g,"").toLowerCase()===(v+l).replace(/.*?:\/\//g,"").toLowerCase()&&(y.id=A.id,y.title=
A.title,u.push(y)))}));return u},_createRelatedLayerOptions:function(v){var l=[];if(v&&v.relationships&&0<v.relationships.length){this.relatedLayerInfo=[];var u=[];var y=v.baseURL;d.forEach(v.relationships,k.hitch(this,function(A){var H=new q;u.push(H);p({url:y+A.relatedTableId,content:{f:"json"},handleAs:"json"}).then(k.hitch(this,function(L){H.resolve(L)}),k.hitch(this,function(){H.resolve()}))}));w(u).then(k.hitch(this,function(A){var H,L;for(H=0;H<A.length;H++)if(A[H]){var b=C.getTypeByGeometryType(A[H].geometryType);
if(-1<this.relatedLayerTypes.indexOf(b)){b={url:y+A[H].id,baseURL:y,relationShipId:v.relationships[H].id,layerId:A[H].id,geometryType:A[H].geometryType,title:A[H].name};A[H].fields&&(b.fields=k.clone(A[H].fields));var h=this._getLayerDetailsFromMap(y,A[H].id);for(L=0;L<h.length;L++){var r=k.clone(b);k.mixin(r,h[L]);r.title&&(this.relatedLayerInfo[l.length]=r,l.push({label:this.relatedLayerInfo[l.length].title,value:l.length}))}}}0<l.length?(this.relatedLayerSelector.options.length=0,l[0].selected=
!0,this.relatedLayerSelector.addOption(l),this.popup.enableButton(0)):this._resetRelatedLayerSelector()}),k.hitch(this,function(){this._resetRelatedLayerSelector()}))}else this._resetRelatedLayerSelector()},_resetRelatedLayerSelector:function(){this.relatedLayerSelector.value="";this.relatedLayerSelector.options.length=0;this.relatedLayerSelector.addOption({value:"",label:"",selected:!0});this.popup.disableButton(0);this._showMessage(this.nls.layerSelector.selectedLayerNotHavingRelatedLayer)},onOKButtonClicked:function(){return this.selectedLayerDetails},
onCancelClick:function(v){return v},_showMessage:function(v){(new K({message:v,buttons:[{label:this.nls.common.ok}]})).message=v}})})},"jimu/dijit/LayerChooserFromMap":function(){define("dojo/on dojo/Evented dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/store/Memory dojo/Deferred dojo/store/Observable dijit/tree/ObjectStoreModel dojo/promise/all dojo/_base/lang dojo/_base/html dojo/_base/array jimu/utils jimu/dijit/_Tree jimu/LayerInfos/LayerInfos jimu/dijit/LoadingIndicator".split(" "),
function(g,a,c,d,k,m,n,t,B,z,C,q,p,w,K,M,Q,D){var v=c([d,k,m,a],{templateString:'\x3cdiv style\x3d"width:100%;"\x3e\x3cdiv data-dojo-attach-point\x3d"errorTipSection" class\x3d"error-tip-section"\x3e\x3cspan class\x3d"jimu-icon jimu-icon-error"\x3e\x3c/span\x3e\x3cspan class\x3d"jimu-state-error-text" data-dojo-attach-point\x3d"errTip"\x3e${nls.noLayersTip}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e',_store:null,_id:0,_treeClass:"layer-chooser-tree",createMapResponse:null,multiple:!1,onlyShowVisible:!1,
updateWhenLayerInfosIsShowInMapChanged:!1,onlyShowWebMapLayers:!1,displayTooltipForTreeNode:!1,onlyFilterCurrentLayerWhenAddItem:!1,postMixInProperties:function(){this.nls=window.jimuNls.basicLayerChooserFromMap},postCreate:function(){this.inherited(arguments);p.addClass(this.domNode,"jimu-basic-layer-chooser-from-map");this.multiple=!!this.multiple;this.shelter=new D({hidden:!0});this.shelter.placeAt(this.domNode);this.shelter.startup();this._createTree();this.basicFilter=q.hitch(this,this.basicFilter);
this.filter=v.andCombineFilters([this.basicFilter,this.filter]);this.createMapResponse&&this.setCreateMapResponse(this.createMapResponse)},basicFilter:function(l){var u=new t;this.onlyShowVisible?u.resolve(l.isShowInMap()):u.resolve(!0);return u},filter:function(l){l=new t;l.resolve(!0);return l},getSelectedItems:function(){var l=this.tree.getSelectedItems();return w.map(l,q.hitch(this,function(u){return this.getHandledItem(u)}))},getAllItems:function(){var l=this.tree.getAllItems(),u=[];w.forEach(l,
q.hitch(this,function(y){"root"!==y.id&&(y=this.getHandledItem(y),u.push(y))}));return u},getHandledItem:function(l){return{name:l.name,layerInfo:l.layerInfo}},_isLeafItem:function(l){return l.isLeaf},setCreateMapResponse:function(l){this.createMapResponse=l;Q.getInstance(this.createMapResponse.map,this.createMapResponse.itemInfo).then(q.hitch(this,function(u){this.layerInfosObj=u;this.own(g(this.layerInfosObj,"layerInfosChanged",q.hitch(this,this._onLayerInfosChanged)));this.updateWhenLayerInfosIsShowInMapChanged&&
this.own(g(this.layerInfosObj,"layerInfosIsShowInMapChanged",q.hitch(this,this._onLayerInfosIsShowInMapChanged)));this._buildTree(this.layerInfosObj)}))},_onLayerInfosChanged:function(l,u){this._buildTree(this.layerInfosObj);this.emit("update")},_onLayerInfosIsShowInMapChanged:function(l){this._buildTree(this.layerInfosObj);this.emit("update")},_buildTree:function(l){this._clear();p.setStyle(this.errorTipSection,"display","block");var u=[];this.onlyShowWebMapLayers?(u=l.getLayerInfoArrayOfWebmap(),
u=u.concat(l.getTableInfoArrayOfWebmap())):(u=l.getLayerInfoArray(),u=u.concat(l.getTableInfoArray()));0!==u.length&&(p.setStyle(this.errorTipSection,"display","none"),w.forEach(u,q.hitch(this,function(y){this._addDirectLayerInfo(y)})))},_addDirectLayerInfo:function(l){l&&l.getLayerObject().then(q.hitch(this,function(){this._addItem("root",l)}),q.hitch(this,function(u){console.error(u)}))},_clear:function(){var l=this._store.query({parent:"root"});w.forEach(l,q.hitch(this,function(u){u&&"root"!==
u.id&&this._store.remove(u.id)}))},_addItem:function(l,u){var y=null,A=u.getLayerType(),H=this.filter(u);C({layerType:A,valid:H}).then(q.hitch(this,function(L){if(L.valid){var b=q.hitch(this,function(F,J){this._id++;y={name:u.title||"",parent:l,layerInfo:u,type:L.layerType,layerClass:u.layerObject.declaredClass,id:this._id.toString(),isLeaf:F,hasChildren:J};this._store.add(y)}),h=u.getSubLayers(),r=0===h.length,x=!0;this.onlyFilterCurrentLayerWhenAddItem?(r&&(x=!1),b(r,x)):r?b(r,!1):(h=w.map(h,q.hitch(this,
function(F){return this.filter(F)})),C(h).then(q.hitch(this,function(F){(F=w.some(F,function(J){return J}))&&b(r,F)})))}}))},_getRootItem:function(){return{id:"root",name:"Map Root",type:"root",isLeaf:!1,hasChildren:!0}},_createTree:function(){var l=this._getRootItem();l=new n({data:[l],getChildren:function(u){return this.query({parent:u.id})}});this._store=new B(l);l=new z({store:this._store,query:{id:"root"},mayHaveChildren:q.hitch(this,this._mayHaveChildren)});this.tree=new M({multiple:this.multiple,
model:l,showRoot:!1,isLeafItem:q.hitch(this,this._isLeafItem),style:{width:"100%"},onOpen:q.hitch(this,function(u,y){"root"!==u.id&&this._onTreeOpen(u,y)}),onClick:q.hitch(this,function(u,y,A){this._onTreeClick(u,y,A);this.emit("tree-click",u,y,A)}),getIconStyle:q.hitch(this,function(u,y){var A=null;if(!u||"root"===u.id)return null;var H={width:"20px",height:"20px",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundImage:""},L=window.location.protocol+"//"+window.location.host+
require.toUrl("jimu");if(u=this._getIconInfo(u,y).imageName)H.backgroundImage="url("+L+"/css/images/"+u+")",A=H;return A}),getIconClass:q.hitch(this,function(u,y){return this._getIconInfo(u,y).className}),getTooltip:q.hitch(this,function(u){return this.displayTooltipForTreeNode?u.layerInfo.title:""})});p.addClass(this.tree.domNode,this._treeClass);this.tree.placeAt(this.shelter.domNode,"before")},_mayHaveChildren:function(l){return l.hasChildren},_getIconInfo:function(l,u){var y="",A="";"ArcGISDynamicMapServiceLayer"===
l.type||"ArcGISTiledMapServiceLayer"===l.type?u?(y="mapserver_open.png",A="mapservice-layer-icon open"):(y="mapserver_close.png",A="mapservice-layer-icon close"):"GroupLayer"===l.type?u?(y="group_layer2.png",A="group-layer-icon open"):(y="group_layer1.png",A="group-layer-icon close"):"FeatureLayer"===l.type?(l=K.getTypeByGeometryType(l.layerInfo.layerObject.geometryType),"point"===l?(y="point_layer1.png",A="point-layer-icon"):"polyline"===l?(y="line_layer1.png",A="line-layer-icon"):"polygon"===l&&
(y="polygon_layer1.png",A="polygon-layer-icon")):"Table"===l.type?(y="table.png",A="table-icon"):"ArcGISImageServiceLayer"===l.type||"ArcGISImageServiceVectorLayer"===l.type?(y="image_layer.png",A="iamge-layer-icon"):u?(y="mapserver_open.png",A="mapservice-layer-icon open"):(y="mapserver_close.png",A="mapservice-layer-icon close");return{imageName:y,className:A}},_onTreeOpen:function(l,u){if("root"!==l.id){var y=[];u=[];y=l.layerInfo.getSubLayers();l.checked||(this.shelter.show(),u=w.map(y,q.hitch(this,
function(A){return A.getLayerObject()})),C(u).then(q.hitch(this,function(){this.domNode&&(w.forEach(y,q.hitch(this,function(A){this._addItem(l.id,A)})),l.checked=!0,this.shelter.hide())}),q.hitch(this,function(A){console.error(A);this.shelter.hide()})))}},_onTreeClick:function(l,u,y){},destroy:function(){this.shelter&&(this.shelter.destroy(),this.shelter=null);this.tree&&this.tree.destroy();this.inherited(arguments)}});v.createFilterByLayerType=function(l){q.isArrayLike(l)||(l=[]);return function(u){var y=
new t;if(0===l.length)y.resolve(!0);else{var A=[];u.traversal(function(H){A.push(H.getLayerType())});C(A).then(function(H){for(var L=0;L<H.length;L++)for(var b=0;b<l.length;b++)if(H[L]===l[b]){y.resolve(!0);return}y.resolve(!1)},function(H){console.error(H);y.reject(H)})}return y}};v.createFeaturelayerFilter=function(l,u,y,A){var H=["point","polyline","polygon"];l&&0<l.length?(l=w.filter(l,function(L){return 0<=H.indexOf(L)}),0===l.length&&(l=H)):l=H;return function(L){var b=L.getLayerType();L=L.getLayerObject();
return C({layerType:b,layerObject:L}).then(function(h){var r=h.layerType;h=h.layerObject;if("ArcGISDynamicMapServiceLayer"===r||"ArcGISTiledMapServiceLayer"===r||"GroupLayer"===r||"FeatureCollection"===r)return!0;if("FeatureLayer"===r){r=K.getTypeByGeometryType(h.geometryType);r=0<=w.indexOf(l,r);var x=v._shouldPassStatisticsCheck(A,h);return h.url?(h=K.isFeaturelayerUrlSupportQuery(h.url,h.capabilities),r&&h&&x):u&&r}return"Table"===r?(r=K.isFeaturelayerUrlSupportQuery(h.url,h.capabilities),h=v._shouldPassStatisticsCheck(A,
h),y&&r&&h):!1})}};v.createImageServiceLayerFilter=function(l,u){return function(y){var A=y.getLayerType();y=y.getLayerObject();return C({layerType:A,layerObject:y}).then(function(H){var L=H.layerType,b=H.layerObject;return"ArcGISImageServiceLayer"===L||"ArcGISImageServiceVectorLayer"===L?l?K.isImageServiceSupportQuery(H.layerObject.capabilities)?u?v._shouldPassStatisticsCheck(u,b):!0:!1:!0:!1})}};v._shouldPassStatisticsCheck=function(l,u){return l?(l=!1,l=u.advancedQueryCapabilities?!!u.advancedQueryCapabilities.supportsStatistics:
!!u.supportsStatistics):!0};v.createQueryableLayerFilter=function(l){var u=v.createFeaturelayerFilter(["point","polyline","polygon"],!1,!0,l);l=v.createImageServiceLayerFilter(!0,l);return v.orCombineFilters([u,l])};v.andCombineFilters=function(l){return v._combineFilters(l,!0)};v.orCombineFilters=function(l){return v._combineFilters(l,!1)};v._combineFilters=function(l,u){return function(y){var A=new t,H=w.map(l,function(L){return L(y)});C(H).then(function(L){var b=!1;b=u?w.every(L,function(h){return h}):
w.some(L,function(h){return h});A.resolve(b)},function(L){console.error(L);A.reject(L)});return A}};return v})},"dijit/tree/ObjectStoreModel":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/when ../Destroyable".split(" "),function(g,a,c,d,k,m,n){return c("dijit.tree.ObjectStoreModel",n,{store:null,labelAttr:"name",labelType:"text",root:null,query:null,constructor:function(t){k.mixin(this,t);this.childrenCache={}},getRoot:function(t,B){if(this.root)t(this.root);
else{var z=this.store.query(this.query);z.then&&this.own(z);m(z,k.hitch(this,function(C){if(1!=C.length)throw Error("dijit.tree.ObjectStoreModel: root query returned "+C.length+" items, but must return exactly one");this.root=C[0];t(this.root);z.observe&&z.observe(k.hitch(this,function(q){this.onChange(q)}),!0)}),B)}},mayHaveChildren:function(){return!0},getChildren:function(t,B,z){var C=this.store.getIdentity(t);if(this.childrenCache[C])m(this.childrenCache[C],B,z);else{var q=this.childrenCache[C]=
this.store.getChildren(t);q.then&&this.own(q);q.observe&&this.own(q.observe(k.hitch(this,function(p,w,K){this.onChange(p);w!=K&&m(q,k.hitch(this,"onChildrenChange",t))}),!0));m(q,B,z)}},isItem:function(){return!0},getIdentity:function(t){return this.store.getIdentity(t)},getLabel:function(t){return t[this.labelAttr]},newItem:function(t,B,z,C){return this.store.put(t,{parent:B,before:C})},pasteItem:function(t,B,z,C,q,p){var w=new d;if(B===z&&!C&&!p)return w.resolve(!0),w;B&&!C?this.getChildren(B,k.hitch(this,
function(K){K=[].concat(K);var M=g.indexOf(K,t);K.splice(M,1);this.onChildrenChange(B,K);w.resolve(this.store.put(t,{overwrite:!0,parent:z,oldParent:B,before:p,isCopy:!1}))})):w.resolve(this.store.put(t,{overwrite:!0,parent:z,oldParent:B,before:p,isCopy:!0}));return w},onChange:function(){},onChildrenChange:function(){},onDelete:function(){}})})},"jimu/dijit/_Tree":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/_TreeNode.html dojo/_base/lang dojo/_base/html dojo/_base/array dojo/_base/event dojo/query dojo/aspect dojo/on dojo/keys dojo/Evented dijit/registry dijit/Tree jimu/utils".split(" "),
function(g,a,c,d,k,m,n,t,B,z,C,q,p,w,K,M){var Q=g([K._TreeNode,p],{templateString:d,declaredClass:"jimu._TreeNode",isLeaf:!1,groupId:"",postCreate:function(){this.inherited(arguments);m.addClass(this.domNode,"jimu-tree-node");this.isLeaf=!!this.isLeaf;this.groupId?(this.checkNode=m.toDom('\x3cinput type\x3d"radio" /\x3e'),this.checkNode.name=this.groupId):this.checkNode=m.toDom('\x3cinput type\x3d"checkbox" /\x3e');m.addClass(this.checkNode,"jimu-tree-check-node");m.place(this.checkNode,this.contentNode,
"first");this.own(C(this.checkNode,"click",k.hitch(this,this._onClick)));this.own(C(this.rowNode,"keydown",k.hitch(this,function(D,v){v.target=D;v.keyCode!==q.ENTER&&v.keyCode!==q.SPACE||this._onClick(v)},this.checkNode)));this.isLeaf?this.groupId?m.setStyle(this.checkNode,"display","none"):m.setStyle(this.checkNode,"display","inline"):m.setStyle(this.checkNode,"display","none");this.isLeaf?m.addClass(this.domNode,"jimu-tree-leaf-node"):m.addClass(this.domNode,"jimu-tree-not-leaf-node")},select:function(){this.isLeaf&&
(this.checkNode.checked=!0,m.addClass(this.domNode,"jimu-tree-selected-leaf-node"))},unselect:function(){this.isLeaf&&(this.checkNode.checked=!1,m.removeClass(this.domNode,"jimu-tree-selected-leaf-node"))},toggleSelect:function(){this.isLeaf&&(this.checkNode.checked?this.unselect():this.select())},_onClick:function(D){(D.target||D.srcElement)===this.checkNode?this.tree._onCheckNodeClick(this,this.checkNode.checked,D):this.tree._onClick(this,D)},_onChange:function(){this.isLeaf&&setTimeout(k.hitch(this,
function(){this.checkNode.checked?this.emit("tn-select",this):this.emit("tn-unselect",this)}),100)},destroy:function(){delete this.tree;this.inherited(arguments)}});return g([K,p],{declaredClass:"jimu._Tree",openOnClick:!0,multiple:!0,uniqueId:"",showRoot:!1,postMixInProperties:function(){this.inherited(arguments);this.uniqueId="tree_"+M.getRandomString()},postCreate:function(){this.inherited(arguments);m.addClass(this.domNode,"jimu-tree");this.own(z.before(this,"onClick",k.hitch(this,this._jimuBeforeClick)));
this.rootLoadingIndicator&&m.setStyle(this.rootLoadingIndicator,"display","none");this.dndController.singular=!0;m.setAttr(this.domNode,"tabindex",0)},removeItem:function(D){this.model.store.remove(D)},getAllItems:function(){var D=this.getAllTreeNodeWidgets();return n.map(D,k.hitch(this,function(v){var l=v.item;l.selected=v.checkNode.checked;return l}))},getSelectedItems:function(){var D=this.getAllTreeNodeWidgets();D=n.filter(D,k.hitch(this,function(v){return v.checkNode.checked}));return n.map(D,
k.hitch(this,function(v){return v.item}))},getFilteredItems:function(D){var v=this.getAllTreeNodeWidgets();v=n.map(v,k.hitch(this,function(l){var u=l.item;u.selected=l.checkNode.checked;return u}));return n.filter(v,k.hitch(this,function(l){return D(l)}))},getTreeNodeByItemId:function(D){for(var v=this._getAllTreeNodeDoms(),l=0;l<v.length;l++){var u=w.byNode(v[l]);if(u.item.id.toString()===D.toString())return u}return null},selectItem:function(D){(D=this.getTreeNodeByItemId(D))&&D.isLeaf&&this.selectNodeWidget(D)},
unselectItem:function(D){(D=this.getTreeNodeByItemId(D))&&D.isLeaf&&D.unselect()},getAllLeafTreeNodeWidgets:function(){var D=this.getAllTreeNodeWidgets();return n.filter(D,k.hitch(this,function(v){return v.isLeaf}))},getAllTreeNodeWidgets:function(){var D=this._getAllTreeNodeDoms();return n.map(D,k.hitch(this,function(v){return w.byNode(v)}))},isLeafItem:function(D){return D&&D.isLeaf},_getAllTreeNodeDoms:function(){return B(".dijitTreeNode",this.domNode)},_createTreeNode:function(D){D.isLeaf=this.isLeafItem(D.item);
this.multiple||(D.groupId=this.uniqueId);return new Q(D)},_onTreeNodeSelect:function(D){this.emit("item-select",{item:D.item,treeNode:D})},_onTreeNodeUnselect:function(D){this.emit("item-unselect",{item:D.item,treeNode:D})},selectNodeWidget:function(D){this.multiple||this.unselectAllLeafNodeWidgets();D.select()},_jimuBeforeClick:function(D,v,l){v.isLeaf&&(m.hasClass(l.target||l.srcElement,"jimu-tree-check-node")||(this.multiple?v.toggleSelect():this.selectNodeWidget(v)));return arguments},_onCheckNodeClick:function(D,
v,l){!this.multiple&&v&&this.unselectAllLeafNodeWidgets();t.stop(l);this.focusNode(D);setTimeout(k.hitch(this,function(){v?this.selectNodeWidget(D):D.unselect();this.onClick(D.item,D,l)}),0)},unselectAllLeafNodeWidgets:function(){var D=this.getAllLeafTreeNodeWidgets();n.forEach(D,k.hitch(this,function(v){v.unselect()}))}})})},"dijit/Tree":function(){define("dojo/_base/array dojo/aspect dojo/cookie dojo/_base/declare dojo/Deferred dojo/promise/all dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/errors/create dojo/fx dojo/has dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/topic dojo/touch dojo/when ./a11yclick ./focus ./registry ./_base/manager ./_Widget ./_TemplatedMixin ./_Container ./_Contained ./_CssStateMixin ./_KeyNavMixin dojo/text!./templates/TreeNode.html dojo/text!./templates/Tree.html ./tree/TreeStoreModel ./tree/ForestStoreModel ./tree/_dndSelector dojo/query!css2".split(" "),
function(g,a,c,d,k,m,n,t,B,z,C,q,p,w,K,M,Q,D,v,l,u,y,A,H,L,b,h,r,x,F,J,O,T,X,U){function I(e){return M.delegate(e.promise||e,{addCallback:function(f){this.then(f)},addErrback:function(f){this.otherwise(f)}})}var W=d("dijit._TreeNode",[L,b,h,r,x],{item:null,isTreeNode:!0,label:"",_setLabelAttr:function(e){this.labelNode["html"==this.labelType?"innerHTML":"innerText"in this.labelNode?"innerText":"textContent"]=e;this._set("label",e);p("dojo-bidi")&&this.applyTextDir(this.labelNode)},labelType:"text",
isExpandable:null,isExpanded:!1,state:"NotLoaded",templateString:J,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);this.isExpandable&&this.labelNode.setAttribute("aria-expanded",this.isExpanded);this.setSelected(!1)},_setIndentAttr:function(e){var f=Math.max(e,0)*this.tree._nodePixelIndent+"px";z.set(this.domNode,
"backgroundPosition",f+" 0px");z.set(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",f);g.forEach(this.getChildren(),function(E){E.set("indent",e+1)});this._set("indent",e)},markProcessing:function(){this.state="Loading";this._setExpando(!0)},unmarkProcessing:function(){this._setExpando(!1)},_updateItemClasses:function(e){var f=this.tree,E=f.model;f._v10Compat&&e===E.root&&(e=null);this._applyClassAndStyle(e,"icon","Icon");this._applyClassAndStyle(e,"label","Label");this._applyClassAndStyle(e,
"row","Row");this.tree._startPaint(!0)},_applyClassAndStyle:function(e,f,E){var G="_"+f+"Class";f+="Node";var N=this[G];this[G]=this.tree["get"+E+"Class"](e,this.isExpanded);t.replace(this[f],this[G]||"",N||"");z.set(this[f],this.tree["get"+E+"Style"](e,this.isExpanded)||{})},_updateLayout:function(){var e=this.getParent();e=!e||!e.rowNode||"none"==e.rowNode.style.display;t.toggle(this.domNode,"dijitTreeIsRoot",e);t.toggle(this.domNode,"dijitTreeIsLast",!e&&!this.getNextSibling())},_setExpando:function(e){var f=
["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"];e=e?0:this.isExpandable?this.isExpanded?1:2:3;t.replace(this.expandoNode,f[e],f);this.expandoNodeText.innerHTML=["*","-","+","*"][e]},expand:function(){if(this._expandDeferred)return I(this._expandDeferred);this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred);this.isExpanded=!0;this.labelNode.setAttribute("aria-expanded","true");(this.tree.showRoot||this!==this.tree.rootNode)&&
this.containerNode.setAttribute("role","group");t.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","true");var e=q.wipeIn({node:this.containerNode,duration:H.defaultDuration}),f=this._expandDeferred=new k(function(){e.stop()});a.after(e,"onEnd",function(){f.resolve(!0)},!0);e.play();return I(f)},collapse:function(){if(this._collapseDeferred)return I(this._collapseDeferred);
this._expandDeferred&&(this._expandDeferred.cancel(),delete this._expandDeferred);this.isExpanded=!1;this.labelNode.setAttribute("aria-expanded","false");this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","false");t.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var e=q.wipeOut({node:this.containerNode,duration:H.defaultDuration}),f=this._collapseDeferred=new k(function(){e.stop()});a.after(e,"onEnd",
function(){f.resolve(!0)},!0);e.play();return I(f)},indent:0,setChildItems:function(e){var f=this.tree,E=f.model,G=[],N=f.focusedChild,Z=this.getChildren();g.forEach(Z,function(P){h.prototype.removeChild.call(this,P)},this);this.defer(function(){g.forEach(Z,function(P){if(!P._destroyed&&!P.getParent()){f.dndController.removeTreeNode(P);(function da(R){var aa=E.getIdentity(R.item),ca=f._itemNodesMap[aa];1==ca.length?delete f._itemNodesMap[aa]:(aa=g.indexOf(ca,R),-1!=aa&&ca.splice(aa,1));g.forEach(R.getChildren(),
da)})(P);if(f.persist){var V=g.map(P.getTreePath(),function(R){return f.model.getIdentity(R)}).join("/"),S;for(S in f._openedNodes)S.substr(0,V.length)==V&&delete f._openedNodes[S];f._saveExpandedNodes()}f.lastFocusedChild&&!n.isDescendant(f.lastFocusedChild.domNode,f.domNode)&&delete f.lastFocusedChild;N&&!n.isDescendant(N.domNode,f.domNode)&&f.focus();P.destroyRecursive()}})});this.state="Loaded";e&&0<e.length?(this.isExpandable=!0,g.forEach(e,function(P){var V=E.getIdentity(P),S=f._itemNodesMap[V];
if(S)for(var ba=0;ba<S.length;ba++)if(S[ba]&&!S[ba].getParent()){var R=S[ba];R.set("indent",this.indent+1);break}R||(R=this.tree._createTreeNode({item:P,tree:f,isExpandable:E.mayHaveChildren(P),label:f.getLabel(P),labelType:f.model&&f.model.labelType||"text",tooltip:f.getTooltip(P),ownerDocument:f.ownerDocument,dir:f.dir,lang:f.lang,textDir:f.textDir,indent:this.indent+1}),S?S.push(R):f._itemNodesMap[V]=[R]);this.addChild(R);(this.tree.autoExpand||this.tree._state(R))&&G.push(f._expandNode(R))},this),
g.forEach(this.getChildren(),function(P){P._updateLayout()})):this.isExpandable=!1;this._setExpando&&this._setExpando(!1);this._updateItemClasses(this.item);e=m(G);this.tree._startPaint(e);return I(e)},getTreePath:function(){for(var e=this,f=[];e&&e!==this.tree.rootNode;)f.unshift(e.item),e=e.getParent();f.unshift(this.tree.rootNode.item);return f},getIdentity:function(){return this.tree.model.getIdentity(this.item)},removeChild:function(e){this.inherited(arguments);var f=this.getChildren();0==f.length&&
(this.isExpandable=!1,this.collapse());g.forEach(f,function(E){E._updateLayout()})},makeExpandable:function(){this.isExpandable=!0;this._setExpando(!1)},setSelected:function(e){this.labelNode.setAttribute("aria-selected",e?"true":"false");t.toggle(this.rowNode,"dijitTreeRowSelected",e)},focus:function(){y.focus(this.focusNode)}});p("dojo-bidi")&&W.extend({_setTextDirAttr:function(e){!e||this.textDir==e&&this._created||(this._set("textDir",e),this.applyTextDir(this.labelNode),g.forEach(this.getChildren(),
function(f){f.set("textDir",e)},this))}});var Y=d("dijit.Tree",[L,F,b,x],{baseClass:"dijitTree",store:null,model:null,query:null,label:"",showRoot:!0,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:!1,openOnDblClick:!1,templateString:O,persist:!1,autoExpand:!1,dndController:U,dndParams:"onDndDrop itemCreator onDndCancel checkAcceptance checkItemAcceptance dragThreshold betweenThreshold".split(" "),onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,
checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(e,f){D.publish(this.id,M.mixin({tree:this,event:e},f||{}))},postMixInProperties:function(){this.tree=this;this.autoExpand&&(this.persist=!1);this._itemNodesMap={};!this.cookieName&&this.id&&(this.cookieName=this.id+"SaveStateCookie");this.expandChildrenDeferred=new k;this.pendingCommandsPromise=this.expandChildrenDeferred.promise;this.inherited(arguments)},postCreate:function(){this._initState();var e=
this;this.own(Q(this.containerNode,Q.selector(".dijitTreeNode",v.enter),function(G){e._onNodeMouseEnter(A.byNode(this),G)}),Q(this.containerNode,Q.selector(".dijitTreeNode",v.leave),function(G){e._onNodeMouseLeave(A.byNode(this),G)}),Q(this.containerNode,Q.selector(".dijitTreeRow",u.press),function(G){e._onNodePress(A.getEnclosingWidget(this),G)}),Q(this.containerNode,Q.selector(".dijitTreeRow",u),function(G){e._onClick(A.getEnclosingWidget(this),G)}),Q(this.containerNode,Q.selector(".dijitTreeRow",
"dblclick"),function(G){e._onDblClick(A.getEnclosingWidget(this),G)}));this.model||this._store2model();this.own(a.after(this.model,"onChange",M.hitch(this,"_onItemChange"),!0),a.after(this.model,"onChildrenChange",M.hitch(this,"_onItemChildrenChange"),!0),a.after(this.model,"onDelete",M.hitch(this,"_onItemDelete"),!0));this.inherited(arguments);if(this.dndController){M.isString(this.dndController)&&(this.dndController=M.getObject(this.dndController));for(var f={},E=0;E<this.dndParams.length;E++)this[this.dndParams[E]]&&
(f[this.dndParams[E]]=this[this.dndParams[E]]);this.dndController=new this.dndController(this,f)}this._load();this.onLoadDeferred=I(this.pendingCommandsPromise);this.onLoadDeferred.then(M.hitch(this,"onLoad"))},_store2model:function(){this._v10Compat=!0;w.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var e={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};this.params.mayHaveChildren&&(e.mayHaveChildren=
M.hitch(this,"mayHaveChildren"));this.params.getItemChildren&&(e.getChildren=M.hitch(this,function(f,E,G){this.getItemChildren(this._v10Compat&&f===this.model.root?null:f,E,G)}));this.model=new X(e);this.showRoot=!!this.label},onLoad:function(){},_load:function(){this.model.getRoot(M.hitch(this,function(e){var f=this.rootNode=this.tree._createTreeNode({item:e,tree:this,isExpandable:!0,label:this.label||this.getLabel(e),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?
0:-1});this.showRoot?(this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular),this.rootLoadingIndicator.style.display="none"):(f.rowNode.style.display="none",this.domNode.setAttribute("role","presentation"),this.domNode.removeAttribute("aria-expanded"),this.domNode.removeAttribute("aria-multiselectable"),this["aria-label"]?(f.containerNode.setAttribute("aria-label",this["aria-label"]),this.domNode.removeAttribute("aria-label")):this["aria-labelledby"]&&(f.containerNode.setAttribute("aria-labelledby",
this["aria-labelledby"]),this.domNode.removeAttribute("aria-labelledby")),f.labelNode.setAttribute("role","presentation"),f.labelNode.removeAttribute("aria-selected"),f.containerNode.setAttribute("role","tree"),f.containerNode.setAttribute("aria-expanded","true"),f.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular));this.containerNode.appendChild(f.domNode);e=this.model.getIdentity(e);this._itemNodesMap[e]?this._itemNodesMap[e].push(f):this._itemNodesMap[e]=[f];f._updateLayout();
this._expandNode(f).then(M.hitch(this,function(){this._destroyed||(this.rootLoadingIndicator.style.display="none",this.expandChildrenDeferred.resolve(!0))}))}),M.hitch(this,function(e){console.error(this,": error loading root: ",e)}))},getNodesByItem:function(e){if(!e)return[];e=M.isString(e)?e:this.model.getIdentity(e);return[].concat(this._itemNodesMap[e])},_setSelectedItemAttr:function(e){this.set("selectedItems",[e])},_setSelectedItemsAttr:function(e){var f=this;return this.pendingCommandsPromise=
this.pendingCommandsPromise.always(M.hitch(this,function(){var E=g.map(e,function(N){return!N||M.isString(N)?N:f.model.getIdentity(N)}),G=[];g.forEach(E,function(N){G=G.concat(f._itemNodesMap[N]||[])});this.set("selectedNodes",G)}))},_setPathAttr:function(e){return e.length?I(this.set("paths",[e]).then(function(f){return f[0]})):I(this.set("paths",[]).then(function(f){return f[0]}))},_setPathsAttr:function(e){function f(G,N){var Z=G.shift(),P=g.filter(N,function(V){return V.getIdentity()==Z})[0];
if(P)return G.length?E._expandNode(P).then(function(){return f(G,P.getChildren())}):P;throw new Y.PathError("Could not expand path at "+Z);}var E=this;return I(this.pendingCommandsPromise=this.pendingCommandsPromise.always(function(){return m(g.map(e,function(G){G=g.map(G,function(N){return N&&M.isObject(N)?E.model.getIdentity(N):N});if(G.length)return f(G,[E.rootNode]);throw new Y.PathError("Empty path");}))}).then(function(G){E.set("selectedNodes",G);return E.paths}))},_setSelectedNodeAttr:function(e){this.set("selectedNodes",
[e])},_setSelectedNodesAttr:function(e){this.dndController.setSelection(e)},expandAll:function(){function e(E){return f._expandNode(E).then(function(){var G=g.filter(E.getChildren()||[],function(N){return N.isExpandable});return m(g.map(G,e))})}var f=this;return I(e(this.rootNode))},collapseAll:function(){function e(E){var G=g.filter(E.getChildren()||[],function(N){return N.isExpandable});G=m(g.map(G,e));return!E.isExpanded||E==f.rootNode&&!f.showRoot?G:G.then(function(){return f._collapseNode(E)})}
var f=this;return I(e(this.rootNode))},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(e){return this.model.getLabel(e)},getIconClass:function(e,f){return!e||this.model.mayHaveChildren(e)?f?"dijitFolderOpened":"dijitFolderClosed":"dijitLeaf"},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return""},_onDownArrow:function(e,f){(e=this._getNext(f))&&e.isTreeNode&&this.focusNode(e)},
_onUpArrow:function(e,f){if(e=f.getPreviousSibling())for(f=e;f.isExpandable&&f.isExpanded&&f.hasChildren();)f=f.getChildren(),f=f[f.length-1];else if(e=f.getParent(),this.showRoot||e!==this.rootNode)f=e;f&&f.isTreeNode&&this.focusNode(f)},_onRightArrow:function(e,f){f.isExpandable&&!f.isExpanded?this._expandNode(f):f.hasChildren()&&(f=f.getChildren()[0])&&f.isTreeNode&&this.focusNode(f)},_onLeftArrow:function(e,f){f.isExpandable&&f.isExpanded?this._collapseNode(f):(e=f.getParent())&&e.isTreeNode&&
(this.showRoot||e!==this.rootNode)&&this.focusNode(e)},focusLastChild:function(){var e=this._getLast();e&&e.isTreeNode&&this.focusNode(e)},_getFirst:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0]},_getLast:function(){for(var e=this.rootNode;e.isExpanded;){var f=e.getChildren();if(!f.length)break;e=f[f.length-1]}return e},_getNext:function(e){if(e.isExpandable&&e.isExpanded&&e.hasChildren())return e.getChildren()[0];for(;e&&e.isTreeNode;){var f=e.getNextSibling();if(f)return f;
e=e.getParent()}return null},childSelector:".dijitTreeRow",isExpandoNode:function(e,f){return n.isDescendant(e,f.expandoNode)||n.isDescendant(e,f.expandoNodeText)},_onNodePress:function(e,f){this.focusNode(e)},__click:function(e,f,E,G){var N=this.isExpandoNode(f.target,e);e.isExpandable&&(E||N)?this._onExpandoClick({node:e}):(this._publish("execute",{item:e.item,node:e,evt:f}),this[G](e.item,e,f),this.focusNode(e));f.stopPropagation();f.preventDefault()},_onClick:function(e,f){this.__click(e,f,this.openOnClick,
"onClick")},_onDblClick:function(e,f){this.__click(e,f,this.openOnDblClick,"onDblClick")},_onExpandoClick:function(e){e=e.node;this.focusNode(e);e.isExpanded?this._collapseNode(e):this._expandNode(e)},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(e){w.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0");return this._getNext(e)},_getRootOrFirstNode:function(){w.deprecated(this.declaredClass+
"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","","2.0");return this._getFirst()},_collapseNode:function(e){e._expandNodeDeferred&&delete e._expandNodeDeferred;if("Loading"!=e.state&&e.isExpanded){var f=e.collapse();this.onClose(e.item,e);this._state(e,!1);this._startPaint(f);return f}},_expandNode:function(e){if(e._expandNodeDeferred)return e._expandNodeDeferred;var f=this.model,E=e.item,G=this;e._loadDeferred||(e.markProcessing(),e._loadDeferred=new k,f.getChildren(E,function(N){e.unmarkProcessing();
e.setChildItems(N).then(function(){e._loadDeferred.resolve(N)})},function(N){console.error(G,": error loading "+e.label+" children: ",N);e._loadDeferred.reject(N)}));f=e._loadDeferred.then(M.hitch(this,function(){var N=e.expand();this.onOpen(e.item,e);this._state(e,!0);return N}));this._startPaint(f);return f},focusNode:function(e){for(var f=[],E=this.domNode;E&&E.tagName&&"IFRAME"!==E.tagName.toUpperCase();E=E.parentNode)f.push({domNode:E.contentWindow||E,scrollLeft:E.scrollLeft||0,scrollTop:E.scrollTop||
0});this.focusChild(e);this.defer(function(){for(var G=0,N=f.length;G<N;G++)f[G].domNode.scrollLeft=f[G].scrollLeft,f[G].domNode.scrollTop=f[G].scrollTop},0)},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(e){var f=this.model.getIdentity(e);if(f=this._itemNodesMap[f]){var E=this.getLabel(e),G=this.getTooltip(e);g.forEach(f,function(N){N.set({item:e,label:E,tooltip:G});N._updateItemClasses(e)})}},_onItemChildrenChange:function(e,f){e=this.model.getIdentity(e);
(e=this._itemNodesMap[e])&&g.forEach(e,function(E){E.setChildItems(f)})},_onItemDelete:function(e){e=this.model.getIdentity(e);var f=this._itemNodesMap[e];f&&(g.forEach(f,function(E){this.dndController.removeTreeNode(E);var G=E.getParent();G&&G.removeChild(E);this.lastFocusedChild&&!n.isDescendant(this.lastFocusedChild.domNode,this.domNode)&&delete this.lastFocusedChild;this.focusedChild&&!n.isDescendant(this.focusedChild.domNode,this.domNode)&&this.focus();E.destroyRecursive()},this),delete this._itemNodesMap[e])},
_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var e=c(this.cookieName);e&&g.forEach(e.split(","),function(f){this._openedNodes[f]=!0},this)}},_state:function(e,f){if(!this.persist)return!1;var E=g.map(e.getTreePath(),function(G){return this.model.getIdentity(G)},this).join("/");if(1===arguments.length)return this._openedNodes[E];f?this._openedNodes[E]=!0:delete this._openedNodes[E];this._saveExpandedNodes()},_saveExpandedNodes:function(){if(this.persist&&this.cookieName){var e=
[],f;for(f in this._openedNodes)e.push(f);c(this.cookieName,e.join(","),{expires:365})}},destroy:function(){this._curSearch&&(this._curSearch.timer.remove(),delete this._curSearch);this.rootNode&&this.rootNode.destroyRecursive();this.dndController&&!M.isString(this.dndController)&&this.dndController.destroy();this.rootNode=null;this.inherited(arguments)},destroyRecursive:function(){this.destroy()},resize:function(e){e&&B.setMarginBox(this.domNode,e);this._nodePixelIndent=B.position(this.tree.indentDetector).w||
this._nodePixelIndent;this.expandChildrenDeferred.then(M.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths()}))},_outstandingPaintOperations:0,_startPaint:function(e){this._outstandingPaintOperations++;this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);var f=M.hitch(this,function(){this._outstandingPaintOperations--;0>=this._outstandingPaintOperations&&!this._adjustWidthsTimer&&this._started&&(this._adjustWidthsTimer=this.defer("_adjustWidths"))});
l(e,f,f)},_adjustWidths:function(){this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);this.containerNode.style.width="auto";this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%"},_createTreeNode:function(e){return new W(e)},focus:function(){this.lastFocusedChild?this.focusNode(this.lastFocusedChild):this.focusFirstChild()}});p("dojo-bidi")&&Y.extend({_setTextDirAttr:function(e){e&&this.textDir!=e&&(this._set("textDir",
e),this.rootNode.set("textDir",e))}});Y.PathError=C("TreePathError");Y._TreeNode=W;return Y})},"dijit/tree/TreeStoreModel":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(g,a,c,d){return c("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:!1,constructor:function(k){d.mixin(this,k);this.connects=[];k=this.store;if(!k.getFeatures()["dojo.data.api.Identity"])throw Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");
k.getFeatures()["dojo.data.api.Notification"]&&(this.connects=this.connects.concat([a.after(k,"onNew",d.hitch(this,"onNewItem"),!0),a.after(k,"onDelete",d.hitch(this,"onDeleteItem"),!0),a.after(k,"onSet",d.hitch(this,"onSetItem"),!0)]))},destroy:function(){for(var k;k=this.connects.pop();)k.remove()},getRoot:function(k,m){this.root?k(this.root):this.store.fetch({query:this.query,onComplete:d.hitch(this,function(n){if(1!=n.length)throw Error("dijit.tree.TreeStoreModel: root query returned "+n.length+
" items, but must return exactly one");this.root=n[0];k(this.root)}),onError:m})},mayHaveChildren:function(k){return g.some(this.childrenAttrs,function(m){return this.store.hasAttribute(k,m)},this)},getChildren:function(k,m,n){var t=this.store;if(t.isItemLoaded(k)){for(var B=[],z=0;z<this.childrenAttrs.length;z++){var C=t.getValues(k,this.childrenAttrs[z]);B=B.concat(C)}var q=0;this.deferItemLoadingUntilExpand||g.forEach(B,function(w){t.isItemLoaded(w)||q++});0==q?m(B):g.forEach(B,function(w,K){t.isItemLoaded(w)||
t.loadItem({item:w,onItem:function(M){B[K]=M;0==--q&&m(B)},onError:n})})}else{var p=d.hitch(this,arguments.callee);t.loadItem({item:k,onItem:function(w){p(w,m,n)},onError:n})}},isItem:function(k){return this.store.isItem(k)},fetchItemByIdentity:function(k){this.store.fetchItemByIdentity(k)},getIdentity:function(k){return this.store.getIdentity(k)},getLabel:function(k){return this.labelAttr?this.store.getValue(k,this.labelAttr):this.store.getLabel(k)},newItem:function(k,m,n){var t={parent:m,attribute:this.childrenAttrs[0]},
B;this.newItemIdAttr&&k[this.newItemIdAttr]?this.fetchItemByIdentity({identity:k[this.newItemIdAttr],scope:this,onItem:function(z){z?this.pasteItem(z,null,m,!0,n):(B=this.store.newItem(k,t))&&void 0!=n&&this.pasteItem(B,m,m,!1,n)}}):(B=this.store.newItem(k,t))&&void 0!=n&&this.pasteItem(B,m,m,!1,n)},pasteItem:function(k,m,n,t,B){var z=this.store,C=this.childrenAttrs[0];m&&g.forEach(this.childrenAttrs,function(p){if(z.containsValue(m,p,k)){if(!t){var w=g.filter(z.getValues(m,p),function(K){return K!=
k});z.setValues(m,p,w)}C=p}});if(n)if("number"==typeof B){var q=z.getValues(n,C).slice();q.splice(B,0,k);z.setValues(n,C,q)}else z.setValues(n,C,z.getValues(n,C).concat(k))},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(k,m){m&&this.getChildren(m.item,d.hitch(this,function(n){this.onChildrenChange(m.item,n)}))},onDeleteItem:function(k){this.onDelete(k)},onSetItem:function(k,m){if(-1!=g.indexOf(this.childrenAttrs,m))this.getChildren(k,d.hitch(this,function(n){this.onChildrenChange(k,
n)}));else this.onChange(k)}})})},"dijit/tree/ForestStoreModel":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(g,a,c,d,k){return a("dijit.tree.ForestStoreModel",k,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(m){this.root={store:this,root:!0,id:m.rootId,label:m.rootLabel,children:m.rootChildren}},mayHaveChildren:function(m){return m===this.root||this.inherited(arguments)},getChildren:function(m,n,t){m===
this.root?this.root.children?n(this.root.children):this.store.fetch({query:this.query,onComplete:d.hitch(this,function(B){this.root.children=B;n(B)}),onError:t}):this.inherited(arguments)},isItem:function(m){return m===this.root?!0:this.inherited(arguments)},fetchItemByIdentity:function(m){if(m.identity==this.root.id){var n=m.scope||c.global;m.onItem&&m.onItem.call(n,this.root)}else this.inherited(arguments)},getIdentity:function(m){return m===this.root?this.root.id:this.inherited(arguments)},getLabel:function(m){return m===
this.root?this.root.label:this.inherited(arguments)},newItem:function(m,n,t){return n===this.root?(this.onNewRootItem(m),this.store.newItem(m)):this.inherited(arguments)},onNewRootItem:function(){},pasteItem:function(m,n,t,B,z){if(n===this.root&&!B)this.onLeaveRoot(m);this.inherited(arguments,[m,n===this.root?null:n,t===this.root?null:t,B,z]);if(t===this.root)this.onAddToRoot(m)},onAddToRoot:function(m){console.log(this,": item ",m," added to root")},onLeaveRoot:function(m){console.log(this,": item ",
m," removed from root")},_requeryTop:function(){var m=this.root.children||[];this.store.fetch({query:this.query,onComplete:d.hitch(this,function(n){this.root.children=n;if(m.length!=n.length||g.some(m,function(t,B){return n[B]!=t}))this.onChildrenChange(this.root,n)})})},onNewItem:function(m,n){this._requeryTop();this.inherited(arguments)},onDeleteItem:function(m){-1!=g.indexOf(this.root.children,m)&&this._requeryTop();this.inherited(arguments)},onSetItem:function(m,n,t,B){this._requeryTop();this.inherited(arguments)}})})},
"dijit/tree/_dndSelector":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/dnd/common dojo/dom dojo/mouse dojo/on dojo/touch ../a11yclick ./_dndContainer".split(" "),function(g,a,c,d,k,m,n,t,B,z,C){return a("dijit.tree._dndSelector",C,{constructor:function(){this.selection={};this.anchor=null;this.events.push(t(this.tree.domNode,B.press,d.hitch(this,"onMouseDown")),t(this.tree.domNode,B.release,d.hitch(this,"onMouseUp")),t(this.tree.domNode,B.move,d.hitch(this,
"onMouseMove")),t(this.tree.domNode,z.press,d.hitch(this,"onClickPress")),t(this.tree.domNode,z.release,d.hitch(this,"onClickRelease")))},singular:!1,getSelectedTreeNodes:function(){var q=[],p=this.selection,w;for(w in p)q.push(p[w]);return q},selectNone:function(){this.setSelection([]);return this},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null},addTreeNode:function(q,p){this.setSelection(this.getSelectedTreeNodes().concat([q]));p&&(this.anchor=q);return q},removeTreeNode:function(q){var p=
g.filter(this.getSelectedTreeNodes(),function(w){return!m.isDescendant(w.domNode,q.domNode)});this.setSelection(p);return q},isTreeNodeSelected:function(q){return q.id&&!!this.selection[q.id]},setSelection:function(q){var p=this.getSelectedTreeNodes();g.forEach(this._setDifference(p,q),d.hitch(this,function(w){w.setSelected(!1);this.anchor==w&&delete this.anchor;delete this.selection[w.id]}));g.forEach(this._setDifference(q,p),d.hitch(this,function(w){w.setSelected(!0);this.selection[w.id]=w}));this._updateSelectionProperties()},
_setDifference:function(q,p){g.forEach(p,function(w){w.__exclude__=!0});q=g.filter(q,function(w){return!w.__exclude__});g.forEach(p,function(w){delete w.__exclude__});return q},_updateSelectionProperties:function(){var q=this.getSelectedTreeNodes(),p=[],w=[];g.forEach(q,function(K){var M=K.getTreePath();w.push(K);p.push(M)},this);q=g.map(w,function(K){return K.item});this.tree._set("paths",p);this.tree._set("path",p[0]||[]);this.tree._set("selectedNodes",w);this.tree._set("selectedNode",w[0]||null);
this.tree._set("selectedItems",q);this.tree._set("selectedItem",q[0]||null)},onClickPress:function(q){if(!(this.current&&this.current.isExpandable&&this.tree.isExpandoNode(q.target,this.current))){"mousedown"==q.type&&n.isLeft(q)&&q.preventDefault();var p="keydown"==q.type?this.tree.focusedChild:this.current;if(p){var w=k.getCopyKeyState(q),K=p.id;this.singular||q.shiftKey||!this.selection[K]?(this._doDeselect=!1,this.userSelect(p,w,q.shiftKey)):this._doDeselect=!0}}},onClickRelease:function(q){this._doDeselect&&
(this._doDeselect=!1,this.userSelect("keyup"==q.type?this.tree.focusedChild:this.current,k.getCopyKeyState(q),q.shiftKey))},onMouseMove:function(){this._doDeselect=!1},onMouseDown:function(){},onMouseUp:function(){},_compareNodes:function(q,p){if(q===p)return 0;if("sourceIndex"in document.documentElement)return q.sourceIndex-p.sourceIndex;if("compareDocumentPosition"in document.documentElement)return q.compareDocumentPosition(p)&2?1:-1;if(document.createRange){var w=doc.createRange();w.setStartBefore(q);
q=doc.createRange();q.setStartBefore(p);return w.compareBoundaryPoints(w.END_TO_END,q)}throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");},userSelect:function(q,p,w){if(this.singular)this.anchor==q&&p?this.selectNone():(this.setSelection([q]),this.anchor=q);else if(w&&this.anchor){p=this._compareNodes(this.anchor.rowNode,q.rowNode);w=this.anchor;0>p?p=w:(p=q,q=w);for(w=[];p!=q;)w.push(p),p=this.tree._getNext(p);w.push(q);this.setSelection(w)}else this.selection[q.id]&&
p?this.removeTreeNode(q):p?this.addTreeNode(q,!0):(this.setSelection([q]),this.anchor=q)},getItem:function(q){return{data:this.selection[q],type:["treeNode"]}},forInSelectedItems:function(q,p){p=p||c.global;for(var w in this.selection)q.call(p,this.getItem(w),w,this)}})})},"dijit/tree/_dndContainer":function(){define("dojo/aspect dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/on dojo/touch".split(" "),function(g,a,c,d,k,m){return a("dijit.tree._dndContainer",null,{constructor:function(n,t){this.tree=
n;this.node=n.domNode;d.mixin(this,t);this.containerState="";c.add(this.node,"dojoDndContainer");this.events=[k(this.node,m.enter,d.hitch(this,"onOverEvent")),k(this.node,m.leave,d.hitch(this,"onOutEvent")),g.after(this.tree,"_onNodeMouseEnter",d.hitch(this,"onMouseOver"),!0),g.after(this.tree,"_onNodeMouseLeave",d.hitch(this,"onMouseOut"),!0),k(this.node,"dragstart, selectstart",function(B){B.preventDefault()})]},destroy:function(){for(var n;n=this.events.pop();)n.remove();this.node=this.parent=
null},onMouseOver:function(n){this.current=n},onMouseOut:function(){this.current=null},_changeState:function(n,t){var B="dojoDnd"+n;n=n.toLowerCase()+"State";c.replace(this.node,B+t,B+this[n]);this[n]=t},_addItemClass:function(n,t){c.add(n,"dojoDndItem"+t)},_removeItemClass:function(n,t){c.remove(n,"dojoDndItem"+t)},onOverEvent:function(){this._changeState("Container","Over")},onOutEvent:function(){this._changeState("Container","")}})})},"jimu/dijit/LayerChooserFromMapWithDropbox":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/on dojo/keys dojo/Evented dojo/Deferred dijit/popup dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/LayerChooserFromMapWithDropbox.html jimu/LayerInfos/LayerInfos".split(" "),
function(g,a,c,d,k,m,n,t,B,z,C,q){return g([B,z,m],{templateString:C,baseClass:"jimu-layer-chooser-from-map-withdropbox",declaredClass:"jimu.dijit.LayerChooserFromMapWithDropbox",_selectedItem:null,_isLayerChooserShow:!1,layerInfosObj:null,layerChooser:null,customClass:"",postMixInProperties:function(){this.inherited(arguments);this.nls=window.jimuNls.queryableLayerSource;this.nls.customSelectLayer=this.label?this.label:this.nls.selectLayer},postCreate:function(){this.inherited(arguments);this.layerInfosObj=
q.getInstanceSync();this.layerChooser.domNode.style.zIndex=1;this.layerChooser.tree.domNode.style.borderTop="0";this.layerChooser.tree.domNode.style.maxHeight="290px";this.own(d(this.layerChooser,"tree-click",a.hitch(this,this._onTreeClick)));this.own(d(this.layerChooser,"update",a.hitch(this,this._onLayerChooserUpdate)));this.own(d(document.body,"click",a.hitch(this,this._onBodyClicked)));this.own(d(document.body,"keydown",a.hitch(this,function(p){p.keyCode===k.ENTER&&this._onBodyClicked(p)})));
this.own(d(this.layerChooser.domNode,"keydown",a.hitch(this,function(p){p.keyCode===k.ESCAPE&&this.hideLayerChooser()})))},destroy:function(){this.hideLayerChooser();this.layerChooser&&this.layerChooser.destroy();this.layerChooser=null;this.inherited(arguments)},getLayerChooser:function(){return this.layerChooser},setSelectedLayer:function(p){var w=new n;if(p){var K=this.layerInfosObj.getLayerOrTableInfoById(p.id);K?this.layerChooser.filter(K).then(a.hitch(this,function(M){M?(this._onSelectNewItem({layerInfo:K,
name:K.title,url:p.url}),w.resolve(!0)):w.resolve(!1)}),a.hitch(this,function(){w.resolve(!1)})):w.resolve(!1)}else this._onSelectNewItem(null),w.resolve(!0);return w},getSelectedItem:function(){return this._selectedItem},getSelectedItems:function(){return[this._selectedItem]},_onBodyClicked:function(p){p=p.target||p.srcElement;p===this.domNode||c.isDescendant(p,this.domNode)||p===this.layerChooser.domNode||c.isDescendant(p,this.layerChooser.domNode)||this.hideLayerChooser()},_onDropDownClick:function(p){p.stopPropagation();
p.preventDefault();this._isLayerChooserShow?this.hideLayerChooser():(this.isActive=!0,this.showLayerChooser())},_onDropDownKeydown:function(p){p.keyCode===k.ENTER&&this._onDropDownClick(p)},_getSelectedItems:function(){return this.layerChooser.getSelectedItems()},showLayerChooser:function(){this.layerChooser.domNode.style.minWidth=this.domNode.clientWidth+2+"px";t.open({parent:this,popup:this.layerChooser,around:this.domNode});var p=this.layerChooser.domNode.parentNode;p&&(c.addClass(p,"jimu-layer-chooser-from-map-withdropbox-popup"),
this.customClass&&c.addClass(p,this.customClass),this.layerChooser.tree.domNode.focus());this._isLayerChooserShow=!0},hideLayerChooser:function(){t.close(this.layerChooser);this._isLayerChooserShow=!1;this.isActive&&(this.dropDownBtn.focus(),this.isActive=!1)},_onLayerChooserUpdate:function(){this._selectedItem&&this.layerChooser.onlyShowVisible&&!this._selectedItem.layerInfo.isShowInMap()&&(this._selectedItem=null,this.emit("selection-change",[]))},_onSelectNewItem:function(p){var w=a.getObject("layerInfo.id",
!1,this._selectedItem)||-1,K=a.getObject("layerInfo.id",!1,p)||-1;w=w!==K;this._selectedItem=p;this.hideLayerChooser();p=a.getObject("layerInfo.title",!1,this._selectedItem)||"";this.layerNameNode.innerHTML=p;c.setAttr(this.layerNameNode,"title",p);p=a.getObject("layerInfo.layerObject",!1,this._selectedItem);w&&this.emit("selection-change",[p])},_onTreeClick:function(){var p=this._getSelectedItems();this._onSelectNewItem(0<p.length?p[0]:null)}})})},"widgets/ParcelDrafter/layerUtils":function(){define(["dojo/_base/declare",
"dijit/_WidgetBase","dojo/_base/array","dojo/_base/lang"],function(g,a,c,d){return g([a],{map:null,getPopupInfo:!0,getRenderer:!0,postCreate:function(){},getLayerDetailsFromMap:function(k,m,n){var t={},B;this.map&&this.map.webMapResponse&&this.map.webMapResponse.itemInfo&&this.map.webMapResponse.itemInfo.itemData&&this.map.webMapResponse.itemInfo.itemData.operationalLayers&&c.forEach(this.map.webMapResponse.itemInfo.itemData.operationalLayers,d.hitch(this,function(z){z.layerObject&&("ArcGISMapServiceLayer"===
z.layerType||"ArcGISTiledMapServiceLayer"===z.layerType?(B=n&&n.substring(0,n.lastIndexOf("_")),B&&z.id!==B||(t.isMapServer=!0,k.substring(0,k.length-1)===z.url&&(c.forEach(z.resourceInfo.layers,d.hitch(this,function(C){C.id===parseInt(m,10)&&(t.title=C.name)})),c.forEach(z.layers,d.hitch(this,function(C){C.id===parseInt(m,10)&&(C.name&&(t.title=C.name),this.getPopupInfo&&(t.popupInfo=C.popupInfo),C.layerDefinition&&(C.layerDefinition.definitionExpression&&(t.definitionExpression=C.layerDefinition.definitionExpression),
this.getRenderer&&C.layerDefinition.drawingInfo&&C.layerDefinition.drawingInfo.renderer&&(t.renderer=C.layerDefinition.drawingInfo.renderer)))}))))):n&&z.id!==n||z.url.replace(/.*?:\/\//g,"").toLowerCase()!==(k+m).replace(/.*?:\/\//g,"").toLowerCase()||z.id!==n||(t.isMapServer=!1,t.title=z.title,this.getPopupInfo&&(t.popupInfo=z.popupInfo),z.layerDefinition&&(z.layerDefinition.definitionExpression&&(t.definitionExpression=z.layerDefinition.definitionExpression),this.getRenderer&&z.layerDefinition.drawingInfo&&
z.layerDefinition.drawingInfo.renderer&&(t.renderer=z.layerDefinition.drawingInfo.renderer))))}));return t}})})},"widgets/ParcelDrafter/utils":function(){define([],function(){var g={bearingFieldPlaces:2,planSettingsOptions:{directionOrAngleType:["northAzimuth","southAzimuth","quadrantBearing"],directionOrAngleUnits:["decimalDegree","degreeMinuteSeconds"],distanceAndLengthUnits:["uSSurveyFeet","feet","meters"],areaUnits:["squareUSSurveyFeet","squareFeet","acres","squareMeters"],circularCurveParameters:["radiusAndChordLength",
"radiusAndArcLength"]},getQuadrant:function(a){return{"-1":"NE","-2":"SE","-3":"SW","-4":"NW"}[a]},getQuadrantShortcut:function(a){a=a.toUpperCase();return{NE:"-1",SE:"-2",SW:"-3",NW:"-4"}[a]},getQuadrantShortcutFromDD:function(a){var c;0<=a&&90>=a?c="-1":90<a&&180>=a?c="-2":180<a&&270>a?c="-3":270<=a&&360>a&&(c="-4");return c},getQuadrantAngleFromNADD:function(a){a=g.getQuadrantAngleAndShortcut(a);return a.quadrant.charAt(0)+a.quadrantAngle+a.quadrant.charAt(1)},getSouthAzimuthFromNorthAzimuth:function(a){var c;
180<a?c=a-180:180>a?c=a+180:180===a&&(c=0);return c},DMStoDD:function(a){var c=Math.abs(parseFloat(a.degree));var d=parseFloat(a.minutes);var k=parseFloat(a.seconds);c=c+d/60+k/3600;a.isNegative&&(c*=-1);return c},DDtoDMS:function(a){var c=3600*a.angle;a=Math.round(c%60);a=60==a?0:a;var d=(c-a)/60;c=Math.round(d%60);c=60==c?0:c;return{degree:Math.round((d-c)/60),minutes:c,seconds:a}},getBearingObjForFormat0:function(a){var c;var d={};d.degree=parseInt(a[1],10);d.minutes=parseInt(a[2]||0,10);d.seconds=
parseInt(a[3]||0,10);d.quadrant=g.getQuadrant("-"+a[4]);d.quadrantShortcut="-"+a[4];"string"===typeof a[1]&&(c="-"===a[1].charAt(0));d.decimalDegrees=g.DMStoDD({degree:d.degree,minutes:d.minutes,seconds:d.seconds,isNegative:c});return d},getBearingObjForFormat1:function(a){var c;var d={};d.degree=parseInt(a[2],10);d.minutes=parseInt(a[3]||0,10);d.seconds=parseInt(a[4]||0,10);d.quadrant=a[1]+a[5];d.quadrantShortcut=g.getQuadrantShortcut(a[1]+a[5]);"string"===typeof a[2]&&(c="-"===a[2].charAt(0));d.decimalDegrees=
g.DMStoDD({degree:d.degree,minutes:d.minutes,seconds:d.seconds,isNegative:c});return d},getBearingObjForFormat2:function(a){var c;var d={};d.degree=parseInt(a[2],10);d.minutes=parseInt(a[3]||0,10);d.seconds=parseInt(a[4]||0,10);d.quadrant=a[1]+a[5];d.quadrantShortcut=g.getQuadrantShortcut(a[1]+a[5]);"string"===typeof a[2]&&(c="-"===a[2].charAt(0));d.decimalDegrees=g.DMStoDD({degree:d.degree,minutes:d.minutes,seconds:d.seconds,isNegative:c});return d},getBearingObjForFormat3:function(a){var c;var d=
{};d.degree=parseInt(a[1],10);d.minutes=parseInt(a[2]||0,10);d.seconds=parseInt(a[3]||0,10);"string"===typeof a[1]&&(c="-"===a[1].charAt(0));d.decimalDegrees=g.DMStoDD({degree:d.degree,minutes:d.minutes,seconds:d.seconds,isNegative:c});d.quadrantShortcut=g.getQuadrantShortcutFromDD(d.decimalDegrees);d.quadrant=g.getQuadrant(d.quadrantShortcut);return d},getBearingObjForFormat4:function(a){var c=g.DDtoDMS({angle:a[1]});var d={};d.degree=c.degree;d.minutes=c.minutes;d.seconds=c.seconds;d.decimalDegrees=
a[1];d.quadrantShortcut=g.getQuadrantShortcutFromDD(d.decimalDegrees);d.quadrant=g.getQuadrant(d.quadrantShortcut);return d},getBearingObjForFormat5:function(a){var c;var d={};d.degree=parseInt(a[1],10);d.minutes=parseInt(a[2]||0,10);d.seconds=parseInt(a[3]||0,10);"string"===typeof a[1]&&(c="-"===a[1].charAt(0));d.decimalDegrees=g.DMStoDD({degree:d.degree,minutes:d.minutes,seconds:d.seconds,isNegative:c});d.quadrantShortcut=g.getQuadrantShortcutFromDD(d.decimalDegrees);d.quadrant=g.getQuadrant(d.quadrantShortcut);
return d},getBearingObjForFormat6:function(a){var c;var d={};d.degree=parseInt(a[1],10);d.minutes=parseInt(a[2]||0,10);d.seconds=parseInt(a[3]||0,10);d.quadrantShortcut=a[4];d.quadrant=g.getQuadrant(d.quadrantShortcut);"string"===typeof a[1]&&(c="-"===a[1].charAt(0));d.decimalDegrees=g.DMStoDD({degree:d.degree,minutes:d.minutes,seconds:d.seconds,isNegative:c});return d},getBearingObjForFormat7:function(a){var c={};c.decimalDegrees=a[2];var d=g.DDtoDMS({angle:c.decimalDegrees});c.degree=parseInt(d.degree,
10);c.minutes=parseInt(d.minutes||0,10);c.seconds=parseInt(d.seconds||0,10);c.quadrant=a[1]+a[3];c.quadrantShortcut=g.getQuadrantShortcut(c.quadrant);return c},getBearingObjForFormat8:function(a){var c={};c.decimalDegrees=a[1];var d=g.DDtoDMS({angle:c.decimalDegrees});c.degree=parseInt(d.degree,10);c.minutes=parseInt(d.minutes||0,10);c.seconds=parseInt(d.seconds||0,10);c.quadrantShortcut=a[2];c.quadrant=g.getQuadrant(c.quadrantShortcut);return c},getQuadrantAngleAndShortcut:function(a){var c={};0<=
a&&90>=a?(c.quadrantAngle=a,c.quadrant="NE"):90<a&&180>=a?(c.quadrantAngle=180-a,c.quadrant="SE"):180<a&&270>a?(c.quadrantAngle=a-180,c.quadrant="SW"):270<=a&&360>a&&(c.quadrantAngle=360-a,c.quadrant="NW");return c},roundSeconds:function(a){a=Number(a);return 10>a?"0"+a:a},showFixedPlacesAfterDecimal:function(a,c){var d=0;c||(c=2);a=a.toString();d=a.indexOf(".");0<d&&(a=a.slice(0,d+c+1));return Number(a)},honourPopupRounding:function(a,c){if(isNaN(a)||null===a)a=4;var d=Math.pow(10,a);c=Math.round(c*
d)/d;return c=c.toFixed(a)},convertBearingToOutputFormats:function(a){var c={};var d={};360===a.degree&&(a.degree=0);c=a.decimalDegrees;360===c&&(c=0);d.naDD=c;d.naDDRound=g.honourPopupRounding(g.bearingFieldPlaces,c);360===Number(d.naDDRound)&&(d.naDDRound=0);var k=10>a.minutes?"0"+a.minutes:a.minutes;var m=a.seconds;0<Number(k)&&0<Number(g.roundSeconds(m))?d.naDMS=a.degree+"-"+k+"-"+g.roundSeconds(m):0===Number(k)&&0<Number(g.roundSeconds(m))?d.naDMS=a.degree+"-"+k+"-"+g.roundSeconds(m):0<Number(k)&&
0===Number(g.roundSeconds(m))?d.naDMS=a.degree+"-"+k+"-00":0===Number(k)&&0===Number(g.roundSeconds(m))&&(d.naDMS=a.degree+"-00-00");a=g.getQuadrantAngleAndShortcut(c);d.qb3DD=a.quadrant.charAt(0)+a.quadrantAngle+a.quadrant.charAt(1);d.qb3DDRound=a.quadrant.charAt(0)+g.honourPopupRounding(g.bearingFieldPlaces,a.quadrantAngle)+a.quadrant.charAt(1);k=g.DDtoDMS({angle:a.quadrantAngle});m=10>k.minutes?"0"+k.minutes:k.minutes;var n=k.seconds;0<Number(m)&&0<Number(g.roundSeconds(n))?d.qb3DMS=a.quadrant.charAt(0)+
k.degree+"-"+m+"-"+g.roundSeconds(n)+a.quadrant.charAt(1):0===Number(m)&&0<Number(g.roundSeconds(n))?d.qb3DMS=a.quadrant.charAt(0)+k.degree+"-"+m+"-"+g.roundSeconds(n)+a.quadrant.charAt(1):0<Number(m)&&0===Number(g.roundSeconds(n))?d.qb3DMS=a.quadrant.charAt(0)+k.degree+"-"+m+"-00"+a.quadrant.charAt(1):0===Number(m)&&0===Number(g.roundSeconds(n))&&(d.qb3DMS=a.quadrant.charAt(0)+k.degree+"-00-00"+a.quadrant.charAt(1));c=g.getSouthAzimuthFromNorthAzimuth(c);360===c&&(c=0);d.saDD=c;d.saDDRound=g.honourPopupRounding(g.bearingFieldPlaces,
c);360===Number(d.saDDRound)&&(d.saDDRound=0);c=g.DDtoDMS({angle:c});360===c.degree&&(c.degree=0);a=10>c.minutes?"0"+c.minutes:c.minutes;k=c.seconds;0<Number(a)&&0<Number(g.roundSeconds(k))?d.saDMS=c.degree+"-"+a+"-"+g.roundSeconds(k):0===Number(a)&&0<Number(g.roundSeconds(k))?d.saDMS=c.degree+"-"+a+"-"+g.roundSeconds(k):0<Number(a)&&0===Number(g.roundSeconds(k))?d.saDMS=c.degree+"-"+a+"-00":0===Number(a)&&0===Number(g.roundSeconds(k))&&(d.saDMS=c.degree+"-00-00");return d},getBearingDetailsOfRequiredFormat:function(a,
c){var d={};switch(c){case 0:d=g.getBearingObjForFormat0(a);break;case 1:d=g.getBearingObjForFormat1(a);break;case 2:d=g.getBearingObjForFormat2(a);break;case 3:d=g.getBearingObjForFormat3(a);break;case 4:d=g.getBearingObjForFormat4(a);break;case 5:d=g.getBearingObjForFormat5(a);break;case 6:d=g.getBearingObjForFormat6(a);break;case 7:d=g.getBearingObjForFormat7(a);break;case 8:d=g.getBearingObjForFormat8(a)}return g.convertBearingToOutputFormats(d)},getBearingFormatArr:function(){var a=[];a.push({regex:/^((?:\-)?(?:3[0-5]\d|[12]\d{2}|[0-9]\d?|0))(?:\-(0|[0-5]?\d)\-(0|[0-5]\d))?\-([1-4])$/,
type:"degreeMinuteSeconds"});a.push({regex:/^([nNsS])((?:\-)?(?:3[0-5]\d|[12]\d{2}|[0-9]\d?|0))(?:\-(0|[0-5]?\d)\-(0|[0-5]\d))?([eEwW])$/,type:"degreeMinuteSeconds"});a.push({regex:/^([nNsS])((?:\-)?(?:3[0-5]\d|[12]\d{2}|[0-9]\d?|0))(?:\.([0-5]\d)(?:([0-5]\d))?)?([eEwW])$/,type:"degreeMinuteSeconds"});a.push({regex:/^((?:\-)?(?:3[0-5]\d|[12]\d{2}|[0-9]\d?|0))(?:\.([0-5]\d)(?:([0-5]\d))?)?$/,type:"degreeMinuteSeconds"});a.push({regex:/^((?:(?:\-?)(?:3[0-5]\d|[12]\d{2}|[0-9]\d?|0)(?:\.\d+)?)|(?:\-?)(?:\.\d+))$/,
type:"decimalDegree"});a.push({regex:/^((?:\-)?(?:3[0-5]\d|[12]\d{2}|[0-9]\d?|0))(?:\-(0|[0-5]?\d)\-((?:[0-5]\d)))?$/,type:"degreeMinuteSeconds"});a.push({regex:/^((?:\-)?(?:3[0-5]\d|[12]\d{2}|[0-9]\d?|0))(?:\.([0-5]\d)(?:([0-5]\d))?)?(\-[1-4])$/,type:"degreeMinuteSeconds"});a.push({regex:/^([nNsS])((?:(?:\-?)(?:3[0-5]\d|[12]\d{2}|[0-9]\d?|0)(?:\.\d+)?)|(?:\-?)(?:\.\d+))([eEwW])$/,type:"decimalDegree"});a.push({regex:/^((?:(?:\-?)(?:3[0-5]\d|[12]\d{2}|[0-9]\d?|0)(?:\.\d+)?)|(?:\-?)(?:\.\d+))(\-[1-4])$/,
type:"decimalDegree"});return a},getNorthAzimuthAngle:function(a,c){c=c.toUpperCase();a=Number(a);switch(c){case "-1":case "NE":return(a+360)%360;case "-2":case "SE":return(540-a)%360;case "-3":case "SW":return(540+a)%360;case "-4":case "NW":return(360-a)%360}},convertBearingToNorthAzimuth:function(a,c,d){switch(c){case 0:c=g.getBearingObjForFormat0(a);c=g.getNorthAzimuthAngle(c.decimalDegrees,"-"+a[4]);c=g.DDtoDMS({angle:c});a[1]=c.degree;a[2]=c.minutes;a[3]=c.seconds;break;case 1:c=g.getBearingObjForFormat1(a);
c=g.getNorthAzimuthAngle(c.decimalDegrees,a[1]+a[5]);c=g.DDtoDMS({angle:c});a[2]=c.degree;a[3]=c.minutes;a[4]=c.seconds;break;case 2:c=g.getBearingObjForFormat2(a);c=g.getNorthAzimuthAngle(c.decimalDegrees,a[1]+a[5]);c=g.DDtoDMS({angle:c});a[2]=c.degree;a[3]=c.minutes;a[4]=c.seconds;break;case 3:"northAzimuth"===d.directionOrAngleType||"quadrantBearing"===d.directionOrAngleType?(c=g.getBearingObjForFormat3(a),c=g.getNorthAzimuthAngle(c.decimalDegrees,"-1"),c=g.DDtoDMS({angle:c}),a[1]=c.degree,a[2]=
c.minutes,a[3]=c.seconds):"southAzimuth"===d.directionOrAngleType&&(c=g.getBearingObjForFormat3(a),c=g.getNorthAzimuthAngle(c.decimalDegrees,"-3"),c=g.DDtoDMS({angle:c}),a[1]=c.degree,a[2]=c.minutes,a[3]=c.seconds);break;case 4:"northAzimuth"===d.directionOrAngleType||"quadrantBearing"===d.directionOrAngleType?a[1]=g.getNorthAzimuthAngle(a[1],"-1"):"southAzimuth"===d.directionOrAngleType&&(a[1]=g.getNorthAzimuthAngle(a[1],"-3"));break;case 5:"northAzimuth"===d.directionOrAngleType?(c=g.getBearingObjForFormat5(a),
c=g.getNorthAzimuthAngle(c.decimalDegrees,"-1"),c=g.DDtoDMS({angle:c}),a[1]=c.degree,a[2]=c.minutes,a[3]=c.seconds):"southAzimuth"===d.directionOrAngleType?(c=g.getBearingObjForFormat5(a),c=g.getNorthAzimuthAngle(c.decimalDegrees,"-3"),c=g.DDtoDMS({angle:c}),a[1]=c.degree,a[2]=c.minutes,a[3]=c.seconds):"quadrantBearing"===d.directionOrAngleType&&(a=null);break;case 6:c=g.getBearingObjForFormat6(a);c=g.getNorthAzimuthAngle(c.decimalDegrees,a[4]);c=g.DDtoDMS({angle:c});a[1]=c.degree;a[2]=c.minutes;
a[3]=c.seconds;break;case 7:a[2]=g.getNorthAzimuthAngle(a[2],a[1]+a[3]);break;case 8:a[1]=g.getNorthAzimuthAngle(a[1],a[2])}return a},categorizeBearingFormat:function(a,c){var d,k;a=a.toString();var m=g.getBearingFormatArr();for(k=0;k<m.length;k++)if(m[k].type===c.directionOrAngleUnits&&(d=m[k].regex.exec(a.trim()))&&0<d.length){d=g.convertBearingToNorthAzimuth(d,k,c);break}if(!d)for(k=0;k<m.length;k++)if(m[k].type!==c.directionOrAngleUnits&&(d=m[k].regex.exec(a.trim()))&&0<d.length){d=g.convertBearingToNorthAzimuth(d,
k,c);break}return d?g.getBearingDetailsOfRequiredFormat(d,k):null},metersToUSSurveyFeet:function(a){a=Number(a);return 3.28083333333*a},usSurveyFeetToMeters:function(a){a=Number(a);return.304800609601*a},feetToUSSurveyFeet:function(a){a=Number(a);return g.metersToUSSurveyFeet(.3048*a)},feetToMeters:function(a){a=Number(a);return.3048*a},usSurveyFeetToFeet:function(a){a=Number(a);return 1.000001999999281*a},metersToFeet:function(a){a=Number(a);return 3.280839895*a},getLengthObjForFormat0:function(a,
c){var d={};"feet"===c?(d.feet=Number(a[0]),d.feetRound=Math.round(1E4*d.feet)/1E4,d.uSSurveyFeet=g.feetToUSSurveyFeet(a[0]),d.uSSurveyFeetRound=Math.round(1E4*d.uSSurveyFeet)/1E4,d.meters=g.feetToMeters(a[0]),d.metersRound=Math.round(1E4*d.meters)/1E4):"uSSurveyFeet"===c?(d.uSSurveyFeet=Number(a[0]),d.uSSurveyFeetRound=Math.round(1E4*d.uSSurveyFeet)/1E4,d.meters=g.usSurveyFeetToMeters(a[0]),d.metersRound=Math.round(1E4*d.meters)/1E4,d.feet=g.usSurveyFeetToFeet(d.uSSurveyFeet),d.feetRound=Math.round(1E4*
d.feet)/1E4):"meters"===c&&(d.uSSurveyFeet=g.metersToUSSurveyFeet(a[0]),d.uSSurveyFeetRound=Math.round(1E4*d.uSSurveyFeet)/1E4,d.meters=Number(a[0]),d.metersRound=Math.round(1E4*d.meters)/1E4,d.feet=g.metersToFeet(d.meters),d.feetRound=Math.round(1E4*d.feet)/1E4);return d},getLengthObjForFormat3:function(a){var c={};c.uSSurveyFeet=Number(a[2]);c.uSSurveyFeetRound=Math.round(1E4*c.uSSurveyFeet)/1E4;c.meters=g.usSurveyFeetToMeters(a[2]);c.metersRound=Math.round(1E4*c.meters)/1E4;c.feet=g.usSurveyFeetToFeet(c.uSSurveyFeet);
c.feetRound=Math.round(1E4*c.feet)/1E4;return c},getLengthObjForFormat2:function(a){var c={};c.uSSurveyFeet=g.metersToUSSurveyFeet(a[2]);c.uSSurveyFeetRound=Math.round(1E4*c.uSSurveyFeet)/1E4;c.meters=Number(a[2]);c.metersRound=Math.round(1E4*c.meters)/1E4;c.feet=g.metersToFeet(c.meters);c.feetRound=Math.round(1E4*c.feet)/1E4;return c},getLengthObjForFormat1:function(a){var c={};c.feet=Number(a[2]);c.feetRound=Math.round(1E4*c.feet)/1E4;c.uSSurveyFeet=g.feetToUSSurveyFeet(a[2]);c.uSSurveyFeetRound=
Math.round(1E4*c.uSSurveyFeet)/1E4;c.meters=g.feetToMeters(a[2]);c.metersRound=Math.round(1E4*c.meters)/1E4;return c},categorizeLengthFormat:function(a,c){var d,k;var m=[];a=a.toString();m.push(/^((\-?)((0?|([1-9]\d*))(\.\d+)?))$/);m.push(/^(((\-?)((0?|([1-9]\d*))(\.\d+)?))(ft|FT|fT|Ft))$/);m.push(/^(((\-?)((0?|([1-9]\d*))(\.\d+)?))(m|M))$/);m.push(/^(((\-?)((0?|([1-9]\d*))(\.\d+)?))(FTUS|FTUs|FTuS|FTus|FtUS|FtUs|FtuS|Ftus|fTUS|fTUs|fTuS|fTus|ftUS|ftUs|ftuS|ftus))$/);for(k=0;k<m.length&&!((d=m[k].exec(a.trim()))&&
0<d.length);k++);d?(a=g.getLengthOfRequiredFormat(d,k,c))&&isNaN(a.meters)&&(a=null):a=null;return a},getLengthOfRequiredFormat:function(a,c,d){var k={};switch(c){case 0:k=g.getLengthObjForFormat0(a,d);break;case 1:k=g.getLengthObjForFormat1(a);break;case 2:k=g.getLengthObjForFormat2(a);break;case 3:k=g.getLengthObjForFormat3(a)}return k}};return g})},"widgets/ParcelDrafter/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],
function(){})},"url:widgets/ParcelDrafter/setting/SymbolChooserPopup.html":'\x3cdiv style\x3d"width: 100%; height: 100%;"\x3e\r\n    \x3cdiv class\x3d"esriCTSymbolChooserContainer"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"symbolData" title\x3d"${symbolChooserTitle}" class\x3d"common-input esriCTSymbolData"\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"buttonsDiv" class\x3d"buttonsDiv"\x3e\r\n        \x3cdiv class\x3d"button-container button-container-absolute" style\x3d"padding: 0px;"\x3e\r\n            \x3cdiv class\x3d"jimu-btn jimu-float-trailing jimu-leading-margin1" data-dojo-attach-point\x3d"okButton" tabindex\x3d"0"\x3e\r\n                ${nls.common.ok}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/ParcelDrafter/setting/LayerChooser.html":'\x3cdiv style\x3d"width: 100%; height: 100%;"\x3e\r\n    \x3cdiv class\x3d"esriCTLayerSelectorNode" data-dojo-attach-point\x3d"layerSelectorContainer"\x3e\r\n        \x3c!-- Single Layer Selector --\x3e\r\n        \x3cdiv style\x3d"width: 98%;"  data-dojo-attach-point\x3d"singleLayerChooser"\x3e\r\n        \x3c/div\x3e\r\n        \x3c!-- Related Layer Selector --\x3e\r\n        \x3cdiv class\x3d"esriCTLayerSelectorDiv"  data-dojo-attach-point\x3d"relatedLayerChooser"\x3e\r\n            \x3cdiv class\x3d"esriCTLayerChooserContainer row"\x3e\r\n                \x3cdiv class\x3d"esriCTLayerChooserFieldLabel esriCTEllipsis" title\x3d"${nls.parcelPolygonLayer.selectPolygonLayerLabel}"\x3e\r\n                    ${nls.parcelPolygonLayer.selectPolygonLayerLabel}\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriCTLayerChooserField"\x3e\r\n                    \x3cdiv style\x3d"width: 98%;" data-dojo-attach-point\x3d"relatedLayerChooserDiv"\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriCTHint"\x3e\r\n                        ${nls.parcelPolygonLayer.selectPolygonLayerHintText}\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"esriCTLayerChooserContainer row"\x3e\r\n                \x3cdiv class\x3d"esriCTLayerChooserFieldLabel esriCTEllipsis" title\x3d"${nls.parcelLineLayer.selectLayerLabel}"\x3e\r\n                    ${nls.parcelLineLayer.selectLayerLabel}\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriCTLayerChooserField"\x3e\r\n                    \x3cselect style\x3d"width: 98%;" data-dojo-type\x3d"dijit/form/Select"  data-dojo-attach-point\x3d"relatedLayerSelector"\x3e\r\n                \x3c/select\x3e\r\n                    \x3cdiv class\x3d"esriCTHint"\x3e\r\n                        ${nls.parcelLineLayer.selectLayerHintText}\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:jimu/dijit/templates/_TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"contentNode" class\x3d"dijitTreeContent" role\x3d"presentation"\x3e\r\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem" tabindex\x3d"-1" aria-selected\x3d"false"\x3e\x3c/span\x3e\r\n\t\t\x3c/span\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation" style\x3d"display: none;"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/templates/TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\r\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"contentNode"\r\n\t\t\tclass\x3d"dijitTreeContent" role\x3d"presentation"\x3e\r\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem"\r\n\t\t\t\t   tabindex\x3d"-1" aria-selected\x3d"false" id\x3d"${id}_label"\x3e\x3c/span\x3e\r\n\t\t\x3c/span\r\n\t\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation"\r\n\t\t style\x3d"display: none;" aria-labelledby\x3d"${id}_label"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/Tree.html":'\x3cdiv role\x3d"tree"\x3e\r\n\t\x3cdiv class\x3d"dijitInline dijitTreeIndent" style\x3d"position: absolute; top: -9999px" data-dojo-attach-point\x3d"indentDetector"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dijitTreeExpando dijitTreeExpandoLoading" data-dojo-attach-point\x3d"rootLoadingIndicator"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeContainer" role\x3d"presentation"\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:jimu/dijit/templates/LayerChooserFromMapWithDropbox.html":'\x3cdiv\x3e\r\n\x3ctable role\x3d"listbox" aria-haspopup\x3d"true" data-dojo-attach-point\x3d"dropDownBtn" data-dojo-attach-event\x3d"onclick: _onDropDownClick,onkeydown: _onDropDownKeydown"\r\n  tabindex\x3d"0" title\x3d"${nls.customSelectLayer}" aria-label\x3d"${nls.customSelectLayer}"\x3e\r\n    \x3ccaption class\x3d"screen-readers-only-no-position"\x3e${nls.customSelectLayer}\x3c/caption\x3e\r\n    \x3ccolgroup\x3e\r\n      \x3ccol width\x3d"10px"\x3e\x3c/col\x3e\r\n      \x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n      \x3ccol width\x3d"30px"\x3e\x3c/col\x3e\r\n    \x3c/colgroup\x3e\r\n    \x3ctbody\x3e\r\n      \x3ctr\x3e\r\n        \x3ctd\x3e\x3c/td\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv class\x3d"layer-name jimu-ellipsis" data-dojo-attach-point\x3d"layerNameNode"\x3e\x3c/div\x3e\r\n        \x3c/td\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv class\x3d"drop-select jimu-float-trailing" data-dojo-attach-point\x3d"dropArrowNode"\x3e\r\n            \x3cdiv class\x3d"jimu-icon jimu-icon-down-arrow-8"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n    \x3c/tbody\x3e\r\n  \x3c/table\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/ParcelDrafter/setting/Setting.html":'\x3cdiv style\x3d"width: 100%;height: 100%;"\x3e\r\n\t\x3cdiv class\x3d"esriCTMainContainer"\x3e\r\n\t\t\x3cdiv class\x3d".esriCTTabDiv" data-dojo-attach-point\x3d"tabDiv"\x3e\r\n\t\t\t\x3c!--Parcel layer tab contents--\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"parcelLineLayerNode" class\x3d"esriCTFullHeight esriCTTabNode"\x3e\r\n\t\t\t\t\x3c!--1.Parcel layer chooser--\x3e\r\n\t\t\t\t\x3cdiv class\x3d"esriCTLayerContainer row"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTSelectLayerLabel esriCTEllipsis"\x3e\r\n\t\t\t\t\t\t${nls.selectLayerLabel}\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTSelectedLayersDiv" data-dojo-attach-point\x3d"layersNode"\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTSetButton jimu-btn jimu-float-trailing" data-dojo-attach-point\x3d"selectLineLayerBtnNode"\x3e\r\n\t\t\t\t\t\t\t${nls.setBtnLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTHint esriCTLayerHint"\x3e\r\n\t\t\t\t\t\t\t${nls.selectLayerHintText}\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c!--2.Start/Rotation point symbol selectors--\x3e\r\n\t\t\t\t\x3cdiv class\x3d"esriCTLayerContainer row"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTPointSymbolLabel esriCTEllipsis" title\x3d"${nls.parcelLineLayer.startOrRotationSymbolLabel}"\x3e\r\n\t\t\t\t\t\t${nls.parcelLineLayer.startOrRotationSymbolLabel}\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTPreviewField" data-dojo-attach-point\x3d"startOrRotationSymbolNode"\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTHint esriCTPreviewHintField"\x3e\r\n\t\t\t\t\t\t${nls.parcelLineLayer.startOrRotationSymbolHintText}\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c!--3.Parcel point symbol selectors--\x3e\r\n\t\t\t\t\x3cdiv class\x3d"esriCTLayerContainer row"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTPointSymbolLabel esriCTEllipsis"\x3e\r\n\t\t\t\t\t\t${nls.parcelLineLayer.parcelPointSymbolLabel}\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTPreviewField" data-dojo-attach-point\x3d"pointSymbolNode"\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTHint esriCTPreviewHintField"\x3e\r\n\t\t\t\t\t\t${nls.parcelLineLayer.parcelPointSymbolHintText}\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c!--4.Line Layer field selectors--\x3e\r\n\t\t\t\t\x3cdiv class\x3d"esriCTMainFieldsetContainer row"\x3e\r\n\t\t\t\t\t\x3cfieldset class\x3d"esriCTFieldSet"\x3e\r\n\t\t\t\t\t\t\x3clegend class\x3d"esriCTFieldSetLegend"\x3e${nls.parcelLineLayer.selectFieldLegendLabel}\x3c/legend\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTFieldsContainer"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelLineLayer.bearingFieldLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerLeft"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"bearingFieldNode"\x3e\r\n         \t   \t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelLineLayer.chordLengthFieldLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerRight"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"chordLengthFieldNode"\x3e\r\n         \t   \t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelLineLayer.distanceFieldLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerLeft"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"distanceFieldNode"\x3e\r\n         \t   \t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelLineLayer.sequenceIdFieldLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerRight"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"sequenceIdFieldNode"\x3e\r\n         \t   \t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelLineLayer.radiusFieldLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerLeft"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"radiusFieldNode"\x3e\r\n         \t   \t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelLineLayer.foreignKeyFieldLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerRight"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"foreignKeyFieldNode"\x3e\r\n         \t   \t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelLineLayer.arcLengthFieldLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerLeft"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"arcLengthFieldNode"\x3e\r\n         \t   \t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelLineLayer.lineTypeFieldLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerRight"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"lineTypeFieldNode"\x3e\r\n         \t   \t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLineTypeTableContanier row"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"lineTypeNode"\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/fieldset\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c!--5. Polygon Layer field selectors--\x3e\r\n\t\t\t\t\x3cdiv class\x3d"esriCTMainFieldsetContainer row"\x3e\r\n\t\t\t\t\t\x3cfieldset class\x3d"esriCTFieldSet"\x3e\r\n\t\t\t\t\t\t\x3clegend class\x3d"esriCTFieldSetLegend"\x3e${nls.parcelPolygonLayer.selectFieldLegendLabel}\x3c/legend\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTFieldsContainer"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField esriCTHidden"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelPolygonLayer.parcelNameLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerLeft"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"parcelNameFieldNode"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelPolygonLayer.rotationLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerLeft"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"rotationFieldNode"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-event\x3d"onChange:_updateAttributeSettings"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField esriCTHidden"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelPolygonLayer.planNameLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerLeft"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"planNameFieldNode"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelPolygonLayer.scalingLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerRight"\x3e\x3cselect class\x3d"esriCTDropBox"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"scaleFieldNode"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-event\x3d"onChange:_updateAttributeSettings"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField esriCTHidden"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelPolygonLayer.documentTypeLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerLeft"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"documentTypeFieldNode"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelPolygonLayer.miscloseRatioLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerLeft"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"miscloseRatioFieldNode"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-event\x3d"onChange:_updateAttributeSettings"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelPolygonLayer.miscloseDistanceLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerRight"\x3e\x3cselect class\x3d"esriCTDropBox"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"miscloseDistanceFieldNode"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-event\x3d"onChange:_updateAttributeSettings"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelPolygonLayer.statedAreaLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerLeft"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"statedAreaFieldNode"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-event\x3d"onChange:_updateAttributeSettings"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c!-- Parcel layer tab contents ends --\x3e\r\n\t\t\t\x3c!-- Attribute settings tab content --\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"attributeSettingsNode" class\x3d"esriCTFullHeight esriCTTabNode"\x3e\r\n\t\t\t\t\x3cdiv class\x3d"esriCTLayerContainer row" style\x3d"margin-bottom: 10px;"\x3e\r\n                    \x3cdiv class\x3d"esriCTLabelAttribute" title\x3d"${nls.parcelPolygonLayer.titleLabel}"\x3e\r\n                        ${nls.parcelPolygonLayer.titleLabel}\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriCTLayerField"\x3e\r\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"polygonLayerNameNode" data-dojo-type\x3d"dijit/form/TextBox" style\x3d"width: 100%;" trim\x3d"true"\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c!-- Radio buttons--\x3e\r\n\t\t\t\t\x3cdiv class\x3d"esriCTRadioBtnContainer"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTRadioBtn"\x3e\r\n\t\t\t\t\t\t\x3cinput data-dojo-type\x3d"jimu/dijit/RadioBtn" id\x3d"webmapSettingsRadioBtn" data-dojo-props\x3d"group: \'g1\'"\r\n\t\t\t\t\t\t\ttype\x3d"radio" name\x3d"jimuradiobtn" data-dojo-attach-point\x3d"webmapSettingsRadioBtn"\x3e\r\n\t\t\t\t\t\t\x3clabel class\x3d"esriCTRadioLabel" for\x3d"webmapSettingsRadioBtn"\x3e\r\n\t\t\t\t\t\t\t${nls.parcelPolygonLayer.honorSettingRbLabel}\r\n\t\t\t\t\t\t\x3c/label\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTRadioBtn"\x3e\r\n\t\t\t\t\t\t\x3cinput data-dojo-type\x3d"jimu/dijit/RadioBtn" id\x3d"customSettingsRadioBtn" data-dojo-props\x3d"group: \'g1\'"\r\n\t\t\t\t\t\t\ttype\x3d"radio" name\x3d"jimuradiobtn" data-dojo-attach-point\x3d"customSettingsRadioBtn"\x3e\r\n\t\t\t\t\t\t\x3clabel class\x3d"esriCTRadioLabel" for\x3d"customSettingsRadioBtn"\x3e\r\n\t\t\t\t\t\t\t${nls.parcelPolygonLayer.customSettingsRbLabel}\r\n\t\t\t\t\t\t\x3c/label\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3cdiv class\x3d"esriCTAdditionalFieldsTable" data-dojo-attach-point\x3d"additionalFieldsTable"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3c/fieldset\x3e\r\n\t\t\t\x3c/div\x3e\r\n\r\n\t\t\t\x3c!-- Attribute settings tab content ends--\x3e\r\n\t\t\t\x3c!-- Advance settings tab content --\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"closureSettingsNode" class\x3d"esriCTFullHeight esriCTTabNode"\x3e\r\n\t\t\t\t\x3c!--1.Snapping layer chooser--\x3e\r\n\t\t\t\t\x3cdiv class\x3d"esriCTLayerContainer row"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTSelectLayerLabel esriCTEllipsis" data-dojo-attach-point\x3d"addLayersLabelNode"\x3e\r\n\t\t\t\t\t\t${nls.closureSetting.snappingLayerLabel}\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTSelectedSnappingLayersDiv" data-dojo-attach-point\x3d"snappingLayerNode"\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTAddLayerButton jimu-btn jimu-float-trailing" data-dojo-attach-point\x3d"snappingLayerBtnNode"\x3e\r\n\t\t\t\t\t\t\t${nls.setBtnLabel}\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTHint esriCTLayerHint"\x3e\r\n\t\t\t\t\t\t${nls.closureSetting.snappingLayerHintText}\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c!--2. Closure settings field selectors--\x3e\r\n\t\t\t\t\x3cdiv class\x3d"esriCTClosureFieldsContainer"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTClosureField"\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTClosureLabel esriCTEllipsis"\x3e${nls.closureSetting.miscloseDistanceLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTClosureBoxContainer"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTClosureTextBox" data-dojo-type\x3d"dijit/form/NumberTextBox" trim\x3d"true" required\x3d"true" data-dojo-attach-point\x3d"miscloseDistanceNode"\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTUnitsDropBox"\x3e\r\n\t\t\t\t\t\t\t\t\x3cselect class\x3d"esriCTClosureTextBox" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"miscloseDistanceUnitNode"\x3e\r\n         \t   \t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTHint esriCTClosureTabHint"\x3e\r\n\t\t\t\t\t\t\t${nls.closureSetting.miscloseDistanceHintText}\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTClosureField"\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTClosureLabel esriCTEllipsis"\x3e${nls.closureSetting.miscloseRatioLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTClosureBoxContainer"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTClosureTextBox" data-dojo-type\x3d"dijit/form/NumberTextBox" trim\x3d"true" required\x3d"true" data-dojo-attach-point\x3d"miscloseRatioNode"\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTHint esriCTClosureTabHint"\x3e\r\n\t\t\t\t\t\t\t${nls.closureSetting.miscloseRatioHintText}\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTClosureFieldsContainer"\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTClosureField"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTClosureLabel esriCTEllipsis"\x3e${nls.closureSetting.snappingToleranceLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTClosureBoxContainer"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" class\x3d"esriCTClosureTextBox" value\x3d"15" data-dojo-attach-point\x3d"toleranceNode"\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTPixelsDiv"\x3e${nls.closureSetting.pixelLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTHint esriCTClosureTabHint"\x3e\r\n\t\t\t\t\t\t\t\t${nls.closureSetting.snappingToleranceHintText}\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c!-- Closure settings field selectors end --\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c!-- Advance settings tab content end --\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/ParcelDrafter/setting/css/style.css":".jimu-widget-ParcelDrafter-setting .esriCTMainContainer{width: 100%; height: 100%; color: #596679; font-size: 14px;}.jimu-widget-ParcelDrafter-setting .jimu-tab3{height: 100%; overflow: hidden;}.jimu-widget-ParcelDrafter-setting .jimu-viewstack{height: calc(100% - 45px); overflow: auto;}.jimu-widget-ParcelDrafter-setting .esriCTTabNode{padding: 20px;}.jimu-widget-ParcelDrafter-setting .esriCTLayerContainer {width: 100%; float: left;}.jimu-widget-ParcelDrafter-setting .esriCTSelectLayerLabel {width: 25%; word-break: break-all; line-height: 30px; float: left; min-width: 230px; margin-right: 10px;}.jimu-widget-ParcelDrafter-setting .row {clear: both;}.jimu-widget-ParcelDrafter-setting .esriCTHint {margin: 5px 5px 10px 0px; float: left; font-size: 12px; color: #a0acbf; font-style: oblique;} .jimu-widget-ParcelDrafter-setting .esriCTLayerHint{margin-left: 240px;}.jimu-widget-ParcelDrafter-setting .esriCTEllipsis{overflow: hidden; text-overflow: ellipsis; white-space: nowrap;}.jimu-widget-ParcelDrafter-setting .esriCTHidden{display: none;}.jimu-widget-ParcelDrafter-setting .esriCTSelectedLayersDiv {max-height: 200px; min-height: 60px; overflow: auto; width: 58%; float: left; border: 1px solid #d2dae2; background: #e3ecf2; margin-right: 10px; line-height: 30px; padding-left: 10px;}.jimu-widget-ParcelDrafter-setting .esriCTActionsContent{padding: 15px;}.jimu-widget-ParcelDrafter-setting .esriCTFieldSet{height: auto; width: 100%; border: 1px solid #a0acbf! important; border-radius: 5px; font-size: 14px; color: #596679; margin-bottom: 10px; min-width: 0px;}.jimu-widget-ParcelDrafter-setting .esriCTFieldSetLegend{margin-left: 15px;}.jimu-widget-ParcelDrafter-setting .esriCTFieldsContainer{clear: both; width: 90%; margin: 0 auto; padding-top: 15px;}.jimu-widget-ParcelDrafter-setting .esriCTClosureFieldsContainer{clear: both; width: 100%; margin: 0 auto;}.jimu-widget-ParcelDrafter-setting .esriCTField{width: 50%; float:left; margin-bottom:10px;}.jimu-widget-ParcelDrafter-setting .esriCTClosureField{width: 100%; float:left; margin-bottom:10px;}.jimu-widget-ParcelDrafter-setting .esriCTLabel{float:left; padding: 8px 0px; width: 48%;}.jimu-widget-ParcelDrafter-setting .esriCTClosureLabel{min-width: 240px; width: 25%;}.jimu-widget-ParcelDrafter-setting .esriCTPointSymbolLabel{min-width: 230px; width: 25%; margin-right: 10px;}.jimu-widget-ParcelDrafter-setting .esriCTDropBox{width: 100%;}.jimu-widget-ParcelDrafter-setting .esriCTUnitsDropBox{margin-left: 10px; float: left;}.jimu-widget-ParcelDrafter-setting .esriCTClosureBoxContainer{width: 70%; float: left;}.jimu-widget-ParcelDrafter-setting .esriCTDropBoxContainerLeft{width: 45%; float: left;}.jimu-widget-ParcelDrafter-setting .esriCTDropBoxContainerRight{width: 45%; float: right;}.jimu-widget-ParcelDrafter-setting .esriCTFieldsetHint {margin: 5px 5px 10px 20px; float: left; font-size: 12px; color: #a0acbf; font-style: oblique;}.jimu-widget-ParcelDrafter-setting .esriCTadditionalFieldTable {height: 100%; width: 68%; float: left; margin-left: 15%;}.jimu-widget-ParcelDrafter-setting .esriCTLineTypeTableContanier {width: 100%; margin-bottom: 20px;}.jimu-widget-ParcelDrafter-setting .esriCTLineTypeTableContanier .dijitTextBox .dijitInputInner{height: 20px; line-height: 20px !important;}.jimu-widget-ParcelDrafter-setting .esriCTLayerListItem{line-height: 30px; width: 90%}.jimu-widget-ParcelDrafter-setting .esriCTGeometryTypeIcon{height: 16px; width: 16px; background-repeat: no-repeat; margin: 8px 2px 0px 0px; float: left;}.jimu-widget-ParcelDrafter-setting .esriCTPointGeometryIcon{background-image: url('../../images/point_layer.png');}.jimu-widget-ParcelDrafter-setting .esriCTPolygonGeometryIcon{background-image: url('../../images/polygon_layer.png');}.jimu-widget-ParcelDrafter-setting .esriCTPolylineGeometryIcon{background-image: url('../../images/line_layer.png');}.jimu-widget-ParcelDrafter-setting .esriCTLayerSelectorDiv{height: 145px; overflow-y: auto;}.jimu-widget-ParcelDrafter-setting .esriCTLayerChooserFieldLabel{width: 35%; float: left; line-height: 30px; padding-right: 10px;}.jimu-widget-ParcelDrafter-setting .esriCTLayerChooserField{width: 65%; float: right; margin-bottom: 10px;}.jimu-widget-ParcelDrafter-setting .esriCTLayerSelectorNode .jimu-basic-layer-chooser-from-map .jimu-tree{position: relative !important;}.jimu-widget-ParcelDrafter-setting .esriCTLayerSelectorNode{max-height: 200px; overflow: auto; text-overflow: ellipsis; white-space: nowrap;}.jimu-widget-ParcelDrafter-setting .esriCTSymbolChooserNode{text-align: center; cursor: pointer; min-width: 80px;}.jimu-widget-ParcelDrafter-setting .esriCTColorChooserNode{text-align: center; cursor: pointer; min-width: 80px;}.jimu-widget-ParcelDrafter-setting .esriCTColorChooserNode .jimu-color-picker{display:inline-block;}.jimu-widget-ParcelDrafter-setting .esriCTSymbolPreviewText{padding-right: 5px; color: #596679; font-size: 14px; max-width: 130px; text-overflow: ellipsis; overflow: hidden; white-space:nowrap;}.jimu-widget-ParcelDrafter-setting .esriCTPreviewField{float: left;}.jimu-widget-ParcelDrafter-setting .esriCTPreviewHintField{float: left; padding: 5px;}.jimu-widget-ParcelDrafter-setting .esriCTSymbolPreviewField{width: 35%; min-width: 250px; float: left; margin-left: 10px;}table{border-spacing: 0; padding: 0; margin: 0;}.jimu-widget-ParcelDrafter-setting .esriCTSymbolPreviewHintField{width: 50%; line-height: 20px; margin-left: 5px; float: right;}.jimu-widget-ParcelDrafter-setting .esriCTSymbolChooserContainer{height: calc(100% - 50px); overflow: auto;} .jimu-widget-ParcelDrafter-setting .esriCTTableCell {position: relative;} .jimu-widget-ParcelDrafter-setting .esriCTTableControl {position: absolute; top: 2px;} .jimu-widget-ParcelDrafter-setting .esriCTSelectedSnappingLayersDiv{height: 90px; overflow: auto; width: 58%; float: left; border: 1px solid #d2dae2; background: #e3ecf2; margin: 0 10px 0 0px; padding-left: 10px;}.jimu-widget-ParcelDrafter-setting .esriCTClosureTextBox{width: 150px; float: left;}.jimu-widget-ParcelDrafter-setting .esriCTPixelsDiv{line-height: 30px; font-style: italic; float: left; margin-left: 10px;} .jimu-widget-ParcelDrafter-setting .dijitValidationTextBoxLabel{max-width: 445px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; float: left;} .jimu-widget-ParcelDrafter-setting .jimu-layer-chooser-from-map-withdropbox .layer-name{text-overflow: ellipsis; overflow: hidden; white-space: nowrap; padding: 0px 18px 0px 9px;} .claro .dijitTextBox, .claro .dijitSelect{color: #7989a0; background-color: #fafafc; border: 1px solid #d2dae2;}.dj_webkit .claro .dijitTextBox .dijitInputInner{color: #7989a0;}.claro .dijitSelectDisabled, .claro .dijitTextBoxDisabled, .claro .dijitTextBoxDisabled .dijitInputContainer{background-color: #e3ecf2;}.claro .dijitSelect .dijitArrowButton{background-color: #fafafc; background-image: none; border-color: #fafafc;}.jimu-widget-ParcelDrafter-setting .dijitSelect .dijitButtonContents{border-style: none none none none; background-color: transparent;}input[type\x3dtext]::-ms-clear{display: none;}.jimu-widget-ParcelDrafter-setting .esriCTDefaultChkBox{margin: 0 20px;}.jimu-widget-ParcelDrafter-setting .esriCTParcelPolygonInformation{width: 95%;margin-left: 22px;}.jimu-widget-ParcelDrafter-setting .esriCTAttributeHint{width: 100%; float: inherit; margin-left: 10px;}.jimu-widget-ParcelDrafter-setting .esriCTRadioBtn{margin: 10px 10px;}.jimu-widget-ParcelDrafter-setting .esriCTAdditionalFieldsTable{height: 210px; width: 99%; margin: 10px 10px 10px 10px;}.jimu-widget-ParcelDrafter-setting .esriCTLayerContainer{width: 100%; float: left;}.jimu-widget-ParcelDrafter-setting .esriCTLayerField{width: 85%; float: right;}.jimu-widget-ParcelDrafter-setting .esriCTAttributeHint{margin: 5px 5px 10px 8px;}.jimu-widget-ParcelDrafter-setting .esriCTLabelAttribute{float: left; padding-left: 10px; line-height: 30px;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTSelectLayerLabel{float: right; margin-left: 10px;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTSelectedLayersDiv{float: right;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTGeometryTypeIcon{float: right; margin: 8px 5px 0px 10px;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTLabel{float: right;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTPreviewField{float: right;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTPreviewHintField{float: right;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTSymbolPreviewHintField{float: right;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTFieldSetLegend{margin-right: 15px;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTField{float: right;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTLabel{float: right;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTDropBoxContainerLeft{float: right;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTSelectedSnappingLayersDiv{float: right; padding-right: 10px;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTClosureTextBox{float: right;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTUnitsDropBox{margin-right: 10px; float: right;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTPixelsDiv{float: right; margin-right: 10px;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTClosureBoxContainer{float: right; margin-right: 10px;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTSelectLayerLabel{float: right; margin-right: 0px;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTHint{float: right; margin: 5px 10px 10px 0px}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTLayerHint{margin-right: 250px;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTClosureTabHint {float: right; margin: 5px 10px 10px 0;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTLayerChooserFieldLabel{float: right; padding-left: 10px; padding-right: 0;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTDropBoxContainerRight{float: left;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTLabelAttribute{float: right; padding-right: 10px;}.esriRtl .jimu-widget-ParcelDrafter-setting .jimu-simple-table .head-section .simple-table-thead th.simple-table-field .jimu-checkbox \x3e .label{padding-right: 3px;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTPointSymbolLabel{float: right; margin-left: 10px; margin-right: 0px;}.jimu-widget-ParcelDrafter-setting .esriCTTreeNode {top: 0 !important; vertical-align: middle;}",
"*now":function(g){g(['dojo/i18n!*preload*widgets/ParcelDrafter/setting/nls/Setting*["ar","bg","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dijit/_WidgetsInTemplateMixin jimu/dijit/TabContainer3 dijit/registry dojo/query dojo/on dojo/_base/lang dojo/_base/array jimu/dijit/SimpleTable jimu/utils esri/symbols/jsonUtils jimu/symbolUtils dojo/dom-construct dojo/dom-class ./SymbolChooserPopup ./LayerChooser jimu/BaseWidgetSetting ../layerUtils ../utils dojo/query jimu/dijit/Message jimu/LayerInfos/LayerInfos dijit/form/Select dijit/form/ValidationTextBox dijit/form/NumberTextBox dijit/form/NumberSpinner jimu/dijit/RadioBtn".split(" "),function(g,
a,c,d,k,m,n,t,B,z,C,q,p,w,K,M,Q,D,v,l,u,y,A,H,L){return g([Q,a],{baseClass:"jimu-widget-ParcelDrafter-setting",_tab:null,_symbolParams:{},_layerUtils:null,_stringFieldType:"esriFieldTypeString",_oidFieldType:"esriFieldTypeOID",_guidFieldType:"esriFieldTypeGUID",_globalIdFieldType:"esriFieldTypeGlobalID",_numberFieldTypes:[],polylineDetails:null,polygonDetails:null,snappingLayerDetails:null,distanceAndLengthUnits:{},postMixInProperties:function(){this.nls.common={};n.mixin(this.nls.common,window.jimuNls.common)},
postCreate:function(){y.getInstance(this.map,this.map.itemInfo).then(n.hitch(this,function(b){this._jimuLayerInfos=b;this._init()}))},_init:function(){this._symbolParams={};this._numberFieldTypes=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble"];this.distanceAndLengthUnits=n.clone(v.planSettingsOptions.distanceAndLengthUnits);this._layerUtils=new D({map:this.map,getPopupInfo:!1,getRenderer:!1});this._initTabs();this._initFieldsTable();this.own(m(this.selectLineLayerBtnNode,
"click",n.hitch(this,function(){this._showLayerChooser("parcelLayers",["polygon"],!1)})));this._createTableForLineTypes();this._createSymbolPicker(this.startOrRotationSymbolNode,"startOrRotaionSymbol","esriGeometryPoint",this.nls.parcelLineLayer.startOrRotationSymbolLabel);this._createSymbolPicker(this.pointSymbolNode,"pointSymbol","esriGeometryPoint",this.nls.parcelLineLayer.parcelPointSymbolLabel);this.own(m(this.snappingLayerBtnNode,"click",n.hitch(this,function(){this._showLayerChooser("snapping",
[""],!0)})));this.own(this.lineTypeFieldNode.on("change",n.hitch(this,this._updateLineTypeOptions)));this._loadMiscloseUnits();this.setConfig(this.config);this.miscloseRatioNode.constraints={min:0};this.miscloseDistanceNode.constraints={min:0};this.toleranceNode.constraints={min:1,max:50,places:0,pattern:"#"};this.toleranceNode.smallDelta=1;this.webmapSettingsRadioBtn.onStateChange=n.hitch(this,function(){this._updateAttributeSettings()})},_initTabs:function(){this._tab=new c({tabs:[{title:this.nls.parcelLineLayer.layerSettingTabLabel,
content:this.parcelLineLayerNode},{title:this.nls.parcelLineLayer.attributeSettingTabLabel,content:this.attributeSettingsNode},{title:this.nls.parcelLineLayer.advancedSettingTabLabel,content:this.closureSettingsNode}]},this.tabDiv);this._tab.startup()},_loadMiscloseUnits:function(){var b=[],h;t.forEach(this.distanceAndLengthUnits,n.hitch(this,function(r){h={value:r,label:window.jimuNls.units[r]};b.push(h)}));this.miscloseDistanceUnitNode.addOption(b)},setConfig:function(){this.config&&((this.config.snappingTolerance||
0===this.config.snappingTolerance)&&this.toleranceNode.set("value",this.config.snappingTolerance),(this.config.miscloseRatioSnap||0===this.config.miscloseRatioSnap)&&this.miscloseRatioNode.set("value",this.config.miscloseRatioSnap),(this.config.miscloseSnapDistance||0===this.config.miscloseSnapDistance)&&this.miscloseDistanceNode.set("value",this.config.miscloseSnapDistance),this.config.miscloseSnapDistanceUnit&&this.miscloseDistanceUnitNode&&this.miscloseDistanceUnitNode.set("value",this.config.miscloseSnapDistanceUnit),
this.config.polylineLayer&&this._setPolylineDetails(this.config.polylineLayer),this.config.polygonLayer?(this.config.hasOwnProperty("useFieldInfosFromWebmap")?!0===this.config.useFieldInfosFromWebmap?this.webmapSettingsRadioBtn.set("checked",!0):this.customSettingsRadioBtn.set("checked",!0):this.customSettingsRadioBtn.set("checked",!0),this.config.polygonLayer.attributeListTitle&&this.polygonLayerNameNode.set("value",this.config.polygonLayer.attributeListTitle),this._setPolygonDetails(this.config.polygonLayer,
!this.config.polygonLayer.attributeListTitle,!0)):this.webmapSettingsRadioBtn.set("checked",!0),this.config.polylineLayer&&this.config.polygonLayer&&this._setLayersInUI(this.layersNode,[this.config.polygonLayer,this.config.polylineLayer]),this.config.snappingLayers&&0<this.config.snappingLayers.length&&this._setSnappingLayerDetails(this.config.snappingLayers,!0))},getSelectedOption:function(b){return b&&b.options&&0<b.options.length&&(b=b.options,(b=t.filter(b,function(h){return!0===h.selected}))&&
0<b.length)?b[0]:null},getSelectedField:function(b){return(b=this.getSelectedOption(b))?b.field:null},_errorMessage:function(b){(new u({message:b,buttons:[{label:this.nls.common.ok}]})).message=b},_validateForDistinctFields:function(b){var h=[],r;var x=!0;for(r in b){var F=b[r];if("object"===typeof F&&F.hasOwnProperty("name"))if(-1<h.indexOf(F.name)){x=!1;break}else h.push(F.name)}return x},validateConfig:function(b){return b.polylineLayer?b.polylineLayer.bearing?b.polylineLayer.chordLength?b.polylineLayer.distance?
b.polylineLayer.sequenceId?b.polylineLayer.radius?b.polylineLayer.relatedGUID?b.polylineLayer.arcLength?b.polylineLayer.lineType?this._validateForDistinctFields(b.polylineLayer)?b.lineTypes[0].hasOwnProperty("type")&&null!==b.lineTypes[0].type&&void 0!==b.lineTypes[0].type&&""!==b.lineTypes[0].type&&this.connectionBox.isValid(!1)?b.lineTypes[1].hasOwnProperty("type")&&null!==b.lineTypes[1].type&&void 0!==b.lineTypes[1].type&&""!==b.lineTypes[1].type&&this.boundaryBox.isValid(!1)?b.lineTypes[0].type===
b.lineTypes[1].type?(this._errorMessage(this.nls.errorMsg.selectDistinctLineTypes),!1):b.polygonLayer?b.polygonLayer.relatedGUID?b.polygonLayer.parcelName&&b.polygonLayer.rotation?b.polygonLayer.planName?b.polygonLayer.scale?b.polygonLayer.documentType?b.polygonLayer.miscloseRatio?b.polygonLayer.statedArea?this._validateForDistinctFields(b.polygonLayer)?b.polygonLayer.miscloseDistance?this.miscloseDistanceNode.isValid()?this.toleranceNode.isValid()?this.miscloseRatioNode.isValid()?!0:(this._errorMessage(this.nls.errorMsg.invalidMiscloseRatio),
!1):(this._errorMessage(this.nls.errorMsg.invalidSnappingTolerance),!1):(this._errorMessage(this.nls.errorMsg.invalidMiscloseDistance),!1):(this._errorMessage(this.nls.errorMsg.miscloseDistanceFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.selectDistinctPolygonFields),!1):(this._errorMessage(this.nls.errorMsg.statedAreaFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.miscloseRatioFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.documentTypeFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.scaleFieldErrMsg),
!1):(this._errorMessage(this.nls.errorMsg.planNameFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.parcelNameFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.globalIdFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.invalidPolygonLayer),!1):(this._errorMessage(this.nls.errorMsg.invalidBoundaryLineType),!1):(this._errorMessage(this.nls.errorMsg.invalidConnectionLineType),!1):(this._errorMessage(this.nls.errorMsg.selectDistinctPolylineFields),!1):(this._errorMessage(this.nls.errorMsg.lineTypeFieldErrMsg),
!1):(this._errorMessage(this.nls.errorMsg.arcLengthFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.foreignKeyFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.radiusFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.sequenceIdFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.distanceFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.chordLengthErrMsg),!1):(this._errorMessage(this.nls.errorMsg.bearingFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.invalidPolylineLayer),
!1)},getConfig:function(){var b={};if(this.polylineDetails){b.polylineLayer={};n.mixin(b.polylineLayer,this.polylineDetails);b.polylineLayer.bearing=this.getSelectedField(this.bearingFieldNode);b.polylineLayer.chordLength=this.getSelectedField(this.chordLengthFieldNode);b.polylineLayer.distance=this.getSelectedField(this.distanceFieldNode);b.polylineLayer.sequenceId=this.getSelectedField(this.sequenceIdFieldNode);b.polylineLayer.radius=this.getSelectedField(this.radiusFieldNode);b.polylineLayer.relatedGUID=
this.getSelectedField(this.foreignKeyFieldNode);b.polylineLayer.arcLength=this.getSelectedField(this.arcLengthFieldNode);b.polylineLayer.lineType=this.getSelectedField(this.lineTypeFieldNode);b.lineTypes=[{},{}];this._symbolParams.connectionLine&&(b.lineTypes[0].symbol=this._symbolParams.connectionLine,b.lineTypes[0].isDefault=this._isConnectionLineDefault.checked);this._symbolParams.boundaryLine&&(b.lineTypes[1].symbol=this._symbolParams.boundaryLine,b.lineTypes[1].isDefault=this._isBoundaryLineDefault.checked);
if(this.connectionBox)if(this.connectionBox.options){var h=this.getSelectedOption(this.connectionBox);b.lineTypes[0].label=h.label;b.lineTypes[0].type=h.value}else b.lineTypes[0].label=this.nls.lineTypesTable.connectionLineLabel,b.lineTypes[0].type=this.connectionBox.get("value");this.boundaryBox&&(this.boundaryBox.options?(h=this.getSelectedOption(this.boundaryBox),b.lineTypes[1].label=h.label,b.lineTypes[1].type=h.value):(b.lineTypes[1].label=this.nls.lineTypesTable.boundaryLineLabel,b.lineTypes[1].type=
this.boundaryBox.get("value")),b.BoundaryLineType=b.lineTypes[1].type)}this.polygonDetails&&(b.polygonLayer={},n.mixin(b.polygonLayer,this.polygonDetails),this.map._layers[this.polygonDetails.id]&&(h=this.map._layers[this.polygonDetails.id].fields,(h=t.filter(h,n.hitch(this,function(r){return r.type===this._globalIdFieldType})))&&0<h.length&&(b.polygonLayer.relatedGUID=h[0])),b.polygonLayer.parcelName=this.getSelectedField(this.parcelNameFieldNode),b.polygonLayer.rotation=this.getSelectedField(this.rotationFieldNode),
b.polygonLayer.planName=this.getSelectedField(this.planNameFieldNode),b.polygonLayer.scale=this.getSelectedField(this.scaleFieldNode),b.polygonLayer.documentType=this.getSelectedField(this.documentTypeFieldNode),b.polygonLayer.miscloseRatio=this.getSelectedField(this.miscloseRatioFieldNode),b.polygonLayer.statedArea=this.getSelectedField(this.statedAreaFieldNode),b.polygonLayer.miscloseDistance=this.getSelectedField(this.miscloseDistanceFieldNode),this.webmapSettingsRadioBtn.get("checked")?b.useFieldInfosFromWebmap=
!0:b.useFieldInfosFromWebmap=!1,b.polygonLayer.attributeListTitle=z.sanitizeHTML(this.polygonLayerNameNode.get("value")),b.polygonLayer.additionalFieldsInfo=this._getAdditionalFieldInfos());this.snappingLayerDetails&&(b.snappingLayers=[],n.mixin(b.snappingLayers,this.snappingLayerDetails));this.toleranceNode&&(b.snappingTolerance=this.toleranceNode.get("value"));this.miscloseRatioNode&&(b.miscloseRatioSnap=this.miscloseRatioNode.get("value"));this.miscloseDistanceNode&&(b.miscloseSnapDistance=this.miscloseDistanceNode.get("value"));
this.miscloseDistanceUnitNode&&(b.miscloseSnapDistanceUnit=this.miscloseDistanceUnitNode.get("value"));this._symbolParams.startOrRotaionSymbol&&(b.startOrRotaionSymbol=this._symbolParams.startOrRotaionSymbol);this._symbolParams.pointSymbol&&(b.pointSymbol=this._symbolParams.pointSymbol);return this.validateConfig(b)?b:!1},_showLayerChooser:function(b,h,r){switch(b){case "parcelLayers":var x=this.nls.selectLayerLabel;var F=!0;break;case "snapping":x=this.nls.closureSetting.snappingLayerLabel,F=!1}(new M({title:x,
portalUrl:this.appConfig.portalUrl,nls:this.nls,folderUrl:this.folderUrl,map:this.map,multiple:r,types:h,chooseRelatedLayers:F,relatedLayerTypes:["polyline"],showLayerTypes:["FeatureLayer"]})).onOKButtonClicked=n.hitch(this,function(J){J&&0<J.length&&this._setLayersInfo(b,J)})},_setLayersInfo:function(b,h){for(var r=0;r<h.length;r++)n.mixin(h[r],this._layerUtils.getLayerDetailsFromMap(h[r].baseURL,h[r].layerId,h[r].id));this.config.polygonLayer={};this.config.polylineLayer={};this.config.lineTypes[0].type=
null;this.config.lineTypes[1].type=null;switch(b){case "parcelLayers":this._setLayersInUI(this.layersNode,h);this._setPolygonDetails(h[0],!0);this._setPolylineDetails(h[1]);this._setSnappingLayerDetails(h,!1);break;case "snapping":this._setSnappingLayerDetails(h,!0)}},_setPolylineDetails:function(b){this.polylineDetails=b;this._setPolylineFields();this._updateLineTypeOptions()},_setPolygonDetails:function(b,h,r){this.polygonDetails=b;this._setPolygonFields(h,r)},_setSnappingLayerDetails:function(b,
h){this.snappingLayerDetails&&!h?t.forEach(b,n.hitch(this,function(r){var x;(x=t.filter(this.snappingLayerDetails,n.hitch(function(F){return F.id===r.id})))&&0!==x.length||this.snappingLayerDetails.push(r)})):this.snappingLayerDetails=b;this._setLayersInUI(this.snappingLayerNode,this.snappingLayerDetails)},_setLayersInUI:function(b,h){var r,x;p.empty(b);for(r=0;r<h.length;r++){"esriGeometryPoint"===h[r].geometryType?x="esriCTPointGeometryIcon":"esriGeometryPolygon"===h[r].geometryType?x="esriCTPolygonGeometryIcon":
"esriGeometryPolyline"===h[r].geometryType&&(x="esriCTPolylineGeometryIcon");var F=p.create("div",{"class":"esriCTLayerList"},b);x&&p.create("div",{"class":"esriCTGeometryTypeIcon "+x,title:h[r].title},F);p.create("div",{"class":"esriCTLayerListItem esriCTEllipsis",innerHTML:h[r].title,title:h[r].title},F)}},_getSelectionInfo:function(b,h,r){var x={};this.config.hasOwnProperty(h)&&this.config[h].hasOwnProperty(b)&&this.config[h][b]&&this.config[h][b].hasOwnProperty("name")?(x.fieldName=this.config[h][b].name.toLowerCase(),
x.exactMatch=!0):(x.fieldName=b.toLowerCase(),x.exactMatch=!1);x.isRequired=r;return x},_autoPopulateRelatedGUID:function(){var b;this.foreignKeyFieldNode.options.length=0;this.foreignKeyFieldNode.addOption([{value:" ",label:"",field:null}]);var h=this.polylineDetails.relationShipId;var r=this.map._layers[this.polylineDetails.id];if((b=t.filter(r.relationships,n.hitch(this,function(F){return F.id===h})))&&1===b.length){var x=b[0].keyField;(r=t.filter(r.fields,n.hitch(this,function(F){return F.name.toUpperCase()===
x.toUpperCase()})))&&0<r.length&&this._loadOptionsForDropDown(this._getSelectionInfo("relatedGUID","polylineLayer",!0),this.foreignKeyFieldNode,r,this._guidFieldType)}this.foreignKeyFieldNode.set("disabled",!0)},_autoPopulateSequenceID:function(){var b;this.sequenceIdFieldNode.options.length=0;this.sequenceIdFieldNode.addOption([{value:" ",label:"",field:null}]);(b=t.filter(this.map._layers[this.polylineDetails.id].fields,n.hitch(this,function(h){return"sequenceid"===h.name.toLowerCase()&&-1<this._numberFieldTypes.indexOf(h.type)})))&&
0<b.length&&this._loadOptionsForDropDown(this._getSelectionInfo("sequenceId","polylineLayer",!0),this.sequenceIdFieldNode,b,this._numberFieldTypes);this.sequenceIdFieldNode.set("disabled",!0)},_setPolylineFields:function(){if(this.map._layers[this.polylineDetails.id]){var b=this.map._layers[this.polylineDetails.id].fields;this._loadOptionsForDropDown(this._getSelectionInfo("bearing","polylineLayer",!0),this.bearingFieldNode,b,this._numberFieldTypes);this._loadOptionsForDropDown(this._getSelectionInfo("chordLength",
"polylineLayer",!0),this.chordLengthFieldNode,b,this._numberFieldTypes);this._loadOptionsForDropDown(this._getSelectionInfo("distance","polylineLayer",!0),this.distanceFieldNode,b,this._numberFieldTypes);this._autoPopulateSequenceID();this._loadOptionsForDropDown(this._getSelectionInfo("radius","polylineLayer",!0),this.radiusFieldNode,b,this._numberFieldTypes);this._autoPopulateRelatedGUID();this._loadOptionsForDropDown(this._getSelectionInfo("arcLength","polylineLayer",!0),this.arcLengthFieldNode,
b,this._numberFieldTypes);this._loadOptionsForDropDown(this._getSelectionInfo("lineType","polylineLayer",!0),this.lineTypeFieldNode,b,this._numberFieldTypes.concat(this._stringFieldType))}},_setPolygonFields:function(b,h){if(this.map._layers[this.polygonDetails.id]){var r=this.map._layers[this.polygonDetails.id].fields;this._loadOptionsForDropDown(this._getSelectionInfo("parcelName","polygonLayer",!1),this.parcelNameFieldNode,r,this._stringFieldType);this._loadOptionsForDropDown(this._getSelectionInfo("rotation",
"polygonLayer",!0),this.rotationFieldNode,r,this._numberFieldTypes);this._loadOptionsForDropDown(this._getSelectionInfo("planName","polygonLayer",!1),this.planNameFieldNode,r,this._stringFieldType);this._loadOptionsForDropDown(this._getSelectionInfo("scale","polygonLayer",!0),this.scaleFieldNode,r,this._numberFieldTypes);this._loadOptionsForDropDown(this._getSelectionInfo("documentType","polygonLayer",!1),this.documentTypeFieldNode,r,this._numberFieldTypes.concat(this._stringFieldType));this._loadOptionsForDropDown(this._getSelectionInfo("miscloseRatio",
"polygonLayer",!0),this.miscloseRatioFieldNode,r,this._numberFieldTypes);this._loadOptionsForDropDown(this._getSelectionInfo("statedArea","polygonLayer",!1),this.statedAreaFieldNode,r,this._numberFieldTypes.concat(this._stringFieldType));this._loadOptionsForDropDown(this._getSelectionInfo("miscloseDistance","polygonLayer",!0),this.miscloseDistanceFieldNode,r,this._numberFieldTypes);this._updateAttributeSettings(b,h)}},_loadOptionsForDropDown:function(b,h,r,x){var F=[];b.isRequired||F.push({value:" ",
label:this.nls.selectLabel,field:{}});t.forEach(r,n.hitch(this,function(J){var O=!0;x&&0>x.indexOf(J.type)&&(O=!1);O&&(O={value:J.name,label:J.alias,field:J},b.exactMatch?J.name.toLowerCase()===b.fieldName&&(O.selected="selected"):-1<J.name.toLowerCase().indexOf(b.fieldName)&&(O.selected="selected"),F.push(O))}));h.options.length=0;0===F.length&&F.push({value:" ",label:"",field:null});h.addOption(F)},_createTableForLineTypes:function(){var b=new B({fields:[{name:"isDefault",title:this.nls.common.defaults,
type:"radio",width:"40px"},{name:"lineType",title:this.nls.lineTypesTable.lineTypeLabel,type:"text",editable:"false",width:"120px"},{name:"value",title:this.nls.lineTypesTable.valueLabel,type:"empty",editable:"false",width:"100px"},{name:"symbol",title:this.nls.common.symbol,type:"empty",editable:"false",width:"100px"}],selectable:!1});b.placeAt(this.lineTypeNode);b.startup();var h=this.config.lineTypes[1].isDefault;this._createLineTypeRow(b,"connectionLine",!h);this._createLineTypeRow(b,"boundaryLine",
h)},_createLineTypeRow:function(b,h,r){b=b.addRow({isDefault:r});b.success&&b.tr&&(b=b.tr,b=l(".simple-table-cell",b),b[1].innerHTML=this.nls.lineTypesTable[h+"Label"],w.add(b[2],"esriCTTableCell"),"connectionLine"===h?(this._connectionLineTypeNode=p.create("div",{},b[2]),this._isConnectionLineDefault=l("input",b[0])[0],w.add(this._isConnectionLineDefault,"esriCTDefaultChkBox")):"boundaryLine"===h&&(this._boundaryLineTypeNode=p.create("div",{},b[2]),this._isBoundaryLineDefault=l("input",b[0])[0],
w.add(this._isBoundaryLineDefault,"esriCTDefaultChkBox")),w.add(b[3],"esriCTTableCell"),b=p.create("div",{"class":"esriCTTableControl esriCTPreviewField"},b[3]),this._createSymbolPicker(b,h,"esriGeometryPolyline",this.nls.lineTypesTable[h+"Label"]))},_updateLineTypeOptions:function(){var b=[],h=[];var r=this.getSelectedField(this.lineTypeFieldNode);p.empty(this._connectionLineTypeNode);p.empty(this._boundaryLineTypeNode);r&&r.domain&&r.domain.codedValues?(this.connectionBox=new A({"class":"esriCTTableControl",
required:!0,style:{width:"180px",height:"25px"}},p.create("div",{},this._connectionLineTypeNode)),this.boundaryBox=new A({"class":"esriCTTableControl",required:!0,style:{width:"180px",height:"25px"}},p.create("div",{},this._boundaryLineTypeNode)),t.forEach(r.domain.codedValues,n.hitch(this,function(x){var F={value:x.code,label:x.name};var J={value:x.code,label:x.name};this.config.lineTypes&&0<this.config.lineTypes.length&&null!==this.config.lineTypes[0].type&&null!==this.config.lineTypes[1].type?
(this.config.lineTypes[0].type===x.code&&(F.selected=!0),this.config.lineTypes[1].type===x.code&&(J.selected=!0)):(-1<x.name.toLowerCase().indexOf("connection")&&(F.selected=!0),-1<x.name.toLowerCase().indexOf("boundary")&&(J.selected=!0));b.push(F);h.push(J)})),this.connectionBox.addOption(b),this.boundaryBox.addOption(h)):r&&(r=0>this._numberFieldTypes.indexOf(r.type)?H:L,this.connectionBox=new r({"class":"esriCTTableControl",trim:!0,required:!0,style:{width:"180px",height:"25px"}},p.create("div",
{},this._connectionLineTypeNode)),this.boundaryBox=new r({"class":"esriCTTableControl",trim:!0,required:!0,style:{width:"180px",height:"25px"}},p.create("div",{},this._boundaryLineTypeNode)),this.config.lineTypes&&0<this.config.lineTypes.length&&(this.connectionBox.set("value",this.config.lineTypes[0].type),this.boundaryBox.set("value",this.config.lineTypes[1].type)))},_createSymbolPicker:function(b,h,r,x){var F={};if(r){F.type=z.getSymbolTypeByGeometryType(r);"startOrRotaionSymbol"!==h||this.config[h]||
(r={color:[136,136,136,255],size:11.25,angle:0,xoffset:0,yoffset:0,type:"esriSMS",style:"esriSMSCircle",outline:{color:[29,29,53,255],width:.75,type:"esriSLS",style:"esriSLSSolid"}},this.config[h]=r);if(this.config&&this.config[h]){F.symbol=C.fromJson(this.config[h]);var J=this._createPreviewContainer(b,!0)}else"connectionLine"===h?(F.symbol=C.fromJson(this.config.lineTypes[0].symbol),J=this._createPreviewContainer(b,!1)):"boundaryLine"===h&&(F.symbol=C.fromJson(this.config.lineTypes[1].symbol),J=
this._createPreviewContainer(b,!1));var O={symbolChooserTitle:x,symbolParams:F,symbolType:h,nls:this.nls};this._showSelectedSymbol(J,F.symbol,h);this.own(m(J,"click",n.hitch(this,function(){F.symbol=C.fromJson(this._symbolParams[h]);this._initSymbolChooserPopup(O,J)})))}return J},_createPreviewContainer:function(b,h){h?(b=p.create("table",{cellspacing:"0",cellpadding:"0"},b),b=p.create("tr",{style:"height:30px"},b),h=p.create("td",{},b),p.create("div",{innerHTML:this.nls.parcelLineLayer.symbolPickerPreviewText,
"class":"esriCTSymbolPreviewText"},h),b=p.create("td",{},b),b=p.create("div",{"class":"esriCTSymbolChooserNode"},b)):b=p.create("div",{"class":"esriCTSymbolChooserNode"},b);return b},_initSymbolChooserPopup:function(b,h){var r=new K(b);r.onOkClick=n.hitch(this,function(){var x=r.symbolChooser.getSymbol();this._showSelectedSymbol(h,x,b.symbolType);r.popup.close()})},_showSelectedSymbol:function(b,h,r){p.empty(b);if(h){var x=q.createSymbolNode(h);x||(x=p.create("div"));p.place(x,b);this._symbolParams[r]=
h.toJson()}},_initFieldsTable:function(){this._fieldsTable=new B({fields:[{name:"visible",title:this.nls.parcelPolygonLayer.display,type:"checkbox","class":"display",width:"15%"},{name:"isEditable",title:this.nls.parcelPolygonLayer.edit,type:"checkbox","class":"editable",width:"12%"},{name:"fieldName",title:this.nls.parcelPolygonLayer.editpageName,type:"text",width:"26%"},{name:"label",title:this.nls.parcelPolygonLayer.editpageAlias,type:"text",editable:!0,width:"34%"},{name:"actions",title:this.nls.parcelPolygonLayer.actions,
type:"actions",actions:["up","down"],"class":"actions",width:"13%"}],selectable:!1,style:{height:"210px",maxHeight:"210px"}});this._fieldsTable.placeAt(this.additionalFieldsTable);this._fieldsTable.startup()},_updateAttributeSettings:function(b,h){this._fieldsTable.clear();if(this.polygonDetails&&this.polygonDetails.id){b&&(b=this._jimuLayerInfos.getLayerInfoById(this.polygonDetails.id),this.polygonLayerNameNode.set("value",b.layerObject.name));this._fieldsTable.fields&&(this.webmapSettingsRadioBtn.get("checked")?
this._fieldsTable.fields[3].editable=!1:this._fieldsTable.fields[3].editable=!0);h=this._getFieldInfosForPolygonLayer(h);var r=!0,x=!0;t.forEach(h,n.hitch(this,function(J){var O=this._fieldsTable.addRow({fieldName:J.fieldName,isEditable:J.isEditable,label:J.label?J.label:J.fieldName,visible:J.visible}),T=!0,X=!1;r&&!J.visible&&(r=!1);x&&!J.isEditable&&(x=!1);if(this.webmapSettingsRadioBtn.get("checked"))T=!1,k(".action-item",O.tr).forEach(function(I){w.add(I,"esriCTHidden")});else{if(!J.nullable&&
J.editable){var U=!0;T=!1}J.editable||(X=!0)}k(".editable",O.tr).forEach(function(I){I=d.getEnclosingWidget(I.childNodes[0]);U&&I.setValue(!0);I.setStatus(T);X&&(I.setValue(!1),I.setStatus(!1))});k(".display",O.tr).forEach(function(I){I=d.getEnclosingWidget(I.childNodes[0]);U&&I.setValue(!0);I.setStatus(T)})}));h=this._fieldsTable._getThCheckBox("visible");b=this._fieldsTable._getThCheckBox("isEditable");var F=this.webmapSettingsRadioBtn.checked?!1:!0;F||(h.setValue(r),b.setValue(x));h.setStatus(F);
b.setStatus(F);setTimeout(n.hitch(this,function(){t.forEach(this._fieldsTable.fields,function(J){"visible"===J.name?J.onChange=n.hitch(this,this._onDisplayFieldChanged):"isEditable"===J.name&&(J.onChange=n.hitch(this,this._onIsEditableFieldChanged))},this)}),300)}},_onDisplayFieldChanged:function(b){var h=this._fieldsTable.getRowData(b);!h.visible&&h.isEditable&&(h.isEditable=!1,this._fieldsTable.editRow(b,h))},_onIsEditableFieldChanged:function(b){var h=this._fieldsTable.getRowData(b);h.isEditable&&
!h.visible&&(h.visible=!0,this._fieldsTable.editRow(b,h))},_getAdditionalFieldInfos:function(){var b=[],h,r=this._fieldsTable.getData();this.customSettingsRadioBtn.get("checked")&&(h=!0);t.forEach(r,function(x){var F=!1;h&&null===x.isEditable&&null===x.visible&&(F=!0);b.push({fieldName:x.fieldName,isEditable:F?F:x.isEditable,label:x.label,visible:F?F:x.visible})});return b},mergeFirstToLast:function(){for(var b={},h=arguments.length-1,r;0<=h;h--)for(r in arguments[h])arguments[h].hasOwnProperty(r)&&
(b[r]=arguments[h][r]);return b},_getFieldInfosFromLayer:function(b){var h=[];b&&b.layerObject&&t.forEach(b.layerObject.fields,function(r){var x=z.getDefaultPortalFieldInfo(r);x=this.mergeFirstToLast(x,r);x.format&&x.format.dateFormat&&x.format.dateFormat.toLowerCase()&&0<=x.format.dateFormat.toLowerCase().indexOf("time")&&(x.format.time=!0);x.visible=!0;h.push(x)},this);return h},_createFieldsDetailsObject:function(b){var h={};t.forEach(b,n.hitch(this,function(r){h[r.name]=r.type}));return h},getFieldInfoByFieldName:function(b,
h){var r={};t.some(b,function(x){if(x.name===h)return n.mixin(r,x),!0});return r},_skipReadOnlyFields:function(b){var h=[];b.layerObject.hasOwnProperty("globalIdField")&&void 0!==b.layerObject.globalIdField&&null!==b.layerObject.globalIdField&&h.push(b.layerObject.globalIdField);b.layerObject.hasOwnProperty("objectIdField")&&void 0!==b.layerObject.objectIdField&&null!==b.layerObject.objectIdField&&h.push(b.layerObject.objectIdField);if(b.layerObject.hasOwnProperty("editFieldsInfo")&&void 0!==b.layerObject.editFieldsInfo&&
null!==b.layerObject.editFieldsInfo)for(var r in b.layerObject.editFieldsInfo)b.layerObject.editFieldsInfo.hasOwnProperty(r)&&h.push(b.layerObject.editFieldsInfo[r]);return h},_getFieldInfosForPolygonLayer:function(b){var h=[],r=!1,x=[this.rotationFieldNode.get("value"),this.scaleFieldNode.get("value"),this.miscloseRatioFieldNode.get("value"),this.miscloseDistanceFieldNode.get("value"),this.statedAreaFieldNode.get("value")],F=this._jimuLayerInfos.getLayerInfoById(this.polygonDetails.id),J=this._createFieldsDetailsObject(F.layerObject.fields);
var O=this._getFieldInfosFromLayer(F);if(this.webmapSettingsRadioBtn.get("checked")&&F.controlPopupInfo&&F.controlPopupInfo.enablePopup&&F.controlPopupInfo.infoTemplate)r=!0,O=n.clone(F.controlPopupInfo.infoTemplate.info.fieldInfos);else if(b&&this.config.polygonLayer.hasOwnProperty("additionalFieldsInfo")&&0<this.config.polygonLayer.additionalFieldsInfo.length){var T=[];t.forEach(this.config.polygonLayer.additionalFieldsInfo,function(I){var W=this.getFieldInfoByFieldName(O,I.fieldName);W=n.mixin(W,
I);T.push(W)},this);O=T}else b&&this.config.polygonLayer&&(this.config.polygonLayer.documentType&&this.config.polygonLayer.documentType.hasOwnProperty("name")&&h.push(this.config.polygonLayer.documentType.name),this.config.polygonLayer.parcelName&&this.config.polygonLayer.parcelName.hasOwnProperty("name")&&h.push(this.config.polygonLayer.parcelName.name),this.config.polygonLayer.planName&&this.config.polygonLayer.planName.hasOwnProperty("name")&&h.push(this.config.polygonLayer.planName.name));if(!r){var X=
this._skipReadOnlyFields(F);O=O.filter(function(I){return-1!==t.indexOf(X,I.fieldName)?!1:I.hasOwnProperty("editable")?I.editable:I.isEditable})}var U=[];t.forEach(O,n.hitch(this,function(I){h&&0<h.length&&(0<=h.indexOf(I.fieldName)?I.isEditable=I.editable:I.visible=!1);-1<x.indexOf(I.fieldName)&&(I.visible=!1);0>x.indexOf(I.fieldName)&&J[I.fieldName]&&"esriFieldTypeRaster"!==J[I.fieldName]&&"esriFieldTypeBlob"!==J[I.fieldName]&&"esriFieldTypeXML"!==J[I.fieldName]&&(I.format&&I.format.dateFormat&&
I.format.dateFormat.toLowerCase()&&0<=I.format.dateFormat.toLowerCase().indexOf("time")&&(I.format.time=!0),U.push(I))}));return U}})});
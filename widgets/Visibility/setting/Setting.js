// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"esri/dijit/util/busyIndicator":function(){define("dijit/registry dojo/_base/lang dojo/_base/window dojo/dom dojo/dom-construct dojox/widget/Standby require".split(" "),function(D,p,w,t,q,z,x){var y={_defaultStandbyParams:{image:x.toUrl("../images/loading-throb.gif"),color:"#fff",opacity:.75,duration:200},create:function(a){if(a=this._normalizeParams(a))return a=new z(y._toStandbyParams(a)),q.place(a.domNode,w.doc.body),y._createHandle(a)},_normalizeParams:function(a){if(a){if(a.target)return a;
if("string"===typeof a){var g=D.byId(a);a=g?g.domNode:t.byId(a)}else a=a.domNode?a.domNode:t.byId(a);if(a)return{target:a}}},_toStandbyParams:function(a){a.imageUrl&&(a.image=a.imageUrl);a.backgroundColor&&(a.color=a.backgroundColor);a.backgroundOpacity&&(a.opacity=a.backgroundOpacity);a.fadeDuration&&(a.duration=a.fadeDuration);return p.mixin({},y._defaultStandbyParams,a)},_createHandle:function(a){return{show:function(){a&&a.show()},hide:function(){a&&a.hide()},destroy:function(){a&&(a.destroy(),
a=null)}}}};return y})},"dojox/widget/Standby":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/array dojo/_base/event dojo/_base/sniff dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/window dojo/_base/window dojo/_base/fx dojo/fx dijit/_Widget dijit/_TemplatedMixin dijit/registry".split(" "),function(D,p,w,t,q,z,x,y,a,g,B,l,u,v,E,m,h){D.experimental("dojox.widget.Standby");return p("dojox.widget.Standby",[E,m],{image:require.toUrl("dojox/widget/Standby/images/loading.gif").toString(),
imageText:"Please Wait...",text:"Please wait...",centerIndicator:"image",target:"",color:"#C0C0C0",duration:500,zIndex:"auto",opacity:.75,templateString:'\x3cdiv\x3e\x3cdiv style\x3d"display: none; opacity: 0; z-index: 9999; position: absolute; cursor:wait;" dojoAttachPoint\x3d"_underlayNode"\x3e\x3c/div\x3e\x3cimg src\x3d"${image}" style\x3d"opacity: 0; display: none; z-index: -10000; position: absolute; top: 0px; left: 0px; cursor:wait;" dojoAttachPoint\x3d"_imageNode"\x3e\x3cdiv style\x3d"opacity: 0; display: none; z-index: -10000; position: absolute; top: 0px;" dojoAttachPoint\x3d"_textNode"\x3e\x3c/div\x3e\x3c/div\x3e',
_underlayNode:null,_imageNode:null,_textNode:null,_centerNode:null,_displayed:!1,_resizeCheck:null,_started:!1,_parent:null,startup:function(b){if(!this._started){if("string"===typeof this.target){var k=h.byId(this.target);this.target=k?k.domNode:z.byId(this.target)}this.text&&(this._textNode.innerHTML=this.text);"image"===this.centerIndicator?(this._centerNode=this._imageNode,x.set(this._imageNode,"src",this.image),x.set(this._imageNode,"alt",this.imageText)):this._centerNode=this._textNode;g.set(this._underlayNode,
{display:"none",backgroundColor:this.color});g.set(this._centerNode,"display","none");this.connect(this._underlayNode,"onclick","_ignore");this.domNode.parentNode&&this.domNode.parentNode!=l.body()&&l.body().appendChild(this.domNode);7==q("ie")&&(this._ieFixNode=y.create("div"),g.set(this._ieFixNode,{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"}),l.body().appendChild(this._ieFixNode));this.inherited(arguments)}},show:function(){this._displayed||(this._anim&&(this._anim.stop(),delete this._anim),
this._displayed=!0,this._size(),this._disableOverflow(),this._fadeIn())},hide:function(){if(this._displayed)try{this._anim&&(this._anim.stop(),delete this._anim),this._size()}catch(b){console.error(b)}finally{this._fadeOut(),this._displayed=!1,null!==this._resizeCheck&&(clearInterval(this._resizeCheck),this._resizeCheck=null)}},isVisible:function(){return this._displayed},onShow:function(){},onHide:function(){},uninitialize:function(){this._displayed=!1;this._resizeCheck&&clearInterval(this._resizeCheck);
g.set(this._centerNode,"display","none");g.set(this._underlayNode,"display","none");7==q("ie")&&this._ieFixNode&&(l.body().removeChild(this._ieFixNode),delete this._ieFixNode);this._anim&&(this._anim.stop(),delete this._anim);this._centerNode=this._textNode=this._imageNode=this.target=null;this.inherited(arguments)},_size:function(){if(this._displayed){var b=x.get(l.body(),"dir");b&&(b=b.toLowerCase());var k=this._scrollerWidths(),d=this.target,n=g.get(this._centerNode,"display");g.set(this._centerNode,
"display","block");var f=a.position(d,!0);if(d===l.body()||d===l.doc)f=B.getBox(),f.x=f.l,f.y=f.t;var c=a.getMarginBox(this._centerNode);g.set(this._centerNode,"display",n);if(this._ieFixNode){var e=-this._ieFixNode.offsetTop/1E3;f.x=Math.floor((f.x+.9)/e);f.y=Math.floor((f.y+.9)/e);f.w=Math.floor((f.w+.9)/e);f.h=Math.floor((f.h+.9)/e)}var r=g.get(d,"zIndex"),C=n=r;if("auto"===this.zIndex)if("auto"!=r)n=parseInt(n,10),C=parseInt(C,10);else{var A=d;if(A&&A!==l.body()&&A!==l.doc)for(A=d.parentNode,
e=-1E5;A&&A!==l.body();)(r=g.get(A,"zIndex"))&&"auto"!==r&&(r=parseInt(r,10),e<r&&(e=r,n=r+1,C=r+1)),A=A.parentNode}else n=parseInt(this.zIndex,10),C=parseInt(this.zIndex,10);g.set(this._centerNode,"zIndex",C);g.set(this._underlayNode,"zIndex",n);if((n=d.parentNode)&&n!==l.body()&&d!==l.body()&&d!==l.doc){A=f.h;C=f.w;d=a.position(n,!0);this._ieFixNode&&(e=-this._ieFixNode.offsetTop/1E3,d.x=Math.floor((d.x+.9)/e),d.y=Math.floor((d.y+.9)/e),d.w=Math.floor((d.w+.9)/e),d.h=Math.floor((d.h+.9)/e));d.w-=
n.scrollHeight>n.clientHeight&&0<n.clientHeight?k.v:0;d.h-=n.scrollWidth>n.clientWidth&&0<n.clientWidth?k.h:0;"rtl"===b&&(q("opera")?(f.x+=n.scrollHeight>n.clientHeight&&0<n.clientHeight?k.v:0,d.x+=n.scrollHeight>n.clientHeight&&0<n.clientHeight?k.v:0):q("ie")?d.x+=n.scrollHeight>n.clientHeight&&0<n.clientHeight?k.v:0:q("webkit"));d.w<f.w&&(f.w-=d.w);d.h<f.h&&(f.h-=d.h);var G=d.y,H=d.y+d.h,F=f.y,I=f.y+A;b=d.x;e=d.x+d.w;r=f.x;var J=f.x+C;if(I>G&&F<G)f.y=d.y,A-=G-F,f.h=A<d.h?A:f.h-2*(n.scrollWidth>
n.clientWidth&&0<n.clientWidth?k.h:0);else if(F<H&&I>H)f.h=H-F;else if(I<=G||F>=H)f.h=0;if(J>b&&r<b)f.x=d.x,C-=b-r,f.w=C<d.w?C:f.w-2*(n.scrollHeight>n.clientHeight&&0<n.clientHeight?k.w:0);else if(r<e&&J>e)f.w=e-r;else if(J<=b||r>=e)f.w=0}0<f.h&&0<f.w?(g.set(this._underlayNode,{display:"block",width:f.w+"px",height:f.h+"px",top:f.y+"px",left:f.x+"px"}),k=["borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"],this._cloneStyles(k),q("ie")||(k=
"MozBorderRadius MozBorderRadiusTopleft MozBorderRadiusTopright MozBorderRadiusBottomleft MozBorderRadiusBottomright WebkitBorderRadius WebkitBorderTopLeftRadius WebkitBorderTopRightRadius WebkitBorderBottomLeftRadius WebkitBorderBottomRightRadius".split(" "),this._cloneStyles(k,this)),k=f.h/2-c.h/2,n=f.w/2-c.w/2,f.h>=c.h&&f.w>=c.w?g.set(this._centerNode,{top:k+f.y+"px",left:n+f.x+"px",display:"block"}):g.set(this._centerNode,"display","none")):(g.set(this._underlayNode,"display","none"),g.set(this._centerNode,
"display","none"));if(null===this._resizeCheck){var K=this;this._resizeCheck=setInterval(function(){K._size()},100)}}},_cloneStyles:function(b){w.forEach(b,function(k){g.set(this._underlayNode,k,g.get(this.target,k))},this)},_fadeIn:function(){var b=this,k=u.animateProperty({duration:b.duration,node:b._underlayNode,properties:{opacity:{start:0,end:b.opacity}}}),d=u.animateProperty({duration:b.duration,node:b._centerNode,properties:{opacity:{start:0,end:1}},onEnd:function(){b.onShow();delete b._anim}});
this._anim=v.combine([k,d]);this._anim.play()},_fadeOut:function(){var b=this,k=u.animateProperty({duration:b.duration,node:b._underlayNode,properties:{opacity:{start:b.opacity,end:0}},onEnd:function(){g.set(this.node,{display:"none",zIndex:"-1000"})}}),d=u.animateProperty({duration:b.duration,node:b._centerNode,properties:{opacity:{start:1,end:0}},onEnd:function(){g.set(this.node,{display:"none",zIndex:"-1000"});b.onHide();b._enableOverflow();delete b._anim}});this._anim=v.combine([k,d]);this._anim.play()},
_ignore:function(b){b&&t.stop(b)},_scrollerWidths:function(){var b=y.create("div");g.set(b,{position:"absolute",opacity:0,overflow:"hidden",width:"50px",height:"50px",zIndex:"-100",top:"-200px",padding:"0px",margin:"0px"});var k=y.create("div");g.set(k,{width:"200px",height:"10px"});b.appendChild(k);l.body().appendChild(b);k=a.getContentBox(b);g.set(b,"overflow","scroll");var d=a.getContentBox(b);l.body().removeChild(b);return{v:k.w-d.w,h:k.h-d.h}},_setTextAttr:function(b){this.text=this._textNode.innerHTML=
b},_setColorAttr:function(b){g.set(this._underlayNode,"backgroundColor",b);this.color=b},_setImageTextAttr:function(b){x.set(this._imageNode,"alt",b);this.imageText=b},_setImageAttr:function(b){x.set(this._imageNode,"src",b);this.image=b},_setCenterIndicatorAttr:function(b){this.centerIndicator=b;"image"===b?(this._centerNode=this._imageNode,g.set(this._textNode,"display","none")):(this._centerNode=this._textNode,g.set(this._imageNode,"display","none"))},_setTargetAttr:function(b){if("string"===typeof b){var k=
h.byId(b);this._set("target",k?k.domNode:z.byId(b))}else this._set("target",b)},_disableOverflow:function(){if(this.target===l.body()||this.target===l.doc){this._overflowDisabled=!0;var b=l.body();this._oldOverflow=b.style&&b.style.overflow?g.get(b,"overflow"):"";if(q("ie")&&!q("quirks")){if(b.parentNode&&b.parentNode.style&&b.parentNode.style.overflow)this._oldBodyParentOverflow=b.parentNode.style.overflow;else try{this._oldBodyParentOverflow=g.get(b.parentNode,"overflow")}catch(k){this._oldBodyParentOverflow=
"scroll"}g.set(b.parentNode,"overflow","hidden")}g.set(b,"overflow","hidden")}},_enableOverflow:function(){if(this._overflowDisabled){delete this._overflowDisabled;var b=l.body();q("ie")&&!q("quirks")&&(b.parentNode.style.overflow=this._oldBodyParentOverflow,delete this._oldBodyParentOverflow);g.set(b,"overflow",this._oldOverflow);if(q("webkit")){var k=y.create("div",{style:{height:"2px"}});b.appendChild(k);setTimeout(function(){b.removeChild(k)},0)}delete this._oldOverflow}}})})},"widgets/Visibility/js/PrivilegeUtil":function(){define("dojo/_base/declare dojo/_base/lang jimu/portalUtils jimu/portalUrlUtils jimu/Role esri/lang".split(" "),
function(D,p,w,t,q,z){var x=null,y=D([],{userRole:null,userPortalUrl:null,portalAnalysis:null,portalSelf:null,portalUrl:null,_isServiceAvailable:!1,constructor:function(a){this.portalUrl=a},_clearLoadedInfo:function(){this.portalUrl=this.portalSelf=this.userPortalUrl=this.userRole=null},loadPrivileges:function(a){this.portalSelf=this.userPortalUrl=this.userRole=null;this._isServiceAvailable=!1;a&&(this.portalUrl=a);a=w.getPortal(this.portalUrl);return a.haveSignIn()?this._loadUserInfo(a):this._signIn(a)},
getPortalUrl:function(a){return a?t.getStandardPortalUrl(a):this.portalUrl?t.getStandardPortalUrl(this.portalUrl):t.getStandardPortalUrl(this.appConfig.portalUrl)},_privilegeLoaded:function(){return null!==this.portalSelf},getUserPortal:function(){return this._privilegeLoaded()?this.getPortalUrl(this.userPortalUrl):null},_signIn:function(a){return a.loadSelfInfo().then(p.hitch(this,function(g){var B=w.getPortal(g.portalHostname);return null===B?!1:B.signIn().then(p.hitch(this,function(l){return this._loadUserInfo(B,
l)}),function(){return!1})}),function(){return!1})},_loadUserInfo:function(a){return a.loadSelfInfo().then(p.hitch(this,function(g){this.userPortalUrl=g.urlKey?g.urlKey+"."+g.customBaseUrl:this.portalUrl;return g&&g.user?(this.userRole=new q({id:g.user.roleId?g.user.roleId:g.user.role,role:g.user.role}),g.user.privileges&&this.userRole.setPrivileges(g.user.privileges),this.portalSelf=g,!0):!1}),function(){return!1})},_canPerformElevationAnalysis:function(){this.portalSelf&&(this._isServiceAvailable=
z.isDefined(this.portalSelf.helperServices.elevation));return this.canPerformAnalysis()&&this._isServiceAvailable},canPerformAnalysis:function(){var a=!1;this.userRole&&(this.userRole.isAdmin()||this.userRole.isPublisher())?a=!0:this.userRole&&this.userRole.isCustom()&&(a=this.userRole.canCreateItem()&&this.userRole.canPublishFeatures()&&this.userRole.canUseSpatialAnalysis());this.portalSelf&&this.portalSelf.isPortal&&(a=a&&z.isDefined(this.portalSelf.helperServices.analysis)&&z.isDefined(this.portalSelf.helperServices.analysis.url));
return a}});y.getInstance=function(a){null===x&&(x=new y(a));return x};return y})},"widgets/Visibility/js/symbologySettings":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/html dojo/on ./ColorPickerEditor jimu/BaseWidget dijit/_WidgetsInTemplateMixin dojo/text!../templates/symbologySettings.html dojo/_base/lang dojo/Evented dojo/dom-class dojo/dom-attr dojo/query dojo/keys jimu/utils dijit/focus jimu/dijit/formSelect jimu/dijit/SymbolChooser".split(" "),function(D,p,w,t,q,z,x,y,
a,g,B,l,u,v,E,m){return D([z,x,g],{baseClass:"jimu-widget-visibility-symbologySettings",templateString:y,selectedSettings:{},colorPickerNodes:[],colorPickerObjList:[],constructor:function(h){a.mixin(this,h);this.colorPickerObjList=[];this.colorPickerNodes=[]},startup:function(){if(!this.config.hasOwnProperty("symbology"))var h={visibleSectionOutlineColor:{color:"#000000",transparency:1,type:"esriSLSSolid"},visibleSectionFillColor:{color:"#00ff00",transparency:.5,type:"esriSFSSolid"},nonVisibleSectionOutlineColor:{color:"#000000",
transparency:1,type:"esriSLSSolid"},nonVisibleSectionFillColor:{color:"#ff0000",transparency:.5,type:"esriSFSSolid"}};p.forEach(this.colorPickerNodes,a.hitch(this,function(k){var d=l.get(k,"nodeId");k=new q({nls:this.nls,type:B.contains(k,"Line")?"line":"fill",nodeId:d},k);k.setValues({color:h?h[d].color:this.config.symbology[d].color,transparency:h?h[d].transparency:this.config.symbology[d].transparency});k.startup();k.dropdown.set("value",h?h[d].type:this.config.symbology[d].type);this.colorPickerObjList.push(k)}));
var b=u(".jimu-color-pickerPopup",this.domNode);p.forEach(b,a.hitch(this,function(k){this.own(t(k,"keydown",a.hitch(this,function(d){d.keyCode!==v.ENTER&&d.keyCode!==v.SPACE||d.currentTarget.click()})))}));this.onSettingsChanged()},postCreate:function(){this.inherited(arguments);this.colorPickerObjList=[];this.colorPickerNodes=[];this.colorPickerNodes=u(".colorPicker",this.domNode);this._handleClickEvents();this.visibleSectionSettingsButton.click()},_handleClickEvents:function(){this.own(t(this.visibleSectionSettingsButton,
"click",a.hitch(this,function(){this._openCloseNodes(this.visibleSectionSettingsButton,this.visibleSectionContainer)})));this.own(t(this.nonVisibleSectionSettingsButton,"click",a.hitch(this,function(){this._openCloseNodes(this.nonVisibleSectionSettingsButton,this.nonVisibleSectionContainer)})));this.own(t(this.visibleSectionSettingsButton,"keydown",a.hitch(this,function(h){h.keyCode!==v.ENTER&&h.keyCode!==v.SPACE||this._openCloseNodes(this.visibleSectionSettingsButton,this.visibleSectionContainer)})));
this.own(t(this.nonVisibleSectionSettingsButton,"keydown",a.hitch(this,function(h){h.keyCode!==v.ENTER&&h.keyCode!==v.SPACE||this._openCloseNodes(this.nonVisibleSectionSettingsButton,this.nonVisibleSectionContainer)})))},_openCloseNodes:function(h,b){var k=u(".container",this.domNode),d=u(".esriCTSettingsButtonIcon",this.domNode),n=!1;this.validInputs()&&(h&&B.contains(h,"esriCTLabelSettingsRightButton")&&(n=!0),p.forEach(k,a.hitch(this,function(f){w.addClass(f,"esriCTGroupHidden")})),p.forEach(d,
a.hitch(this,function(f,c){w.removeClass(f,"esriCTLabelSettingsDownButton");w.addClass(f,"esriCTLabelSettingsRightButton");l.set(f,"aria-expanded","false");c===d.length-1&&setTimeout(a.hitch(this,function(){this._setLastFocusNode()}),100)})),n?(w.removeClass(b,"esriCTGroupHidden"),w.removeClass(h,"esriCTLabelSettingsRightButton"),w.addClass(h,"esriCTLabelSettingsDownButton"),l.set(h,"aria-expanded","true"),h=u(".jimu-color-picker",b),h.length&&m.focus(h[0])):m.focus(h))},onClose:function(){if(!this.validInputs())return!1;
this.onSettingsChanged();this._openCloseNodes()},onSettingsChanged:function(){p.forEach(this.colorPickerObjList,a.hitch(this,function(h){var b={color:h.getValues().color,transparency:h.getValues().transparency,type:h.dropdown.getValue()};this.selectedSettings[h.nodeId]=b}));this.emit("settingsChanged",this.selectedSettings)},validInputs:function(){var h=!0;p.some(this.colorPickerObjList,function(b){b.validateSpinner()||(h=!1)},this);return h},_setLastFocusNode:function(){var h=this.colorPickerObjList.length-
1;this.refDomNode&&(B.contains(this.nonVisibleSectionSettingsButton,"esriCTLabelSettingsDownButton")?E.initLastFocusNode(this.refDomNode,this.colorPickerObjList[h].dropdown.domNode):E.initLastFocusNode(this.refDomNode,this.nonVisibleSectionSettingsButton))}})})},"widgets/Visibility/js/ColorPickerEditor":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/Color dojo/on dojo/query dojo/_base/html dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!../templates/ColorPickerEditor.html dijit/form/HorizontalSlider jimu/dijit/ColorPickerPopup dojo/dom-style dojo/_base/kernel dijit/form/NumberSpinner".split(" "),
function(D,p,w,t,q,z,x,y,a,g,B,l,u,v,E){return D([y,a,g],{_defaultColor:"#485566",templateString:B,nls:null,postCreate:function(){this.colorPicker=new u({color:this._defaultColor,tabindex:0,"aria-label":this.nls.colorPicker},this.colorPicker);this.colorPicker.startup();this.slider=new l({name:"slider",value:100,minimum:0,maximum:100,discreteValues:101,intermediateChanges:!0,showButtons:!1,style:"display: inline-block;","aria-label":this.nls.transparency},this.sliderBar);this.slider.startup();"vi"===
E.locale&&v.set(this.sliderBarLabel.domNode,"white-space","nowrap");var m=[],h,b="esriSLSDash esriSLSDashDot esriSLSDashDotDot esriSLSDot esriSLSLongDash esriSLSLongDashDot esriSLSNull esriSLSShortDash esriSLSShortDashDot esriSLSShortDashDotDot esriSLSShortDot esriSLSSolid".split(" "),k="esriSFSBackwardDiagonal esriSFSCross esriSFSDiagonalCross esriSFSForwardDiagonal esriSFSHorizontal esriSFSNull esriSFSSolid esriSFSVertical".split(" ");"line"===this.type?p.forEach(b,w.hitch(this,function(d){h={value:d,
label:this.nls.lineStyles[d]};m.push(h)})):p.forEach(k,w.hitch(this,function(d){h={value:d,label:this.nls.fillStyles[d]};m.push(h)}));this.dropdown.addOption(m);this.inherited(arguments)},startup:function(){this.own(q(this.slider,"change",w.hitch(this,function(m){!1===this._isSameVal()&&this.spinner.setValue(m)})));this.own(q(this.spinner,"change",w.hitch(this,function(m){m<=this.slider.maximum&&this.slider.setValue(m)})));this._stylePolyfill();this.inherited(arguments)},_isSameVal:function(){return this.slider.getValue()===
this.spinner.getValue()},getValues:function(){var m=null,h=null;(h=this.colorPicker.getColor())&&h.toHex&&(m=h.toHex());h=this.spinner.getValue()/100;return{color:m,transparency:h}},setValues:function(m){if("object"===typeof m||"string"===typeof m)this.colorPicker.setColor(new t(m.color)),m.transparency="undefined"===typeof m.transparency?0:100*m.transparency,this.slider.setValue(m.transparency),this.spinner.setValue(m.transparency)},_stylePolyfill:function(){var m=z(".dijitSliderLeftBumper",this.domNode)[0];
m&&m.parentNode&&x.setStyle(m.parentNode,"background-color","#24b5cc")},validateSpinner:function(){var m=!0;this.spinner.isValid()||(this._shake(this.spinner.domNode,16),this.spinner.focus(),m=!1);return m},_shake:function(m,h){function b(){if(15>k){m.style.transform="translate(0px, 0px)";h-=d;var c=n(-h,h),e=n(-h,h);m.style.transform="translate("+c+"px, "+e+"px)";k+=1;requestAnimationFrame(b)}15<=k&&(m.style.transform="translate(0, 0)",f._shakingElements.splice(f._shakingElements.indexOf(m),1))}
var k=1,d=h/15,n=function(c,e){return Math.floor(Math.random()*(e-c+1))+c};this._shakingElements||(this._shakingElements=[]);if(-1===this._shakingElements.indexOf(m)){this._shakingElements.push(m);var f=this;b()}}})})},"jimu/dijit/ColorPickerPopup":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/_base/lang dojo/_base/html dojo/on dojo/_base/Color dijit/TooltipDialog dijit/popup jimu/dijit/ColorPalette jimu/utils".split(" "),function(D,p,w,t,q,z,x,y,a,g,B){return D([p,
w],{baseClass:"jimu-color-pickerPopup",declaredClass:"jimu.dijit.ColorPickerPopup",templateString:'\x3cdiv class\x3d"jimu-color-picker"\x3e\x3c/div\x3e',_isTooltipDialogOpened:!1,color:null,showLabel:!1,around:null,_ENABLE:!0,recordUID:"",postCreate:function(){this.inherited(arguments);this._createTooltipDialog(this.domNode);this._hideTooltipDialog()},destroy:function(){a.close(this.tooltipDialog);this.picker.destroy();this.tooltipDialog.destroy();this.inherited(arguments)},enable:function(){this._ENABLE=
!0;q.removeClass(this.domNode,"disable")},disable:function(){this._ENABLE=!1;q.addClass(this.domNode,"disable")},isPartOfPopup:function(l){var u=this.tooltipDialog.domNode;return l===u||q.isDescendant(l,u)},hideTooltipDialog:function(){this._hideTooltipDialog()},showTooltipDialog:function(){this._showTooltipDialog()},initUI:function(){this.picker.initUI()},isOpen:function(){return this._isTooltipDialogOpened},_showTooltipDialog:function(){a.open({parent:this.getParent(),popup:this.tooltipDialog,around:this.around?
this.around:this.domNode,orient:this.orient});this._isTooltipDialogOpened=!0},_hideTooltipDialog:function(){a.hide(this.tooltipDialog);this._isTooltipDialogOpened=!1},_createTooltipDialog:function(){var l=q.create("div");this.tooltipDialog=new y({content:l});q.addClass(this.tooltipDialog.domNode,"jimu-color-picker-popup-dialog");var u=new g({appearance:{showTransparent:!1,showColorPalette:!0,showCoustom:!0,showColorPickerOK:!0,showColorPickerApply:!0,showCoustomRecord:!0,closeDialogWhenChange:!0},
recordUID:this.recordUID,onChange:t.hitch(this,function(v){v&&(v=new x(v),this.setColor(v),this.onChange(v))})});u.placeAt(l);u.startup();this.own(z(u,"close",t.hitch(this,function(){this._hideTooltipDialog()})));this.own(z(u,"change-style",t.hitch(this,function(){this._hideTooltipDialog();this._showTooltipDialog()})));this.own(z(this.domNode,"click",t.hitch(this,function(v){v.stopPropagation();v.preventDefault();this._isTooltipDialogOpened?this._hideTooltipDialog():!1!==this._ENABLE&&this._showTooltipDialog()})));
this.own(z(document,"click",t.hitch(this,function(v){this.isPartOfPopup(v.srcElement||v.target)||this._hideTooltipDialog()})));this.picker=u},setColor:function(l){if(l instanceof x){null===this.color&&!0===this.showLabel&&this._changeLabel(l);var u=l.toHex();this.color=l;q.setStyle(this.domNode,"backgroundColor",u);this.picker&&(this.picker.refreshRecords(),this.picker.setColor(u,!1,!0));this.showLabel&&this._changeLabel(this.color)}},getColor:function(){return this.color},_changeLabel:function(l){q.empty(this.domNode);
q.create("span",{innerHTML:l.toHex(),className:"color-label",style:{color:B.invertColor(l.toHex())}},this.domNode)},onChange:function(l){l&&this.showLabel&&this._changeLabel(l)},changeColor:function(){this.picker&&this.picker.changeColor();this.showLabel&&this._changeLabel(this.color)},setTitle:function(l){this.domNode.title=l},getTooltipDialog:function(){return this.tooltipDialog||null}})})},"widgets/Visibility/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html","dojo/text!./css/style.css",
"dojo/i18n!./nls/strings"],function(){})},"url:widgets/Visibility/templates/ColorPickerEditor.html":'\x3cdiv class\x3d"esriCTColorPickerEditor"\x3e\r\n  \x3cdiv class\x3d"colorPicker" data-dojo-attach-point\x3d"colorPicker"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"esriCTSliderWrapper"\x3e\r\n    \x3cdiv class\x3d"esriCTSliderbar" data-dojo-attach-point\x3d"sliderBar"\x3e\r\n      \x3col data-dojo-type\x3d"dijit/form/HorizontalRuleLabels" class\x3d"esriCTSliderLabelHeight" style\x3d"height:2.5em;" container\x3d"topDecoration" data-dojo-attach-point\x3d"sliderBarLabel"\x3e\r\n        \x3cli\x3e${nls.transparency}\x3c/li\x3e\r\n        \x3cli\x3e\x3c/li\x3e\r\n      \x3c/ol\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/NumberSpinner" value\x3d"0" data-dojo-attach-point\x3d"spinner"\r\n    data-dojo-props\x3d"smallDelta:10,intermediateChanges:true,constraints: {min:0,max:100}" aria-label\x3d"${nls.transparency}"\x3e\r\n  \x3cdiv class\x3d"esriCTOutFillSection"\x3e\r\n    \x3clabel for\x3d"${id}_select"\x3e${nls.style}\x3c/label\x3e\r\n    \x3cselect class\x3d"noResize" data-dojo-type\x3d"jimu/dijit/formSelect" aria-label\x3d"${nls.style}" data-dojo-attach-point\x3d"dropdown" /\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/Visibility/templates/symbologySettings.html":'\x3cdiv\x3e\r\n       \x3c!-- Visible Section DropDown --\x3e\r\n       \x3cdiv class\x3d"esriCTSettingsRow"\x3e\r\n        \x3cdiv class\x3d"esriCTLabelSettingsRightButton esriCTSettingsButtonIcon esriCTPointer"\r\n          title\x3d"${nls.visibleSectionButtonLabel}" data-dojo-attach-point\x3d"visibleSectionSettingsButton"\r\n          role\x3d"button" aria-label\x3d"${nls.visibleSectionButtonLabel}" tabindex\x3d"0" aria-expanded \x3d"false"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTInputLabelSettings esriCTEllipsis esriCTSubTitle" title\x3d"${nls.visibleSectionLabel}"\x3e\r\n          ${nls.visibleSectionLabel}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3c!-- Visible Section Color Pickers --\x3e\r\n      \x3cdiv class\x3d"container esriCTGroupHidden" data-dojo-attach-point\x3d"visibleSectionContainer"\x3e\r\n        \x3cdiv class\x3d"esriCTEllipsis" title\x3d"${nls.outline}"\x3e${nls.outline}\x3c/div\x3e\r\n        \x3cdiv class\x3d"colorPicker Line" nodeId\x3d"visibleSectionOutlineColor"\r\n          data-dojo-attach-point\x3d"visibleAreaOutlineColorPicker"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTEllipsis" title\x3d"${nls.fill}"\x3e${nls.fill}\x3c/div\x3e\r\n        \x3cdiv class\x3d"colorPicker Fill" nodeId\x3d"visibleSectionFillColor"\r\n          data-dojo-attach-point\x3d"visibleAreaFillColorPicker"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3c!-- Non-visible Section DropDown --\x3e\r\n      \x3cdiv class\x3d"esriCTSettingsRow"\x3e\r\n        \x3cdiv class\x3d"esriCTLabelSettingsRightButton esriCTSettingsButtonIcon esriCTPointer"\r\n        title\x3d"${nls.nonVisibleSectionButtonLabel}" data-dojo-attach-point\x3d"nonVisibleSectionSettingsButton"\r\n        role\x3d"button" aria-label\x3d"${nls.nonVisibleSectionButtonLabel}" tabindex\x3d"0" aria-expanded \x3d"false"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTInputLabelSettings esriCTEllipsis esriCTSubTitle" title\x3d"${nls.nonVisibleSectionLabel}"\x3e${nls.nonVisibleSectionLabel}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3c!-- Non-visible Section --\x3e\r\n      \x3cdiv class\x3d"container esriCTGroupHidden" data-dojo-attach-point\x3d"nonVisibleSectionContainer"\x3e\r\n        \x3cdiv class\x3d"esriCTEllipsis" title\x3d"${nls.outline}"\x3e${nls.outline}\x3c/div\x3e\r\n        \x3cdiv class\x3d"colorPicker Line" nodeId\x3d"nonVisibleSectionOutlineColor" data-dojo-attach-point\x3d"nonVisibleAreaOutlineColorPicker"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTEllipsis" title\x3d"${nls.fill}"\x3e${nls.fill}\x3c/div\x3e\r\n        \x3cdiv class\x3d"colorPicker Fill" nodeId\x3d"nonVisibleSectionFillColor" data-dojo-attach-point\x3d"nonVisibleAreaFillColorPicker"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e   \r\n\x3c/div\x3e',
"url:widgets/Visibility/setting/Setting.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"tabDiv" style\x3d"width: 100%; height: 100%;"\x3e\r\n    \x3cdiv\x3e\r\n      \x3cdiv class\x3d"esriCTTabs" data-dojo-attach-point\x3d"lineOfSightTab"\x3e\r\n        \x3cdiv class\x3d"url-section"\x3e\r\n          \x3cdiv class\x3d"label jimu-float-leading" title\x3d"${nls.portalURL}"\x3e${nls.portalURL}\x3c/div\x3e\r\n          \x3cdiv class\x3d"service-browser jimu-float-trailing"\x3e\r\n            \x3ctable cellpadding\x3d"0" cellspacing\x3d"0" style\x3d"width:100%;border-collapse:collapse;"\x3e\r\n              \x3ctbody\x3e\r\n                \x3ctr\x3e\r\n                  \x3ctd style\x3d"width:auto;"\x3e\r\n                    \x3cdiv data-dojo-attach-point\x3d"urlTextBox" data-dojo-type\x3d"dijit/form/ValidationTextBox"\r\n                      data-dojo-props\x3d\'required:true, spellcheck:false, regExp: dojox.validate.regexp.url\'\r\n                      style\x3d"width:100%;height:35px;padding-top:0px;"\x3e\x3c/div\x3e\r\n                  \x3c/td\x3e\r\n                  \x3ctd style\x3d"width:75px;"\x3e\r\n                    \x3cdiv data-dojo-attach-point\x3d"setButton" class\x3d"jimu-btn jimu-float-trailing"\x3e${nls.setTask}\x3c/div\x3e\r\n                  \x3c/td\x3e\r\n                \x3c/tr\x3e\r\n              \x3c/tbody\x3e\r\n            \x3c/table\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"error-section hide-section" data-dojo-attach-point\x3d"errorNode"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n          \x3cdiv class\x3d"esriCTDijitWrapper" style\x3d"padding: 5px 0px 5px 0px;"\x3e\r\n            \x3cinput class\x3d"switch-toggle" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"angleUnits"\r\n              checked\x3d"false" /\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultMilsForAnglesLabel}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n          \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultObserveHeightLabel}\x3c/div\x3e\r\n          \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n            \x3cdiv style\x3d"width: 100%"\x3e\r\n              \x3cinput style\x3d"width: 250px" data-dojo-type\x3d\'dijit/form/NumberTextBox\' required\x3d"true" value\x3d"2"\r\n                data-dojo-props\x3d\'\r\n        constraints: {min: 0}\' data-dojo-attach-point\x3d"observerHeight" /\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n          \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultObserverHeightLabel}\x3c/div\x3e\r\n          \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n            \x3cdiv style\x3d"width: 100%"\x3e\r\n              \x3cselect style\x3d"width: 250px" data-dojo-type\x3d"dijit/form/Select"\r\n                data-dojo-attach-point\x3d"observerHeightUnit"\x3e\r\n              \x3c/select\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n          \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultMinimumObservableDistanceLabel}\x3c/div\x3e\r\n          \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n            \x3cdiv style\x3d"width: 100%"\x3e\r\n              \x3cinput style\x3d"width: 250px" data-dojo-type\x3d\'dijit/form/NumberTextBox\' required\x3d"true" value\x3d"3"\r\n                data-dojo-props\x3d\'constraints: {min: 0},intermediateChanges:true\'\r\n                data-dojo-attach-point\x3d"minimumObservableDistance" /\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n          \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultMaximumObservableDistanceLabel}\x3c/div\x3e\r\n          \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n            \x3cdiv style\x3d"width: 100%"\x3e\r\n              \x3cinput style\x3d"width: 250px" data-dojo-type\x3d\'dijit/form/NumberTextBox\' required\x3d"true" value\x3d"5"\r\n                data-dojo-props\x3d\'\r\n        constraints: {min: 0}\' data-dojo-attach-point\x3d"maximumObservableDistance" /\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n          \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultObservableDistanceLabel}\x3c/div\x3e\r\n          \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n            \x3cdiv style\x3d"width: 100%"\x3e\r\n              \x3cselect style\x3d"width: 250px" data-dojo-type\x3d"dijit/form/Select"\r\n                data-dojo-attach-point\x3d"observableDistanceUnit"\x3e\r\n              \x3c/select\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n          \x3cdiv class\x3d"opLayerlabelSettings"\x3e${nls.selectOperationalLayerLabel}\x3c/div\x3e\r\n          \x3cselect class\x3d"opLayerSelectSettings" data-dojo-attach-point\x3d"opLayerList"\r\n            aria-label\x3d"selectOpLayerLabel"\x3e\x3c/select\x3e\r\n          \x3cdiv title\x3d"${nls.helpIconTooltip}" class\x3d"jimu-icon helpBtn" data-dojo-attach-point\x3d"helpBtn"\r\n            aria-label\x3d"${nls.helpIconTooltip}" tabindex\x3d"0" role\x3d"tooltip"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"esriCTTabs" data-dojo-attach-point\x3d"symbologyTab"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"symbologySettingsNode"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/Visibility/setting/css/style.css":'.jimu-widget-visibility-setting {height: 100%; overflow: hidden; font-size: 14px;}.jimu-widget-visibility-setting .dijitReset .dijitInputInner {padding-top: 4px !important;}.jimu-popup .title-label {font-size: inherit;}.jimu-widget-visibility-setting .section.common-property {overflow: hidden;}.jimu-widget-visibility-setting .url-section {position: relative; height: 40px;}.jimu-widget-visibility-setting .url-section .label {left: 0; top: 5px; height: 36px; width: 100%; position: relative; top: 50%; -ms-transform: translateY(-50%); -webkit-transform: translateY(-50%); transform: translateY(-50%);}.jimu-widget-visibility-setting .service-browser {width: 100%; padding-bottom: 10px;}.jimu-widget-visibility-setting .error-section {color: red; padding-left: 4px;}.jimu-rtl .jimu-widget-visibility-setting .error-section {padding-right: 14px;}.jimu-widget-visibility-setting .hide-section {visibility: hidden;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-detail {overflow: hidden; position: relative; height: 100%;}.jimu-widget-visibility-setting .nav-pane {width: 250px; height: 100%; overflow-x: hidden; overflow-y: auto;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleClosed,.jimu-widget-visibility-setting .nav-pane .nav-pane-node {background-color: #fafafc; border: 1px solid #d2dae2; border-radius: 4px;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleClosed,.jimu-widget-visibility-setting .nav-pane .nav-pane-node,.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleOpen {margin-top: 10px; height: 35px;}.jimu-widget-visibility-setting .nav-pane .nav-pane-node {padding: 7px; vertical-align: middle;}.jimu-widget-visibility-setting .nav-pane .link-action-node {cursor: pointer;}.jimu-widget-visibility-setting .nav-pane .link-action-node span {white-space: nowrap;}.jimu-widget-visibility-setting .nav-pane .param-node {padding: 5px 5px 5px 15px; border-top: 1px solid #d2dae2;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneContentInner {padding: 0;}.jimu-widget-visibility-setting .link-action-node.jimu-state-active {background-color: #e3ecf2; border-left: 3px solid #15A4FA; padding-left: 12px;}.jimu-widget-visibility-setting .nav-pane .dijitTitlePaneContentOuter {border-radius: 0 0 4px 4px;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleOpen {background-color: #6f7e95; color: #fff; border: 1px solid #6f7e95; border-radius: 4px 4px 0 0; background-image: linear-gradient(#6f7e95 0%, #6f7e95 100%);}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleFocus {margin-top: 7px;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleOpen .dijitArrowNode {background-image: url("images/focusArrow.png");}.jimu-widget-visibility-setting .setting-pane {overflow-x: hidden; overflow-y: auto; height: 100%; width: 685px;}.jimu-widget-visibility-setting .field {position: relative; overflow: hidden;}.jimu-widget-visibility-setting .field label {width: 115px; display: inline-block; overflow: hidden; text-overflow: ellipsis;}.jimu-widget-visibility-setting .common-property .field {height: 36px; margin-top: 10px;}.jimu-widget-visibility-setting .common-property .field label {position: relative; top: 50%; -ms-transform: translateY(-50%); -webkit-transform: translateY(-50%); transform: translateY(-50%);}.jimu-widget-visibility-setting .common-property .field label.visibleLabel {position: relative; top: 20%; -ms-transform: translateY(-50%); -webkit-transform: translateY(-50%); transform: translateY(-50%);}.jimu-widget-visibility-setting .common-property .jimu-checkbox {width: 115px;}.jimu-widget-visibility-setting .common-property .jimu-checkbox.visibleCheck {width: 20px; margin-left: 0;}.jimu-widget-visibility-setting .common-property .field .common-input {position: absolute; left: 115px; right: 10px; top: 0px; bottom: 0px; width: auto}.jimu-widget-visibility-setting .special-property .field {height: 20px; margin-top: 5px;}.jimu-widget-visibility-setting .special-property .jimu-gp-editor-base {display: block;}.jimu-widget-visibility-setting .special-property .input-label {margin: 10px 0px; display: inline-block;}.jimu-widget-visibility-setting .special-property .change-editor {margin: 10px; text-decoration: underline; cursor: pointer;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-param .jimu-symbol-chooser {margin-left: 100px;}.jimu-rtl .jimu-widget-visibility-setting .jimu-widget-setting-gp-param .jimu-symbol-chooser {margin-left: 0; margin-right: 100px;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-param .jimu-renderer-chooser .jimu-symbol-chooser {margin-left: 50px;}.jimu-rtl .jimu-widget-visibility-setting .jimu-widget-setting-gp-param .jimu-renderer-chooser .jimu-symbol-chooser {margin-left: 0; margin-right: 50px;}.jimu-widget-visibility-setting .jimu-widget-visibility-setting-layer-order {width: 100%; height: auto; margin-top: 10px;}.jimu-widget-visibility-setting .layer-node {overflow: hidden; margin-top: 10px;}.jimu-widget-visibility-setting .layer-node .order {float: left;}.jimu-widget-visibility-setting .layer-node .label {float: left;}.jimu-widget-visibility-setting .layer-node .order-btn {cursor: pointer;}.jimu-widget-visibility-setting .layer-node:first-child .up {color: rgba(0, 0, 0, 0.4);}.jimu-widget-visibility-setting .layer-node:last-child .down {color: rgba(0, 0, 0, 0.4);}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options {width: 100%; height: auto; margin-top: 10px;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field {margin-top: 10px; height: 36px;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field label {width: auto;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field .option-help-label {position: relative; top: 50%; -ms-transform: translateY(-50%); -webkit-transform: translateY(-50%); transform: translateY(-50%);}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field .option-help-url {position: absolute; left: 115px; right: 10px; top: 0px; bottom: 0px; width: auto;}.jimu-gp-editor-chooser .editor-node {display: inline-block; width: 165px; margin-left: 15px;}.jimu-gp-editor-chooser .editor-node .node-box {width: 100%; height: 105px; line-height: 105px; border: 1px solid #D4DCE3; text-align: center; position: relative; cursor: pointer;}.jimu-gp-editor-chooser img {vertical-align: middle;}.jimu-gp-editor-chooser .editor-node .node-label {display: inline-block; margin-top: 10px; width: 100%; text-align: center; overflow: hidden;}.jimu-gp-editor-chooser .editor-node.jimu-state-selected .node-box {border: 2px solid #15A4FA;}.jimu-rtl .jimu-widget-visibility-setting .url-section .label {right: 0;}.jimu-rtl .jimu-widget-visibility-setting .common-property .field .common-input {right: 115px; left: 10px;}.jimu-rtl .jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field .option-help-url {left: 10px; right: 115px;}.jimu-widget-visibility-setting .param-node {border-left: 0; border-right: 0; position: relative;}.jimu-widget-visibility-setting .param-node .action-group {position: absolute; width: 5px; height: 20px; left: 5px; top: 5px; background-image: none; background-repeat: no-repeat; background-position: -22px -101px; cursor: move;}.jimu-widget-visibility-setting .dojoDndItemOver .action-group {background-image: url(images/ago_sprite.png);}.jimu-widget-visibility-setting .dojoDndItemOver .action-group:hover {background-position: -38px -101px;}.jimu-rtl .jimu-widget-visibility-setting .param-node .action-group {left: auto; right: 5px;}.dojoDndAvatarHeader {display: none;}.dojoDndAvatarItem {display: block;}.jimu-widget-visibility-setting .switch-toggle-group {padding: 5px;}.jimu-widget-visibility-setting .switch-toggle-group .checkbox-inline {padding-left: 36px; vertical-align: top;}.jimu-widget-visibility-setting .switch-toggle-group .switch-toggle.dijitCheckBox {margin-left: -36px;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox {height: 16px; width: 28px; border: 0 none; background: #adadad; position: relative; float: left; cursor: pointer; -moz-border-radius: 10px; -webkit-border-radius: 10px; border-radius: 10px;}.jimu-rtl .jimu-widget-visibility-setting .switch-toggle.dijitCheckBox {float: left;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox:before {content: ""; background: #f8f8f8; position: absolute; padding: 0; height: 12px; width: 12px; left: auto; right: 14px; top: 2px; z-index: 1; -webkit-transition: right 0.3s; -moz-transition: right 0.3s; -o-transition: right 0.3s; transition: right 0.3s; -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox input {width: 100%; height: 100%; position: absolute; left: 0; z-index: 2;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox.dijitCheckBoxChecked {background: #50ad4e;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox.dijitCheckBoxChecked:before {right: 2px;}.jimu-widget-visibility-setting .esriCTWrapper {width: 100%; overflow: hidden; padding: 5px 5px;}.jimu-widget-visibility-setting .esriCTLabel {width: 30%; padding: 5px 10px 5px 0px; word-break: break-word; float: left; font-size: 14px;}.jimu-widget-visibility-setting .esriCTDijitWrapper {width: 70%; float: right;}.jimu-rtl .jimu-widget-visibility-setting .esriCTLabel {float: right;}.jimu-rtl .jimu-widget-visibility-setting .esriCTDijitWrapper {float: left;}.jimu-rtl .jimu-widget-visibility-setting .switch-toggle.dijitCheckBox {float: right}.jimu-widget-visibility-setting .opLayerSelectSettings {height: 30px; color: #7d7d7d; padding: 0 5px 0 5px; font-size: 13px; width: 56%; font-family: \'Avenir Medium\'; margin: 7px 0px 20px 0px;}.jimu-widget-visibility-setting .helpBtn {background: url(./images/help_black.png); background-repeat: no-repeat; background-color: transparent; width: 16px; height: 16px; vertical-align: middle; margin-left: 5px;}.jimu-rtl .jimu-widget-visibility-setting .helpBtn {margin-right: 5px; transform: rotateY(180deg);}.jimu-rtl .jimu-widget-visibility-setting .helpBtn:lang(he) {transform: rotateY(0deg);}.jimu-widget-visibility-setting .helpBtn:hover {background: url(./images/help_black_hover.png);}.jimu-widget-visibility-setting .esriCTTabs {padding: 10px;}.jimu-widget-visibility-symbologySettings .esriCTSettingsRow {width: 100%; display: inline-flex;}.jimu-widget-visibility-symbologySettings .esriCTLabelSettingsRightButton {background: url("../../images/arrow-right_black.png") no-repeat;}.jimu-rtl .jimu-widget-visibility-symbologySettings .esriCTLabelSettingsRightButton {transform: rotate(180deg);}.jimu-widget-visibility-symbologySettings .esriCTLabelSettingsRightButton:hover {background: url("../../images/arrow-right_black_hover.png") no-repeat;}.jimu-widget-visibility-symbologySettings .esriCTSettingsButtonIcon {margin-top: 13px; height: 16px; width: 16px;}.jimu-rtl .jimu-widget-visibility-symbologySettings .esriCTSettingsButtonIcon {margin: 10px 0px 0px 5px;}.jimu-widget-visibility-symbologySettings .esriCTPointer {cursor: pointer;}.jimu-widget-visibility-symbologySettings .esriCTInputLabelSettings {float: left; line-height: 28px; padding: 5px 0px 0px 0px;}.jimu-widget-visibility-symbologySettings .esriCTEllipsis {overflow: hidden; text-overflow: ellipsis; white-space: nowrap;}.jimu-widget-visibility-symbologySettings .esriCTSubTitle {font-weight: bold;}.jimu-widget-visibility-symbologySettings .esriCTGroupHidden {display: none;}.jimu-widget-visibility-symbologySettings .esriCTLabelSettingsDownButton {background: url("../../images/arrow-down_black.png") no-repeat; margin-top: 15px;}.jimu-rtl .jimu-widget-visibility-symbologySettings .esriCTLabelSettingsDownButton {margin: 15px 0px 0px 5px;}.jimu-widget-visibility-symbologySettings .esriCTLabelSettingsDownButton:hover {background: url("../../images/arrow-down_black_hover.png") no-repeat;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .esriCTSliderWrapper {width: 235px; display: inline-block; margin: 5px;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSlider {width: 100%;}.jimu-widget-visibility-setting .esriCTColorPickerEditor {padding-top: 5px; padding-bottom: 8px;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .jimu-color-picker {display: inline-block; width: 25px; height: 25px;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSpinner.dijitNumberTextBox.dijitValidationTextBox {width: 70px; height: 30px;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSlider .dijitSliderImageHandleH {top: -10px; width: 20px; height: 20px;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSliderImageHandleH {top: -7px;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSliderImageHandle.dijitSliderImageHandleH {background-image: url("../../images/sliderball.svg"); background-position: 0 0;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSliderThumbHover {background-image: url("../../images/sliderball.svg"); background-position: 0 0;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSlider .dijitSliderProgressBarH,.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSlider .dijitSliderLeftBumper {border-color: #000; background-color: #000; background-image: -webkit-linear-gradient(top, #000 0px, #000 1px, rgba(255, 255, 255, 0) 2px); background-image: -o-linear-gradient(top, #000 0px, #000 1px, rgba(255, 255, 255, 0) 2px); background-image: linear-gradient(top, #000 0px, #000 1px, rgba(255, 255, 255, 0) 2px);}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSlider .dijitSliderRemainingBarH,.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSlider .dijitSliderRightBumper {border-color: #d7d7d7; background-color: #d7d7d7;}.jimu-widget-visibility-setting.tabs .esriCTColorPickerEditor .trans {font-family: "Avenir Light"; font-size: 12px; padding: 0 10px 0 20px; letter-spacing: 0.33px;}.jimu-widget-visibility-setting.tabs .esriCTColorPickerEditor .esriCTSliderbar {width: 60px;}.dijitRuleLabelH {left: -12%;}.jimu-widget-visibility-setting .esriCTOutFillSection {vertical-align: bottom; display: -ms-inline-grid; display: -moz-inline-grid; display: inline-flex; flex-direction: column;}.jimu-widget-visibility-setting .esriCTFullHeight {height: 100%;}.jimu-widget-visibility-setting .jimu-viewstack {height: calc(100% - 40px); overflow: auto;}',
"*now":function(D){D(['dojo/i18n!*preload*widgets/Visibility/setting/nls/Setting*["ar","bg","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/kernel dojo/dom-class dojo/on dojo/dom-attr dojo/query dojo/number dojo/string dojo/keys dojo/Deferred dijit/_WidgetsInTemplateMixin jimu/BaseWidgetSetting jimu/dijit/Message esri/dijit/util/busyIndicator ../js/PrivilegeUtil dojo/_base/array jimu/LayerStructure jimu/utils jimu/dijit/TabContainer3 ../js/symbologySettings dojo/dom-construct dijit/form/NumberTextBox".split(" "),function(D,p,w,t,q,z,x,y,a,g,B,l,u,v,E,m,h,b,k,d,n,f){return D([u,l],
{baseClass:"jimu-widget-visibility-setting",hasError:!1,postMixInProperties:function(){this.inherited(arguments);p.mixin(this.nls,window.jimuNls.common);p.mixin(this.nls,window.jimuNls.units)},postCreate:function(){this._createSettings();this._initTabs();var c=[],e;h.forEach("meters kilometers miles feet yards nauticalMiles".split(" "),p.hitch(this,function(r){e={value:r,label:this.nls.units[r]};c.push(e)}));this.observerHeightUnit.addOption(c);this.observableDistanceUnit.addOption(p.clone(c));this.observerHeightUnit.set("value",
"meters");this.observableDistanceUnit.set("value","kilometers");this._populateLayerSelect(this._getAllMapLayers(),this.opLayerList);this._setSelectedOption(this.opLayerList,this.config.operationalLayer?this.config.operationalLayer.name:"")},startup:function(){this.inherited(arguments);this.own(q(this.urlTextBox,"keypress",p.hitch(this,this.urlChanged)));this.own(q(this.setButton,"click",p.hitch(this,this.setButtonClicked)));this.own(q(this.minimumObservableDistance,"change",p.hitch(this,this.minObsRangeKeyWasPressed)));
this.own(q(this.observableDistanceUnit,"change",p.hitch(this,this.observableDistanceUnitChanged)));this.setConfig(this.config);this.busyIndicator=E.create({target:this.domNode.parentNode,backgroundOpacity:0});this.config.operationalLayer||(this.config.operationalLayer={});this.config.operationalLayer.hasOwnProperty("name")||""!==this.config.operationalLayer.name||(this.opLayerList.value="");this._startValidationProcess()},urlChanged:function(c){this._diasableOk();t.remove(this.setButton,"jimu-state-disabled");
c.charOrCode===g.ENTER&&this._startValidationProcess()},setButtonClicked:function(){this._startValidationProcess()},minObsRangeKeyWasPressed:function(){this.minimumObservableDistance.isValid()&&(this.maximumObservableDistance.constraints.min=Number(this.minimumObservableDistance.value)+.001,this.maximumObservableDistance.set("value",this.maximumObservableDistance.value&&this.maximumObservableDistance.value>this.minimumObservableDistance.value?this.maximumObservableDistance.value:Number(this.minimumObservableDistance.value)+
1))},setConfig:function(c){var e=this.appConfig.portalUrl;c.portalUrl&&(e=c.portalUrl);this.urlTextBox.set("value",e,!1);c.hasOwnProperty("defaultAngleUnits")&&this.angleUnits.setValue(c.defaultAngleUnits);c.hasOwnProperty("observeHeight")&&this.observerHeight.setValue(c.observeHeight);c.hasOwnProperty("defaultObserverHeightUnit")&&this.observerHeightUnit.set("value",c.defaultObserverHeightUnit);c.hasOwnProperty("minimumObservableDistanceValue")&&this.minimumObservableDistance.setValue(c.minimumObservableDistanceValue);
c.hasOwnProperty("maximumObservableDistanceValue")&&this.maximumObservableDistance.setValue(c.maximumObservableDistanceValue);c.hasOwnProperty("defaultObservableDistanceUnit")&&this.observableDistanceUnit.set("value",c.defaultObservableDistanceUnit)},getConfig:function(){if(!this._symbologySettingsInstance.validInputs())return!1;var c={};if(this.hasError)return!1;if(!this.observerHeight.isValid())return this.observerHeight.focus(),!1;if(!this.minimumObservableDistance.isValid())return this.minimumObservableDistance.focus(),
!1;if(!this.maximumObservableDistance.isValid())return this.maximumObservableDistance.focus(),!1;this._symbologySettingsInstance.onSettingsChanged();for(var e in this._currentSettings)c[e]=this._currentSettings[e];return{portalUrl:this.urlTextBox.get("value"),defaultObserverHeightUnit:this.observerHeightUnit.get("value"),defaultObservableDistanceUnit:this.observableDistanceUnit.get("value"),defaultAngleUnits:this.angleUnits.getValue(),observeHeight:this.observerHeight.get("value"),minimumObservableDistanceValue:this.minimumObservableDistance.value,
maximumObservableDistanceValue:this.maximumObservableDistance.value,operationalLayer:{name:this.opLayerList.value},symbology:c}},validateUrl:function(c){var e=new B;this.privilegeUtil=m.getInstance(c);this.privilegeUtil.loadPrivileges(c).then(p.hitch(this,function(){e.resolve(this._validatePrivileges())}),p.hitch(this,function(){this._showError();e.reject()}));return e.promise},_configurePortalURL:function(c){var e=new B;c&&this.validateUrl(c).then(p.hitch(this,function(r){r?e.resolve():e.reject()}),
p.hitch(this,function(){e.reject()}));return e.promise},_startValidationProcess:function(){if(this.urlTextBox.isValid()){this.busyIndicator.show();var c=this.urlTextBox.get("value");this._configurePortalURL(c).then(p.hitch(this,function(){t.add(this.setButton,"jimu-state-disabled");t.add(this.errorNode,"hide-section");this._enableOk();this.busyIndicator.hide()}),p.hitch(this,function(){this.busyIndicator.hide();this._showError(this.nls.portalURLError)}))}else this.busyIndicator.hide(),this._showError(this.nls.portalURLError)},
_validatePrivileges:function(){return this.privilegeUtil._canPerformElevationAnalysis()?!0:!1},_showError:function(c){c||(c=this.nls.privilegeError,this.privilegeUtil._isServiceAvailable||(c=this.nls.noServiceError));new v({message:c});z.set(this.errorNode,"innerHTML",c);t.remove(this.errorNode,"hide-section");this._diasableOk()},_enableOk:function(){var c=x(".button-container")[0];c&&c.children&&3<c.children.length&&(t.remove(c.children[0],"jimu-state-disabled"),this.hasError=!1)},_diasableOk:function(){var c=
x(".button-container")[0];c&&c.children&&3<c.children.length&&(t.add(c.children[0],"jimu-state-disabled"),this.hasError=!0)},_populateLayerSelect:function(c,e){var r=document.createElement("option");r.value="";r.innerHTML="";r.selected=!0;e.appendChild(r);h.forEach(c,p.hitch(this,function(C){if(C.url&&"Feature Layer"===C.type&&this._containsSupportedCapabilities(C.capabilities)){var A=document.createElement("option");A.value=C.name;A.innerHTML=k.sanitizeHTML(C.name);A.selected=!1;e.appendChild(A)}}))},
_containsSupportedCapabilities:function(c){var e=!0;["create","delete","query","update","editing"].forEach(function(r){-1===c.toLowerCase().split(",").indexOf(r)&&(e=!1)});return e},_getAllMapLayers:function(){var c=[];b.getInstance().traversal(function(e){"undefined"!==typeof e._layerInfo.layerObject.type&&-1===e._layerInfo.layerObject.type.indexOf("tile")&&"esriGeometryPolygon"===e._layerInfo.layerObject.geometryType&&c.push(e._layerInfo.layerObject)});return c},_setSelectedOption:function(c,e){for(var r=
0;r<c.options.length;r++)if(c.options[r].value===e){c.selectedIndex=r;break}},_initTabs:function(){this.tab=new d({tabs:[{title:this.nls.lineOfSightTabTitle,content:this.lineOfSightTab},{title:this.nls.symbologyTabTitle,content:this.symbologyTab}],style:"{height:100%}","class":"esriCTFullHeight"});this.own(q(this.tab,"tabChanged",p.hitch(this,function(){this.tab.containerNode.scrollTop=0})));this.tab.placeAt(this.tabDiv)},_createSettings:function(){this._symbologySettingsInstance=new n({nls:this.nls,
config:this.config,appConfig:this.appConfig},f.create("div",{},this.symbologySettingsNode));this.own(this._symbologySettingsInstance.on("settingsChanged",p.hitch(this,function(c){this._currentSettings=c})));this._symbologySettingsInstance.startup()},observableDistanceUnitChanged:function(){var c="",e={};if(c=this.observableDistanceUnit.get("value")){switch(c){case "miles":e.max=31;break;case "nauticalMiles":e.max=26.9383;break;case "kilometers":e.max=50;break;case "yards":e.max=54680;break;case "feet":e.max=
164041;break;case "meters":e.max=5E4}c=a.substitute(this.nls.maximumRangeMessage,{units:window.jimuNls.units[c],limit:y.format(e.max,{places:2,locale:w.locale})});e.min=Number(this.minimumObservableDistance.value)+.001;this.maximumObservableDistance.set("constraints",e);this.maximumObservableDistance.set("rangeMessage",c)}}})});
// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"url:widgets/Visibility/templates/symbologySettings.html":'\x3cdiv\x3e\r\n       \x3c!-- Visible Section DropDown --\x3e\r\n       \x3cdiv class\x3d"esriCTSettingsRow"\x3e\r\n        \x3cdiv class\x3d"esriCTLabelSettingsRightButton esriCTSettingsButtonIcon esriCTPointer"\r\n          title\x3d"${nls.visibleSectionButtonLabel}" data-dojo-attach-point\x3d"visibleSectionSettingsButton"\r\n          role\x3d"button" aria-label\x3d"${nls.visibleSectionButtonLabel}" tabindex\x3d"0" aria-expanded \x3d"false"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTInputLabelSettings esriCTEllipsis esriCTSubTitle" title\x3d"${nls.visibleSectionLabel}"\x3e\r\n          ${nls.visibleSectionLabel}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3c!-- Visible Section Color Pickers --\x3e\r\n      \x3cdiv class\x3d"container esriCTGroupHidden" data-dojo-attach-point\x3d"visibleSectionContainer"\x3e\r\n        \x3cdiv class\x3d"esriCTEllipsis" title\x3d"${nls.outline}"\x3e${nls.outline}\x3c/div\x3e\r\n        \x3cdiv class\x3d"colorPicker Line" nodeId\x3d"visibleSectionOutlineColor"\r\n          data-dojo-attach-point\x3d"visibleAreaOutlineColorPicker"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTEllipsis" title\x3d"${nls.fill}"\x3e${nls.fill}\x3c/div\x3e\r\n        \x3cdiv class\x3d"colorPicker Fill" nodeId\x3d"visibleSectionFillColor"\r\n          data-dojo-attach-point\x3d"visibleAreaFillColorPicker"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3c!-- Non-visible Section DropDown --\x3e\r\n      \x3cdiv class\x3d"esriCTSettingsRow"\x3e\r\n        \x3cdiv class\x3d"esriCTLabelSettingsRightButton esriCTSettingsButtonIcon esriCTPointer"\r\n        title\x3d"${nls.nonVisibleSectionButtonLabel}" data-dojo-attach-point\x3d"nonVisibleSectionSettingsButton"\r\n        role\x3d"button" aria-label\x3d"${nls.nonVisibleSectionButtonLabel}" tabindex\x3d"0" aria-expanded \x3d"false"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTInputLabelSettings esriCTEllipsis esriCTSubTitle" title\x3d"${nls.nonVisibleSectionLabel}"\x3e${nls.nonVisibleSectionLabel}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3c!-- Non-visible Section --\x3e\r\n      \x3cdiv class\x3d"container esriCTGroupHidden" data-dojo-attach-point\x3d"nonVisibleSectionContainer"\x3e\r\n        \x3cdiv class\x3d"esriCTEllipsis" title\x3d"${nls.outline}"\x3e${nls.outline}\x3c/div\x3e\r\n        \x3cdiv class\x3d"colorPicker Line" nodeId\x3d"nonVisibleSectionOutlineColor" data-dojo-attach-point\x3d"nonVisibleAreaOutlineColorPicker"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTEllipsis" title\x3d"${nls.fill}"\x3e${nls.fill}\x3c/div\x3e\r\n        \x3cdiv class\x3d"colorPicker Fill" nodeId\x3d"nonVisibleSectionFillColor" data-dojo-attach-point\x3d"nonVisibleAreaFillColorPicker"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e   \r\n\x3c/div\x3e'}});
define("dojo/_base/declare dojo/_base/array dojo/_base/html dojo/on ./ColorPickerEditor jimu/BaseWidget dijit/_WidgetsInTemplateMixin dojo/text!../templates/symbologySettings.html dojo/_base/lang dojo/Evented dojo/dom-class dojo/dom-attr dojo/query dojo/keys jimu/utils dijit/focus jimu/dijit/formSelect jimu/dijit/SymbolChooser".split(" "),function(u,f,g,k,v,w,x,y,c,z,n,p,l,h,q,r){return u([w,x,z],{baseClass:"jimu-widget-visibility-symbologySettings",templateString:y,selectedSettings:{},colorPickerNodes:[],
colorPickerObjList:[],constructor:function(a){c.mixin(this,a);this.colorPickerObjList=[];this.colorPickerNodes=[]},startup:function(){if(!this.config.hasOwnProperty("symbology"))var a={visibleSectionOutlineColor:{color:"#000000",transparency:1,type:"esriSLSSolid"},visibleSectionFillColor:{color:"#00ff00",transparency:.5,type:"esriSFSSolid"},nonVisibleSectionOutlineColor:{color:"#000000",transparency:1,type:"esriSLSSolid"},nonVisibleSectionFillColor:{color:"#ff0000",transparency:.5,type:"esriSFSSolid"}};
f.forEach(this.colorPickerNodes,c.hitch(this,function(d){var b=p.get(d,"nodeId");d=new v({nls:this.nls,type:n.contains(d,"Line")?"line":"fill",nodeId:b},d);d.setValues({color:a?a[b].color:this.config.symbology[b].color,transparency:a?a[b].transparency:this.config.symbology[b].transparency});d.startup();d.dropdown.set("value",a?a[b].type:this.config.symbology[b].type);this.colorPickerObjList.push(d)}));var e=l(".jimu-color-pickerPopup",this.domNode);f.forEach(e,c.hitch(this,function(d){this.own(k(d,
"keydown",c.hitch(this,function(b){b.keyCode!==h.ENTER&&b.keyCode!==h.SPACE||b.currentTarget.click()})))}));this.onSettingsChanged()},postCreate:function(){this.inherited(arguments);this.colorPickerObjList=[];this.colorPickerNodes=[];this.colorPickerNodes=l(".colorPicker",this.domNode);this._handleClickEvents();this.visibleSectionSettingsButton.click()},_handleClickEvents:function(){this.own(k(this.visibleSectionSettingsButton,"click",c.hitch(this,function(){this._openCloseNodes(this.visibleSectionSettingsButton,
this.visibleSectionContainer)})));this.own(k(this.nonVisibleSectionSettingsButton,"click",c.hitch(this,function(){this._openCloseNodes(this.nonVisibleSectionSettingsButton,this.nonVisibleSectionContainer)})));this.own(k(this.visibleSectionSettingsButton,"keydown",c.hitch(this,function(a){a.keyCode!==h.ENTER&&a.keyCode!==h.SPACE||this._openCloseNodes(this.visibleSectionSettingsButton,this.visibleSectionContainer)})));this.own(k(this.nonVisibleSectionSettingsButton,"keydown",c.hitch(this,function(a){a.keyCode!==
h.ENTER&&a.keyCode!==h.SPACE||this._openCloseNodes(this.nonVisibleSectionSettingsButton,this.nonVisibleSectionContainer)})))},_openCloseNodes:function(a,e){var d=l(".container",this.domNode),b=l(".esriCTSettingsButtonIcon",this.domNode),t=!1;this.validInputs()&&(a&&n.contains(a,"esriCTLabelSettingsRightButton")&&(t=!0),f.forEach(d,c.hitch(this,function(m){g.addClass(m,"esriCTGroupHidden")})),f.forEach(b,c.hitch(this,function(m,A){g.removeClass(m,"esriCTLabelSettingsDownButton");g.addClass(m,"esriCTLabelSettingsRightButton");
p.set(m,"aria-expanded","false");A===b.length-1&&setTimeout(c.hitch(this,function(){this._setLastFocusNode()}),100)})),t?(g.removeClass(e,"esriCTGroupHidden"),g.removeClass(a,"esriCTLabelSettingsRightButton"),g.addClass(a,"esriCTLabelSettingsDownButton"),p.set(a,"aria-expanded","true"),a=l(".jimu-color-picker",e),a.length&&r.focus(a[0])):r.focus(a))},onClose:function(){if(!this.validInputs())return!1;this.onSettingsChanged();this._openCloseNodes()},onSettingsChanged:function(){f.forEach(this.colorPickerObjList,
c.hitch(this,function(a){var e={color:a.getValues().color,transparency:a.getValues().transparency,type:a.dropdown.getValue()};this.selectedSettings[a.nodeId]=e}));this.emit("settingsChanged",this.selectedSettings)},validInputs:function(){var a=!0;f.some(this.colorPickerObjList,function(e){e.validateSpinner()||(a=!1)},this);return a},_setLastFocusNode:function(){var a=this.colorPickerObjList.length-1;this.refDomNode&&(n.contains(this.nonVisibleSectionSettingsButton,"esriCTLabelSettingsDownButton")?
q.initLastFocusNode(this.refDomNode,this.colorPickerObjList[a].dropdown.domNode):q.initLastFocusNode(this.refDomNode,this.nonVisibleSectionSettingsButton))}})});
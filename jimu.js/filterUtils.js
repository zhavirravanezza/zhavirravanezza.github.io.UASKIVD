// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/date/locale dojo/number esri/lang dojo/data/ItemFileWriteStore jimu/utils moment/moment".split(" "),function(z,p,q,y,x,w,A,k,t){var n=z([],{_stringFieldType:"esriFieldTypeString",_dateFieldType:"esriFieldTypeDate",_numberFieldTypes:["esriFieldTypeOID","esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble"],_supportFieldTypes:[],dayInMS:864E5,HourInMS:36E5,MinuteInMS:6E4,SecInMS:1E3,fieldsStore:null,
isHosted:!1,constructor:function(){String.prototype.startsWith=function(a){return 0===this.indexOf(a)};String.prototype.endsWith=function(a){return this.substring(this.length-a.length)===a};String.prototype.count=function(a){return this.split(a).length-1};String.prototype.trim||(String.prototype.trim=p.trim);this._supportFieldTypes=[];this._supportFieldTypes.push(this._stringFieldType);this._supportFieldTypes.push(this._dateFieldType);this._supportFieldTypes=this._supportFieldTypes.concat(this._numberFieldTypes);
this.filterBuilderNls=window.jimuNls.filterBuilder},OPERATORS:{stringOperatorIs:"stringOperatorIs",stringOperatorIsNot:"stringOperatorIsNot",stringOperatorStartsWith:"stringOperatorStartsWith",stringOperatorEndsWith:"stringOperatorEndsWith",stringOperatorContains:"stringOperatorContains",stringOperatorDoesNotContain:"stringOperatorDoesNotContain",stringOperatorIsAnyOf:"stringOperatorIsAnyOf",stringOperatorIsNoneOf:"stringOperatorIsNoneOf",stringOperatorIsBlank:"stringOperatorIsBlank",stringOperatorIsNotBlank:"stringOperatorIsNotBlank",
numberOperatorIs:"numberOperatorIs",numberOperatorIsNot:"numberOperatorIsNot",numberOperatorIsAtLeast:"numberOperatorIsAtLeast",numberOperatorIsLessThan:"numberOperatorIsLessThan",numberOperatorIsAtMost:"numberOperatorIsAtMost",numberOperatorIsGreaterThan:"numberOperatorIsGreaterThan",numberOperatorIsBetween:"numberOperatorIsBetween",numberOperatorIsNotBetween:"numberOperatorIsNotBetween",numberOperatorIsAnyOf:"numberOperatorIsAnyOf",numberOperatorIsNoneOf:"numberOperatorIsNoneOf",numberOperatorIsBlank:"numberOperatorIsBlank",
numberOperatorIsNotBlank:"numberOperatorIsNotBlank",dateOperatorIsOn:"dateOperatorIsOn",dateOperatorIsNotOn:"dateOperatorIsNotOn",dateOperatorIsBefore:"dateOperatorIsBefore",dateOperatorIsAfter:"dateOperatorIsAfter",dateOperatorIsOnOrBefore:"dateOperatorIsOnOrBefore",dateOperatorIsOnOrAfter:"dateOperatorIsOnOrAfter",dateOperatorIsBetween:"dateOperatorIsBetween",dateOperatorIsNotBetween:"dateOperatorIsNotBetween",dateOperatorIsBlank:"dateOperatorIsBlank",dateOperatorIsNotBlank:"dateOperatorIsNotBlank",
dateOperatorInTheLast:"dateOperatorInTheLast",dateOperatorNotInTheLast:"dateOperatorNotInTheLast",dateOperatorIsIn:"dateOperatorIsIn",dateOperatorIsNotIn:"dateOperatorIsNotIn",dateOperatorMinutes:"dateOperatorMinutes",dateOperatorHours:"dateOperatorHours",dateOperatorDays:"dateOperatorDays",dateOperatorWeeks:"dateOperatorWeeks",dateOperatorMonths:"dateOperatorMonths",dateOperatorYears:"dateOperatorYears"},prepare:function(a,b){this.isHosted=k.isHostedService(a);b=b||[];this.setFieldsStoreByFieldInfos(b)},
isPartsObjHasError:function(a){var b=!1;a&&(b=a.parts&&0<=a.parts.length?q.every(a.parts,p.hitch(this,function(c){return c.parts?0<c.parts.length?q.every(c.parts,p.hitch(this,function(e){return!e.error})):!1:!c.error})):!1);return!b},isAskForValues:function(a){return n.isAskForValues(a)},hasVirtualDate:function(a){return n.hasVirtualDate(a)},setFieldsStoreByFieldInfos:function(a){a=q.filter(a,p.hitch(this,function(b){return 0<=this._supportFieldTypes.indexOf(b.type)}));a=q.map(a,function(b,c){switch(b.type){case "esriFieldTypeString":var e=
"string";break;case "esriFieldTypeDate":e="date";break;default:e="number"}return{id:c,label:b.name,shortType:e,alias:b.alias,editable:b.editable,name:b.name,nullable:b.nullable,type:b.type}},this);this.fieldsStore=new A({data:{identifier:"id",label:"label",items:a}});return a.length},_validatePartsObj:function(a){return a&&"object"===typeof a},_isObject:function(a){return a&&"object"===typeof a},_isString:function(a){return a&&"string"===typeof a},containsNonLatinCharacter:function(a){for(var b=0;b<
a.length;b++)if(255<a.charCodeAt(b))return!0;return!1},isBigDataLayer:function(a){return!!a.url&&-1!==a.url.indexOf("BigDataCatalogServer")&&("featureClass"===a.type||"table"===a.type)},useStandardizedQueries:function(a){return a?10.2<=a.version&&(a.useStandardizedQueries||this.isBigDataLayer(a)):!this.isHosted},getLayerTimezoneOffset:function(a){var b=0;a&&a.dateFieldsTimeReference&&"UTC"!==a.dateFieldsTimeReference.timeZone&&(b=36E5*n.TIMEZONE_DATA[a.dateFieldsTimeReference.timeZone].offset);return b},
getExprByFilterObj:function(a){if(!q.every(a.parts,function(g){return!!g}))return null;if(!this.isPartsObjReadyToBuild(a))return a.expr="",a.displaySQL="",a.expr;this._handleVirtualDate(a);var b="",c="",e;if(0===a.parts.length)c=b="1\x3d1";else if(1===a.parts.length){var d=a.parts[0];d.valueObj&&p.isArray(d.valueObj.value)&&"multiple"!==d.valueObj.type?(e=this._checkIfValObjArrayAndChecked(d.valueObj.value))?(b=this.builtFilterString(d),c=d.displaySQL):c=b="1\x3d1":(b=this.builtFilterString(d),c=
d.displaySQL)}else for(var f="",h=0;h<a.parts.length;h++){d=a.parts[h];d.valueObj&&p.isArray(d.valueObj.value)&&"multiple"!==d.valueObj.type?(e=this._checkIfValObjArrayAndChecked(d.valueObj.value))?(e=this.builtFilterString(d),d=d.displaySQL):d=e="1\x3d1":(e=this.builtFilterString(d),d=d.displaySQL);if(!w.isDefined(e))return null;b+=f+"("+e+")";c+=f+"("+d+")";f=f||" "+a.logicalOperator+" "}a.expr=b;a.displaySQL=c;return b},_checkIfValObjArrayAndChecked:function(a){var b=!1,c;for(c in a)if(a[c].isChecked){b=
!0;break}return b},_handleVirtualDate:function(a){this.hasVirtualDate(a)&&q.forEach(a.parts,p.hitch(this,function(b){b.parts?q.forEach(b.parts,p.hitch(this,function(c){this._updateRealDateByVirtualDate(c)})):this._updateRealDateByVirtualDate(b)}))},_updateRealDateByVirtualDate:function(a){var b=[this.OPERATORS.dateOperatorIsOn,this.OPERATORS.dateOperatorIsNotOn,this.OPERATORS.dateOperatorIsBefore,this.OPERATORS.dateOperatorIsAfter,this.OPERATORS.dateOperatorIsOnOrBefore,this.OPERATORS.dateOperatorIsOnOrAfter];
a.valueObj.virtualDate?a.operator===this.OPERATORS.dateOperatorIsIn||a.operator===this.OPERATORS.dateOperatorIsNotIn?(b=n.getRealDateByVirtualDate(a.valueObj.virtualDate),a.value1=b[0],a.value2=b[1],a.valueObj.value1=k.getDateTimeStr(b[0]),a.valueObj.value2=k.getDateTimeStr(b[1])):-1<b.indexOf(a.operator)&&(b=n.getRealDateByVirtualDate(a.valueObj.virtualDate),a.value=b,a.valueObj.value=k.getDateTimeStr(b)):(a.valueObj.virtualDate1&&(b=n.getRealDateByVirtualDate(a.valueObj.virtualDate1),a.value1=b,
a.valueObj.value1=k.getDateTimeStr(b)),a.valueObj.virtualDate2&&(b=n.getRealDateByVirtualDate(a.valueObj.virtualDate2),a.value2=b,a.valueObj.value2=k.getDateTimeStr(b)))},isPartsObjReadyToBuild:function(a){return q.every(a.parts,p.hitch(this,function(b){return b.parts?q.every(b.parts,p.hitch(this,function(c){return this._isPartReadyToBuild(c)})):this._isPartReadyToBuild(b)}))},_isPartReadyToBuild:function(a){var b=a.fieldObj.shortType,c=a.operator,e=a.valueObj;a=e.type||"value";var d=e.value,f=e.value1;
e=e.value2;if("value"===a){if("string"===b)return c===this.OPERATORS.stringOperatorIsBlank||c===this.OPERATORS.stringOperatorIsNotBlank?!0:k.isNotEmptyString(d);if("number"===b)return c===this.OPERATORS.numberOperatorIsBlank||c===this.OPERATORS.numberOperatorIsNotBlank?!0:c===this.OPERATORS.numberOperatorIsBetween||c===this.OPERATORS.numberOperatorIsNotBetween?k.isValidNumber(f)&&k.isValidNumber(e):k.isValidNumber(d);if("date"===b)return c===this.OPERATORS.dateOperatorIsBlank||c===this.OPERATORS.dateOperatorIsNotBlank?
!0:c===this.OPERATORS.dateOperatorIsBetween||c===this.OPERATORS.dateOperatorIsNotBetween||c===this.OPERATORS.dateOperatorIsIn||c===this.OPERATORS.dateOperatorIsNotIn?k.isNotEmptyString(f)&&k.isNotEmptyString(e):c===this.OPERATORS.dateOperatorInTheLast||c===this.OPERATORS.dateOperatorNotInTheLast?void 0!==d&&null!==d:k.isNotEmptyString(d)}else{if("field"===a)return k.isNotEmptyString(d);if("unique"===a){if("string"===b)return k.isNotEmptyString(d);if("number"===b)return k.isValidNumber(d);if("date"===
b)return k.isValidDate(d)}else if("multiple"===a){if("string"===b)return k.isNotEmptyStringArray(d);if("number"===b)return k.isValidNumberArray(d)}else if("values"!==a&&("uniquePredefined"===a||"multiplePredefined"===a)){if("string"===b)return k.isNotEmptyStringArray(d);if("number"===b)return k.isValidNumberArray(d)}}return!1},builtFilterString:function(a){var b="",c="";if(a.parts)for(var e="",d=0;d<a.parts.length;d++){var f=a.parts[d],h=this.builtSingleFilterString(f);f.expr=h.whereClause;if(!w.isDefined(h.whereClause))return null;
b+=e+h.whereClause;c+=e+f.displaySQL;e=" "+a.logicalOperator+" "}else a&&a.valueObj&&"multiple"===a.valueObj.type&&0===a.valueObj.value.length?b=c="1\x3d1":(b=this.builtSingleFilterString(a).whereClause,c=a.displaySQL);a.expr=b;a.displaySQL=c;return b},_preBuiltSingleFilterString:function(a){if("string"===a.fieldObj.shortType&&"\x3cNull\x3e"===a.valueObj.value){if(a.operator===this.OPERATORS.stringOperatorIs)return{whereClause:a.fieldObj.name+" IS NULL"};if(a.operator===this.OPERATORS.stringOperatorIsNot)return{whereClause:a.fieldObj.name+
" IS NOT NULL"}}if("number"===a.fieldObj.shortType&&"\x3cNull\x3e"===a.valueObj.value){if(a.operator===this.OPERATORS.numberOperatorIs)return{whereClause:a.fieldObj.name+" IS NULL"};if(a.operator===this.OPERATORS.numberOperatorIsNot)return{whereClause:a.fieldObj.name+" IS NOT NULL"}}return null},_handlePrefixStringsForIn:function(a,b){for(var c=[],e=0;e<a.length;e++){var d=a[e];d=d.replace(/'/g,"''");var f=this.isHosted&&this.containsNonLatinCharacter(d)?"N":"";d=b||this.isHosted?d:d.toLowerCase();
d=""+f+"'"+d+"'";c.push(d)}return c.join(",")},getDateValueByLayerTimeOffset:function(a,b){return 0===b?a:new Date(a.getTime()+b)},builtSingleFilterString:function(a){this.isHosted&&(a.caseSensitive=!1);if(w.isDefined(a.valueObj.isValid)&&!a.valueObj.isValid)return{whereClause:null};var b=this._preBuiltSingleFilterString(a);if(b)return b;var c=a.valueObj.value,e=a.valueObj.value1,d=a.valueObj.value2,f=b="",h=[];if("string"===a.fieldObj.shortType){var g="";c&&"field"!==a.valueObj.type&&this.isHosted&&
!p.isArray(c)&&this.containsNonLatinCharacter(c)&&(g="N");!c||"multiplePredefined"!==a.valueObj.type&&"uniquePredefined"!==a.valueObj.type||(h=[],q.forEach(c,p.hitch(this,function(m){m.isChecked&&h.push(m.value)})),a.operator===this.OPERATORS.stringOperatorIs||a.operator===this.OPERATORS.stringOperatorIsNot?(c=h[0],this.isHosted&&this.containsNonLatinCharacter(c)&&(g="N")):c=h);var l=[];switch(a.operator){case this.OPERATORS.stringOperatorIs:b="field"===a.valueObj.type?a.fieldObj.name+" \x3d "+c:
a.caseSensitive||this.isHosted?a.fieldObj.name+" \x3d "+g+"'"+c.replace(/'/g,"''")+"'":"LOWER("+a.fieldObj.name+") \x3d "+g+"'"+c.replace(/'/g,"''").toLowerCase()+"'";break;case this.OPERATORS.stringOperatorIsNot:b="field"===a.valueObj.type?a.fieldObj.name+" \x3c\x3e "+c:a.caseSensitive||this.isHosted?a.fieldObj.name+" \x3c\x3e "+g+"'"+c.replace(/'/g,"''")+"'":"LOWER("+a.fieldObj.name+") \x3c\x3e "+g+"'"+c.replace(/'/g,"''").toLowerCase()+"'";break;case this.OPERATORS.stringOperatorStartsWith:l=[];
"multiplePredefined"===a.valueObj.type||"uniquePredefined"===a.valueObj.type?(q.forEach(c,p.hitch(this,function(m){var r=this.isHosted&&this.containsNonLatinCharacter(m)?"N":"";a.caseSensitive||this.isHosted?l.push(a.fieldObj.name+" LIKE "+r+"'"+m.replace(/'/g,"''")+"%'"):l.push("LOWER("+a.fieldObj.name+") LIKE "+r+"'"+m.replace(/'/g,"''").toLowerCase()+"%'")})),b="(("+l.join(") OR (")+"))"):b=a.caseSensitive||this.isHosted?a.fieldObj.name+" LIKE "+g+"'"+c.replace(/'/g,"''")+"%'":"LOWER("+a.fieldObj.name+
") LIKE "+g+"'"+c.replace(/'/g,"''").toLowerCase()+"%'";break;case this.OPERATORS.stringOperatorEndsWith:l=[];"multiplePredefined"===a.valueObj.type||"uniquePredefined"===a.valueObj.type?(q.forEach(c,p.hitch(this,function(m){var r=this.isHosted&&this.containsNonLatinCharacter(m)?"N":"";a.caseSensitive||this.isHosted?l.push(a.fieldObj.name+" LIKE "+r+"'%"+m.replace(/'/g,"''")+"'"):l.push("LOWER("+a.fieldObj.name+") LIKE "+r+"'%"+m.replace(/'/g,"''").toLowerCase()+"'")})),b="(("+l.join(") OR (")+"))"):
b=a.caseSensitive||this.isHosted?a.fieldObj.name+" LIKE "+g+"'%"+c.replace(/'/g,"''")+"'":"LOWER("+a.fieldObj.name+") LIKE "+g+"'%"+c.replace(/'/g,"''").toLowerCase()+"'";break;case this.OPERATORS.stringOperatorContains:l=[];"multiplePredefined"===a.valueObj.type||"uniquePredefined"===a.valueObj.type?(q.forEach(c,p.hitch(this,function(m){var r=this.isHosted&&this.containsNonLatinCharacter(m)?"N":"";a.caseSensitive||this.isHosted?l.push(a.fieldObj.name+" LIKE "+r+"'%"+m.replace(/'/g,"''")+"%'"):l.push("LOWER("+
a.fieldObj.name+") LIKE "+r+"'%"+m.replace(/'/g,"''").toLowerCase()+"%'")})),b="(("+l.join(") OR (")+"))"):b=a.caseSensitive||this.isHosted?a.fieldObj.name+" LIKE "+g+"'%"+c.replace(/'/g,"''")+"%'":"LOWER("+a.fieldObj.name+") LIKE "+g+"'%"+c.replace(/'/g,"''").toLowerCase()+"%'";break;case this.OPERATORS.stringOperatorDoesNotContain:l=[];"multiplePredefined"===a.valueObj.type||"uniquePredefined"===a.valueObj.type?(q.forEach(c,p.hitch(this,function(m){var r=this.isHosted&&this.containsNonLatinCharacter(m)?
"N":"";a.caseSensitive||this.isHosted?l.push(a.fieldObj.name+" NOT LIKE "+r+"'%"+m.replace(/'/g,"''")+"%'"):l.push("LOWER("+a.fieldObj.name+") NOT LIKE "+r+"'%"+m.replace(/'/g,"''").toLowerCase()+"%'")})),b="(("+l.join(") AND (")+"))"):b=a.caseSensitive||this.isHosted?a.fieldObj.name+" NOT LIKE "+g+"'%"+c.replace(/'/g,"''")+"%'":"LOWER("+a.fieldObj.name+") NOT LIKE "+g+"'%"+c.replace(/'/g,"''").toLowerCase()+"%'";break;case this.OPERATORS.stringOperatorIsAnyOf:c=this._handlePrefixStringsForIn(c,a.caseSensitive);
b=a.caseSensitive||this.isHosted?a.fieldObj.name+" IN ("+c+")":"LOWER("+a.fieldObj.name+") IN ("+c+")";break;case this.OPERATORS.stringOperatorIsNoneOf:c=this._handlePrefixStringsForIn(c,a.caseSensitive);b=a.caseSensitive||this.isHosted?a.fieldObj.name+" NOT IN ("+c+")":"LOWER("+a.fieldObj.name+") NOT IN ("+c+")";break;case this.OPERATORS.stringOperatorIsBlank:b=a.fieldObj.name+" IS NULL";break;case this.OPERATORS.stringOperatorIsNotBlank:b=a.fieldObj.name+" IS NOT NULL"}}else if("number"===a.fieldObj.shortType)switch(!c||
"uniquePredefined"!==a.valueObj.type&&"multiplePredefined"!==a.valueObj.type?c&&"multiple"===a.valueObj.type&&(c=c.join(",")):(h=[],q.forEach(c,p.hitch(this,function(m){m.isChecked&&h.push(m.value)})),c=h.join(",")),a.operator){case this.OPERATORS.numberOperatorIs:b=a.fieldObj.name+" \x3d "+c;break;case this.OPERATORS.numberOperatorIsNot:b=a.fieldObj.name+" \x3c\x3e "+c;break;case this.OPERATORS.numberOperatorIsAtLeast:b=a.fieldObj.name+" \x3e\x3d "+c;break;case this.OPERATORS.numberOperatorIsLessThan:b=
a.fieldObj.name+" \x3c "+c;break;case this.OPERATORS.numberOperatorIsAtMost:b=a.fieldObj.name+" \x3c\x3d "+c;break;case this.OPERATORS.numberOperatorIsGreaterThan:b=a.fieldObj.name+" \x3e "+c;break;case this.OPERATORS.numberOperatorIsAnyOf:b=a.fieldObj.name+" IN ("+c+")";break;case this.OPERATORS.numberOperatorIsNoneOf:b=a.fieldObj.name+" NOT IN ("+c+")";break;case this.OPERATORS.numberOperatorIsBetween:b=a.fieldObj.name+" BETWEEN "+e+" AND "+d;break;case this.OPERATORS.numberOperatorIsNotBetween:b=
a.fieldObj.name+" NOT BETWEEN "+e+" AND "+d;break;case this.OPERATORS.numberOperatorIsBlank:b=a.fieldObj.name+" IS NULL";break;case this.OPERATORS.numberOperatorIsNotBlank:b=a.fieldObj.name+" IS NOT NULL"}else{f=a._useStandardizedQueries;if("field"!==a.valueObj.type){c&&(c=k.getDateByDateTimeStr(c),g=this.getDateValueByLayerTimeOffset(c,a._layerTimeZoneOffset));if(e){e=k.getDateByDateTimeStr(e);var u=this.getDateValueByLayerTimeOffset(e,a._layerTimeZoneOffset)}if(d){d=k.getDateByDateTimeStr(d);var v=
this.getDateValueByLayerTimeOffset(d,a._layerTimeZoneOffset)}}e=a.valueObj.enableTime;d=a.valueObj.timeAccuracy;switch(a.operator){case this.OPERATORS.dateOperatorIsOn:"field"===a.valueObj.type?b=a.fieldObj.name+" \x3d "+c:(b="unique"===a.valueObj.type?this._getEndDateByTimeForUnique(g,a.fieldObj.dateFormat):this._getEndDateByTime(g,e,d),b="("+a.fieldObj.name+" BETWEEN "+(f?"timestamp ":"")+"'"+this.formatDate(g)+"' AND "+(f?"timestamp ":"")+"'"+b+"') AND ("+a.fieldObj.name+" \x3c\x3e "+(f?"timestamp ":
"")+"'"+b+"')");break;case this.OPERATORS.dateOperatorIsNotOn:"field"===a.valueObj.type?b=a.fieldObj.name+" \x3c\x3e "+c:(b="unique"===a.valueObj.type?this._getEndDateByTimeForUnique(g,a.fieldObj.dateFormat):this._getEndDateByTime(g,e,d),b="("+a.fieldObj.name+" \x3c "+(f?"timestamp ":"")+"'"+this.formatDate(g)+"') OR ("+a.fieldObj.name+" \x3e\x3d "+(f?"timestamp ":"")+"'"+b+"')");break;case this.OPERATORS.dateOperatorIsBefore:b="field"===a.valueObj.type?a.fieldObj.name+" \x3c "+c:a.fieldObj.name+
" \x3c "+(f?"timestamp ":"")+"'"+this.formatDate(g)+"'";break;case this.OPERATORS.dateOperatorIsAfter:"field"===a.valueObj.type?b=a.fieldObj.name+" \x3e "+c:(b="unique"===a.valueObj.type?this._getEndDateByTimeForUnique(g,a.fieldObj.dateFormat):this._getEndDateByTime(g,e,d),b=a.fieldObj.name+" \x3e\x3d "+(f?"timestamp ":"")+"'"+b+"'");break;case this.OPERATORS.dateOperatorIsOnOrBefore:"field"===a.valueObj.type?b=a.fieldObj.name+" \x3c\x3d "+c:(b="unique"===a.valueObj.type?this._getEndDateByTimeForUnique(g,
a.fieldObj.dateFormat):this._getEndDateByTime(g,e,d),b=a.fieldObj.name+" \x3c "+(f?"timestamp ":"")+"'"+b+"'");break;case this.OPERATORS.dateOperatorIsOnOrAfter:b="field"===a.valueObj.type?a.fieldObj.name+" \x3e\x3d "+c:a.fieldObj.name+" \x3e\x3d "+(f?"timestamp ":"")+"'"+this.formatDate(g)+"'";break;case this.OPERATORS.dateOperatorInTheLast:b=a.fieldObj.name+" BETWEEN CURRENT_TIMESTAMP - "+this._convertRangeToDays(a.valueObj.value,a.valueObj.range)+" AND CURRENT_TIMESTAMP";break;case this.OPERATORS.dateOperatorNotInTheLast:b=
a.fieldObj.name+" NOT BETWEEN CURRENT_TIMESTAMP - "+this._convertRangeToDays(a.valueObj.value,a.valueObj.range)+" AND CURRENT_TIMESTAMP";break;case this.OPERATORS.dateOperatorIsBetween:case this.OPERATORS.dateOperatorIsIn:b=this._getEndDateByTime(v,a.valueObj.enableTime2,a.valueObj.timeAccuracy2);b="("+a.fieldObj.name+" BETWEEN "+(f?"timestamp ":"")+"'"+this.formatDate(u)+"' AND "+(f?"timestamp ":"")+"'"+b+"') AND ("+a.fieldObj.name+" \x3c\x3e "+(f?"timestamp ":"")+"'"+b+"')";break;case this.OPERATORS.dateOperatorIsNotBetween:case this.OPERATORS.dateOperatorIsNotIn:b=
this._getEndDateByTime(v,a.valueObj.enableTime2,a.valueObj.timeAccuracy2);b="("+a.fieldObj.name+" \x3c "+(f?"timestamp ":"")+"'"+this.formatDate(u)+"') OR ("+a.fieldObj.name+" \x3e\x3d "+(f?"timestamp ":"")+"'"+b+"')";break;case this.OPERATORS.dateOperatorIsBlank:b=a.fieldObj.name+" IS NULL";break;case this.OPERATORS.dateOperatorIsNotBlank:b=a.fieldObj.name+" IS NOT NULL"}}"date"===a.fieldObj.shortType?(g=p.clone(a.valueObj),g.dateFormat=a.fieldObj.dateFormat,f=this.getDisplaySQL(a.fieldObj.name,
g,a.operator)):f=b;a.displaySQL=f;return{whereClause:b}},_getEndDateByTime:function(a,b,c){a=b?"s"===c?this.addSec(a):"m"===c?this.addMinute(a):this.addHour(a):this.addDay(a);return this.formatDate(a)},_getEndDateByTimeForUnique:function(a,b){a=b&&0<=b.indexOf("ShortTime")?this.addMinute(a):b&&0<=b.indexOf("LongTime")?this.addSec(a):this.addDay(a);return this.formatDate(a)},_getDisplayDates:function(a){var b={value:a.virtualDate,value1:a.virtualDate1,value2:a.virtualDate2},c=""===a.dateFormat?{}:
{format:{dateFormat:a.dateFormat}};b.value=""===a.virtualDate||void 0===a.virtualDate?"field"===a.type?a.value:"unique"===a.type?k.localizeDateByFieldInfo(k.getDateByDateTimeStr(a.value),c):k.localizeDateTimeByFieldInfo(k.getDateByDateTimeStr(a.value),c,a.enableTime,a.timeAccuracy):this.filterBuilderNls[a.virtualDate];b.value1=""===a.virtualDate1?k.localizeDateTimeByFieldInfo(k.getDateByDateTimeStr(a.value1),c,a.enableTime1,a.timeAccuracy1):this.filterBuilderNls[a.virtualDate1];b.value2=""===a.virtualDate2?
k.localizeDateTimeByFieldInfo(k.getDateByDateTimeStr(a.value2),c,a.enableTime2,a.timeAccuracy2):this.filterBuilderNls[a.virtualDate2];return b},getDisplaySQL:function(a,b,c){var e="";0<c.indexOf("InTheLast")?e=this.filterBuilderNls[c]+" "+b.value+" "+this._getDateRangeEnum(b.value,b.range):(b=this._getDisplayDates(b,c),e=0<c.indexOf("Between")?this.filterBuilderNls[c]+" "+b.value1+" "+this.filterBuilderNls.and+" "+b.value2:0<c.indexOf("Blank")?this.filterBuilderNls[c]:this.filterBuilderNls[c]+" "+
b.value);return a+" "+e},_getDateRangeEnum:function(a,b){b={dateOperatorYears:"year",dateOperatorDays:"day",dateOperatorMonths:"month",dateOperatorWeeks:"week",dateOperatorHours:"hour",dateOperatorMinutes:"minute"}[b];return window.jimuNls.timeUnit[1<a?b+"s":b].toLowerCase()},_convertRangeToDays:function(a,b){var c=a;b===this.OPERATORS.dateOperatorYears?c=365*a:b===this.OPERATORS.dateOperatorMonths?c=30*a:b===this.OPERATORS.dateOperatorWeeks?c=7*a:b===this.OPERATORS.dateOperatorHours?c=a/24:b===this.OPERATORS.dateOperatorMinutes&&
(c=a/1440);return c=Math.round(1E6*c)/1E6},formatDate:function(a){a=new Date(a);return""+a.getUTCFullYear()+"-"+x.format(a.getUTCMonth()+1,{pattern:"00"})+"-"+x.format(a.getUTCDate(),{pattern:"00"})+" "+x.format(a.getUTCHours(),{pattern:"00"})+":"+x.format(a.getUTCMinutes(),{pattern:"00"})+":"+x.format(a.getUTCSeconds(),{pattern:"00"})},addDay:function(a){return new Date(a.getTime()+this.dayInMS)},addHour:function(a){return new Date(a.getTime()+this.HourInMS)},addMinute:function(a){return new Date(a.getTime()+
this.MinuteInMS)},addSec:function(a){return new Date(a.getTime()+this.SecInMS)},getFilterObjByExpr:function(a){if(a&&this.fieldsStore){var b=this.replaceStrings(a);a=b.defExpr;var c=this.findParts(a,"AND");1===c.parts.length&&(c=this.findParts(a,"OR"),1===c.parts.length&&(c.logicalOperator="AND"));q.forEach(c.parts,function(e){e.expr=e.expr.trim();if(e.expr.startsWith("(")&&-1<e.expr.search(/\)$/)){var d=e.expr.substring(1,e.expr.length-1),f=d.indexOf("("),h=d.indexOf(")");if(-1===f&&-1===h||f<h)e.expr=
d}d=this.findParts(e.expr,"AND");1===d.parts.length&&(d=this.findParts(e.expr,"OR"));1<d.parts.length&&(e.parts=d.parts,e.logicalOperator=d.logicalOperator)},this);this.parseExpr(c);this.reReplaceStrings(b,c,p.hitch(this,function(){c&&c.parts&&q.forEach(c.parts,p.hitch(this,function(e){e&&(e.parts?q.forEach(e.parts,p.hitch(this,function(d){this._handleParsedValuesForSinglePart(d);this._addDefalutValueTypeForSinglePart(d)})):(this._handleParsedValuesForSinglePart(e),this._addDefalutValueTypeForSinglePart(e)))}))}));
this.isPartsObjHasError(c)&&(c=null);return c}},_handleParsedValuesForSinglePart:function(a){a&&a.fieldObj&&"number"===a.fieldObj.shortType&&a.valueObj&&(a.valueObj.hasOwnProperty("value")&&(a.valueObj.value=parseFloat(a.valueObj.value)),a.valueObj.hasOwnProperty("value1")&&(a.valueObj.value1=parseFloat(a.valueObj.value1)),a.valueObj.hasOwnProperty("value2")&&(a.valueObj.value2=parseFloat(a.valueObj.value2)))},_addDefalutValueTypeForSinglePart:function(a){a&&a.valueObj&&!a.valueObj.type&&(a.valueObj.type=
"value")},replaceStrings:function(a){for(var b=a,c=function(l,u,v){var m=-1;m=l.indexOf("'",v+1);return m===v+1?(m=l.indexOf("'",m+1),c(l,u,m)):v},e=[],d=a.indexOf("'");-1<d;){var f=d;d=a.indexOf("'",d+1);var h=0;d=c(a,f,d);"%"===a[f+1]&&f++;"%"===a[d-1]&&(--d,h++);var g=a.substring(f+1,d);"N"===a[f-1]&&(a=a.substring(0,f-1)+a.substring(f),--f,--d);this.isDateString(g)||-1!==g.indexOf("{")?d=a.indexOf("'",d+1+h):(e.push(g),a=a.substring(0,f+1)+"#"+(e.length-1)+"#"+a.substring(d),d=a.indexOf("'",a.lastIndexOf("#")+
2+h))}return{origDefExpr:b,defExpr:a,savedStrings:e}},reReplaceStrings:function(a,b,c){var e=a.savedStrings;if(!e.length)c&&"function"===typeof c&&c();else if(e.length){var d=function(h,g){if(void 0===h.valueObj||null===h.valueObj||void 0===h.valueObj.value||null===h.valueObj.value||"string"!==h.fieldObj.shortType)return!1;var l=h.valueObj.value.indexOf("#"),u=h.valueObj.value.lastIndexOf("#");return w.isDefined(h.valueObj.value)&&-1<l?(h.valueObj.value=g[parseInt(h.valueObj.value.substring(l+1,u),
10)].replace(/''/g,"'"),this.builtSingleFilterString(h),!0):!1};d=p.hitch(this,d);var f=!1;q.forEach(b.parts,function(h){if(h.parts){var g=!1;q.forEach(h.parts,function(l){g=d(l,e)||g});g&&(f=g,h.expr=this.builtFilterString(h))}else(f=d(h,e)||f)&&this.builtFilterString(h)},this);c&&"function"===typeof c&&c();f&&(b.expr=null,this.getExprByFilterObj(b))}},isDateString:function(a){return 19===a.length&&"-"===a.charAt(4)&&"-"===a.charAt(7)&&" "===a.charAt(10)&&":"===a.charAt(13)&&":"===a.charAt(16)?!0:
!1},findParts:function(a,b){for(var c=a.toLowerCase(),e=" "+b.toLowerCase()+" ",d=[],f=0,h=c.indexOf(e);0<h;){var g=a.substring(f,h),l=g.toLowerCase(),u=g.count("("),v=g.count(")"),m=g.count("'");u!==v||1===m%2?h=c.indexOf(e,h+1):-1<l.indexOf(" between ")&&-1===l.indexOf(" and ")?h=c.indexOf(e,h+1):(d.push({expr:g}),f=h+e.length,h=c.indexOf(e,f))}d.push({expr:a.substring(f)});for(c=d.length-1;0<=c;c--)!this.hasOperator(d[c].expr)&&0<c&&(d[c-1].expr+=" "+b+" "+d[c].expr,d.splice(c,1));return{expr:a,
parts:d,logicalOperator:b}},hasOperator:function(a){a=a.toLowerCase();return-1<a.indexOf("{")&&-1<a.indexOf("}")||-1<a.indexOf(" \x3d ")||-1<a.indexOf(" \x3c ")||-1<a.indexOf(" \x3e ")||-1<a.indexOf(" \x3c\x3e ")||-1<a.indexOf(" \x3c\x3d ")||-1<a.indexOf(" \x3e\x3d ")||-1<a.indexOf(" like ")||-1<a.indexOf(" between ")||-1<a.indexOf(" date")||-1<a.indexOf(" is null")||-1<a.indexOf(" is not null")?!0:!1},parseExpr:function(a){q.forEach(a.parts,function(b){b.parts?this.parseExpr(b):this.parseSingleExpr(b)},
this)},_preParseSingleExpr:function(a){var b=null;try{if(b=p.clone(a),b.expr=b.expr.trim(),/^LOWER\((.*)\)(\s+|\s+NOT\s+)LIKE\s+LOWER\(N?'(.*)'\)$/i.test(b.expr)){var c=a="",e=b.expr.match(/^LOWER\((.*)\)\s+/i);if(e&&2<=e.length)a=e[1];else return null;var d=b.expr.match(/LOWER\(N?'(.*)'\)$/i);if(d&&2<=d.length)c="'"+d[1]+"'";else return null;b.expr=b.expr.replace(/^LOWER\((.*)\)\s+/i,a+" ");b.expr=b.expr.replace(/LOWER\(N?'(.*)'\)$/i,c);b.caseSensitive=!1}else/^(.+)(\s+|\s+NOT\s+)LIKE\s+N?'(.*)'$/i.test(b.expr)&&
(b.caseSensitive=!0)}catch(f){return console.log(f),null}b&&this.isHosted&&(b.caseSensitive=!1);return b},_removeOperator:function(a,b,c){b=b.substring(c).trim();"date"===a&&!this.isHosted&&b.toLowerCase().startsWith("timestamp ")&&(b=b.substring(10).trim());return b},parseSingleExpr:function(a){var b=this._preParseSingleExpr(a);b&&(a=p.mixin(a,b));b=a.expr.trim();var c=b.indexOf(" "),e=b.substring(0,c);a.fieldObj={name:e};a.valueObj={};this.getFieldItemByName({name:e},function(d){a.fieldObj.shortType=
d.shortType[0];a.fieldObj.label=d.label[0]},function(){a.error={msg:"unknown field name ("+e+")",code:1}});b=b.substring(c+1).trim();c=b.toLowerCase();c.startsWith("\x3d ")?(b=this._removeOperator(a.fieldObj.shortType,b,2),this.storeValue(b,a),a.operator="date"===a.fieldObj.shortType?this.OPERATORS.dateOperatorIsOn:"string"===a.fieldObj.shortType?this.OPERATORS.stringOperatorIs:this.OPERATORS.numberOperatorIs):c.startsWith("\x3c ")?(b=this._removeOperator(a.fieldObj.shortType,b,2),this.storeValue(b,
a),"date"===a.fieldObj.shortType?a.operator=this.OPERATORS.dateOperatorIsBefore:"number"===a.fieldObj.shortType?a.operator=this.OPERATORS.numberOperatorIsLessThan:a.error={msg:"operator ("+c+") not supported for string",code:3}):c.startsWith("\x3e ")?(b=this._removeOperator(a.fieldObj.shortType,b,2),this.storeValue(b,a),"date"===a.fieldObj.shortType?a.operator=this.OPERATORS.dateOperatorIsAfter:"number"===a.fieldObj.shortType?a.operator=this.OPERATORS.numberOperatorIsGreaterThan:a.error={msg:"operator ("+
c+") not supported for string",code:3}):c.startsWith("\x3c\x3e ")?(b=this._removeOperator(a.fieldObj.shortType,b,3),this.storeValue(b,a),a.operator="date"===a.fieldObj.shortType?this.OPERATORS.dateOperatorIsNotOn:"string"===a.fieldObj.shortType?this.OPERATORS.stringOperatorIsNot:this.OPERATORS.numberOperatorIsNot):c.startsWith("\x3c\x3d ")?(b=this._removeOperator(a.fieldObj.shortType,b,3),this.storeValue(b,a),"date"===a.fieldObj.shortType?a.operator=this.OPERATORS.dateOperatorIsOnOrBefore:"number"===
a.fieldObj.shortType?a.operator=this.OPERATORS.numberOperatorIsAtMost:a.error={msg:"operator ("+c+") not supported for string",code:3}):c.startsWith("\x3e\x3d ")?(b=this._removeOperator(a.fieldObj.shortType,b,3),this.storeValue(b,a),"date"===a.fieldObj.shortType?a.operator=this.OPERATORS.dateOperatorIsOnOrAfter:"number"===a.fieldObj.shortType?a.operator=this.OPERATORS.numberOperatorIsAtLeast:a.error={msg:"operator ("+c+") not supported for string",code:3}):c.startsWith("like ")?(b=b.substring(5).trim(),
b.startsWith("N'")&&(b=b.substring(1,b.length)),b.startsWith("'%")&&b.endsWith("%'")?(this.storeValue(b.substring(2,b.length-2),a),a.operator=this.OPERATORS.stringOperatorContains):b.startsWith("'%")&&b.endsWith("'")?(this.storeValue(b.substring(2,b.length-1),a),a.operator=this.OPERATORS.stringOperatorEndsWith):b.startsWith("'")&&b.endsWith("%'")?(this.storeValue(b.substring(1,b.length-2),a),a.operator=this.OPERATORS.stringOperatorStartsWith):a.error={msg:"value ("+c+") not supported for LIKE",code:3}):
c.startsWith("not like ")?(b=b.substring(9).trim(),b.startsWith("N'")&&(b=b.substring(1,b.length)),b.startsWith("'%")&&b.endsWith("%'")?(this.storeValue(b.substring(2,b.length-2),a),a.operator=this.OPERATORS.stringOperatorDoesNotContain):a.error={msg:"value ("+c+") not supported for NOT LIKE",code:3}):c.startsWith("between ")?this._updatePartForBetween(b,!0,a):c.startsWith("not between ")?this._updatePartForBetween(b,!1,a):"is null"===c?(a.valueObj.value=null,a.operator="date"===a.fieldObj.shortType?
this.OPERATORS.dateOperatorIsBlank:"string"===a.fieldObj.shortType?this.OPERATORS.stringOperatorIsBlank:this.OPERATORS.numberOperatorIsBlank):"is not null"===c?(a.valueObj.value=null,a.operator="date"===a.fieldObj.shortType?this.OPERATORS.dateOperatorIsNotBlank:"string"===a.fieldObj.shortType?this.OPERATORS.stringOperatorIsNotBlank:this.OPERATORS.numberOperatorIsNotBlank):a.error={msg:"unknown operator ("+c+")",code:2};if(w.isDefined(a.valueObj.value)&&"string"===typeof a.valueObj.value&&a.valueObj.value.startsWith("{")&&
a.valueObj.value.endsWith("}")||w.isDefined(a.valueObj.value1)&&"string"===typeof a.valueObj.value1&&a.valueObj.value1.startsWith("{")&&a.valueObj.value1.endsWith("}"))a.isInteractive=!0},getFieldItemByName:function(a,b,c){this.fieldsStore.fetch({query:a,onComplete:p.hitch(this,function(e){e&&e.length?b(e[0]):c()})})},subtractDay:function(a){return new Date(a.getTime()-this.dayInMS)},_updatePartForBetween:function(a,b,c){a=this._removeOperator(c.fieldObj.shortType,a,(b?"between ":"not between ").length);
var e=a.toLowerCase().indexOf(" and ");if(-1<e){var d=a.substring(0,e).trim();if(d.startsWith("CURRENT_TIMESTAMP "))if(d=d.substring(18).trim(),d.startsWith("-")){c.operator=b?this.OPERATORS.dateOperatorInTheLast:this.OPERATORS.dateOperatorNotInTheLast;try{var f=parseFloat(d.substring(1).trim());if(1<=f){var h=this.OPERATORS.dateOperatorDays;var g=f/365;1E-4>Math.abs(g-Math.round(g))?(f=Math.round(g),h=this.OPERATORS.dateOperatorYears):(g=f/30,1E-4>Math.abs(g-Math.round(g))?(f=Math.round(g),h=this.OPERATORS.dateOperatorMonths):
(g=f/7,1E-4>Math.abs(g-Math.round(g))&&(f=Math.round(g),h=this.OPERATORS.dateOperatorWeeks)))}else h=this.OPERATORS.dateOperatorMinutes,f*=24,1E-4>Math.abs(f-Math.round(f))?h=this.OPERATORS.dateOperatorHours:f*=60;c.valueObj.value=f;c.valueObj.range=h}catch(l){c.error={msg:"missing count for '"+(b?"":"not ")+"in the last'",code:3}}}else c.error={msg:"'"+(b?"":"not ")+"in the next' not supported",code:3};else if(a=this._removeOperator(c.fieldObj.shortType,a.substring(e),5),this.storeValue1(d,c),this.storeValue2(a,
c),"date"===c.fieldObj.shortType){if(c.operator=b?this.OPERATORS.dateOperatorIsBetween:this.OPERATORS.dateOperatorIsNotBetween,"object"===typeof c.valueObj.value1&&"object"===typeof c.valueObj.value2)try{1E3>Math.abs(this.subtractDay(c.valueObj.value2).getTime()-c.valueObj.value1.getTime())&&(c.valueObj.value=c.valueObj.value1,delete c.valueObj.value1,delete c.valueObj.value2,c.operator=b?this.OPERATORS.dateOperatorIsOn:this.OPERATORS.dateOperatorIsNotOn)}catch(l){}}else"number"===c.fieldObj.shortType||
"oid"===c.fieldObj.shortType?c.operator=b?this.OPERATORS.numberOperatorIsBetween:this.OPERATORS.numberOperatorIsNotBetween:c.error={msg:c.fieldObj.shortType+" field not supported for "+(b?"":"NOT ")+"BETWEEN",code:3}}else c.error={msg:"missing AND operator for "+(b?"":"NOT ")+"BETWEEN",code:3}},storeValue:function(a,b){if(a.startsWith("{")&&a.endsWith("}"))b.valueObj.value=a;else if(a.startsWith("'{")&&a.endsWith("}'"))b.valueObj.value=a.substring(1,a.length-1);else if("date"===b.fieldObj.shortType)if(a.startsWith("'")&&
a.endsWith("'")){var c=a.substring(1,a.length-1);b.valueObj.value=this.parseDate(c)}else b.valueObj.value=a,b.valueObj.type="field";else"string"===b.fieldObj.shortType?(a.startsWith("#")||a.startsWith("%#"))&&(a.endsWith("#")||a.endsWith("#%"))?b.valueObj.value=a:a.startsWith("'")&&a.endsWith("'")?b.valueObj.value=a.substring(1,a.length-1).replace(/''/g,"'"):(b.valueObj.value=a,b.valueObj.type="field",this.getFieldItemByName({name:a},function(e){b.valueObj.label=e.label[0]},function(){b.error={msg:"unknown field name ("+
a+")",code:1}})):(b.valueObj.value=a,isNaN(a)&&(b.valueObj.type="field",this.getFieldItemByName({name:a},function(e){b.valueObj.label=e.label[0]},function(){b.error={msg:"unknown field name ("+a+")",code:1}})))},storeValue1:function(a,b){a.startsWith("{")&&a.endsWith("}")?b.valueObj.value1=a:a.startsWith("'{")&&a.endsWith("}'")?b.valueObj.value1=a.substring(1,a.length-1):"date"===b.fieldObj.shortType?a.startsWith("'")&&a.endsWith("'")?(a=a.substring(1,a.length-1),b.valueObj.value1=this.parseDate(a)):
(b.valueObj.value1=a,b.valueObj.type="field"):(b.valueObj.value1=a,isNaN(a)&&(b.valueObj.type="field"))},storeValue2:function(a,b){a.startsWith("{")&&a.endsWith("}")?b.valueObj.value2=a:a.startsWith("'{")&&a.endsWith("}'")?b.valueObj.value2=a.substring(1,a.length-1):"date"===b.fieldObj.shortType?a.startsWith("'")&&a.endsWith("'")?(a=a.substring(1,a.length-1),b.valueObj.value2=this.parseDate(a)):(b.valueObj.value2=a,b.valueObj.type="field"):(b.valueObj.value2=a,isNaN(a)&&(b.valueObj.type="field"))},
parseDate:function(a){var b=y.parse(a,{datePattern:"yyyy-MM-dd",timePattern:"HH:mm:ss"});b||(b=y.parse(a.replace(" ",", "),{datePattern:"yyyy-MM-dd",timePattern:"HH:mm:ss"}))||(b=y.parse(a.replace(" "," - "),{datePattern:"yyyy-MM-dd",timePattern:"HH:mm:ss"}));return b}});n.VIRTUAL_DATE_CUSTOM="custom";n.VIRTUAL_DATE_TODAY="today";n.VIRTUAL_DATE_YESTERDAY="yesterday";n.VIRTUAL_DATE_TOMORROW="tomorrow";n.VIRTUAL_DATE_THIS_WEEK="thisWeek";n.VIRTUAL_DATE_THIS_MONTH="thisMonth";n.VIRTUAL_DATE_THIS_QUARTER=
"thisQuarter";n.VIRTUAL_DATE_THIS_YEAR="thisYear";n.isAskForValues=function(a){var b=!1;return b=q.some(a.parts,function(c){return c.parts?q.some(c.parts,function(e){return!!e.interactiveObj}):!!c.interactiveObj})};n.hasVirtualDate=function(a){var b=!1;return b=q.some(a.parts,function(c){return c.parts?q.some(c.parts,function(e){return!!e.valueObj.virtualDate||!!e.valueObj.virtualDate1||!!e.valueObj.virtualDate2}):!!c.valueObj.virtualDate||!!c.valueObj.virtualDate1||!!c.valueObj.virtualDate2})};n.getRealDateByVirtualDate=
function(a){var b=null,c=new Date,e=c.getTime();switch(a){case n.VIRTUAL_DATE_TODAY:b=c;break;case n.VIRTUAL_DATE_YESTERDAY:b=new Date(e-864E5);break;case n.VIRTUAL_DATE_TOMORROW:b=new Date(e+864E5);break;case n.VIRTUAL_DATE_THIS_WEEK:b=[t().startOf("week").toDate(),t().endOf("week").toDate()];break;case n.VIRTUAL_DATE_THIS_MONTH:b=[t().startOf("month").toDate(),t().endOf("month").toDate()];break;case n.VIRTUAL_DATE_THIS_QUARTER:b=[t().startOf("quarter").toDate(),t().endOf("quarter").toDate()];break;
case n.VIRTUAL_DATE_THIS_YEAR:b=[t().startOf("year").toDate(),t().endOf("year").toDate()]}return b};n.TIMEZONE_DATA={"Dateline Standard Time":{id:0,offset:-12,displayName:"(UTC-12:00) International Date Line West"},"UTC-11":{id:110,offset:-11,displayName:"(UTC-11:00) Coordinated Universal Time -11"},"Hawaiian Standard Time":{id:200,offset:-10,displayName:"(UTC-10:00) Hawaii"},"Alaskan Standard Time":{id:300,offset:-9,displayName:"(UTC-09:00) Alaska"},"Pacific Standard Time":{id:400,offset:-8,displayName:"(UTC-08:00) Pacific Time (US and Canada)"},
"Pacific Standard Time (Mexico)":{id:410,offset:-8,displayName:"(UTC-08:00)Baja California"},"Mountain Standard Time":{id:500,offset:-7,displayName:"(UTC-07:00) Mountain Time (US and Canada)"},"Mountain Standard Time (Mexico)":{id:510,offset:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan"},"US Mountain Standard Time":{id:520,offset:-7,displayName:"(UTC-07:00) Arizona"},"Canada Central Standard Time":{id:600,offset:-6,displayName:"(UTC-06:00) Saskatchewan"},"Central America Standard Time":{id:610,
offset:-6,displayName:"(UTC-06:00) Central America"},"Central Standard Time":{id:620,offset:-6,displayName:"(UTC-06:00) Central Time (US and Canada)"},"Central Standard Time (Mexico)":{id:630,offset:-6,displayName:"((UTC-06:00) Guadalajara, Mexico City, Monterrey"},"Eastern Standard Time":{id:700,offset:-5,displayName:"(UTC-05:00) Eastern Time (US and Canada)"},"SA Pacific Standard Time":{id:710,offset:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito"},"US Eastern Standard Time":{id:720,offset:-5,
displayName:"(UTC-05:00) Indiana (East)"},"Venezuela Standard Time":{id:840,offset:-3.5,displayName:"(UTC-04:30) Caracas"},"Atlantic Standard Time":{id:800,offset:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)"},"Central Brazilian Standard Time":{id:810,offset:-4,displayName:"(UTC-04:00) Cuiaba"},"Pacific SA Standard Time":{id:820,offset:-4,displayName:"(UTC-04:00) Santiago"},"SA Western Standard Time":{id:830,offset:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan"},"Paraguay Standard Time":{id:850,
offset:-4,displayName:"(UTC-04:00) Asuncion"},"Newfoundland Standard Time":{id:900,offset:-2.5,displayName:"(UTC-03:30) Newfoundland"},"E. South America Standard Time":{id:910,offset:-3,displayName:"(UTC-03:00) Brasilia"},"Greenland Standard Time":{id:920,offset:-3,displayName:"(UTC-03:00) Greenland"},"Montevideo Standard Time":{id:930,offset:-3,displayName:"(UTC-03:00) Montevideo"},"SA Eastern Standard Time":{id:940,offset:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza"},"Argentina Standard Time":{id:950,
offset:-3,displayName:"(UTC-03:00) Buenos Aires"},"Mid-Atlantic Standard Time":{id:1E3,offset:-2,displayName:"(UTC-02:00) Mid-Atlantic"},"UTC-2":{id:1010,offset:-2,displayName:"(UTC-02:00) Coordinated Universal Time -02"},"Azores Standard Time":{id:1100,offset:-1,displayName:"(UTC-01:00) Azores"},"Cabo Verde Standard Time":{id:1110,offset:-1,displayName:"(UTC-01:00) Cabo Verde Is."},"GMT Standard Time":{id:1200,offset:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London"},"Greenwich Standard Time":{id:1210,
offset:0,displayName:"(UTC) Monrovia, Reykjavik"},"Morocco Standard Time":{id:1220,offset:0,displayName:"(UTC) Casablanca"},UTC:{id:1230,offset:0,displayName:"(UTC) Coordinated Universal Time"},"Central Europe Standard Time":{id:1300,offset:1,displayName:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague"},"Central European Standard Time":{id:1310,offset:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb"},"Romance Standard Time":{id:1320,offset:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris"},
"W. Central Africa Standard Time":{id:1330,offset:1,displayName:"(UTC+01:00) West Central Africa"},"W. Europe Standard Time":{id:1340,offset:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna"},"Namibia Standard Time":{id:1350,offset:1,displayName:"(UTC+01:00) Windhoek"},"E. Europe Standard Time":{id:1400,offset:2,displayName:"(UTC+02:00) Minsk"},"Egypt Standard Time":{id:1410,offset:2,displayName:"(UTC+02:00) Cairo"},"FLE Standard Time":{id:1420,offset:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius"},
"GTB Standard Time":{id:1430,offset:2,displayName:"(UTC+02:00) Athens, Bucharest"},"Israel Standard Time":{id:1440,offset:2,displayName:"(UTC+02:00) Jerusalem"},"Jordan Standard Time":{id:1450,offset:2,displayName:"(UTC+02:00) Amman"},"Middle East Standard Time":{id:1460,offset:2,displayName:"(UTC+02:00) Beirut"},"South Africa Standard Time":{id:1470,offset:2,displayName:"(UTC+02:00) Harare, Pretoria"},"Syria Standard Time":{id:1480,offset:2,displayName:"(UTC+02:00) Damascus"},"Turkey Standard Time":{id:1490,
offset:2,displayName:"(UTC+02:00) Istanbul"},"Arab Standard Time":{id:1500,offset:3,displayName:"(UTC+03:00) Kuwait, Riyadh"},"Arabic Standard Time":{id:1510,offset:3,displayName:"(UTC+03:00) Baghdad"},"E. Africa Standard Time":{id:1520,offset:3,displayName:"(UTC+03:00) Nairobi"},"Kaliningrad Standard Time":{id:1530,offset:3,displayName:"(UTC+03:00) Kaliningrad"},"Iran Standard Time":{id:1550,offset:3.5,displayName:"(UTC+03:30) Tehran"},"Russian Standard Time":{id:1540,offset:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd"},
"Arabian Standard Time":{id:1600,offset:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat"},"Azerbaijan Standard Time":{id:1610,offset:4,displayName:"(UTC+04:00) Baku"},"Caucasus Standard Time":{id:1620,offset:4,displayName:"(UTC+04:00) Yerevan"},"Georgian Standard Time":{id:1640,offset:4,displayName:"(UTC+04:00) Tbilisi"},"Mauritius Standard Time":{id:1650,offset:4,displayName:"(UTC+04:00) Port Louis"},"Afghanistan Standard Time":{id:1630,offset:4.5,displayName:"(UTC+04:30) Kabul"},"West Asia Standard Time":{id:1710,
offset:5,displayName:"(UTC+05:00) Tashkent"},"Pakistan Standard Time":{id:1750,offset:5,displayName:"(UTC+05:00) Islamabad, Karachi"},"India Standard Time":{id:1720,offset:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi"},"Sri Lanka Standard Time":{id:1730,offset:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura"},"Nepal Standard Time":{id:1740,offset:5,displayName:"(UTC+05:45) Kathmandu"},"Ekaterinburg Standard Time":{id:1700,offset:6,displayName:"(UTC+06:00) Ekaterinburg"},"Central Asia Standard Time":{id:1800,
offset:6,displayName:"(UTC+06:00) Astana"},"Bangladesh Standard Time":{id:1830,offset:6,displayName:"(UTC+06:00) Dhaka"},"Myanmar Standard Time":{id:1820,offset:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)"},"N. Central Asia Standard Time":{id:1810,offset:7,displayName:"(UTC+07:00) Novosibirsk"},"SE Asia Standard Time":{id:1910,offset:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta"},"North Asia Standard Time":{id:1900,offset:8,displayName:"(UTC+08:00) Krasnoyarsk"},"China Standard Time":{id:2E3,
offset:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi"},"Singapore Standard Time":{id:2020,offset:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore"},"Taipei Standard Time":{id:2030,offset:8,displayName:"(UTC+08:00) Taipei"},"W. Australia Standard Time":{id:2040,offset:8,displayName:"(UTC+08:00) Perth"},"Ulaanbaatar Standard Time":{id:2050,offset:8,displayName:"(UTC+08:00) Ulaanbaatar"},"North Asia East Standard Time":{id:2010,offset:9,displayName:"(UTC+09:00) Irkutsk"},"Korea Standard Time":{id:2100,
offset:9,displayName:"(UTC+09:00) Seoul"},"Tokyo Standard Time":{id:2110,offset:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo"},"AUS Central Standard Time":{id:2130,offset:9.5,displayName:"(UTC+09:30) Darwin"},"Cen. Australia Standard Time":{id:2140,offset:9.5,displayName:"(UTC+09:30) Adelaide"},"Yakutsk Standard Time":{id:2120,offset:10,displayName:"(UTC+10:00) Yakutsk"},"AUS Eastern Standard Time":{id:2200,offset:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney"},"E. Australia Standard Time":{id:2210,
offset:10,displayName:"(UTC+10:00) Brisbane"},"Tasmania Standard Time":{id:2220,offset:10,displayName:"(UTC+10:00) Hobart"},"West Pacific Standard Time":{id:2240,offset:10,displayName:"(UTC+10:00) Guam, Port Moresby"},"Vladivostok Standard Time":{id:2230,offset:11,displayName:"(UTC+11:00) Vladivostok"},"Central Pacific Standard Time":{id:2300,offset:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia"},"Magadan Standard Time":{id:2310,offset:12,displayName:"(UTC+12:00) Magadan"},"Fiji Standard Time":{id:2400,
offset:12,displayName:"(UTC+12:00) Fiji"},"New Zealand Standard Time":{id:2410,offset:12,displayName:"(UTC+12:00) Auckland, Wellington"},"UTC+12":{id:2430,offset:12,displayName:"(UTC+12:00) Coordinated Universal Time +12"},"Tonga Standard Time":{id:2500,offset:13,displayName:"(UTC+13:00) Nuku'alofa"},"Samoa Standard Time":{id:2510,offset:-11,displayName:"(UTC-11:00)Samoa"}};return n});
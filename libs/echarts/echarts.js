//>>built
/*
 ZRender, a high performance 2d drawing library.

 Copyright (c) 2013, Baidu Inc.
 All rights reserved.

 LICENSE
 https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/
(function(L,re){"object"===typeof exports&&"undefined"!==typeof module?re(exports):"function"===typeof define&&define.amd?define(["exports"],re):re(L.echarts={})})(this,function(L){function re(a){var b={},c=a.match(/Firefox\/([\d.]+)/),d=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/.+?rv:(([\d.]+))/),e=a.match(/Edge\/([\d.]+)/);a=/micromessenger/i.test(a);c&&(b.firefox=!0,b.version=c[1]);d&&(b.ie=!0,b.version=d[1]);e&&(b.edge=!0,b.version=e[1]);a&&(b.weChat=!0);return{browser:b,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,
svgSupported:"undefined"!==typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!b.ie&&!b.edge,pointerEventsSupported:"onpointerdown"in window&&(b.edge||b.ie&&11<=b.version),domSupported:"undefined"!==typeof document}}function om(a,b){"createCanvas"===a&&(Hf=null);Sh[a]=b}function N(a){if(null==a||"object"!==typeof a)return a;var b=a,c=se.call(a);if("[object Array]"===c){if(!a[Qc]){b=[];c=0;for(var d=a.length;c<d;c++)b[c]=N(a[c])}}else if(pm[c]){if(!a[Qc])if(b=a.constructor,a.constructor.from)b=
b.from(a);else for(b=new b(a.length),c=0,d=a.length;c<d;c++)b[c]=N(a[c])}else if(!qm[c]&&!a[Qc]&&!te(a))for(d in b={},a)a.hasOwnProperty(d)&&(b[d]=N(a[d]));return b}function R(a,b,c){if(!M(b)||!M(a))return c?N(b):a;for(var d in b)if(b.hasOwnProperty(d)){var e=a[d],f=b[d];!M(f)||!M(e)||F(f)||F(e)||te(f)||te(e)||Th(f)||Th(e)||f[Qc]||e[Qc]?!c&&d in a||(a[d]=N(b[d],!0)):R(e,f,c)}return a}function Uh(a,b){for(var c=a[0],d=1,e=a.length;d<e;d++)c=R(c,a[d],b);return c}function S(a,b){for(var c in b)b.hasOwnProperty(c)&&
(a[c]=b[c]);return a}function T(a,b,c){for(var d in b)b.hasOwnProperty(d)&&(c?null!=b[d]:null==a[d])&&(a[d]=b[d]);return a}function rm(){Hf||(Hf=If().getContext("2d"));return Hf}function ba(a,b){if(a){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c}return-1}function Ba(a,b){function c(){}var d=a.prototype;c.prototype=b.prototype;a.prototype=new c;for(var e in d)d.hasOwnProperty(e)&&(a.prototype[e]=d[e]);a.prototype.constructor=a;a.superClass=b}function fa(a,b,
c){a="prototype"in a?a.prototype:a;b="prototype"in b?b.prototype:b;T(a,b,c)}function Nb(a){if(a)return"string"===typeof a?!1:"number"===typeof a.length}function y(a,b,c){if(a&&b)if(a.forEach&&a.forEach===Ts)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a);else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a)}function E(a,b,c){if(a&&b){if(a.map&&a.map===Us)return a.map(b,c);for(var d=[],e=0,f=a.length;e<f;e++)d.push(b.call(c,a[e],e,a));return d}}function ue(a,
b,c,d){if(a&&b){if(a.reduce&&a.reduce===Vs)return a.reduce(b,c,d);for(var e=0,f=a.length;e<f;e++)c=b.call(d,c,a[e],e,a);return c}}function Pa(a,b,c){if(a&&b){if(a.filter&&a.filter===Ws)return a.filter(b,c);for(var d=[],e=0,f=a.length;e<f;e++)b.call(c,a[e],e,a)&&d.push(a[e]);return d}}function H(a,b){var c=ve.call(arguments,2);return function(){return a.apply(b,c.concat(ve.call(arguments)))}}function O(a){var b=ve.call(arguments,1);return function(){return a.apply(this,b.concat(ve.call(arguments)))}}
function F(a){return"[object Array]"===se.call(a)}function va(a){return"function"===typeof a}function ja(a){return"[object String]"===se.call(a)}function M(a){var b=typeof a;return"function"===b||!!a&&"object"===b}function Th(a){return!!qm[se.call(a)]}function jb(a){return!!pm[se.call(a)]}function te(a){return"object"===typeof a&&"number"===typeof a.nodeType&&"object"===typeof a.ownerDocument}function we(a){return a!==a}function Ea(a){for(var b=0,c=arguments.length;b<c;b++)if(null!=arguments[b])return arguments[b]}
function Fa(a,b){return null!=a?a:b}function Bd(a,b,c){return null!=a?a:null!=b?b:c}function Vh(){return Function.call.apply(ve,arguments)}function Wh(a){if("number"===typeof a)return[a,a,a,a];var b=a.length;return 2===b?[a[0],a[1],a[0],a[1]]:3===b?[a[0],a[1],a[2],a[1]]:a}function W(a,b){if(!a)throw Error(b);}function Xh(a){return null==a?null:"function"===typeof a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function Yh(a){a[Qc]=!0}function Jf(a){function b(e,f){c?d.set(e,f):
d.set(f,e)}var c=F(a);this.data={};var d=this;a instanceof Jf?a.each(b):a&&y(a,b)}function U(a){return new Jf(a)}function Za(){}function Rc(a,b){var c=new sm(2);null==a&&(a=0);null==b&&(b=0);c[0]=a;c[1]=b;return c}function tm(a,b){a[0]=b[0];a[1]=b[1];return a}function Zh(a){var b=new sm(2);b[0]=a[0];b[1]=a[1];return b}function $h(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];return a}function um(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;return a}function Kf(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];return a}function ai(a){return Math.sqrt(bi(a))}
function bi(a){return a[0]*a[0]+a[1]*a[1]}function Lf(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;return a}function Mf(a,b){var c=ai(b);0===c?(a[0]=0,a[1]=0):(a[0]=b[0]/c,a[1]=b[1]/c);return a}function xe(a,b){return Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))}function vm(a,b){return(a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])}function Ca(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[2]*b+c[4];a[1]=c[1]*d+c[3]*b+c[5];return a}function Ob(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);return a}
function Pb(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);return a}function Nf(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this)}function Cd(a,b){return{target:a,topTarget:b&&b.topTarget}}function wm(a,b,c,d,e,f){var g=a._$handlers;"function"===typeof c&&(e=d,d=c,c=null);if(!d||!b)return a;var h=a._$eventProcessor;null!=c&&h&&h.normalizeQuery&&(c=h.normalizeQuery(c));g[b]||(g[b]=[]);for(h=0;h<g[b].length;h++)if(g[b][h].h===
d)return a;d={h:d,one:f,query:c,ctx:e||a,callAtLast:d.zrEventfulCallAtLast};e=g[b].length-1;(f=g[b][e])&&f.callAtLast?g[b].splice(e,0,d):g[b].push(d);return a}function ci(a,b,c,d,e,f){var g=d+"-"+e,h=a.length;if(f.hasOwnProperty(g))return f[g];if(1===b)return a[c][Math.round(Math.log((1<<h)-1&~e)/Xs)];for(var k=d|1<<c,l=c+1;d&1<<l;)l++;for(var m=d=0,n=0;m<h;m++){var p=1<<m;p&e||(d+=(n%2?-1:1)*a[c][m]*ci(a,b-1,l,k,e|p,f),n++)}return f[g]=d}function xm(a,b){a=[[a[0],a[1],1,0,0,0,-b[0]*a[0],-b[0]*a[1]],
[0,0,0,a[0],a[1],1,-b[1]*a[0],-b[1]*a[1]],[a[2],a[3],1,0,0,0,-b[2]*a[2],-b[2]*a[3]],[0,0,0,a[2],a[3],1,-b[3]*a[2],-b[3]*a[3]],[a[4],a[5],1,0,0,0,-b[4]*a[4],-b[4]*a[5]],[0,0,0,a[4],a[5],1,-b[5]*a[4],-b[5]*a[5]],[a[6],a[7],1,0,0,0,-b[6]*a[6],-b[6]*a[7]],[0,0,0,a[6],a[7],1,-b[7]*a[6],-b[7]*a[7]]];var c={},d=ci(a,8,0,0,0,c);if(0!==d){for(var e=[],f=0;8>f;f++)for(var g=0;8>g;g++)null==e[g]&&(e[g]=0),e[g]+=((f+g)%2?-1:1)*ci(a,7,0===f?1:0,1<<f,1<<g,c)/d*b[f];return function(h,k,l){var m=k*e[6]+l*e[7]+1;
h[0]=(k*e[0]+l*e[1]+e[2])/m;h[1]=(k*e[3]+l*e[4]+e[5])/m}}}function di(a,b,c,d,e){if(b.getBoundingClientRect&&Q.domSupported&&"CANVAS"!==b.nodeName.toUpperCase()){var f=b.___zrEVENTSAVED||(b.___zrEVENTSAVED={});var g=f.markers;if(!g){g=f.markers=[];for(var h=["left","right"],k=["top","bottom"],l=0;4>l;l++){var m=document.createElement("div"),n=l%2,p=(l>>1)%2;m.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",
h[n]+":0",k[p]+":0",h[1-n]+":auto",k[1-p]+":auto",""].join("!important;");b.appendChild(m);g.push(m)}}b=g;g=e?"invTrans":"trans";h=f[g];k=f.srcCoords;l=!0;m=[];n=[];for(p=0;4>p;p++){var q=b[p].getBoundingClientRect(),t=2*p,r=q.left;q=q.top;m.push(r,q);l=l&&k&&r===k[t]&&q===k[t+1];n.push(b[p].offsetLeft,b[p].offsetTop)}if(e=l&&h?h:(f.srcCoords=m,f[g]=e?xm(n,m):xm(m,n)))return e(a,c,d),!0}return!1}function ei(a,b,c,d){c=c||{};d||!Q.canvasSupported?ym(a,b,c):Q.browser.firefox&&null!=b.layerX&&b.layerX!==
b.offsetX?(c.zrX=b.layerX,c.zrY=b.layerY):null!=b.offsetX?(c.zrX=b.offsetX,c.zrY=b.offsetY):ym(a,b,c);return c}function ym(a,b,c){if(Q.domSupported&&a.getBoundingClientRect){var d=b.clientX;b=b.clientY;if("CANVAS"===a.nodeName.toUpperCase()){a=a.getBoundingClientRect();c.zrX=d-a.left;c.zrY=b-a.top;return}if(di(fi,a,d,b)){c.zrX=fi[0];c.zrY=fi[1];return}}c.zrX=c.zrY=0}function wb(a,b,c){b=b||window.event;if(null!=b.zrX)return b;var d=b.type;d&&0<=d.indexOf("touch")?(d="touchend"!==d?b.targetTouches[0]:
b.changedTouches[0])&&ei(a,d,b,c):(ei(a,b,b,c),b.zrDelta=b.wheelDelta?b.wheelDelta/120:-(b.detail||0)/3);a=b.button;null==b.which&&void 0!==a&&Ys.test(b.type)&&(b.which=a&1?1:a&2?3:a&4?2:0);return b}function zm(a){var b=a[1][0]-a[0][0];a=a[1][1]-a[0][1];return Math.sqrt(b*b+a*a)}function Zs(){ye(this.event)}function Am(){}function Bm(a,b,c){a=a.painter;return 0>b||b>a.getWidth()||0>c||c>a.getHeight()}function hc(){var a=new $s(6);ze(a);return a}function ze(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=
0;return a}function gi(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}function Sc(a,b,c){var d=b[1]*c[0]+b[3]*c[1],e=b[0]*c[2]+b[2]*c[3],f=b[1]*c[2]+b[3]*c[3],g=b[0]*c[4]+b[2]*c[5]+b[4],h=b[1]*c[4]+b[3]*c[5]+b[5];a[0]=b[0]*c[0]+b[2]*c[1];a[1]=d;a[2]=e;a[3]=f;a[4]=g;a[5]=h;return a}function Dd(a,b,c){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4]+c[0];a[5]=b[5]+c[1];return a}function Ae(a,b,c){var d=b[0],e=b[2],f=b[4],g=b[1],h=b[3];b=b[5];var k=Math.sin(c);c=Math.cos(c);
a[0]=d*c+g*k;a[1]=-d*k+g*c;a[2]=e*c+h*k;a[3]=-e*k+c*h;a[4]=c*f+k*b;a[5]=c*b-k*f;return a}function hi(a,b,c){var d=c[0];c=c[1];a[0]=b[0]*d;a[1]=b[1]*c;a[2]=b[2]*d;a[3]=b[3]*c;a[4]=b[4]*d;a[5]=b[5]*c;return a}function ii(a,b){var c=b[0],d=b[2],e=b[4],f=b[1],g=b[3];b=b[5];var h=c*g-f*d;if(!h)return null;h=1/h;a[0]=g*h;a[1]=-f*h;a[2]=-d*h;a[3]=c*h;a[4]=(d*b-g*e)*h;a[5]=(f*e-c*b)*h;return a}function Tc(a){return 5E-5<a||-5E-5>a}function ji(a){this._target=a.target;this._life=a.life||1E3;this._delay=a.delay||
0;this._initialized=!1;this.loop=null==a.loop?!1:a.loop;this.gap=a.gap||0;this.easing=a.easing||"Linear";this.onframe=a.onframe;this.ondestroy=a.ondestroy;this.onrestart=a.onrestart;this._pausedTime=0;this._paused=!1}function kb(a){a=Math.round(a);return 0>a?0:255<a?255:a}function Be(a){return 0>a?0:1<a?1:a}function ki(a){return a.length&&"%"===a.charAt(a.length-1)?kb(parseFloat(a)/100*255):kb(parseInt(a,10))}function Ed(a){return a.length&&"%"===a.charAt(a.length-1)?Be(parseFloat(a)/100):Be(parseFloat(a))}
function li(a,b,c){0>c?c+=1:1<c&&--c;return 1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}function ic(a,b,c){return a+(b-a)*c}function lb(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e;return a}function mi(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function Fd(a,b){Of&&mi(Of,b);Of=Cm.put(a,Of||b.slice())}function xb(a,b){if(a){b=b||[];var c=Cm.get(a);if(c)return mi(b,c);a+="";var d=a.replace(/ /g,"").toLowerCase();if(d in Dm)return mi(b,Dm[d]),Fd(a,b),b;if("#"===d.charAt(0)){if(4===d.length){c=
parseInt(d.substr(1),16);if(!(0<=c&&4095>=c)){lb(b,0,0,0,1);return}lb(b,(c&3840)>>4|(c&3840)>>8,c&240|(c&240)>>4,c&15|(c&15)<<4,1);Fd(a,b);return b}if(7===d.length){c=parseInt(d.substr(1),16);if(0<=c&&16777215>=c)return lb(b,(c&16711680)>>16,(c&65280)>>8,c&255,1),Fd(a,b),b;lb(b,0,0,0,1)}}else{var e=d.indexOf("("),f=d.indexOf(")");if(-1!==e&&f+1===d.length)switch(c=d.substr(0,e),d=d.substr(e+1,f-(e+1)).split(","),e=1,c){case "rgba":if(4!==d.length){lb(b,0,0,0,1);return}e=Ed(d.pop());case "rgb":if(3!==
d.length){lb(b,0,0,0,1);return}lb(b,ki(d[0]),ki(d[1]),ki(d[2]),e);Fd(a,b);return b;case "hsla":if(4!==d.length){lb(b,0,0,0,1);return}d[3]=Ed(d[3]);ni(d,b);Fd(a,b);return b;case "hsl":if(3!==d.length){lb(b,0,0,0,1);return}ni(d,b);Fd(a,b);return b;default:return}lb(b,0,0,0,1)}}}function ni(a,b){var c=(parseFloat(a[0])%360+360)%360/360,d=Ed(a[1]),e=Ed(a[2]);d=.5>=e?e*(d+1):e+d-e*d;e=2*e-d;b=b||[];lb(b,kb(255*li(e,d,c+1/3)),kb(255*li(e,d,c)),kb(255*li(e,d,c-1/3)),1);4===a.length&&(b[3]=a[3]);return b}
function Em(a,b){var c=xb(a);if(c){for(var d=0;3>d;d++)c[d]=0>b?c[d]*(1-b)|0:(255-c[d])*b+c[d]|0,255<c[d]?c[d]=255:0>a[d]&&(c[d]=0);return Qb(c,4===c.length?"rgba":"rgb")}}function Fm(a){if(a=xb(a))return(16777216+(a[0]<<16)+(a[1]<<8)+ +a[2]).toString(16).slice(1)}function Ce(a,b,c){if(b&&b.length&&0<=a&&1>=a){c=c||[];var d=a*(b.length-1),e=Math.floor(d);a=b[e];b=b[Math.ceil(d)];d-=e;c[0]=kb(ic(a[0],b[0],d));c[1]=kb(ic(a[1],b[1],d));c[2]=kb(ic(a[2],b[2],d));c[3]=Be(ic(a[3],b[3],d));return c}}function Gm(a,
b,c){if(b&&b.length&&0<=a&&1>=a){a*=b.length-1;var d=Math.floor(a),e=Math.ceil(a),f=xb(b[d]);b=xb(b[e]);var g=a-d;f=Qb([kb(ic(f[0],b[0],g)),kb(ic(f[1],b[1],g)),kb(ic(f[2],b[2],g)),Be(ic(f[3],b[3],g))],"rgba");return c?{color:f,leftIndex:d,rightIndex:e,value:a}:f}}function Pf(a,b,c,d){if(a=xb(a)){if(a){var e=a[0]/255,f=a[1]/255,g=a[2]/255,h=Math.min(e,f,g),k=Math.max(e,f,g),l=k-h,m=(k+h)/2,n;if(0===l)h=n=0;else{h=.5>m?l/(k+h):l/(2-k-h);var p=((k-e)/6+l/2)/l,q=((k-f)/6+l/2)/l;l=((k-g)/6+l/2)/l;e===
k?n=l-q:f===k?n=1/3+p-l:g===k&&(n=2/3+q-p);0>n&&(n+=1);1<n&&--n}e=[360*n,h,m];null!=a[3]&&e.push(a[3]);a=e}else a=void 0;null!=b&&(b=Math.round(b),a[0]=0>b?0:360<b?360:b);null!=c&&(a[1]=Ed(c));null!=d&&(a[2]=Ed(d));return Qb(ni(a),"rgba")}}function oi(a,b){if((a=xb(a))&&null!=b)return a[3]=Be(b),Qb(a,"rgba")}function Qb(a,b){if(a&&a.length){var c=a[0]+","+a[1]+","+a[2];if("rgba"===b||"hsva"===b||"hsla"===b)c+=","+a[3];return b+"("+c+")"}}function at(a,b){return a[b]}function bt(a,b,c){a[b]=c}function Hm(a,
b,c,d,e){var f=a.length;if(1===e)for(e=0;e<f;e++){var g=a[e];d[e]=(b[e]-g)*c+g}else for(g=f&&a[0].length,e=0;e<f;e++)for(var h=0;h<g;h++){var k=a[e][h];d[e][h]=(b[e][h]-k)*c+k}}function Im(a,b,c){var d=a.length,e=b.length;if(d!==e)if(d>e)a.length=e;else for(;d<e;d++)a.push(1===c?b[d]:pi.call(b[d]));e=a[0]&&a[0].length;for(d=0;d<a.length;d++)if(1===c)isNaN(a[d])&&(a[d]=b[d]);else for(var f=0;f<e;f++)isNaN(a[d][f])&&(a[d][f]=b[d][f])}function ct(a,b,c){if(a===b)return!0;var d=a.length;if(d!==b.length)return!1;
if(1===c)for(c=0;c<d;c++){if(a[c]!==b[c])return!1}else{var e=a[0].length;for(c=0;c<d;c++)for(var f=0;f<e;f++)if(a[c][f]!==b[c][f])return!1}return!0}function Jm(a,b,c,d,e,f,g,h,k){var l=a.length;if(1===k)for(k=0;k<l;k++)h[k]=qi(a[k],b[k],c[k],d[k],e,f,g);else{var m=a[0].length;for(k=0;k<l;k++)for(var n=0;n<m;n++)h[k][n]=qi(a[k][n],b[k][n],c[k][n],d[k][n],e,f,g)}}function qi(a,b,c,d,e,f,g){a=.5*(c-a);d=.5*(d-b);return(2*(b-c)+a+d)*g+(-3*(b-c)-2*a-d)*f+a*e+b}function Km(a){a[0]=Math.floor(a[0]);a[1]=
Math.floor(a[1]);a[2]=Math.floor(a[2]);return"rgba("+a.join(",")+")"}function dt(a){a=a[a.length-1].value;return Nb(a&&a[0])?2:1}function et(a,b,c,d,e,f){var g=a._getter,h=a._setter,k="spline"===b,l=d.length;if(l){var m=Nb(d[0].value),n=!1,p=!1,q=m?dt(d):0;d.sort(function(X,Y){return X.time-Y.time});var t=d[l-1].time;for(var r=[],u=[],v=d[0].value,w=!0,x=0;x<l;x++){r.push(d[x].time/t);var z=d[x].value;m&&ct(z,v,q)||!m&&z===v||(w=!1);v=z;if("string"===typeof z){var A=xb(z);A?(z=A,n=!0):p=!0}u.push(z)}if(f||
!w){d=u[l-1];for(x=0;x<l-1;x++)m?Im(u[x],d,q):!isNaN(u[x])||isNaN(d)||p||n||(u[x]=d);m&&Im(g(a._target,e),d,q);var B=0,K=0,V,C,ha,ya,la,za;if(n)var ra=[0,0,0,0];a=new ji({target:a._target,life:t,loop:a._loop,delay:a._delay,onframe:function(X,Y){if(0>Y)var I=0;else if(Y<K){for(I=V=Math.min(B+1,l-1);0<=I&&!(r[I]<=Y);I--);I=Math.min(I,l-2)}else{for(I=B;I<l&&!(r[I]>Y);I++);I=Math.min(I-1,l-2)}B=I;K=Y;var Uc=r[I+1]-r[I];if(0!==Uc)if(C=(Y-r[I])/Uc,k)if(ya=u[I],ha=u[0===I?I:I-1],la=u[I>l-2?l-1:I+1],za=u[I>
l-3?l-1:I+2],m)Jm(ha,ya,la,za,C,C*C,C*C*C,g(X,e),q);else{if(n)I=Jm(ha,ya,la,za,C,C*C,C*C*C,ra,1),I=Km(ra);else{if(p)return.5<C?la:ya;I=qi(ha,ya,la,za,C,C*C,C*C*C)}h(X,e,I)}else if(m)Hm(u[I],u[I+1],C,g(X,e),q);else{if(n)Hm(u[I],u[I+1],C,ra,1),I=Km(ra);else{if(p)return.5<C?u[I+1]:u[I];Y=u[I];I=(u[I+1]-Y)*C+Y}h(X,e,I)}},ondestroy:c});b&&"spline"!==b&&(a.easing=b);return a}}}function Lm(a,b,c,d,e,f,g,h){function k(){l--;l||f&&f()}ja(d)?(f=e,e=d,d=0):va(e)?(f=e,e="linear",d=0):va(d)?(f=d,d=0):va(c)?(f=
c,c=500):c||(c=500);a.stopAnimation();Mm(a,"",a,b,c,d,h);a=a.animators.slice();var l=a.length;l||f&&f();for(b=0;b<a.length;b++)a[b].done(k).start(e,g)}function Mm(a,b,c,d,e,f,g){var h={},k=0,l;for(l in d)d.hasOwnProperty(l)&&(null!=c[l]?M(d[l])&&!Nb(d[l])?Mm(a,b?b+"."+l:l,c[l],d[l],e,f,g):(g?(h[l]=c[l],Nm(a,b,l,d[l])):h[l]=d[l],k++):null==d[l]||g||Nm(a,b,l,d[l]));0<k&&a.animate(b,!1).when(null==e?500:e,h).delay(f||0)}function Nm(a,b,c,d){if(b){var e={};e[b]={};e[b][c]=d;a.attr(e)}else a.attr(c,d)}
function aa(a,b,c,d){0>c&&(a+=c,c=-c);0>d&&(b+=d,d=-d);this.x=a;this.y=b;this.width=c;this.height=d}function Om(a,b,c,d){var e=b+1;if(e===c)return 1;if(0>d(a[e++],a[b])){for(;e<c&&0>d(a[e],a[e-1]);)e++;c=b;d=e;for(d--;c<d;){var f=a[c];a[c++]=a[d];a[d--]=f}}else for(;e<c&&0<=d(a[e],a[e-1]);)e++;return e-b}function Pm(a,b,c,d,e){for(d===b&&d++;d<c;d++){for(var f=a[d],g=b,h=d,k;g<h;)k=g+h>>>1,0>e(f,a[k])?h=k:g=k+1;h=d-g;switch(h){case 3:a[g+3]=a[g+2];case 2:a[g+2]=a[g+1];case 1:a[g+1]=a[g];break;default:for(;0<
h;)a[g+h]=a[g+h-1],h--}a[g]=f}}function ri(a,b,c,d,e,f){var g=0,h=0,k=1;if(0<f(a,b[c+e])){for(h=d-e;k<h&&0<f(a,b[c+e+k]);)g=k,k=(k<<1)+1,0>=k&&(k=h);k>h&&(k=h);g+=e;k+=e}else{for(h=e+1;k<h&&0>=f(a,b[c+e-k]);)g=k,k=(k<<1)+1,0>=k&&(k=h);k>h&&(k=h);d=g;g=e-k;k=e-d}for(g++;g<k;)e=g+(k-g>>>1),0<f(a,b[c+e])?g=e+1:k=e;return k}function si(a,b,c,d,e,f){var g=0,h=0,k=1;if(0>f(a,b[c+e])){for(h=e+1;k<h&&0>f(a,b[c+e-k]);)g=k,k=(k<<1)+1,0>=k&&(k=h);k>h&&(k=h);d=g;g=e-k;k=e-d}else{for(h=d-e;k<h&&0<=f(a,b[c+e+k]);)g=
k,k=(k<<1)+1,0>=k&&(k=h);k>h&&(k=h);g+=e;k+=e}for(g++;g<k;)e=g+(k-g>>>1),0>f(a,b[c+e])?k=e:g=e+1;return k}function ft(a,b){function c(k){var l=g[k],m=h[k],n=g[k+1],p=h[k+1];h[k]=m+p;k===e-3&&(g[k+1]=g[k+2],h[k+1]=h[k+2]);e--;k=si(a[n],a,l,m,0,b);l+=k;m-=k;if(0!==m&&(p=ri(a[l+m-1],a,n,p,p-1,b),0!==p))if(m<=p){var q=l;l=m;m=p;for(p=p=0;p<l;p++)f[p]=a[q+p];k=0;a[q++]=a[n++];if(0===--m)for(p=0;p<l;p++)a[q+p]=f[k+p];else if(1===l){for(p=0;p<m;p++)a[q+p]=a[n+p];a[q+m]=f[k]}else{for(var t=d,r,u,v;;){u=r=
0;v=!1;do if(0>b(a[n],f[k])){if(a[q++]=a[n++],u++,r=0,0===--m){v=!0;break}}else if(a[q++]=f[k++],r++,u=0,1===--l){v=!0;break}while((r|u)<t);if(v)break;do{r=si(a[n],f,k,l,0,b);if(0!==r){for(p=0;p<r;p++)a[q+p]=f[k+p];q+=r;k+=r;l-=r;if(1>=l){v=!0;break}}a[q++]=a[n++];if(0===--m){v=!0;break}u=ri(f[k],a,n,m,0,b);if(0!==u){for(p=0;p<u;p++)a[q+p]=a[n+p];q+=u;n+=u;m-=u;if(0===m){v=!0;break}}a[q++]=f[k++];if(1===--l){v=!0;break}t--}while(7<=r||7<=u);if(v)break;0>t&&(t=0);t+=2}d=t;1>d&&(d=1);if(1===l){for(p=
0;p<m;p++)a[q+p]=a[n+p];a[q+m]=f[k]}else{if(0===l)throw Error();for(p=0;p<l;p++)a[q+p]=f[k+p]}}}else{for(k=k=0;k<p;k++)f[k]=a[n+k];q=l+m-1;t=p-1;n=n+p-1;u=r=0;a[n--]=a[q--];if(0===--m)for(r=n-(p-1),k=0;k<p;k++)a[r+k]=f[k];else if(1===p){n-=m;u=n+1;r=q-m+1;for(k=m-1;0<=k;k--)a[u+k]=a[r+k];a[n]=f[t]}else{for(v=d;;){var w=0,x=0,z=!1;do if(0>b(f[t],a[q])){if(a[n--]=a[q--],w++,x=0,0===--m){z=!0;break}}else if(a[n--]=f[t--],x++,w=0,1===--p){z=!0;break}while((w|x)<v);if(z)break;do{w=m-si(f[t],a,l,m,m-1,
b);if(0!==w){n-=w;q-=w;m-=w;u=n+1;r=q+1;for(k=w-1;0<=k;k--)a[u+k]=a[r+k];if(0===m){z=!0;break}}a[n--]=f[t--];if(1===--p){z=!0;break}x=p-ri(a[q],f,0,p,p-1,b);if(0!==x){n-=x;t-=x;p-=x;u=n+1;r=t+1;for(k=0;k<x;k++)a[u+k]=f[r+k];if(1>=p){z=!0;break}}a[n--]=a[q--];if(0===--m){z=!0;break}v--}while(7<=w||7<=x);if(z)break;0>v&&(v=0);v+=2}d=v;1>d&&(d=1);if(1===p){n-=m;u=n+1;r=q-m+1;for(k=m-1;0<=k;k--)a[u+k]=a[r+k];a[n]=f[t]}else{if(0===p)throw Error();r=n-(p-1);for(k=0;k<p;k++)a[r+k]=f[k]}}}}var d=7,e=0,f=
[];var g=[];var h=[];this.mergeRuns=function(){for(;1<e;){var k=e-2;if(1<=k&&h[k-1]<=h[k]+h[k+1]||2<=k&&h[k-2]<=h[k]+h[k-1])h[k-1]<h[k+1]&&k--;else if(h[k]>h[k+1])break;c(k)}};this.forceMergeRuns=function(){for(;1<e;){var k=e-2;0<k&&h[k-1]<h[k+1]&&k--;c(k)}};this.pushRun=function(k,l){g[e]=k;h[e]=l;e+=1}}function Qf(a,b,c,d){c||(c=0);d||(d=a.length);var e=d-c;if(!(2>e)){var f=0;if(32>e)f=Om(a,c,d,b),Pm(a,c,d,c+f,b);else{var g=new ft(a,b),h;f=e;for(h=0;32<=f;)h|=f&1,f>>=1;h=f+h;do{f=Om(a,c,d,b);if(f<
h){var k=e;k>h&&(k=h);Pm(a,c,c+k,c+f,b);f=k}g.pushRun(c,f);g.mergeRuns();e-=f;c+=f}while(0!==e);g.forceMergeRuns()}}}function Qm(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}function gt(a,b,c){var d=null==b.x?0:b.x,e=null==b.x2?1:b.x2,f=null==b.y?0:b.y,g=null==b.y2?0:b.y2;b.global||(d=d*c.width+c.x,e=e*c.width+c.x,f=f*c.height+c.y,g=g*c.height+c.y);d=isNaN(d)?0:d;e=isNaN(e)?1:e;f=isNaN(f)?0:f;g=isNaN(g)?0:g;return a.createLinearGradient(d,f,e,g)}function ht(a,b,c){var d=
c.width,e=c.height,f=Math.min(d,e),g=null==b.x?.5:b.x,h=null==b.y?.5:b.y,k=null==b.r?.5:b.r;b.global||(g=g*d+c.x,h=h*e+c.y,k*=f);return a.createRadialGradient(g,h,0,g,h,k)}function it(){return!1}function Rm(a,b,c){var d=If(),e=b.getWidth();b=b.getHeight();var f=d.style;f&&(f.position="absolute",f.left=0,f.top=0,f.width=e+"px",f.height=b+"px",d.setAttribute("data-zr-dom-id",a));d.width=e*c;d.height=b*c;return d}function Sm(a,b,c,d,e){if(a){if("string"===typeof a){if(b&&b.__zrImageSrc===a||!c)return b;
var f=ti.get(a);c={hostEl:c,cb:d,cbPayload:e};f?(b=f.image)&&b.width&&b.height||f.pending.push(c):(b=new Image,b.onload=b.onerror=jt,ti.put(a,b.__cachedImgObj={image:b,pending:[c]}),b.src=b.__zrImageSrc=a);return b}return a}return b}function jt(){var a=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var b=0;b<a.pending.length;b++){var c=a.pending[b],d=c.cb;d&&d(this,c.cbPayload);c.hostEl.dirty()}a.pending.length=0}function Sa(a,b){b=b||"12px sans-serif";var c=a+":"+b;if(Rf[c])return Rf[c];
a=(a+"").split("\n");for(var d=0,e=0,f=a.length;e<f;e++)d=Math.max(kt.measureText(a[e],b).width,d);5E3<ui&&(ui=0,Rf={});ui++;return Rf[c]=d}function Vc(a,b,c,d,e,f,g,h){g?(e=Tm(a,{rich:g,truncate:h,font:b,textAlign:c,textPadding:e,textLineHeight:f}),f=e.outerWidth,e=e.outerHeight,c=Sf(0,f,c),d=Tf(0,e,d),d=new aa(c,d,f,e)):(f=Um(a,b,e,f,h),a=Sa(a,b),e&&(a+=e[1]+e[3]),e=f.outerHeight,c=Sf(0,a,c),d=Tf(0,e,d),d=new aa(c,d,a,e),d.lineHeight=f.lineHeight);return d}function Sf(a,b,c){"right"===c?a-=b:"center"===
c&&(a-=b/2);return a}function Tf(a,b,c){"middle"===c?a-=b/2:"bottom"===c&&(a-=b);return a}function Vm(a,b,c){var d=b.textPosition;b=b.textDistance;var e=c.x,f=c.y;b=b||0;var g=c.height;c=c.width;var h=g/2,k="left",l="top";switch(d){case "left":e-=b;f+=h;k="right";l="middle";break;case "right":e+=b+c;f+=h;l="middle";break;case "top":e+=c/2;f-=b;k="center";l="bottom";break;case "bottom":e+=c/2;f+=g+b;k="center";break;case "inside":e+=c/2;f+=h;k="center";l="middle";break;case "insideLeft":e+=b;f+=h;
l="middle";break;case "insideRight":e+=c-b;f+=h;k="right";l="middle";break;case "insideTop":e+=c/2;f+=b;k="center";break;case "insideBottom":e+=c/2;f+=g-b;k="center";l="bottom";break;case "insideTopLeft":e+=b;f+=b;break;case "insideTopRight":e+=c-b;f+=b;k="right";break;case "insideBottomLeft":e+=b;f+=g-b;l="bottom";break;case "insideBottomRight":e+=c-b,f+=g-b,k="right",l="bottom"}a=a||{};a.x=e;a.y=f;a.textAlign=k;a.textVerticalAlign=l;return a}function vi(a,b,c,d,e){if(!b)return"";a=(a+"").split("\n");
e=Wm(b,c,d,e);b=0;for(c=a.length;b<c;b++)a[b]=Xm(a[b],e);return a.join("\n")}function Wm(a,b,c,d){d=S({},d);d.font=b;c=Fa(c,"...");d.maxIterations=Fa(d.maxIterations,2);var e=d.minChar=Fa(d.minChar,0);d.cnCharWidth=Sa("\u56fd",b);var f=d.ascCharWidth=Sa("a",b);d.placeholder=Fa(d.placeholder,"");for(var g=a=Math.max(0,a-1),h=0;h<e&&g>=f;h++)g-=f;b=Sa(c,b);b>g&&(c="",b=0);d.ellipsis=c;d.ellipsisWidth=b;d.contentWidth=a-b;d.containerWidth=a;return d}function Xm(a,b){var c=b.containerWidth,d=b.font,e=
b.contentWidth;if(!c)return"";var f=Sa(a,d);if(f<=c)return a;for(c=0;;c++){if(f<=e||c>=b.maxIterations){a+=b.ellipsis;break}if(0===c){f=a;for(var g=e,h=b.ascCharWidth,k=b.cnCharWidth,l=0,m=0,n=f.length;m<n&&l<g;m++){var p=f.charCodeAt(m);l+=0<=p&&127>=p?h:k}f=m}else f=0<f?Math.floor(a.length*e/f):0;a=a.substr(0,f);f=Sa(a,d)}""===a&&(a=b.placeholder);return a}function Um(a,b,c,d,e){null!=a&&(a+="");d=Fa(d,Sa("\u56fd",b));var f=a?a.split("\n"):[],g=f.length*d,h=g,k=!0;c&&(h+=c[0]+c[2]);if(a&&e){k=!1;
a=e.outerHeight;var l=e.outerWidth;if(null!=a&&h>a)a="",f=[];else if(null!=l)for(b=Wm(l-(c?c[1]+c[3]:0),b,e.ellipsis,{minChar:e.minChar,placeholder:e.placeholder}),c=0,e=f.length;c<e;c++)f[c]=Xm(f[c],b)}return{lines:f,height:g,outerHeight:h,lineHeight:d,canCacheByTextString:k}}function Tm(a,b){var c={lines:[],width:0,height:0};null!=a&&(a+="");if(!a)return c;for(var d=wi.lastIndex=0,e;null!=(e=wi.exec(a));){var f=e.index;f>d&&xi(c,a.substring(d,f));xi(c,e[2],e[1]);d=wi.lastIndex}d<a.length&&xi(c,
a.substring(d,a.length));a=c.lines;e=d=0;f=[];var g=b.textPadding,h=b.truncate,k=h&&h.outerWidth,l=h&&h.outerHeight;g&&(null!=k&&(k-=g[1]+g[3]),null!=l&&(l-=g[0]+g[2]));for(var m=0;m<a.length;m++){for(var n=a[m],p=0,q=0,t=0;t<n.tokens.length;t++){var r=n.tokens[t],u=r.styleName&&b.rich[r.styleName]||{},v=r.textPadding=u.textPadding,w=r.font=u.font||b.font,x=r.textHeight=Fa(u.textHeight,Sa("\u56fd",w));v&&(x+=v[0]+v[2]);r.height=x;r.lineHeight=Bd(u.textLineHeight,b.textLineHeight,x);r.textAlign=u&&
u.textAlign||b.textAlign;r.textVerticalAlign=u&&u.textVerticalAlign||"middle";if(null!=l&&d+r.lineHeight>l)return{lines:[],width:0,height:0};r.textWidth=Sa(r.text,w);var z=u.textWidth,A=null==z||"auto"===z;if("string"===typeof z&&"%"===z.charAt(z.length-1))r.percentWidth=z,f.push(r),z=0;else{if(A){z=r.textWidth;var B=u.textBackgroundColor;if(B=B&&B.image)"string"===typeof B&&(B=(B=ti.get(B))&&B.image),B&&B.width&&B.height&&(z=Math.max(z,B.width*x/B.height))}v=v?v[1]+v[3]:0;z+=v;x=null!=k?k-q:null;
null!=x&&x<z&&(!A||x<v?(r.text="",r.textWidth=z=0):(r.text=vi(r.text,x-v,w,h.ellipsis,{minChar:h.minChar}),r.textWidth=Sa(r.text,w),z=r.textWidth+v))}q+=r.width=z;u&&(p=Math.max(p,r.lineHeight))}n.width=q;n.lineHeight=p;d+=p;e=Math.max(e,q)}c.outerWidth=c.width=Fa(b.textWidth,e);c.outerHeight=c.height=Fa(b.textHeight,d);g&&(c.outerWidth+=g[1]+g[3],c.outerHeight+=g[0]+g[2]);for(m=0;m<f.length;m++)r=f[m],r.width=parseInt(r.percentWidth,10)/100*e;return c}function xi(a,b,c){var d=""===b;b=b.split("\n");
a=a.lines;for(var e=0;e<b.length;e++){var f=b[e],g={styleName:c,text:f,isLineHolder:!f&&!d};if(e)a.push({tokens:[g]});else{var h=(a[a.length-1]||(a[0]={tokens:[]})).tokens,k=h.length;1===k&&h[0].isLineHolder?h[0]=g:(f||!k||d)&&h.push(g)}}}function Ym(a,b){var c=b.x,d=b.y,e=b.width,f=b.height,g=b.r,h,k,l;0>e&&(c+=e,e=-e);0>f&&(d+=f,f=-f);"number"===typeof g?b=h=k=l=g:g instanceof Array?1===g.length?b=h=k=l=g[0]:2===g.length?(b=k=g[0],h=l=g[1]):3===g.length?(b=g[0],h=l=g[1],k=g[2]):(b=g[0],h=g[1],k=
g[2],l=g[3]):b=h=k=l=0;b+h>e&&(g=b+h,b*=e/g,h*=e/g);k+l>e&&(g=k+l,k*=e/g,l*=e/g);h+k>f&&(g=h+k,h*=f/g,k*=f/g);b+l>f&&(g=b+l,b*=f/g,l*=f/g);a.moveTo(c+b,d);a.lineTo(c+e-h,d);0!==h&&a.arc(c+e-h,d+h,h,-Math.PI/2,0);a.lineTo(c+e,d+f-k);0!==k&&a.arc(c+e-k,d+f-k,k,0,Math.PI/2);a.lineTo(c+l,d+f);0!==l&&a.arc(c+l,d+f-l,l,Math.PI/2,Math.PI);a.lineTo(c,d+b);0!==b&&a.arc(c+b,d+b,b,Math.PI,1.5*Math.PI)}function yi(a){Zm(a);y(a.rich,Zm);return a}function Zm(a){if(a){var b=(b=(a.fontSize||a.fontFamily)&&[a.fontStyle,
a.fontWeight,(a.fontSize||12)+"px",a.fontFamily||"sans-serif"].join(" "))&&Xh(b)||a.textFont||a.font;a.font=b;b=a.textAlign;"middle"===b&&(b="center");a.textAlign=null==b||lt[b]?b:"left";b=a.textVerticalAlign||a.textBaseline;"center"===b&&(b="middle");a.textVerticalAlign=null==b||mt[b]?b:"top";a.textPadding&&(a.textPadding=Wh(a.textPadding))}}function $m(a,b,c,d,e,f){var g=zi(d),h=!1,k=b.__attrCachedBy===jc.PLAIN_TEXT;if(9!==f){if(f){var l=f.style;h=!g&&k&&l}b.__attrCachedBy=g?jc.NONE:jc.PLAIN_TEXT}else k&&
(b.__attrCachedBy=jc.NONE);f=d.font||"12px sans-serif";h&&f===(l.font||"12px sans-serif")||(b.font=f);var m=a.__computedFont;a.__styleFont!==f&&(a.__styleFont=f,m=a.__computedFont=b.font);var n=d.textPadding;f=d.textLineHeight;k=a.__textCotentBlock;if(!k||a.__dirtyText)k=a.__textCotentBlock=Um(c,m,n,f,d.truncate);var p=k.outerHeight;f=k.lines;k=k.lineHeight;var q=an(bn,a,d,e),t=q.baseX,r=q.baseY,u=q.textAlign||"left";q=q.textVerticalAlign;cn(b,d,e,t,r);q=Tf(r,p,q);e=t;r=q;if(g||n)c=Sa(c,m),n&&(c+=
n[1]+n[3]),m=Sf(t,c,u),g&&Ai(a,b,d,m,q,c,p),n&&(e=dn(t,u,n),r+=n[0]);b.textAlign=u;b.textBaseline="middle";b.globalAlpha=d.opacity||1;for(a=0;a<en.length;a++)g=en[a],c=g[0],n=g[1],m=d[c],h&&m===l[c]||(b[n]=Bi(b,n,m||g[2]));r+=k/2;a=d.textStrokeWidth;g=h?l.textStrokeWidth:null;n=!h||a!==g;m=!h||n||d.textStroke!==l.textStroke;g=Ci(d.textStroke,a);c=fn(d.textFill);g&&(n&&(b.lineWidth=a),m&&(b.strokeStyle=g));!c||h&&d.textFill===l.textFill||(b.fillStyle=c);if(1===f.length)g&&b.strokeText(f[0],e,r),c&&
b.fillText(f[0],e,r);else for(a=0;a<f.length;a++)g&&b.strokeText(f[a],e,r),c&&b.fillText(f[a],e,r),r+=k}function gn(a,b,c,d,e,f){9!==f&&(b.__attrCachedBy=jc.NONE);f=a.__textCotentBlock;if(!f||a.__dirtyText)f=a.__textCotentBlock=Tm(c,d);c=f;f=c.width;var g=c.outerWidth,h=c.outerHeight,k=d.textPadding,l=an(bn,a,d,e),m=l.baseX,n=l.baseY,p=l.textAlign;l=l.textVerticalAlign;cn(b,d,e,m,n);m=Sf(m,g,p);p=Tf(n,h,l);e=m;n=p;k&&(e+=k[3],n+=k[0]);k=e+f;zi(d)&&Ai(a,b,d,m,p,g,h);for(g=0;g<c.lines.length;g++){l=
c.lines[g];h=l.tokens;m=h.length;p=l.lineHeight;l=l.width;for(var q=0,t=e,r=k,u=m-1,v;q<m&&(v=h[q],!v.textAlign||"left"===v.textAlign);)Di(a,b,v,d,p,n,t,"left"),l-=v.width,t+=v.width,q++;for(;0<=u&&(v=h[u],"right"===v.textAlign);)Di(a,b,v,d,p,n,r,"right"),l-=v.width,r-=v.width,u--;for(t+=(f-(t-e)-(k-r)-l)/2;q<=u;)v=h[q],Di(a,b,v,d,p,n,t+v.width/2,"center"),t+=v.width,q++;n+=p}}function cn(a,b,c,d,e){if(c&&b.textRotation){var f=b.textOrigin;"center"===f?(d=c.width/2+c.x,e=c.height/2+c.y):f&&(d=f[0]+
c.x,e=f[1]+c.y);a.translate(d,e);a.rotate(-b.textRotation);a.translate(-d,-e)}}function Di(a,b,c,d,e,f,g,h){var k=d.rich[c.styleName]||{};k.text=c.text;var l=c.textVerticalAlign,m=f+e/2;"top"===l?m=f+c.height/2:"bottom"===l&&(m=f+e-c.height/2);!c.isLineHolder&&zi(k)&&Ai(a,b,k,"right"===h?g-c.width:"center"===h?g-c.width/2:g,m-c.height/2,c.width,c.height);if(a=c.textPadding)g=dn(g,h,a),m-=c.height/2-a[2]-c.textHeight/2;Da(b,"shadowBlur",Bd(k.textShadowBlur,d.textShadowBlur,0));Da(b,"shadowColor",k.textShadowColor||
d.textShadowColor||"transparent");Da(b,"shadowOffsetX",Bd(k.textShadowOffsetX,d.textShadowOffsetX,0));Da(b,"shadowOffsetY",Bd(k.textShadowOffsetY,d.textShadowOffsetY,0));Da(b,"textAlign",h);Da(b,"textBaseline","middle");Da(b,"font",c.font||"12px sans-serif");h=Ci(k.textStroke||d.textStroke,n);a=fn(k.textFill||d.textFill);var n=Fa(k.textStrokeWidth,d.textStrokeWidth);h&&(Da(b,"lineWidth",n),Da(b,"strokeStyle",h),b.strokeText(c.text,g,m));a&&(Da(b,"fillStyle",a),b.fillText(c.text,g,m))}function zi(a){return!!(a.textBackgroundColor||
a.textBorderWidth&&a.textBorderColor)}function Ai(a,b,c,d,e,f,g){var h=c.textBackgroundColor,k=c.textBorderWidth,l=c.textBorderColor,m=ja(h);Da(b,"shadowBlur",c.textBoxShadowBlur||0);Da(b,"shadowColor",c.textBoxShadowColor||"transparent");Da(b,"shadowOffsetX",c.textBoxShadowOffsetX||0);Da(b,"shadowOffsetY",c.textBoxShadowOffsetY||0);if(m||k&&l){b.beginPath();var n=c.textBorderRadius;n?Ym(b,{x:d,y:e,width:f,height:g,r:n}):b.rect(d,e,f,g);b.closePath()}m?(Da(b,"fillStyle",h),null!=c.fillOpacity?(a=
b.globalAlpha,b.globalAlpha=c.fillOpacity*c.opacity,b.fill(),b.globalAlpha=a):b.fill()):M(h)&&(m=h.image,(m=Sm(m,null,a,nt,h))&&m&&m.width&&m.height&&b.drawImage(m,d,e,f,g));k&&l&&(Da(b,"lineWidth",k),Da(b,"strokeStyle",l),null!=c.strokeOpacity?(a=b.globalAlpha,b.globalAlpha=c.strokeOpacity*c.opacity,b.stroke(),b.globalAlpha=a):b.stroke())}function nt(a,b){b.image=a}function an(a,b,c,d){var e=c.x||0,f=c.y||0,g=c.textAlign,h=c.textVerticalAlign;d&&(f=c.textPosition,f instanceof Array?(e=d.x+hn(f[0],
d.width),f=d.y+hn(f[1],d.height)):(b=b&&b.calculateTextPosition?b.calculateTextPosition(jn,c,d):Vm(jn,c,d),e=b.x,f=b.y,g=g||b.textAlign,h=h||b.textVerticalAlign),c=c.textOffset)&&(e+=c[0],f+=c[1]);a=a||{};a.baseX=e;a.baseY=f;a.textAlign=g;a.textVerticalAlign=h;return a}function Da(a,b,c){a[b]=Bi(a,b,c);return a[b]}function Ci(a,b){return null==a||0>=b||"transparent"===a||"none"===a?null:a.image||a.colorStops?"#000":a}function fn(a){return null==a||"none"===a?null:a.image||a.colorStops?"#000":a}function hn(a,
b){return"string"===typeof a?0<=a.lastIndexOf("%")?parseFloat(a)/100*b:parseFloat(a):a}function dn(a,b,c){return"right"===b?a-c[1]:"center"===b?a+c[3]/2-c[1]/2:a+c[3]}function Ta(a){a=a||{};Rb.call(this,a);for(var b in a)a.hasOwnProperty(b)&&"style"!==b&&(this[b]=a[b]);this.style=new Wc(a.style,this);this.__clipPaths=this._rect=null}function Sb(a){Ta.call(this,a)}function ot(a,b){if(a===b)return!1;if(!a||!b||a.length!==b.length)return!0;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!0;return!1}
function kn(a){return"mousewheel"===a&&Q.browser.firefox?"DOMMouseScroll":a}function Ei(a){a=a.pointerType;return"pen"===a||"touch"===a}function pt(a){a.touching=!0;null!=a.touchTimer&&(clearTimeout(a.touchTimer),a.touchTimer=null);a.touchTimer=setTimeout(function(){a.touching=!1;a.touchTimer=null},700)}function ln(a,b){for(var c=b,d=!1;c&&9!==c.nodeType&&!(d=c.domBelongToZr||c!==b&&c===a.painterRoot);)c=c.parentNode;return d}function mn(a,b){this.type=b.type;this.target=this.currentTarget=a.dom;
this.pointerType=b.pointerType;this.clientX=b.clientX;this.clientY=b.clientY}function qt(a,b){var c=b.domHandlers;Q.pointerEventsSupported?y(Fi.pointer,function(d){Uf(b,d,function(e){c[d].call(a,e)})}):(Q.touchEventsSupported&&y(Fi.touch,function(d){Uf(b,d,function(e){c[d].call(a,e);pt(b)})}),y(Fi.mouse,function(d){Uf(b,d,function(e){e=e||window.event;b.touching||c[d].call(a,e)})}))}function rt(a,b){function c(d){Uf(b,d,function(e){e=e||window.event;ln(a,e.target)||(e=wb(a.dom,new mn(a,e),!0),b.domHandlers[d].call(a,
e))},{capture:!0})}Q.pointerEventsSupported?y(nn.pointer,c):Q.touchEventsSupported||y(nn.mouse,c)}function Uf(a,b,c,d){a.mounted[b]=c;a.listenerOpts[b]=d;a=a.domTarget;b=kn(b);Gi?a.addEventListener(b,c,d):a.attachEvent("on"+b,c)}function Hi(a){var b=a.mounted,c;for(c in b)if(b.hasOwnProperty(c)){var d=a.domTarget,e=kn(c),f=b[c];Gi?d.removeEventListener(e,f,a.listenerOpts[c]):d.detachEvent("on"+e,f)}a.mounted={}}function Ii(a,b){a._mayPointerCapture=null;if(Ji&&a._pointerCapturing^b){a._pointerCapturing=
b;var c=a._globalHandlerScope;b?rt(a,c):Hi(c)}}function on(a,b){this.domTarget=a;this.domHandlers=b;this.mounted={};this.listenerOpts={};this.touchTimer=null;this.touching=!1}function Ki(a,b){wa.call(this);this.dom=a;this.painterRoot=b;this._localHandlerScope=new on(a,mb);Ji&&(this._globalHandlerScope=new on(document,Li));this._pointerCapturing=!1;this._mayPointerCapture=null;qt(this,this._localHandlerScope)}function Mi(a,b){a=new Ni(pn++,a,b);return Xc[a.id]=a}function Ua(a){return a instanceof Array?
a:null==a?[]:[a]}function Vf(a,b,c){if(a){a[b]=a[b]||{};a.emphasis=a.emphasis||{};a.emphasis[b]=a.emphasis[b]||{};for(var d=0,e=c.length;d<e;d++){var f=c[d];!a.emphasis[b].hasOwnProperty(f)&&a[b].hasOwnProperty(f)&&(a.emphasis[b][f]=a[b][f])}}}function De(a){return!Gd(a)||st(a)||a instanceof Date?a:a.value}function Oi(a,b){b=(b||[]).slice();var c=E(a||[],function(d,e){return{exist:d}});Hd(b,function(d,e){if(Gd(d)){for(var f=0;f<c.length;f++)if(!c[f].option&&null!=d.id&&c[f].exist.id===d.id+""){c[f].option=
d;b[e]=null;return}for(f=0;f<c.length;f++){var g=c[f].exist;if(!(c[f].option||null!=g.id&&null!=d.id||null==d.name||Wf(d)||Wf(g))&&g.name===d.name+""){c[f].option=d;b[e]=null;break}}}});Hd(b,function(d,e){if(Gd(d)){for(e=0;e<c.length;e++){var f=c[e].exist;if(!c[e].option&&!Wf(f)&&null==d.id){c[e].option=d;break}}e>=c.length&&c.push({option:d})}});return c}function qn(a){var b=U();Hd(a,function(c,d){(d=c.exist)&&b.set(d.id,c)});Hd(a,function(c,d){d=c.option;W(!d||null==d.id||!b.get(d.id)||b.get(d.id)===
c,"id duplicates: "+(d&&d.id));d&&null!=d.id&&b.set(d.id,c);!c.keyInfo&&(c.keyInfo={})});Hd(a,function(c,d){var e=c.exist,f=c.option,g=c.keyInfo;if(Gd(f)){g.name=null!=f.name?f.name+"":e?e.name:"series\x00"+d;if(e)g.id=e.id;else if(null!=f.id)g.id=f.id+"";else{d=0;do g.id="\x00"+g.name+"\x00"+d++;while(b.get(g.id))}b.set(g.id,c)}})}function Pi(a){a=a.name;return!(!a||!a.indexOf("series\x00"))}function Wf(a){return Gd(a)&&a.id&&0===(a.id+"").indexOf("\x00_ec_\x00")}function Xf(a,b){if(null!=b.dataIndexInside)return b.dataIndexInside;
if(null!=b.dataIndex)return F(b.dataIndex)?E(b.dataIndex,function(c){return a.indexOfRawIndex(c)}):a.indexOfRawIndex(b.dataIndex);if(null!=b.name)return F(b.name)?E(b.name,function(c){return a.indexOfName(c)}):a.indexOfName(b.name)}function nb(){var a="__\x00ec_inner_"+tt++ +"_"+Math.random().toFixed(5);return function(b){return b[a]||(b[a]={})}}function Ee(a,b,c){if(ja(b)){var d={};d[b+"Index"]=0;b=d}d=c&&c.defaultMainType;!d||b&&b.hasOwnProperty(d+"Index")||b&&b.hasOwnProperty(d+"Id")||b&&b.hasOwnProperty(d+
"Name")||(b[d+"Index"]=0);var e={};Hd(b,function(f,g){f=b[g];if("dataIndex"===g||"dataIndexInside"===g)e[g]=f;else{var h=g.match(/^(\w+)(Index|Id|Name)$/)||[];g=h[1];h=(h[2]||"").toLowerCase();if(!(!g||!h||null==f||"index"===h&&"none"===f||c&&c.includeMainTypes&&0>ba(c.includeMainTypes,g))){var k={mainType:g};if("index"!==h||"all"!==f)k[h]=f;f=a.queryComponents(k);e[g+"Models"]=f;e[g+"Model"]=f[0]}}});return e}function rn(a,b,c){a.setAttribute?a.setAttribute(b,c):a[b]=c}function sn(a){return"auto"===
a?Q.domSupported?"html":"richText":a||"html"}function kc(a){var b={main:"",sub:""};a&&(a=a.split("."),b.main=a[0]||"",b.sub=a[1]||"");return b}function Fe(a,b){a.$constructor=a;a.extend=function(c){D&&y(b,function(f){c[f]||console.warn("Method `"+f+"` should be implemented"+(c.type?" in "+c.type:"")+".")});var d=this,e=function(){c.$constructor?c.$constructor.apply(this,arguments):d.apply(this,arguments)};S(e.prototype,c);e.extend=this.extend;e.superCall=ut;e.superApply=vt;Ba(e,this);e.superClass=
d;return e}}function tn(a){var b=["__\x00is_clz",wt++,Math.random().toFixed(3)].join("_");a.prototype[b]=!0;D&&W(!a.isInstance,'The method "is" can not be defined.');a.isInstance=function(c){return!(!c||!c[b])}}function ut(a,b){var c=Vh(arguments,2);return this.superClass.prototype[b].apply(a,c)}function vt(a,b,c){return this.superClass.prototype[b].apply(a,c)}function Yf(a,b){b=b||{};var c={};a.registerClass=function(e,f){if(f){var g=f;W(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(g),'componentType "'+
g+'" illegal');f=kc(f);f.sub?"___EC__COMPONENT__CONTAINER___"!==f.sub&&(g=c[f.main],g&&g.___EC__COMPONENT__CONTAINER___||(g=c[f.main]={},g.___EC__COMPONENT__CONTAINER___=!0),g[f.sub]=e):(D&&c[f.main]&&console.warn(f.main+" exists."),c[f.main]=e)}return e};a.getClass=function(e,f,g){var h=c[e];h&&h.___EC__COMPONENT__CONTAINER___&&(h=f?h[f]:null);if(g&&!h)throw Error(f?"Component "+e+"."+(f||"")+" not exists. Load it first.":e+".type should be specified.");return h};a.getClassesByMainType=function(e){e=
kc(e);var f=[];(e=c[e.main])&&e.___EC__COMPONENT__CONTAINER___?y(e,function(g,h){"___EC__COMPONENT__CONTAINER___"!==h&&f.push(g)}):f.push(e);return f};a.hasClass=function(e){e=kc(e);return!!c[e.main]};a.getAllClassMainTypes=function(){var e=[];y(c,function(f,g){e.push(g)});return e};a.hasSubTypes=function(e){e=kc(e);return(e=c[e.main])&&e.___EC__COMPONENT__CONTAINER___};a.parseClassType=kc;if(b.registerWhenExtend){var d=a.extend;d&&(a.extend=function(e){var f=d.call(this,e);return a.registerClass(f,
e.type)})}return a}function lc(a){return-1E-8<a&&1E-8>a}function Aa(a,b,c,d,e){var f=1-e;return f*f*(f*a+3*e*b)+e*e*(e*d+3*f*c)}function un(a,b,c,d,e){var f=1-e;return 3*(((b-a)*f+2*(c-b)*e)*f+(d-c)*e*e)}function vn(a,b,c,d,e){var f=6*c-12*b+6*a;c=9*b+3*d-3*a-9*c;b=3*b-3*a;a=0;if(lc(c)){if(1E-8<f||-1E-8>f)b=-b/f,0<=b&&1>=b&&(e[a++]=b)}else b=f*f-4*c*b,lc(b)?e[0]=-f/(2*c):0<b&&(d=mc(b),b=(-f+d)/(2*c),f=(-f-d)/(2*c),0<=b&&1>=b&&(e[a++]=b),0<=f&&1>=f&&(e[a++]=f));return a}function wn(a,b,c,d,e,f){var g=
(b-a)*e+a,h=(c-b)*e+b;c=(d-c)*e+c;b=(h-g)*e+g;h=(c-h)*e+h;e=(h-b)*e+b;f[0]=a;f[1]=g;f[2]=b;f[3]=e;f[4]=e;f[5]=h;f[6]=c;f[7]=d}function $a(a,b,c,d){var e=1-d;return e*(e*a+2*d*b)+d*d*c}function xn(a,b,c,d){return 2*((1-d)*(b-a)+d*(c-b))}function yn(a,b,c){c=a+c-2*b;return 0===c?.5:(a-b)/c}function zn(a,b,c,d,e){var f=(b-a)*d+a;b=(c-b)*d+b;d=(b-f)*d+f;e[0]=a;e[1]=f;e[2]=d;e[3]=d;e[4]=b;e[5]=c}function Qi(a,b,c){if(0!==a.length){var d=a[0],e=d[0],f=d[0],g=d[1],h=d[1],k;for(k=1;k<a.length;k++)d=a[k],
e=Ga(e,d[0]),f=Ha(f,d[0]),g=Ga(g,d[1]),h=Ha(h,d[1]);b[0]=e;b[1]=g;c[0]=f;c[1]=h}}function Id(a,b,c,d,e,f,g){if(0===e)return!1;var h=0;if(g>b+e&&g>d+e||g<b-e&&g<d-e||f>a+e&&f>c+e||f<a-e&&f<c-e)return!1;if(a!==c)h=(b-d)/(a-c);else return Math.abs(f-a)<=e/2;a=h*f-g+(a*d-c*b)/(a-c);return a*a/(h*h+1)<=e/2*e/2}function nc(a){a%=An;0>a&&(a+=An);return a}function Tb(a,b,c,d,e,f){if(f>b&&f>d||f<b&&f<d||d===b)return 0;var g=d<b?1:-1;f=(f-b)/(d-b);if(1===f||0===f)g=d<b?.5:-.5;a=f*(c-a)+a;return a===e?Infinity:
a>e?g:0}function Bn(a,b,c,d,e){for(var f=0,g=0,h=0,k=0,l=0,m=0;m<a.length;){var n=a[m++];n===oc.M&&1<m&&(c||(f+=Tb(g,h,k,l,d,e)));1===m&&(g=a[m],h=a[m+1],k=g,l=h);switch(n){case oc.M:k=a[m++];l=a[m++];g=k;h=l;break;case oc.L:if(c){if(Id(g,h,a[m],a[m+1],b,d,e))return!0}else f+=Tb(g,h,a[m],a[m+1],d,e)||0;g=a[m++];h=a[m++];break;case oc.C:if(c){var p=a[m++],q=a[m++],t=a[m++],r=a[m++],u=a[m],v=a[m+1];if(0===b)var w=!1;else{var x=b;if(e>h+x&&e>q+x&&e>r+x&&e>v+x||e<h-x&&e<q-x&&e<r-x&&e<v-x||d>g+x&&d>p+
x&&d>t+x&&d>u+x||d<g-x&&d<p-x&&d<t-x&&d<u-x)var z=!1;else{var A=void 0,B=void 0,K=void 0,V=void 0,C=void 0,ha=g,ya=h,la=p,za=q,ra=t,X=r,Y=u,I=v,Uc=e,Zf=.005,pc=Infinity;yb[0]=d;yb[1]=Uc;for(var Ge=0;1>Ge;Ge+=.05)ab[0]=Aa(ha,la,ra,Y,Ge),ab[1]=Aa(ya,za,X,I,Ge),B=Yc(yb,ab),B<pc&&(C=Ge,pc=B);pc=Infinity;for(var Cn=0;32>Cn&&!(1E-4>Zf);Cn++)V=C-Zf,K=C+Zf,ab[0]=Aa(ha,la,ra,Y,V),ab[1]=Aa(ya,za,X,I,V),B=Yc(ab,yb),0<=V&&B<pc?(C=V,pc=B):(Jd[0]=Aa(ha,la,ra,Y,K),Jd[1]=Aa(ya,za,X,I,K),A=Yc(Jd,yb),1>=K&&A<pc?(C=
K,pc=A):Zf*=.5);z=mc(pc)<=x/2}w=z}if(w)return!0}else{var xt=f;var Ri=void 0,He=void 0,yt=g,ob=h,zt=a[m++],qc=a[m++],At=a[m++],Zc=a[m++],Bt=a[m],rc=a[m+1],Ct=d;if(e>ob&&e>qc&&e>Zc&&e>rc||e<ob&&e<qc&&e<Zc&&e<rc)var Si=0;else{var sc=Ka,zb=rc+3*(qc-Zc)-ob,Qa=3*(Zc-2*qc+ob),Ie=3*(qc-ob),Dn=ob-e,Ab=Qa*Qa-3*zb*Ie,$c=Qa*Ie-9*zb*Dn,Dt=Ie*Ie-3*Qa*Dn,tc=0;if(lc(Ab)&&lc($c))if(lc(Qa))sc[0]=0;else{var La=-Ie/Qa;0<=La&&1>=La&&(sc[tc++]=La)}else{var Ti=$c*$c-4*Ab*Dt;if(lc(Ti)){var En=$c/Ab;La=-Qa/zb+En;var ad=-En/
2;0<=La&&1>=La&&(sc[tc++]=La);0<=ad&&1>=ad&&(sc[tc++]=ad)}else if(0<Ti){var Fn=mc(Ti),Je=Ab*Qa+1.5*zb*(-$c+Fn),Ke=Ab*Qa+1.5*zb*(-$c-Fn);Je=0>Je?-$f(-Je,ag):$f(Je,ag);Ke=0>Ke?-$f(-Ke,ag):$f(Ke,ag);La=(-Qa-(Je+Ke))/(3*zb);0<=La&&1>=La&&(sc[tc++]=La)}else{var Et=(2*Ab*Qa-3*zb*$c)/(2*mc(Ab*Ab*Ab)),Ui=Math.acos(Et)/3,Vi=mc(Ab),Wi=Math.cos(Ui);La=(-Qa-2*Vi*Wi)/(3*zb);ad=(-Qa+Vi*(Wi+Gn*Math.sin(Ui)))/(3*zb);var Xi=(-Qa+Vi*(Wi-Gn*Math.sin(Ui)))/(3*zb);0<=La&&1>=La&&(sc[tc++]=La);0<=ad&&1>=ad&&(sc[tc++]=ad);
0<=Xi&&1>=Xi&&(sc[tc++]=Xi)}}var Hn=tc;if(0===Hn)Si=0;else{for(var bd=0,Le=-1,Yi=0;Yi<Hn;Yi++){var Kd=Ka[Yi],Bb=0===Kd||1===Kd?.5:1;if(!(Aa(yt,zt,At,Bt,Kd)<Ct)){if(0>Le){Le=vn(ob,qc,Zc,rc,bb);if(bb[1]<bb[0]&&1<Le){var Ft=bb[0];bb[0]=bb[1];bb[1]=Ft}He=Aa(ob,qc,Zc,rc,bb[0]);1<Le&&(Ri=Aa(ob,qc,Zc,rc,bb[1]))}bd=2===Le?Kd<bb[0]?bd+(He<ob?Bb:-Bb):Kd<bb[1]?bd+(Ri<He?Bb:-Bb):bd+(rc<Ri?Bb:-Bb):Kd<bb[0]?bd+(He<ob?Bb:-Bb):bd+(rc<He?Bb:-Bb)}}Si=bd}}f=xt+(Si||0)}g=a[m++];h=a[m++];break;case oc.Q:if(c){var Zi=
a[m++],$i=a[m++],aj=a[m],bj=a[m+1];if(0===b)var In=!1;else{var Va=b;if(e>h+Va&&e>$i+Va&&e>bj+Va||e<h-Va&&e<$i-Va&&e<bj-Va||d>g+Va&&d>Zi+Va&&d>aj+Va||d<g-Va&&d<Zi-Va&&d<aj-Va)var Jn=!1;else{var Me=void 0,cj=g,dj=h,ej=Zi,fj=$i,gj=aj,hj=bj,Gt=e,bg=.005,uc=Infinity;yb[0]=d;yb[1]=Gt;for(var Ne=0;1>Ne;Ne+=.05){ab[0]=$a(cj,ej,gj,Ne);ab[1]=$a(dj,fj,hj,Ne);var Oe=Yc(yb,ab);Oe<uc&&(Me=Ne,uc=Oe)}uc=Infinity;for(var Kn=0;32>Kn&&!(1E-4>bg);Kn++){var cg=Me-bg,dg=Me+bg;ab[0]=$a(cj,ej,gj,cg);ab[1]=$a(dj,fj,hj,cg);
Oe=Yc(ab,yb);if(0<=cg&&Oe<uc)Me=cg,uc=Oe;else{Jd[0]=$a(cj,ej,gj,dg);Jd[1]=$a(dj,fj,hj,dg);var Ln=Yc(Jd,yb);1>=dg&&Ln<uc?(Me=dg,uc=Ln):bg*=.5}}Jn=mc(uc)<=Va/2}In=Jn}if(In)return!0}else{var Ht=f;var Mn=g,Ub=h,Nn=a[m++],Ld=a[m++],On=a[m],cd=a[m+1],Pn=d;if(e>Ub&&e>Ld&&e>cd||e<Ub&&e<Ld&&e<cd)var eg=0;else{var fg=Ka,Pe=Ub-2*Ld+cd,vc=2*(Ld-Ub),Qn=Ub-e,Qe=0;if(lc(Pe)){if(1E-8<vc||-1E-8>vc){var pb=-Qn/vc;0<=pb&&1>=pb&&(fg[Qe++]=pb)}}else{var ij=vc*vc-4*Pe*Qn;if(lc(ij))pb=-vc/(2*Pe),0<=pb&&1>=pb&&(fg[Qe++]=
pb);else if(0<ij){var Rn=mc(ij);pb=(-vc+Rn)/(2*Pe);var jj=(-vc-Rn)/(2*Pe);0<=pb&&1>=pb&&(fg[Qe++]=pb);0<=jj&&1>=jj&&(fg[Qe++]=jj)}}var Sn=Qe;if(0===Sn)eg=0;else{var gg=yn(Ub,Ld,cd);if(0<=gg&&1>=gg){for(var hg=0,Tn=$a(Ub,Ld,cd,gg),Md=0;Md<Sn;Md++){var dd=0===Ka[Md]||1===Ka[Md]?.5:1,kj=$a(Mn,Nn,On,Ka[Md]);kj<Pn||(hg=Ka[Md]<gg?hg+(Tn<Ub?dd:-dd):hg+(cd<Tn?dd:-dd))}eg=hg}else dd=0===Ka[0]||1===Ka[0]?.5:1,kj=$a(Mn,Nn,On,Ka[0]),eg=kj<Pn?0:cd<Ub?dd:-dd}}f=Ht+(eg||0)}g=a[m++];h=a[m++];break;case oc.A:var Nd=
a[m++],ig=a[m++],lj=a[m++],Vb=a[m++],wc=a[m++],jg=a[m++];m+=1;var Un=1-a[m++],Wb=Math.cos(wc)*lj+Nd,Xb=Math.sin(wc)*Vb+ig;1<m?f+=Tb(g,h,Wb,Xb,d,e):(k=Wb,l=Xb);var Vn=(d-Nd)*Vb/lj+Nd;if(c){var xc=wc,Yb=wc+jg,kg=Vn,lg=e;if(0===b)var mg=!1;else{var Wn=b;kg-=Nd;lg-=ig;var Xn=Math.sqrt(kg*kg+lg*lg);if(Xn-Wn>Vb||Xn+Wn<Vb)mg=!1;else if(1E-4>Math.abs(xc-Yb)%Re)mg=!0;else{if(Un){var It=xc;xc=nc(Yb);Yb=nc(It)}else xc=nc(xc),Yb=nc(Yb);xc>Yb&&(Yb+=Re);var Od=Math.atan2(lg,kg);0>Od&&(Od+=Re);mg=Od>=xc&&Od<=Yb||
Od+Re>=xc&&Od+Re<=Yb}}if(mg)return!0}else{var Jt=f;var ng=void 0,mj=Nd,Zb=wc,Cb=wc+jg,nj=Un,oj=Vn,Pd=e;Pd-=ig;if(Pd>Vb||Pd<-Vb)var og=0;else{var pg=Math.sqrt(Vb*Vb-Pd*Pd);Ka[0]=-pg;Ka[1]=pg;var Yn=Math.abs(Zb-Cb);if(1E-4>Yn)og=0;else if(1E-4>Yn%Qd)Zb=0,Cb=Qd,og=oj>=Ka[0]+mj&&oj<=Ka[1]+mj?nj?1:-1:0;else{nj?(pg=Zb,Zb=nc(Cb),Cb=nc(pg)):(Zb=nc(Zb),Cb=nc(Cb));Zb>Cb&&(Cb+=Qd);for(var Zn=0,pj=0;2>pj;pj++){var $n=Ka[pj];if($n+mj>oj){var $b=Math.atan2(Pd,$n);ng=nj?1:-1;0>$b&&($b=Qd+$b);if($b>=Zb&&$b<=Cb||
$b+Qd>=Zb&&$b+Qd<=Cb)$b>Math.PI/2&&$b<1.5*Math.PI&&(ng=-ng),Zn+=ng}}og=Zn}}f=Jt+og}g=Math.cos(wc+jg)*lj+Nd;h=Math.sin(wc+jg)*Vb+ig;break;case oc.R:k=g=a[m++];l=h=a[m++];var Kt=a[m++],Lt=a[m++];Wb=k+Kt;Xb=l+Lt;if(c){if(Id(k,l,Wb,l,b,d,e)||Id(Wb,l,Wb,Xb,b,d,e)||Id(Wb,Xb,k,Xb,b,d,e)||Id(k,Xb,k,l,b,d,e))return!0}else f+=Tb(Wb,l,Wb,Xb,d,e),f+=Tb(k,Xb,k,l,d,e);break;case oc.Z:if(c){if(Id(g,h,k,l,b,d,e))return!0}else f+=Tb(g,h,k,l,d,e);g=k;h=l}}c||1E-4>Math.abs(h-l)||(f+=Tb(g,h,k,l,d,e)||0);return 0!==f}
function ca(a){Ta.call(this,a);this.path=null}function ao(a,b,c,d,e,f,g,h,k,l,m){k*=qg/180;var n=rg(k)*(a-c)/2+sg(k)*(b-d)/2,p=-1*sg(k)*(a-c)/2+rg(k)*(b-d)/2,q=n*n/(g*g)+p*p/(h*h);1<q&&(g*=qj(q),h*=qj(q));q=(e===f?-1:1)*qj((g*g*h*h-g*g*p*p-h*h*n*n)/(g*g*p*p+h*h*n*n))||0;e=q*g*p/h;q=q*-h*n/g;a=(a+c)/2+rg(k)*e-sg(k)*q;b=(b+d)/2+sg(k)*e+rg(k)*q;d=bo([1,0],[(n-e)/g,(p-q)/h]);c=[(n-e)/g,(p-q)/h];n=[(-1*n-e)/g,(-1*p-q)/h];p=bo(c,n);-1>=rj(c,n)&&(p=qg);1<=rj(c,n)&&(p=0);0===f&&0<p&&(p-=2*qg);1===f&&0>p&&
(p+=2*qg);m.addData(l,a,b,g,h,d,p,k,f)}function Mt(a){if(!a)return new qb;var b=0,c=0,d=b,e=c,f=new qb,g=qb.CMD;a=a.match(Nt);for(var h=0;h<a.length;h++){var k=a[h],l=k.charAt(0);k=k.match(Ot)||[];for(var m=k.length,n=0;n<m;n++)k[n]=parseFloat(k[n]);for(n=0;n<m;){var p=b,q=c;switch(l){case "l":b+=k[n++];c+=k[n++];var t=g.L;f.addData(t,b,c);break;case "L":b=k[n++];c=k[n++];t=g.L;f.addData(t,b,c);break;case "m":b+=k[n++];c+=k[n++];t=g.M;f.addData(t,b,c);d=b;e=c;l="l";break;case "M":b=k[n++];c=k[n++];
t=g.M;f.addData(t,b,c);d=b;e=c;l="L";break;case "h":b+=k[n++];t=g.L;f.addData(t,b,c);break;case "H":b=k[n++];t=g.L;f.addData(t,b,c);break;case "v":c+=k[n++];t=g.L;f.addData(t,b,c);break;case "V":c=k[n++];t=g.L;f.addData(t,b,c);break;case "C":t=g.C;f.addData(t,k[n++],k[n++],k[n++],k[n++],k[n++],k[n++]);b=k[n-2];c=k[n-1];break;case "c":t=g.C;f.addData(t,k[n++]+b,k[n++]+c,k[n++]+b,k[n++]+c,k[n++]+b,k[n++]+c);b+=k[n-2];c+=k[n-1];break;case "S":var r=b;var u=c;t=f.len();p=f.data;z===g.C&&(r+=b-p[t-4],
u+=c-p[t-3]);t=g.C;p=k[n++];q=k[n++];b=k[n++];c=k[n++];f.addData(t,r,u,p,q,b,c);break;case "s":r=b;u=c;t=f.len();p=f.data;z===g.C&&(r+=b-p[t-4],u+=c-p[t-3]);t=g.C;p=b+k[n++];q=c+k[n++];b+=k[n++];c+=k[n++];f.addData(t,r,u,p,q,b,c);break;case "Q":p=k[n++];q=k[n++];b=k[n++];c=k[n++];t=g.Q;f.addData(t,p,q,b,c);break;case "q":p=k[n++]+b;q=k[n++]+c;b+=k[n++];c+=k[n++];t=g.Q;f.addData(t,p,q,b,c);break;case "T":r=b;u=c;t=f.len();p=f.data;z===g.Q&&(r+=b-p[t-4],u+=c-p[t-3]);b=k[n++];c=k[n++];t=g.Q;f.addData(t,
r,u,b,c);break;case "t":r=b;u=c;t=f.len();p=f.data;z===g.Q&&(r+=b-p[t-4],u+=c-p[t-3]);b+=k[n++];c+=k[n++];t=g.Q;f.addData(t,r,u,b,c);break;case "A":r=k[n++];u=k[n++];var v=k[n++];var w=k[n++];var x=k[n++];p=b;q=c;b=k[n++];c=k[n++];t=g.A;ao(p,q,b,c,w,x,r,u,v,t,f);break;case "a":r=k[n++],u=k[n++],v=k[n++],w=k[n++],x=k[n++],p=b,q=c,b+=k[n++],c+=k[n++],t=g.A,ao(p,q,b,c,w,x,r,u,v,t,f)}}if("z"===l||"Z"===l)t=g.Z,f.addData(t),b=d,c=e;var z=t}f.toStatic();return f}function co(a,b){var c=Mt(a);b=b||{};b.buildPath=
function(d){if(d.setData){d.setData(c.data);var e=d.getContext();e&&d.rebuildPath(e)}else c.rebuildPath(d)};b.applyTransform=function(d){var e=c.data,f,g,h=Rd.M,k=Rd.C,l=Rd.L,m=Rd.R,n=Rd.A,p=Rd.Q;for(g=f=0;f<e.length;){var q=e[f++];g=f;var t=0;switch(q){case h:t=1;break;case l:t=1;break;case k:t=3;break;case p:t=2;break;case n:g=d[4];q=d[5];var r=eo(d[0]*d[0]+d[1]*d[1]),u=eo(d[2]*d[2]+d[3]*d[3]),v=Pt(-d[1]/u,d[0]/r);e[f]*=r;e[f++]+=g;e[f]*=u;e[f++]+=q;e[f++]*=r;e[f++]*=u;e[f++]+=v;e[f++]+=v;g=f+=
2;break;case m:w[0]=e[f++],w[1]=e[f++],Ca(w,w,d),e[g++]=w[0],e[g++]=w[1],w[0]+=e[f++],w[1]+=e[f++],Ca(w,w,d),e[g++]=w[0],e[g++]=w[1]}for(q=0;q<t;q++){var w=Qt[q];w[0]=e[f++];w[1]=e[f++];Ca(w,w,d);e[g++]=w[0];e[g++]=w[1]}}this.dirty(!0)};return b}function fo(a,b,c,d,e,f,g){a=.5*(c-a);d=.5*(d-b);return(2*(b-c)+a+d)*g+(-3*(b-c)-2*a-d)*f+a*e+b}function go(a,b,c){var d=b.points,e=b.smooth;if(d&&2<=d.length){if(e&&"spline"!==e){var f=d,g=b.smoothConstraint;b=[];var h=[],k=[],l=[];if(g){var m=[Infinity,
Infinity];var n=[-Infinity,-Infinity];for(var p=0,q=f.length;p<q;p++)Ob(m,m,f[p]),Pb(n,n,f[p]);Ob(m,m,g[0]);Pb(n,n,g[1])}p=0;for(q=f.length;p<q;p++){var t=f[p];if(c){var r=f[p?p-1:q-1];var u=f[(p+1)%q]}else if(0===p||p===q-1){b.push(Zh(f[p]));continue}else r=f[p-1],u=f[p+1];Kf(h,u,r);Lf(h,h,e);r=xe(t,r);u=xe(t,u);var v=r+u;0!==v&&(r/=v,u/=v);Lf(k,h,-r);Lf(l,h,u);r=$h([],t,k);t=$h([],t,l);g&&(Pb(r,r,m),Ob(r,r,n),Pb(t,t,m),Ob(t,t,n));b.push(r);b.push(t)}c&&b.push(b.shift());a.moveTo(d[0][0],d[0][1]);
f=d.length;for(e=0;e<(c?f:f-1);e++)m=b[2*e],n=b[2*e+1],g=d[(e+1)%f],a.bezierCurveTo(m[0],m[1],n[0],n[1],g[0],g[1])}else{if("spline"===e){b=d.length;e=[];m=0;for(f=1;f<b;f++)m+=xe(d[f-1],d[f]);m/=2;m=m<b?b:m;for(f=0;f<m;f++)n=f/(m-1)*(c?b:b-1),l=Math.floor(n),n-=l,h=d[l%b],c?(g=d[(l-1+b)%b],k=d[(l+1)%b],l=d[(l+2)%b]):(g=d[0===l?l:l-1],k=d[l>b-2?b-1:l+1],l=d[l>b-3?b-1:l+2]),p=n*n,q=n*p,e.push([fo(g[0],h[0],k[0],l[0],n,p,q),fo(g[1],h[1],k[1],l[1],n,p,q)]);d=e}a.moveTo(d[0][0],d[0][1]);e=1;for(b=d.length;e<
b;e++)a.lineTo(d[e][0],d[e][1])}c&&a.closePath()}}function ho(a,b,c){if(b){var d=b.x1,e=b.x2,f=b.y1;b=b.y2;a.x1=d;a.x2=e;a.y1=f;a.y2=b;if(c=c&&c.lineWidth)Sd(2*d)===Sd(2*e)&&(a.x1=a.x2=ed(d,c,!0)),Sd(2*f)===Sd(2*b)&&(a.y1=a.y2=ed(f,c,!0))}}function io(a,b,c){if(b){var d=b.x,e=b.y,f=b.width;b=b.height;a.x=d;a.y=e;a.width=f;a.height=b;if(c=c&&c.lineWidth)a.x=ed(d,c,!0),a.y=ed(e,c,!0),a.width=Math.max(ed(d+f,c,!1)-a.x,0===f?0:1),a.height=Math.max(ed(e+b,c,!1)-a.y,0===b?0:1)}}function ed(a,b,c){if(!b)return a;
a=Sd(2*a);return 0===(a+Sd(b))%2?a/2:(a+(c?1:-1))/2}function jo(a,b,c){var d=a.cpy2;return null===a.cpx2||null===d?[(c?un:Aa)(a.x1,a.cpx1,a.cpx2,a.x2,b),(c?un:Aa)(a.y1,a.cpy1,a.cpy2,a.y2,b)]:[(c?xn:$a)(a.x1,a.cpx1,a.x2,b),(c?xn:$a)(a.y1,a.cpy1,a.y2,b)]}function rb(a){Ta.call(this,a);this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.notClear=!0}function yc(a){return ca.extend(a)}function ko(a){if(cb.hasOwnProperty(a))return cb[a]}function sj(a,b,c,d){a=new ca(co(a,b));c&&("center"===
d&&(c=lo(c,a.getBoundingRect())),mo(a,c));return a}function no(a,b,c){var d=new Sb({style:{image:a,x:b.x,y:b.y,width:b.width,height:b.height},onload:function(e){"center"===c&&d.setStyle(lo(b,{width:e.width,height:e.height}))}});return d}function lo(a,b){var c=b.width/b.height;b=a.height*c;b<=a.width?c=a.height:(b=a.width,c=b/c);return{x:a.x+a.width/2-b/2,y:a.y+a.height/2-c/2,width:b,height:c}}function mo(a,b){a.applyTransform&&(b=a.getBoundingRect().calculateTransform(b),a.applyTransform(b))}function tg(a){return null!=
a&&"none"!==a}function oo(a){if("string"!==typeof a)return a;var b=po.get(a);b||(b=Em(a,-.1),1E4>qo&&(po.set(a,b),qo++));return b}function tj(a){var b=a.__hoverStl;if(b&&!a.__highlighted){var c=a.__zr,d=a.useHoverLayer&&c&&"canvas"===c.painter.type;a.__highlighted=d?"layer":"plain";if(!(a.isGroup||!c&&a.useHoverLayer)){var e=a,f=a.style;d&&(e=c.addHover(a),f=e.style);ug(f);if(!d){var g=e;if(g.__hoverStlDirty)if(g.__hoverStlDirty=!1,c=g.__hoverStl){e=g.__cachedNormalStl={};g.__cachedNormalZ2=g.z2;
g=g.style;for(var h in c)null!=c[h]&&(e[h]=g[h]);e.fill=g.fill;e.stroke=g.stroke}else g.__cachedNormalStl=g.__cachedNormalZ2=null}f.extendFrom(b);h=f;!tg(b.fill)&&tg(h.fill)&&(h.fill=oo(h.fill));h=f;!tg(b.stroke)&&tg(h.stroke)&&(h.stroke=oo(h.stroke));Se(f);d||(a.dirty(!1),a.z2+=1)}}}function uj(a){var b=a.__highlighted;if(b&&(a.__highlighted=!1,!a.isGroup))if("layer"===b)a.__zr&&a.__zr.removeHover(a);else{b=a.style;var c=a.__cachedNormalStl;c&&(ug(b),a.setStyle(c),Se(b));b=a.__cachedNormalZ2;null!=
b&&1===a.z2-b&&(a.z2=b)}}function Te(a,b,c){var d="normal",e="normal",f;a.__highlighted&&(d="emphasis",f=!0);b(a,c);a.__highlighted&&(e="emphasis",f=!0);a.isGroup&&a.traverse(function(g){!g.isGroup&&b(g,c)});f&&a.__highDownOnUpdate&&a.__highDownOnUpdate(d,e)}function ro(a,b){b=a.__hoverStl=!1!==b&&(a.hoverStyle||b||{});a.__hoverStlDirty=!0;a.__highlighted&&(a.__cachedNormalStl=null,uj(a),tj(a))}function Rt(a){this.__highDownSilentOnTouch&&a.zrByTouch||this.__highByOuter||Te(this,tj)}function St(a){this.__highDownSilentOnTouch&&
a.zrByTouch||this.__highByOuter||Te(this,uj)}function Tt(a){this.__highByOuter|=1<<(a||0);Te(this,tj)}function Ut(a){!(this.__highByOuter&=~(1<<(a||0)))&&Te(this,uj)}function db(a,b){so(a,!0);Te(a,ro,b)}function so(a,b){b=!1===b;a.__highDownSilentOnTouch=a.highDownSilentOnTouch;a.__highDownOnUpdate=a.highDownOnUpdate;if(!b||a.__highDownDispatcher){var c=b?"off":"on";a[c]("mouseover",Rt)[c]("mouseout",St);a[c]("emphasis",Tt)[c]("normal",Ut);a.__highByOuter=a.__highByOuter||0;a.__highDownDispatcher=
!b}}function to(a){return!(!a||!a.__highDownDispatcher)}function uo(a){var b=vo[a];null==b&&32>=wo&&(b=vo[a]=wo++);return b}function Td(a,b,c,d,e,f,g){e=e||vg;var h=e.labelFetcher,k=e.labelDataIndex,l=e.labelDimIndex,m=e.labelProp,n=c.getShallow("show"),p=d.getShallow("show"),q;if(n||p)h&&(q=h.getFormattedLabel(k,"normal",null,l,m)),null==q&&(q=va(e.defaultText)?e.defaultText(k,e):e.defaultText);n=n?q:null;h=p?Fa(h?h.getFormattedLabel(k,"emphasis",null,l,m):null,q):null;if(null!=n||null!=h)Ma(a,c,
f,e),Ma(b,d,g,e,!0);a.text=n;b.text=h}function Ma(a,b,c,d,e){xo(a,b,d,e);c&&S(a,c);return a}function xo(a,b,c,d){c=c||vg;if(c.isRectText){if(c.getTextPosition)var e=c.getTextPosition(b,d);else e=b.getShallow("position")||(d?null:"inside"),"outside"===e&&(e="top");a.textPosition=e;a.textOffset=b.getShallow("offset");e=b.getShallow("rotate");null!=e&&(e*=Math.PI/180);a.textRotation=e;a.textDistance=Fa(b.getShallow("distance"),d?null:5)}e=(e=b.ecModel)&&e.option.textStyle;for(var f,g=b;g&&g!==g.ecModel;){var h=
(g.option||vg).rich;if(h){f=f||{};for(var k in h)h.hasOwnProperty(k)&&(f[k]=1)}g=g.parentModel}if(f){var l={};for(var m in f)f.hasOwnProperty(m)&&(k=b.getModel(["rich",m]),yo(l[m]={},k,e,c,d))}a.rich=l;yo(a,b,e,c,d,!0);c.forceRich&&!c.textStyle&&(c.textStyle={});return a}function yo(a,b,c,d,e,f){c=!e&&c||vg;a.textFill=wg(b.getShallow("color"),d)||c.color;a.textStroke=wg(b.getShallow("textBorderColor"),d)||c.textBorderColor;a.textStrokeWidth=Fa(b.getShallow("textBorderWidth"),c.textBorderWidth);e||
(f&&(a.insideRollbackOpt=d,Se(a)),null==a.textFill&&(a.textFill=d.autoColor));a.fontStyle=b.getShallow("fontStyle")||c.fontStyle;a.fontWeight=b.getShallow("fontWeight")||c.fontWeight;a.fontSize=b.getShallow("fontSize")||c.fontSize;a.fontFamily=b.getShallow("fontFamily")||c.fontFamily;a.textAlign=b.getShallow("align");a.textVerticalAlign=b.getShallow("verticalAlign")||b.getShallow("baseline");a.textLineHeight=b.getShallow("lineHeight");a.textWidth=b.getShallow("width");a.textHeight=b.getShallow("height");
a.textTag=b.getShallow("tag");f&&d.disableBox||(a.textBackgroundColor=wg(b.getShallow("backgroundColor"),d),a.textPadding=b.getShallow("padding"),a.textBorderColor=wg(b.getShallow("borderColor"),d),a.textBorderWidth=b.getShallow("borderWidth"),a.textBorderRadius=b.getShallow("borderRadius"),a.textBoxShadowColor=b.getShallow("shadowColor"),a.textBoxShadowBlur=b.getShallow("shadowBlur"),a.textBoxShadowOffsetX=b.getShallow("shadowOffsetX"),a.textBoxShadowOffsetY=b.getShallow("shadowOffsetY"));a.textShadowColor=
b.getShallow("textShadowColor")||c.textShadowColor;a.textShadowBlur=b.getShallow("textShadowBlur")||c.textShadowBlur;a.textShadowOffsetX=b.getShallow("textShadowOffsetX")||c.textShadowOffsetX;a.textShadowOffsetY=b.getShallow("textShadowOffsetY")||c.textShadowOffsetY}function wg(a,b){return"auto"!==a?a:b&&b.autoColor?b.autoColor:null}function Se(a){var b=a.textPosition,c=a.insideRollbackOpt;if(c&&null==a.textFill){var d=c.autoColor,e=c.isRectText;c=c.useInsideStyle;b=!1!==c&&(!0===c||e&&b&&"string"===
typeof b&&0<=b.indexOf("inside"));e=!b&&null!=d;if(b||e)var f={textFill:a.textFill,textStroke:a.textStroke,textStrokeWidth:a.textStrokeWidth};b&&(a.textFill="#fff",null==a.textStroke&&(a.textStroke=d,null==a.textStrokeWidth&&(a.textStrokeWidth=2)));e&&(a.textFill=d)}a.insideRollback=f}function ug(a){var b=a.insideRollback;b&&(a.textFill=b.textFill,a.textStroke=b.textStroke,a.textStrokeWidth=b.textStrokeWidth,a.insideRollback=null)}function zo(a,b){b=b&&b.getModel("textStyle");return Xh([a.fontStyle||
b&&b.getShallow("fontStyle")||"",a.fontWeight||b&&b.getShallow("fontWeight")||"",(a.fontSize||b&&b.getShallow("fontSize")||12)+"px",a.fontFamily||b&&b.getShallow("fontFamily")||"sans-serif"].join(" "))}function Ao(a,b,c,d,e,f){"function"===typeof e&&(f=e,e=null);if(d&&d.isAnimationEnabled()){var g=a?"Update":"";a=d.getShallow("animationDuration"+g);var h=d.getShallow("animationEasing"+g);g=d.getShallow("animationDelay"+g);"function"===typeof g&&(g=g(e,d.getAnimationDelayParams?d.getAnimationDelayParams(b,
e):null));"function"===typeof a&&(a=a(e));0<a?b.animateTo(c,a,g||0,h,f,!!f):(b.stopAnimation(),b.attr(c),f&&f())}else b.stopAnimation(),b.attr(c),f&&f()}function oa(a,b,c,d,e){Ao(!0,a,b,c,d,e)}function zc(a,b,c,d,e){Ao(!1,a,b,c,d,e)}function xg(a,b){for(var c=ze([]);a&&a!==b;)Sc(c,a.getLocalTransform(),c),a=a.parent;return c}function Ud(a,b,c){b&&!Nb(b)&&(b=Vd.getLocalTransform(b));c&&(b=ii([],b));return Ca([],a,b)}function vj(a,b,c){var d=0===b[4]||0===b[5]||0===b[0]?1:Math.abs(2*b[4]/b[0]),e=0===
b[4]||0===b[5]||0===b[2]?1:Math.abs(2*b[4]/b[2]);a=["left"===a?-d:"right"===a?d:0,"top"===a?-e:"bottom"===a?e:0];a=Ud(a,b,c);return Math.abs(a[0])>Math.abs(a[1])?0<a[0]?"right":"left":0<a[1]?"bottom":"top"}function Bo(a,b,c,d){function e(g){var h={position:Zh(g.position),rotation:g.rotation};g.shape&&(h.shape=S({},g.shape));return h}if(a&&b){var f=function(g){var h={};g.traverse(function(k){!k.isGroup&&k.anid&&(h[k.anid]=k)});return h}(a);b.traverse(function(g){if(!g.isGroup&&g.anid){var h=f[g.anid];
if(h){var k=e(g);g.attr(e(h));oa(g,k,c,g.dataIndex)}}})}}function Co(a,b){return E(a,function(c){var d=c[0];d=yg(d,b.x);d=zg(d,b.x+b.width);c=c[1];c=yg(c,b.y);c=zg(c,b.y+b.height);return[d,c]})}function Ue(a,b,c){b=S({rectHover:!0},b);var d=b.style={strokeNoScale:!0};c=c||{x:-1,y:-1,width:2,height:2};if(a)return 0===a.indexOf("image://")?(d.image=a.slice(8),T(d,c),new Sb(b)):sj(a.replace("path://",""),b,c,"center")}function Ve(a,b,c,d,e){for(var f=0,g=e[e.length-1];f<e.length;f++){var h=e[f];if(Do(a,
b,c,d,h[0],h[1],g[0],g[1]))return!0;g=h}}function Do(a,b,c,d,e,f,g,h){c-=a;d-=b;g-=e;h-=f;var k=g*d-c*h;if(1E-6>=k&&-1E-6<=k)return!1;a-=e;b-=f;f=(a*d-c*b)/k;if(0>f||1<f)return!1;b=(a*h-g*b)/k;return 0>b||1<b?!1:!0}function ka(a,b,c){this.parentModel=b;this.ecModel=c;this.option=a}function Eo(a,b,c){for(var d=0;d<b.length&&(!b[d]||(a=a&&"object"===typeof a?a[b[d]]:null,null!=a));d++);null==a&&c&&(a=c.get(b));return a}function wj(a,b){var c=Fo(a).getParent;return c?c.call(a,b):a.parentModel}function Ag(a){return[a||
"",Vt++,Math.random().toFixed(5)].join("_")}function ia(a,b,c,d){var e=b[1]-b[0],f=c[1]-c[0];if(0===e)return 0===f?c[0]:(c[0]+c[1])/2;if(d)if(0<e){if(a<=b[0])return c[0];if(a>=b[1])return c[1]}else{if(a>=b[0])return c[0];if(a<=b[1])return c[1]}else{if(a===b[0])return c[0];if(a===b[1])return c[1]}return(a-b[0])/e*f+c[0]}function J(a,b){switch(a){case "center":case "middle":a="50%";break;case "left":case "top":a="0%";break;case "right":case "bottom":a="100%"}return"string"===typeof a?a.replace(/^\s+|\s+$/g,
"").match(/%$/)?parseFloat(a)/100*b:parseFloat(a):null==a?NaN:+a}function da(a,b,c){null==b&&(b=10);b=Math.min(Math.max(0,b),20);a=(+a).toFixed(b);return c?a:+a}function fd(a){a.sort(function(b,c){return b-c});return a}function Go(a){a=+a;if(isNaN(a))return 0;for(var b=1,c=0;Math.round(a*b)/b!==a;)b*=10,c++;return c}function Ac(a){a=a.toString();var b=a.indexOf("e");if(0<b)return a=+a.slice(b+1),0>a?-a:0;b=a.indexOf(".");return 0>b?0:a.length-1-b}function xj(a,b){var c=Math.log,d=Math.LN10;a=Math.floor(c(a[1]-
a[0])/d);b=Math.round(c(Math.abs(b[1]-b[0]))/d);b=Math.min(Math.max(-a+b,0),20);return isFinite(b)?b:20}function Ho(a,b,c){if(!a[b])return 0;var d=ue(a,function(n,p){return n+(isNaN(p)?0:p)},0);if(0===d)return 0;var e=Math.pow(10,c),f=E(a,function(n){return(isNaN(n)?0:n)/d*e*100});a=100*e;var g=E(f,function(n){return Math.floor(n)});c=ue(g,function(n,p){return n+p},0);for(f=E(f,function(n,p){return n-g[p]});c<a;){for(var h=Number.NEGATIVE_INFINITY,k=null,l=0,m=f.length;l<m;++l)f[l]>h&&(h=f[l],k=l);
++g[k];f[k]=0;++c}return g[b]/e}function yj(a){var b=2*Math.PI;return(a%b+b)%b}function We(a){return-1E-4<a&&1E-4>a}function Bg(a){if(a instanceof Date)return a;if("string"===typeof a){a=Wt.exec(a);if(!a)return new Date(NaN);if(a[8]){var b=+a[4]||0;"Z"!==a[8].toUpperCase()&&(b-=a[8].slice(0,3));return new Date(Date.UTC(+a[1],+(a[2]||1)-1,+a[3]||1,b,+(a[5]||0),+a[6]||0,+a[7]||0))}return new Date(+a[1],+(a[2]||1)-1,+a[3]||1,+a[4]||0,+(a[5]||0),+a[6]||0,+a[7]||0)}return null==a?new Date(NaN):new Date(Math.round(a))}
function Io(a){return Math.pow(10,zj(a))}function zj(a){if(0===a)return 0;var b=Math.floor(Math.log(a)/Math.LN10);10<=a/Math.pow(10,b)&&b++;return b}function Aj(a,b){var c=zj(a),d=Math.pow(10,c);a/=d;a=(b?1.5>a?1:2.5>a?2:4>a?3:7>a?5:10:1>a?1:2>a?2:3>a?3:5>a?5:10)*d;return-20<=c?+a.toFixed(0>c?-c:0):a}function Wd(a){if(isNaN(a))return"-";a=(a+"").split(".");return a[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<a.length?"."+a[1]:"")}function Jo(a,b){a=(a||"").toLowerCase().replace(/-(.)/g,
function(c,d){return d.toUpperCase()});b&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1));return a}function Na(a){return null==a?"":(a+"").replace(Xt,function(b,c){return Yt[c]})}function Bj(a,b,c){F(b)||(b=[b]);var d=b.length;if(!d)return"";for(var e=b[0].$vars||[],f=0;f<e.length;f++){var g=Ko[f];a=a.replace("{"+g+"}","{"+g+0+"}")}for(f=0;f<d;f++)for(g=0;g<e.length;g++){var h=b[f][e[g]];a=a.replace("{"+Ko[g]+(null==f?"":f)+"}",c?Na(h):h)}return a}function Cg(a,b){a=ja(a)?{color:a,extraCssText:b}:a||
{};var c=a.color,d=a.type;b=a.extraCssText;var e=a.renderMode||"html";a=a.markerId||"X";return c?"html"===e?"subItem"===d?'\x3cspan style\x3d"display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Na(c)+";"+(b||"")+'"\x3e\x3c/span\x3e':'\x3cspan style\x3d"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+Na(c)+";"+(b||"")+'"\x3e\x3c/span\x3e':{renderMode:e,content:"{marker"+
a+"|}  ",style:{color:c}}:""}function Xd(a,b){a+="";return"0000".substr(0,b-a.length)+a}function Cj(a,b,c){if("week"===a||"month"===a||"quarter"===a||"half-year"===a||"year"===a)a="MM-dd\nyyyy";b=Bg(b);var d=c?"UTC":"";c=b["get"+d+"FullYear"]();var e=b["get"+d+"Month"]()+1,f=b["get"+d+"Date"](),g=b["get"+d+"Hours"](),h=b["get"+d+"Minutes"](),k=b["get"+d+"Seconds"]();b=b["get"+d+"Milliseconds"]();return a=a.replace("MM",Xd(e,2)).replace("M",e).replace("yyyy",c).replace("yy",c%100).replace("dd",Xd(f,
2)).replace("d",f).replace("hh",Xd(g,2)).replace("h",g).replace("mm",Xd(h,2)).replace("m",h).replace("ss",Xd(k,2)).replace("s",k).replace("SSS",Xd(b,3))}function Dj(a){return a?a.charAt(0).toUpperCase()+a.substr(1):a}function Ej(a,b){"_blank"===b||"blank"===b?(b=window.open(),b.opener=null,b.location=a):window.open(a,b)}function gd(a,b,c,d,e){var f=0,g=0;null==d&&(d=Infinity);null==e&&(e=Infinity);var h=0;b.eachChild(function(k,l){var m=k.position,n=k.getBoundingRect();l=(l=b.childAt(l+1))&&l.getBoundingRect();
if("horizontal"===a){l=n.width+(l?-l.x+n.x:0);var p=f+l;p>d||k.newline?(f=0,p=l,g+=h+c,h=n.height):h=Math.max(h,n.height)}else{l=n.height+(l?-l.y+n.y:0);var q=g+l;q>e||k.newline?(f+=h+c,g=0,q=l,h=n.width):h=Math.max(h,n.width)}k.newline||(m[0]=f,m[1]=g,"horizontal"===a?f=p+c:g=q+c)})}function Db(a,b,c){c=Xe(c||0);var d=b.width;b=b.height;var e=J(a.left,d),f=J(a.top,b),g=J(a.right,d),h=J(a.bottom,b),k=J(a.width,d),l=J(a.height,b),m=c[2]+c[0],n=c[1]+c[3],p=a.aspect;isNaN(k)&&(k=d-g-n-e);isNaN(l)&&(l=
b-h-m-f);null!=p&&(isNaN(k)&&isNaN(l)&&(p>d/b?k=.8*d:l=.8*b),isNaN(k)&&(k=p*l),isNaN(l)&&(l=k/p));isNaN(e)&&(e=d-g-k-n);isNaN(f)&&(f=b-h-l-m);switch(a.left||a.right){case "center":e=d/2-k/2-c[3];break;case "right":e=d-k-n}switch(a.top||a.bottom){case "middle":case "center":f=b/2-l/2-c[0];break;case "bottom":f=b-l-m}e=e||0;f=f||0;isNaN(k)&&(k=d-n-e-(g||0));isNaN(l)&&(l=b-m-f-(h||0));a=new aa(e+c[3],f+c[0],k,l);a.margin=c;return a}function hd(a,b,c){function d(k,l){var m={},n=0,p={},q=0;Dg(k,function(r){p[r]=
a[r]});Dg(k,function(r){b.hasOwnProperty(r)&&(m[r]=p[r]=b[r]);e(m,r)&&n++;e(p,r)&&q++});if(g[l])return e(b,k[1])?p[k[2]]=null:e(b,k[2])&&(p[k[1]]=null),p;if(2!==q&&n){if(!(2<=n))for(l=0;l<k.length;l++){var t=k[l];if(!m.hasOwnProperty(t)&&a.hasOwnProperty(t)){m[t]=a[t];break}}return m}return p}function e(k,l){return null!=k[l]&&"auto"!==k[l]}function f(k,l,m){Dg(k,function(n){l[n]=m[n]})}!M(c)&&(c={});var g=c.ignoreSize;!F(g)&&(g=[g,g]);c=d(Eg[0],0);var h=d(Eg[1],1);f(Eg[0],a,c);f(Eg[1],a,h)}function Yd(a,
b){b&&a&&Dg(Lo,function(c){b.hasOwnProperty(c)&&(a[c]=b[c])});return a}function sb(a){this.fromDataset=a.fromDataset;this.data=a.data||("keyedColumns"===a.sourceFormat?{}:[]);this.sourceFormat=a.sourceFormat||"unknown";this.seriesLayoutBy=a.seriesLayoutBy||"column";this.dimensionsDefine=a.dimensionsDefine;this.encodeDefine=a.encodeDefine&&U(a.encodeDefine);this.startIndex=a.startIndex||0;this.dimensionsDetectCount=a.dimensionsDetectCount}function Mo(a){var b=a.option,c=b.data,d=jb(c)?"typedArray":
"original",e=!1,f=b.seriesLayoutBy,g=b.sourceHeader,h=b.dimensions,k=Fj(a);if(k){var l=k.option;c=l.source;d=Zd(k).sourceFormat;e=!0;f=f||l.seriesLayoutBy;null==g&&(g=l.sourceHeader);h=h||l.dimensions}g=Zt(c,d,f,g,h);Zd(a).source=new sb({data:c,fromDataset:e,seriesLayoutBy:f,sourceFormat:d,dimensionsDefine:g.dimensionsDefine,startIndex:g.startIndex,dimensionsDetectCount:g.dimensionsDetectCount,encodeDefine:b.encode})}function Zt(a,b,c,d,e){if(!a)return{dimensionsDefine:No(e)};var f;if("arrayRows"===
b){"auto"===d||null==d?Oo(function(h){null!=h&&"-"!==h&&(ja(h)?null==f&&(f=1):f=0)},c,a,10):f=d?1:0;e||1!==f||(e=[],Oo(function(h,k){e[k]=null!=h?h:""},c,a));var g=e?e.length:"row"===c?a.length:a[0]?a[0].length:null}else"objectRows"===b?e||(e=$t(a)):"keyedColumns"===b?e||(e=[],y(a,function(h,k){e.push(k)})):"original"===b?(a=De(a[0]),g=F(a)&&a.length||1):"typedArray"===b&&D&&W(!!e,"dimensions must be given if data is TypedArray.");return{startIndex:f,dimensionsDefine:No(e),dimensionsDetectCount:g}}
function No(a){if(a){var b=U();return E(a,function(c,d){c=S({},M(c)?c:{name:c});if(null==c.name)return c;c.name+="";null==c.displayName&&(c.displayName=c.name);(d=b.get(c.name))?c.name+="-"+d.count++:b.set(c.name,{count:1});return c})}}function Oo(a,b,c,d){null==d&&(d=Infinity);if("row"===b)for(b=0;b<c.length&&b<d;b++)a(c[b]?c[b][0]:null,b);else for(c=c[0]||[],b=0;b<c.length&&b<d;b++)a(c[b],b)}function $t(a){for(var b=0,c;b<a.length&&!(c=a[b++]););if(c){var d=[];y(c,function(e,f){d.push(f)});return d}}
function au(a,b,c){function d(p,q,t){for(var r=0;r<t;r++)p.push(q+r)}function e(p){return(p=p.dimsDef)?p.length:1}var f={},g=Fj(b);if(!g||!a)return f;var h=[],k=[];b=Zd(b.ecModel).datasetMap;c=g.uid+"_"+c.seriesLayoutBy;var l,m;a=a.slice();y(a,function(p,q){!M(p)&&(a[q]={name:p});"ordinal"===p.type&&null==l&&(l=q,m=e(a[q]));f[p.name]=[]});var n=b.get(c)||b.set(c,{categoryWayDim:m,valueWayDim:0});y(a,function(p,q){var t=p.name;p=e(p);null==l?(q=n.valueWayDim,d(f[t],q,p),d(k,q,p),n.valueWayDim+=p):
l===q?(d(f[t],0,p),d(h,0,p)):(q=n.categoryWayDim,d(f[t],q,p),d(k,q,p),n.categoryWayDim+=p)});h.length&&(f.itemName=h);k.length&&(f.seriesName=k);return f}function bu(a,b,c){var d={};if(!Fj(a))return d;var e=b.sourceFormat,f=b.dimensionsDefine,g;"objectRows"!==e&&"keyedColumns"!==e||y(f,function(h,k){"name"===(M(h)?h.name:h)&&(g=k)});if(a=function(){for(var h={},k={},l=[],m=0,n=Math.min(5,c);m<n;m++){var p=Po(b.data,e,b.seriesLayoutBy,f,b.startIndex,m);l.push(p);var q=p===Oa.Not;q&&null==h.v&&m!==
g&&(h.v=m);if(null==h.n||h.n===h.v||!q&&l[h.n]===Oa.Not)h.n=m;if(null!=h.v&&null!=h.n&&l[h.n]!==Oa.Not)return h;q||(p===Oa.Might&&null==k.v&&m!==g&&(k.v=m),null!=k.n&&k.n!==k.v)||(k.n=m)}return null!=h.v&&null!=h.n?h:null!=k.v&&null!=k.n?k:null}())d.value=a.v,a=null!=g?g:a.n,d.itemName=[a],d.seriesName=[a];return d}function Fj(a){var b=a.option;if(!b.data)return a.ecModel.getComponent("dataset",b.datasetIndex||0)}function Po(a,b,c,d,e,f){function g(m){var n=ja(m);if(null!=m&&isFinite(m)&&""!==m)return n?
Oa.Might:Oa.Not;if(n&&"-"!==m)return Oa.Must}var h;if(jb(a))return Oa.Not;if(d)if(d=d[f],M(d)){var k=d.name;var l=d.type}else ja(d)&&(k=d);if(null!=l)return"ordinal"===l?Oa.Must:Oa.Not;if("arrayRows"===b)if("row"===c)for(a=a[f],b=0;b<(a||[]).length&&5>b;b++){if(null!=(h=g(a[e+b])))return h}else for(b=0;b<a.length&&5>b;b++){if((k=a[e+b])&&null!=(h=g(k[f])))return h}else if("objectRows"===b){if(!k)return Oa.Not;for(b=0;b<a.length&&5>b;b++)if((e=a[b])&&null!=(h=g(e[k])))return h}else if("keyedColumns"===
b){if(!k)return Oa.Not;a=a[k];if(!a||jb(a))return Oa.Not;for(b=0;b<a.length&&5>b;b++)if(null!=(h=g(a[b])))return h}else if("original"===b)for(b=0;b<a.length&&5>b;b++){e=a[b];h=De(e);if(!F(h))break;if(null!=(h=g(h[f])))return h}return Oa.Not}function cu(a,b){var c=a.color&&!a.colorLayer;y(b,function(d,e){"colorLayer"===e&&c||ea.hasClass(e)||("object"===typeof d?a[e]=a[e]?R(a[e],d,!1):N(d):null==a[e]&&(a[e]=d))})}function du(a){this.option={};this.option["\x00_ec_inner"]=1;this._componentsMap=U({series:[]});
this._seriesIndicesMap;cu(a,this._theme.option);R(a,eu,!1);this.mergeOption(a)}function fu(a,b){F(b)||(b=b?[b]:[]);var c={};y(b,function(d){c[d]=(a.get(d)||[]).slice()});return c}function Gj(a,b){a._seriesIndicesMap=U(a._seriesIndices=E(b,function(c){return c.componentIndex})||[])}function Qo(a,b){return b.hasOwnProperty("subType")?Pa(a,function(c){return c.subType===b.subType}):a}function Fg(a){if(D&&!a._seriesIndices)throw Error("Option should contains series.");}function Ro(a){y(gu,function(b){this[b]=
H(a[b],a)},this)}function ac(){this._coordinateSystems=[]}function Hj(a){this._api=a;this._timelineOptions=[];this._mediaList=[];this._currentMediaIndices=[]}function hu(a,b,c){var d=[],e=[],f,g=a.timeline;if(a.baseOption)var h=a.baseOption;if(g||a.options)h=h||{},d=(a.options||[]).slice();a.media&&(h=h||{},Gg(a.media,function(k){k&&k.option&&(k.query?e.push(k):f||(f=k))}));h||(h=a);h.timeline||(h.timeline=g);Gg([h].concat(d).concat(E(e,function(k){return k.option})),function(k){Gg(b,function(l){l(k,
c)})});return{baseOption:h,timelineOptions:d,mediaDefault:f,mediaList:e}}function iu(a,b,c){var d={width:b,height:c,aspectratio:b/c},e=!0;y(a,function(f,g){var h=g.match(ju);h&&h[1]&&h[2]&&(g=h[1],h=h[2].toLowerCase(),h=d[h],("min"===g?h>=f:"max"===g?h<=f:h===f)||(e=!1))});return e}function ku(a,b){return a.join(",")===b.join(",")}function lu(a,b){b=b||{};Gg(b,function(c,d){if(null!=c){var e=a[d];ea.hasClass(d)?(c=Ua(c),e=Ua(e),c=Oi(e,c),a[d]=Hg(c,function(f){return f.option&&f.exist?So(f.exist,f.option,
!0):f.exist||f.option})):a[d]=So(e,c,!0)}})}function Ij(a){var b=a&&a.itemStyle;if(b)for(var c=0,d=To.length;c<d;c++){var e=To[c],f=b.normal,g=b.emphasis;f&&f[e]&&(a[e]=a[e]||{},a[e].normal?R(a[e].normal,f[e]):a[e].normal=f[e],f[e]=null);g&&g[e]&&(a[e]=a[e]||{},a[e].emphasis?R(a[e].emphasis,g[e]):a[e].emphasis=g[e],g[e]=null)}}function Ia(a,b,c){if(a&&a[b]&&(a[b].normal||a[b].emphasis)){var d=a[b].normal,e=a[b].emphasis;d&&(c?(a[b].normal=a[b].emphasis=null,T(a[b],d)):a[b]=d);e&&(a.emphasis=a.emphasis||
{},a.emphasis[b]=e)}}function Ye(a){Ia(a,"itemStyle");Ia(a,"lineStyle");Ia(a,"areaStyle");Ia(a,"label");Ia(a,"labelLine");Ia(a,"upperLabel");Ia(a,"edgeLabel")}function pa(a,b){a=Ze(a)&&a[b];var c=Ze(a)&&a.textStyle;if(c)for(var d=0,e=Uo.length;d<e;d++)b=Uo[d],c.hasOwnProperty(b)&&(a[b]=c[b])}function eb(a){a&&(Ye(a),pa(a,"label"),a.emphasis&&pa(a.emphasis,"label"))}function mu(a){if(Ze(a)){Ij(a);Ye(a);pa(a,"label");pa(a,"upperLabel");pa(a,"edgeLabel");a.emphasis&&(pa(a.emphasis,"label"),pa(a.emphasis,
"upperLabel"),pa(a.emphasis,"edgeLabel"));var b=a.markPoint;b&&(Ij(b),eb(b));if(b=a.markLine)Ij(b),eb(b);(b=a.markArea)&&eb(b);var c=a.data;if("graph"===a.type){c=c||a.nodes;var d=a.links||a.edges;if(d&&!jb(d))for(b=0;b<d.length;b++)eb(d[b]);y(a.categories,function(e){Ye(e)})}if(c&&!jb(c))for(b=0;b<c.length;b++)eb(c[b]);if((b=a.markPoint)&&b.data)for(c=b.data,b=0;b<c.length;b++)eb(c[b]);if((b=a.markLine)&&b.data)for(c=b.data,b=0;b<c.length;b++)F(c[b])?(eb(c[b][0]),eb(c[b][1])):eb(c[b]);"gauge"===
a.type?(pa(a,"axisLabel"),pa(a,"title"),pa(a,"detail")):"treemap"===a.type?(Ia(a.breadcrumb,"itemStyle"),y(a.levels,function(e){Ye(e)})):"tree"===a.type&&Ye(a.leaves)}}function bc(a){return F(a)?a:a?[a]:[]}function Vo(a){return(F(a)?a[0]:a)||{}}function Wo(a){y(nu,function(b){b[0]in a&&!(b[1]in a)&&(a[b[1]]=a[b[0]])})}function ou(a){y(a,function(b,c){var d=[],e=[NaN,NaN],f=b.data,g=b.isStackedByIndex,h=f.map([b.stackResultDimension,b.stackedOverDimension],function(k,l,m){k=f.get(b.stackedDimension,
m);if(isNaN(k))return e;var n,p;g?p=f.getRawIndex(m):n=f.get(b.stackedByDimension,m);m=NaN;for(l=c-1;0<=l;l--){var q=a[l];g||(p=q.data.rawIndexOf(q.stackedByDimension,n));if(0<=p&&(q=q.data.getByRawIndex(q.stackResultDimension,p),0<=k&&0<q||0>=k&&0>q)){k+=q;m=q;break}}d[0]=k;d[1]=m;return d});f.hostModel.setData(h);b.data=h})}function Xo(a,b){sb.isInstance(a)||(a=sb.seriesDataToSource(a));this._source=a;var c=this._data=a.data,d=a.sourceFormat;if("typedArray"===d){if(D&&null==b)throw Error("Typed array data must specify dimension size");
this._offset=0;this._dimSize=b;this._data=c}a=pu["arrayRows"===d?d+"_"+a.seriesLayoutBy:d];D&&W(a,"Invalide sourceFormat: "+d);S(this,a)}function Yo(){return this._data.length}function Zo(a){return this._data[a]}function Jj(a){for(var b=0;b<a.length;b++)this._data.push(a[b])}function Kj(a,b,c,d){return null!=c?a[c]:a}function $o(a,b,c,d){return Lj(a[d],this._dimensionInfos[b])}function Lj(a,b){var c=b&&b.type;if("ordinal"===c)return(b=b&&b.ordinalMeta)?b.parseAndCollect(a):a;"time"===c&&"number"!==
typeof a&&null!=a&&"-"!==a&&(a=+Bg(a));return null==a||""===a?NaN:+a}function id(a,b,c){if(a){var d=a.getRawDataItem(b);if(null!=d){var e=a.getProvider().getSource().sourceFormat;if(a=a.getDimensionInfo(c)){var f=a.name;var g=a.index}return qu[e](d,b,g,f)}}}function $d(a){a=a||{};this._reset=a.reset;this._plan=a.plan;this._count=a.count;this._onDirty=a.onDirty;this._dirty=!0;this.context}function ap(a,b,c,d,e,f){bp.reset(c,d,e,f);a._callingProgress=b;a._callingProgress({start:c,end:d,count:d-c,next:bp.next},
a.context)}function ru(a,b){a._dueIndex=a._outputDueEnd=a._dueEnd=0;a._settedOutputEnd=null;var c;if(!b&&a._reset){if((c=a._reset(a.context))&&c.progress){var d=c.forceFirstProgress;c=c.progress}F(c)&&!c.length&&(c=null)}a._progress=c;a._modBy=a._modDataCount=null;(a=a._downstream)&&a.dirty();return d}function cp(a){var b=a.name;Pi(a)||(a.name=su(a)||b)}function su(a){var b=a.getRawData();a=b.mapDimension("seriesName",!0);var c=[];y(a,function(d){d=b.getDimensionInfo(d);d.displayName&&c.push(d.displayName)});
return c.join(" ")}function tu(a){return a.model.getRawData().count()}function uu(a){a=a.model;a.setData(a.getRawData().cloneShallow());return vu}function vu(a,b){b.outputData&&a.end>b.outputData.count()&&b.model.getRawData().cloneShallow(b.outputData)}function dp(a,b){y(a.CHANGABLE_METHODS,function(c){a.wrapMethod(c,O(wu,b))})}function wu(a){(a=Mj(a))&&a.setOutputEnd(this.count())}function Mj(a){var b=(a.ecModel||{}).scheduler;if(b=b&&b.getPipeline(a.uid)){if(b=b.currentTask){var c=b.agentStubMap;
c&&(b=c.get(a.uid))}return b}}function Wa(){this.group=new P;this.uid=Ag("viewChart");this.renderTask=new $d({plan:xu,reset:yu});this.renderTask.context={view:this}}function Nj(a,b,c){if(a&&(a.trigger(b,c),a.isGroup&&!to(a)))for(var d=0,e=a.childCount();d<e;d++)Nj(a.childAt(d),b,c)}function ep(a,b,c){var d=Xf(a,b),e=b&&null!=b.highlightKey?uo(b.highlightKey):null;null!=d?y(Ua(d),function(f){Nj(a.getItemGraphicEl(f),c,e)}):a.eachItemGraphicEl(function(f){Nj(f,c,e)})}function xu(a){return zu(a.model)}
function yu(a){var b=a.model,c=a.ecModel,d=a.api,e=a.payload,f=b.pipelineContext.progressiveRender;a=a.view;var g=e&&fp(e).updateMethod;f=f?"incrementalPrepareRender":g&&a[g]?g:"render";if("render"!==f)a[f](b,c,d,e);return Au[f]}function Ig(a,b,c){function d(){g=(new Date).getTime();h=null;a.apply(l,m||[])}var e,f=0,g=0,h=null,k,l,m,n;b=b||0;var p=function(){e=(new Date).getTime();l=this;m=arguments;var q=n||b,t=n||c;n=null;k=e-(t?f:g)-q;clearTimeout(h);t?h=setTimeout(d,q):0<=k?d():h=setTimeout(d,
-k);f=e};p.clear=function(){h&&(clearTimeout(h),h=null)};p.debounceNextCall=function(q){n=q};return p}function Jg(a,b,c,d){var e=a[b];if(e){var f=e["\x00__throttleOriginMethod"]||e,g=e["\x00__throttleType"];if(e["\x00__throttleRate"]!==c||g!==d){if(null==c||!d)return a[b]=f;e=a[b]=Ig(f,c,"debounce"===d);e["\x00__throttleOriginMethod"]=f;e["\x00__throttleType"]=d;e["\x00__throttleRate"]=c}return e}}function gp(a,b){var c=a[b];c&&c["\x00__throttleOriginMethod"]&&(a[b]=c["\x00__throttleOriginMethod"])}
function Kg(a,b,c,d){this.ecInstance=a;this.api=b;this.unfinished;c=this._dataProcessorHandlers=c.slice();d=this._visualHandlers=d.slice();this._allHandlers=c.concat(d);this._stageTaskMap=U()}function hp(a,b,c,d,e){e=e||{};var f;y(b,function(g,h){if(!e.visualType||e.visualType===g.visualType){var k=a._stageTaskMap.get(g.uid);h=k.seriesTaskMap;if(k=k.overallTask){var l;h=k.agentStubMap;h.each(function(n){!e.setDirty||e.dirtyMap&&!e.dirtyMap.get(n.__pipeline.id)||(n.dirty(),l=!0)});l&&k.dirty();ip(k,
d);var m=a.getPerformArgs(k,e.block);h.each(function(n){n.perform(m)});f|=k.perform(m)}else h&&h.each(function(n,p){!e.setDirty||e.dirtyMap&&!e.dirtyMap.get(n.__pipeline.id)||n.dirty();p=a.getPerformArgs(n,e.block);p.skip=!g.performRawSeries&&c.isSeriesFiltered(n.context.model);ip(n,d);f|=n.perform(p)})}});a.unfinished|=f}function Bu(a,b,c,d,e){function f(l){var m=l.uid;m=g.get(m)||g.set(m,new $d({plan:Cu,reset:Du,count:Eu}));m.context={model:l,ecModel:d,api:e,useClearVisual:b.isVisual&&!b.isLayout,
plan:b.plan,reset:b.reset,scheduler:a};Lg(a,l,m)}var g=c.seriesTaskMap||(c.seriesTaskMap=U());c=b.seriesType;var h=b.getTargetSeries;b.createOnAllSeries?d.eachRawSeries(f):c?d.eachRawSeriesByType(c,f):h&&h(d,e).each(f);var k=a._pipelineMap;g.each(function(l,m){k.get(m)||(l.dispose(),g.removeKey(m))})}function Fu(a,b,c,d,e){function f(p){var q=p.uid,t=h.get(q);t||(t=h.set(q,new $d({reset:Gu,onDirty:Hu})),g.dirty());t.context={model:p,overallProgress:l,modifyOutputEnd:m};t.agent=g;t.__block=l;Lg(a,
p,t)}var g=c.overallTask=c.overallTask||new $d({reset:Iu});g.context={ecModel:d,api:e,overallReset:b.overallReset,scheduler:a};var h=g.agentStubMap=g.agentStubMap||U();c=b.seriesType;var k=b.getTargetSeries,l=!0,m=b.modifyOutputEnd;c?d.eachRawSeriesByType(c,f):k?k(d,e).each(f):(l=!1,y(d.getSeries(),f));var n=a._pipelineMap;h.each(function(p,q){n.get(q)||(p.dispose(),g.dirty(),h.removeKey(q))})}function Iu(a){a.overallReset(a.ecModel,a.api,a.payload)}function Gu(a,b){return a.overallProgress&&Ju}function Ju(){this.agent.dirty();
this.getDownstream().dirty()}function Hu(){this.agent&&this.agent.dirty()}function Cu(a){return a.plan&&a.plan(a.model,a.ecModel,a.api,a.payload)}function Du(a){a.useClearVisual&&a.data.clearAllVisual();a=a.resetDefines=Ua(a.reset(a.model,a.ecModel,a.api,a.payload));return 1<a.length?E(a,function(b,c){return jp(c)}):Ku}function jp(a){return function(b,c){var d=c.data;if((c=c.resetDefines[a])&&c.dataEach)for(var e=b.start;e<b.end;e++)c.dataEach(d,e);else c&&c.progress&&c.progress(b,d)}}function Eu(a){return a.data.count()}
function Lg(a,b,c){a=a._pipelineMap.get(b.uid);!a.head&&(a.head=c);a.tail&&a.tail.pipe(c);a.tail=c;c.__idxInPipeline=a.count++;c.__pipeline=a}function kp(a,b){for(var c in b.prototype)a[c]=Za}function ae(a,b){return function(c,d,e){!b&&this._disposed?Xa(this.id):(c=c&&c.toLowerCase(),wa.prototype[a].call(this,c,d,e))}}function $e(){wa.call(this)}function af(a,b,c){function d(f,g){return f.__prio-g.__prio}c=c||{};"string"===typeof b&&(b=Mg[b]);this._dom=a;var e="canvas";D&&(e=("undefined"===typeof window?
global:window).__ECHARTS__DEFAULT__RENDERER__||e);a=this._zr=Mi(a,{renderer:c.renderer||e,devicePixelRatio:c.devicePixelRatio,width:c.width,height:c.height});this._throttledZrFlush=Ig(H(a.flush,a),17);(b=N(b))&&lp(b,!0);this._theme=b;this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._coordSysMgr=new ac;b=this._api=Lu(this);Qf(Ng,d);Qf(Oj,d);this._scheduler=new Kg(this,b,Oj,Ng);wa.call(this,this._ecEventProcessor=new Pj);this._messageCenter=new $e;this._initEvents();
this.resize=H(this.resize,this);this._pendingActions=[];a.animation.on("frame",this._onframe,this);Mu(a,this);Yh(this)}function mp(a,b,c){if(this._disposed)Xa(this.id);else{var d=this._model,e=this._coordSysMgr.getCoordinateSystems(),f;b=Ee(d,b);for(var g=0;g<e.length;g++){var h=e[g];if(h[a]&&null!=(f=h[a](d,b,c)))return f}D&&console.warn("No coordinate system that supports "+a+" found by the given finder.")}}function bf(a){var b=a._model,c=a._scheduler;c.restorePipelines(b);c.prepareStageTasks();
np(a,"component",b,c);np(a,"chart",b,c);c.plan()}function op(a,b,c,d,e){function f(l){l&&l.__alive&&l[b]&&l[b](l.__model,g,a._api,c)}var g=a._model;if(d){var h={};h[d+"Id"]=c[d+"Id"];h[d+"Index"]=c[d+"Index"];h[d+"Name"]=c[d+"Name"];h={mainType:d,query:h};e&&(h.subType=e);var k=c.excludeSeriesId;null!=k&&(k=U(Ua(k)));g&&g.eachComponent(h,function(l){k&&null!=k.get(l.id)||f(a["series"===d?"_chartsMap":"_componentsMap"][l.__viewId])},a)}else sa(a._componentsViews.concat(a._chartsViews),f)}function pp(a,
b){var c=a._chartsMap,d=a._scheduler;b.eachSeries(function(e){d.updateStreamModes(e,c[e.__viewId])})}function qp(a,b){var c=a.type,d=a.escapeConnect,e=Og[c],f=e.actionInfo,g=(f.update||"update").split(":"),h=g.pop();g=null!=g[0]&&Qj(g[0]);this.__flagInMainProcess=!0;var k=[a],l=!1;a.batch&&(l=!0,k=E(a.batch,function(q){q=T(S({},q),a);q.batch=null;return q}));var m=[],n="highlight"===c||"downplay"===c;sa(k,function(q){p=(p=e.action(q,this._model,this._api))||S({},q);p.type=f.event||p.type;m.push(p);
n?op(this,h,q,"series"):g&&op(this,h,q,g.main,g.sub)},this);"none"===h||n||g||(this.__optionUpdated?(bf(this),Bc.update.call(this,a),this.__optionUpdated=!1):Bc[h].call(this,a));var p=l?{type:f.event||c,escapeConnect:d,batch:m}:m[0];this.__flagInMainProcess=!1;!b&&this._messageCenter.trigger(p.type,p)}function Pg(a){for(var b=this._pendingActions;b.length;){var c=b.shift();qp.call(this,c,a)}}function Mu(a,b){a.on("rendered",function(){b.trigger("rendered");!a.animation.isFinished()||b.__optionUpdated||
b._scheduler.unfinished||b._pendingActions.length||b.trigger("finished")})}function np(a,b,c,d){function e(m){var n="_ec_"+m.id+"_"+m.type,p=h[n];if(!p){p=Qj(m.type);var q=f?Eb.getClass(p.main,p.sub):Wa.getClass(p.sub);D&&be(q,p.sub+" does not exist.");p=new q;p.init(c,l);h[n]=p;g.push(p);k.add(p.group)}m.__viewId=p.__id=n;p.__alive=!0;p.__model=m;p.group.__ecComponentInfo={mainType:m.mainType,index:m.componentIndex};!f&&d.prepareView(p,m,c,l)}var f="component"===b,g=f?a._componentsViews:a._chartsViews,
h=f?a._componentsMap:a._chartsMap,k=a._zr,l=a._api;for(a=0;a<g.length;a++)g[a].__alive=!1;f?c.eachComponent(function(m,n){"series"!==m&&e(n)}):c.eachSeries(e);for(a=0;a<g.length;)b=g[a],b.__alive?a++:(!f&&b.renderTask.dispose(),k.remove(b.group),b.dispose(c,l),g.splice(a,1),delete h[b.__id],b.__id=b.group.__ecComponentInfo=null)}function Rj(a){a.clearColorPalette();a.eachSeries(function(b){b.clearColorPalette()})}function rp(a,b,c,d){Nu(a,b,c,d);sa(a._chartsViews,function(e){e.__alive=!1});Sj(a,b,
c,d);sa(a._chartsViews,function(e){e.__alive||e.remove(b,c)})}function Nu(a,b,c,d,e){sa(e||a._componentsViews,function(f){var g=f.__model;f.render(g,b,c,d);sp(g,f)})}function Sj(a,b,c,d,e){var f=a._scheduler,g;b.eachSeries(function(h){var k=a._chartsMap[h.__viewId];k.__alive=!0;var l=k.renderTask;f.updatePayload(l,d);e&&e.get(h.uid)&&l.dirty();g|=l.perform(f.getPerformArgs(l));k.group.silent=!!h.get("silent");sp(h,k);Ou(h,k)});f.unfinished|=g;Pu(a,b);Qu(a._zr.dom,b)}function Tj(a,b){sa(tp,function(c){c(a,
b)})}function Xa(a){D&&console.warn("Instance "+a+" has been disposed")}function Pu(a,b){var c=0;a._zr.storage.traverse(function(d){c++});c>b.get("hoverLayerThreshold")&&!Q.node&&b.eachSeries(function(d){d.preventUsingHoverLayer||(d=a._chartsMap[d.__viewId],d.__alive&&d.group.traverse(function(e){e.useHoverLayer=!0}))})}function Ou(a,b){var c=a.get("blendMode")||null;D&&!Q.canvasSupported&&c&&"source-over"!==c&&console.warn("Only canvas support blendMode");b.group.traverse(function(d){d.isGroup||
d.style.blend!==c&&d.setStyle("blend",c);d.eachPendingDisplayable&&d.eachPendingDisplayable(function(e){e.setStyle("blend",c)})})}function sp(a,b){var c=a.get("z"),d=a.get("zlevel");b.group.traverse(function(e){"group"!==e.type&&(null!=c&&(e.z=c),null!=d&&(e.zlevel=d))})}function Lu(a){var b=a._coordSysMgr;return S(new Ro(a),{getCoordinateSystems:H(b.getCoordinateSystems,b),getComponentByElement:function(c){for(;c;){var d=c.__ecComponentInfo;if(null!=d)return a._model.getComponent(d.mainType,d.index);
c=c.parent}}})}function Pj(){this.eventInfo}function Ru(a){function b(c,d){for(var e=0;e<c.length;e++)c[e].__connectUpdateStatus=d}sa(Qg,function(c,d){a._messageCenter.on(d,function(e){if(Rg[a.group]&&0!==a.__connectUpdateStatus&&(!e||!e.escapeConnect)){var f=a.makeActionFromEvent(e),g=[];sa(jd,function(h){h!==a&&h.group===a.group&&g.push(h)});b(g,0);sa(g,function(h){1!==h.__connectUpdateStatus&&h.dispatchAction(f)});b(g,2)}})})}function up(a){Rg[a]=!1}function Uj(a){var b=jd,c=Vj;a=a.getAttribute?
a.getAttribute(c):a[c];return b[a]}function Fb(a){vp.push(a)}function kd(a,b){Wj(Oj,a,b,1E3)}function ta(a,b,c){"function"===typeof b&&(c=b,b="");var d=cf(a)?a.type:[a,a={event:b}][0];a.event=(a.event||d).toLowerCase();b=a.event;be(wp.test(d)&&wp.test(b));Og[d]||(Og[d]={action:c,actionInfo:a});Qg[b]=d}function ce(a,b){Wj(Ng,a,b,1E3,"layout")}function de(a,b){Wj(Ng,a,b,3E3,"visual")}function Wj(a,b,c,d,e){if(Su(b)||cf(b))c=b,b=d;if(D){if(isNaN(b)||null==b)throw Error("Illegal priority");sa(a,function(f){be(f.__raw!==
c)})}d=Kg.wrapStageHandler(c,e);d.__prio=b;d.__raw=c;a.push(d);return d}function cc(a){return ea.extend(a)}function Gb(a){return Eb.extend(a)}function xp(a){return ee.extend(a)}function yp(a){return Wa.extend(a)}function zp(a){return a}function Sg(a,b,c,d,e){this._old=a;this._new=b;this._oldKeyGetter=c||zp;this._newKeyGetter=d||zp;this.context=e}function Ap(a,b,c,d,e){for(var f=0;f<a.length;f++){var g="_ec_"+e[d](a[f],f),h=b[g];null==h?(c.push(g),b[g]=f):(h.length||(b[g]=h=[h]),h.push(f))}}function Tu(a){var b=
{},c=b.encode={},d=U(),e=[],f=[],g=b.userOutput={dimensionNames:a.dimensions.slice(),encode:{}};y(a.dimensions,function(m){var n=a.getDimensionInfo(m),p=n.coordDim;if(p){D&&W(null==Xj.get(p));var q=n.coordDimIndex;Yj(c,p)[q]=m;n.isExtraCoord||(d.set(p,1),Uu(n.type)&&(e[0]=m),Yj(g.encode,p)[q]=n.index);n.defaultTooltip&&f.push(m)}Xj.each(function(t,r){t=Yj(c,r);r=n.otherDims[r];null!=r&&!1!==r&&(t[r]=n.name)})});var h=[],k={};d.each(function(m,n){m=c[n];k[n]=m[0];h=h.concat(m)});b.dataDimsOnCoord=
h;b.encodeFirstDimNotExtra=k;var l=c.label;l&&l.length&&(e=l.slice());(l=c.tooltip)&&l.length?f=l.slice():f.length||(f=e.slice());c.defaultedLabel=e;c.defaultedTooltip=f;return b}function Yj(a,b){a.hasOwnProperty(b)||(a[b]=[]);return a[b]}function Uu(a){return!("ordinal"===a||"time"===a)}function df(a){null!=a&&S(this,a);this.otherDims={}}function Bp(a,b){y(Vu.concat(b.__wrappedMethods||[]),function(c){b.hasOwnProperty(c)&&(a[c]=b[c])});a.__wrappedMethods=b.__wrappedMethods;y(Wu,function(c){a[c]=
N(b[c])});a._calculationInfo=S(b._calculationInfo)}function Cp(a,b,c,d,e){var f=Xu[b.type],g=d-1;b=b.name;var h=a[b][g];if(h&&h.length<c){for(var k=new f(Math.min(e-g*c,c)),l=0;l<h.length;l++)k[l]=h[l];a[b][g]=k}for(d*=c;d<e;d+=c)a[b].push(new f(Math.min(e-d,c)))}function Dp(a){var b=a._invertedIndicesMap;y(b,function(c,d){if(c=a._dimensionInfos[d].ordinalMeta){c=b[d]=new Yu(c.categories.length);for(var e=0;e<c.length;e++)c[e]=-1;for(e=0;e<a._count;e++)c[a.get(d,e)]=e}})}function Ep(a,b,c){if(null!=
b){var d=a._chunkSize;b=a.dimensions[b];var e=a._storage[b][Math.floor(c/d)];if(e){var f=e[c%d];(a=a._dimensionInfos[b].ordinalMeta)&&a.categories.length&&(f=a.categories[f])}}return f}function ef(a){return a}function ff(a){return a<this._count&&0<=a?this._indices[a]:-1}function Zj(a,b){var c=a._idList[b];null==c&&(c=Ep(a,a._idDimIdx,b));null==c&&(c="e\x00\x00"+b);return c}function ak(a){F(a)||(a=[a]);return a}function Tg(a,b){for(var c=0;c<b.length;c++)a._dimensionInfos[b[c]]||console.error("Unkown dimension "+
b[c])}function Fp(a,b){var c=a.dimensions,d=new Ya(E(c,a.getDimensionInfo,a),a.hostModel);Bp(d,a);var e=d._storage={};a=a._storage;for(var f=0;f<c.length;f++){var g=c[f];if(a[g])if(0<=ba(b,g)){for(var h=g,k=a[g],l=Array(k.length),m=0;m<k.length;m++){var n=m;var p=k[m];var q=p.constructor;p=q===Array?p.slice():new q(p);l[n]=p}e[h]=l;d._rawExtent[g]=[Infinity,-Infinity];d._extent[g]=null}else e[g]=a[g]}return d}function Gp(a,b,c){function d(r,u,v){null!=Xj.get(u)?r.otherDims[u]=v:(r.coordDim=u,r.coordDimIndex=
v,g.set(u,!0))}sb.isInstance(b)||(b=sb.seriesDataToSource(b));c=c||{};a=(a||[]).slice();for(var e=(c.dimsDef||[]).slice(),f=U(),g=U(),h=[],k=Zu(b,a,e,c.dimCount),l=0;l<k;l++){var m=e[l]=S({},M(e[l])?e[l]:{name:e[l]}),n=m.name,p=h[l]=new df;null!=n&&null==f.get(n)&&(p.name=p.displayName=n,f.set(n,l));null!=m.type&&(p.type=m.type);null!=m.displayName&&(p.displayName=m.displayName)}var q=c.encodeDef;!q&&c.encodeDefaulter&&(q=c.encodeDefaulter(b,k));q=U(q);q.each(function(r,u){r=Ua(r).slice();if(1===
r.length&&!ja(r[0])&&0>r[0])q.set(u,!1);else{var v=q.set(u,[]);y(r,function(w,x){ja(w)&&(w=f.get(w));null!=w&&w<k&&(v[x]=w,d(h[w],u,x))})}});var t=0;y(a,function(r,u){if(ja(r)){var v=r;r={}}else{v=r.name;u=r.ordinalMeta;r.ordinalMeta=null;r=N(r);r.ordinalMeta=u;var w=r.dimsDef;var x=r.otherDims;r.name=r.coordDim=r.coordDimIndex=r.dimsDef=r.otherDims=null}u=q.get(v);if(!1!==u){u=Ua(u);if(!u.length)for(var z=0;z<(w&&w.length||1);z++){for(;t<h.length&&null!=h[t].coordDim;)t++;t<h.length&&u.push(t++)}y(u,
function(A,B){A=h[A];d(T(A,r),v,B);null==A.name&&w&&(B=w[B],!M(B)&&(B={name:B}),A.name=A.displayName=B.name,A.defaultTooltip=B.defaultTooltip);x&&T(A.otherDims,x)})}});a=c.generateCoord;c=c.generateCoordCount;e=null!=c;c=a?c||1:0;l=a||"value";for(m=0;m<k;m++){p=h[m]=h[m]||new df;if(null==p.coordDim){p.coordDim=Hp(l,g,e);p.coordDimIndex=0;if(!a||0>=c)p.isExtraCoord=!0;c--}null==p.name&&(p.name=Hp(p.coordDim,f));null!=p.type||Po(b.data,b.sourceFormat,b.seriesLayoutBy,b.dimensionsDefine,b.startIndex,
m)!==Oa.Must&&(!p.isExtraCoord||null==p.otherDims.itemName&&null==p.otherDims.seriesName)||(p.type="ordinal")}return h}function Zu(a,b,c,d){var e=Math.max(a.dimensionsDetectCount||1,b.length,c.length,d||0);y(b,function(f){(f=f.dimsDef)&&(e=Math.max(e,f.length))});return e}function Hp(a,b,c){if(c||null!=b.get(a)){for(c=0;null!=b.get(a+c);)c++;a+=c}b.set(a,!0);return a}function $u(a){this.coordSysName=a;this.coordSysDims=[];this.axisMap=U();this.categoryAxisMap=U();this.firstCategoryDimIndex=null}function av(a){var b=
a.get("coordinateSystem"),c=new $u(b);if(b=bv[b])return b(a,c,c.axisMap,c.categoryAxisMap),c}function fe(a){return"category"===a.get("type")}function Ip(a,b,c){c=c||{};var d=c.byIndex,e=c.stackedCoordDimension,f=!(!a||!a.get("stack")),g,h;y(b,function(p,q){ja(p)&&(b[q]=p={name:p});f&&!p.isExtraCoord&&(d||g||!p.ordinalMeta||(g=p),h||"ordinal"===p.type||"time"===p.type||e&&e!==p.coordDim||(h=p))});!h||d||g||(d=!0);if(h){var k="__\x00ecstackresult";var l="__\x00ecstackedover";g&&(g.createInvertedIndices=
!0);var m=h.coordDim;a=h.type;var n=0;y(b,function(p){p.coordDim===m&&n++});b.push({name:k,coordDim:m,coordDimIndex:n,type:a,isExtraCoord:!0,isCalculationCoord:!0});n++;b.push({name:l,coordDim:l,coordDimIndex:n,type:a,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:h&&h.name,stackedByDimension:g&&g.name,isStackedByIndex:d,stackedOverDimension:l,stackResultDimension:k}}function Cc(a,b){return!!b&&b===a.getCalculationInfo("stackedDimension")}function bk(a,b){return Cc(a,b)?a.getCalculationInfo("stackResultDimension"):
b}function ck(a,b,c){c=c||{};sb.isInstance(a)||(a=sb.seriesDataToSource(a));var d=b.get("coordinateSystem");d=ac.get(d);var e=av(b),f;e&&(f=E(e.coordSysDims,function(k){var l={name:k};if(k=e.axisMap.get(k))k=k.get("type"),l.type="category"===k?"ordinal":"time"===k?"time":"float";return l}));f||(f=d&&(d.getDimensionsInfo?d.getDimensionsInfo():d.dimensions.slice())||["x","y"]);f=dk(a,{coordDimensions:f,generateCoord:c.generateCoord,encodeDefaulter:c.useEncodeDefaulter?O(au,f,b):null});var g,h;e&&y(f,
function(k,l){var m=e.categoryAxisMap.get(k.coordDim);m&&(null==g&&(g=l),k.ordinalMeta=m.getOrdinalMeta());null!=k.otherDims.itemName&&(h=!0)});h||null==g||(f[g].otherDims.itemName=0);c=Ip(b,f);b=new Ya(f,b);b.setCalculationInfo(c);c=null!=g&&cv(a)?function(k,l,m,n){return n===g?m:this.defaultDimValueGetter(k,l,m,n)}:null;b.hasItemOption=!1;b.initData(a,null,c);return b}function cv(a){if("original"===a.sourceFormat){a=a.data||[];for(var b=0;b<a.length&&null==a[b];)b++;a=a[b];return null!=a&&!F(De(a))}}
function qa(a){this._setting=a||{};this._extent=[Infinity,-Infinity];this._interval=0;this.init&&this.init.apply(this,arguments)}function gf(a){this.categories=a.categories||[];this._needCollect=a.needCollect;this._deduplication=a.deduplication}function dv(a){return M(a)&&null!=a.value?a.value:a+""}function Jp(a,b){!isFinite(a[0])&&(a[0]=b[0]);!isFinite(a[1])&&(a[1]=b[1]);a[0]=Math.max(Math.min(a[0],b[1]),b[0]);a[1]=Math.max(Math.min(a[1],b[1]),b[0]);a[0]>a[1]&&(a[0]=a[1])}function ek(a){return a.get("stack")||
"__ec_stack_"+a.seriesIndex}function Kp(a,b){var c=[];b.eachSeriesByType(a,function(d){!d.coordinateSystem||"cartesian2d"!==d.coordinateSystem.type||d.pipelineContext&&d.pipelineContext.large||c.push(d)});return c}function ev(a){var b={};y(a,function(h){var k=h.coordinateSystem.getBaseAxis();if("time"===k.type||"value"===k.type){h=h.getData();var l=k.dim+"_"+k.index;k=h.mapDimension(k.dim);for(var m=0,n=h.count();m<n;++m){var p=h.get(k,m);b[l]?b[l].push(p):b[l]=[p]}}});a=[];for(var c in b)if(b.hasOwnProperty(c)){var d=
b[c];if(d){d.sort(function(h,k){return h-k});for(var e=null,f=1;f<d.length;++f){var g=d[f]-d[f-1];0<g&&(e=null===e?g:Math.min(e,g))}a[c]=e}}return a}function fk(a){var b=ev(a),c=[];y(a,function(d){var e=d.coordinateSystem.getBaseAxis(),f=e.getExtent();if("category"===e.type)var g=e.getBandWidth();else if("value"===e.type||"time"===e.type){g=b[e.dim+"_"+e.index];f=Math.abs(f[1]-f[0]);var h=e.scale.getExtent();h=Math.abs(h[1]-h[0]);g=g?f/h*g:f}else g=d.getData(),g=Math.abs(f[1]-f[0])/g.count();f=J(d.get("barWidth"),
g);h=J(d.get("barMaxWidth"),g);var k=J(d.get("barMinWidth")||1,g),l=d.get("barGap"),m=d.get("barCategoryGap");c.push({bandWidth:g,barWidth:f,barMaxWidth:h,barMinWidth:k,barGap:l,barCategoryGap:m,axisKey:e.dim+e.index,stackId:ek(d)})});return fv(c)}function fv(a){var b={};y(a,function(d,e){var f=d.axisKey;e=d.bandWidth;e=b[f]||{bandWidth:e,remainedWidth:e,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var g=e.stacks;b[f]=e;f=d.stackId;g[f]||e.autoWidthCount++;g[f]=g[f]||{width:0,maxWidth:0};
var h=d.barWidth;h&&!g[f].width&&(g[f].width=h,h=Math.min(e.remainedWidth,h),e.remainedWidth-=h);(h=d.barMaxWidth)&&(g[f].maxWidth=h);(h=d.barMinWidth)&&(g[f].minWidth=h);g=d.barGap;null!=g&&(e.gap=g);d=d.barCategoryGap;null!=d&&(e.categoryGap=d)});var c={};y(b,function(d,e){c[e]={};var f=d.stacks,g=d.bandWidth,h=J(d.categoryGap,g),k=J(d.gap,1),l=d.remainedWidth,m=d.autoWidthCount,n=(l-h)/(m+(m-1)*k);n=Math.max(n,0);y(f,function(r){var u=r.maxWidth,v=r.minWidth;if(r.width)w=r.width,u&&(w=Math.min(w,
u)),v&&(w=Math.max(w,v)),r.width=w,l-=w+k*w,m--;else{var w=n;u&&u<w&&(w=Math.min(u,l));v&&v>w&&(w=v);w!==n&&(r.width=w,l-=w+k*w,m--)}});n=(l-h)/(m+(m-1)*k);n=Math.max(n,0);var p=0,q;y(f,function(r,u){r.width||(r.width=n);q=r;p+=r.width*(1+k)});q&&(p-=q.width*k);var t=-p/2;y(f,function(r,u){c[e][u]=c[e][u]||{bandWidth:g,offset:t,width:r.width};t+=r.width*(1+k)})});return c}function Lp(a,b,c){if(a&&b)return a=a[b.dim+b.index],null!=a&&null!=c&&(a=a[ek(c)]),a}function gv(a,b){var c=a.type,d=b.getMin(),
e=b.getMax(),f=a.getExtent();if("ordinal"===c)var g=b.getCategories().length;else{var h=b.get("boundaryGap");F(h)||(h=[h||0,h||0]);"boolean"===typeof h[0]&&(D&&console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),h=[0,0]);h[0]=J(h[0],1);h[1]=J(h[1],1);var k=f[1]-f[0]||Math.abs(f[0])}"dataMin"===d?d=f[0]:"function"===typeof d&&(d=d({min:f[0],max:f[1]}));"dataMax"===e?e=f[1]:"function"===
typeof e&&(e=e({min:f[0],max:f[1]}));var l=null!=d,m=null!=e;null==d&&(d="ordinal"===c?g?0:NaN:f[0]-h[0]*k);null==e&&(e="ordinal"===c?g?g-1:NaN:f[1]+h[1]*k);null!=d&&isFinite(d)||(d=NaN);null!=e&&isFinite(e)||(e=NaN);a.setBlank(we(d)||we(e)||"ordinal"===c&&!a.getOrdinalMeta().categories.length);b.getNeedCrossZero()&&(0<d&&0<e&&!l&&(d=0),0>d&&0>e&&!m&&(e=0));if((a=b.ecModel)&&"time"===c){c=Kp("bar",a);var n;y(c,function(p){n|=p.getBaseAxis()===b.axis});n&&(c=fk(c),e=hv(d,e,b,c),d=e.min,e=e.max)}return{extent:[d,
e],fixMin:l,fixMax:m}}function hv(a,b,c,d){var e=c.axis.getExtent();e=e[1]-e[0];c=Lp(d,c.axis);if(void 0===c)return{min:a,max:b};var f=Infinity;y(c,function(h){f=Math.min(h.offset,f)});var g=-Infinity;y(c,function(h){g=Math.max(h.offset+h.width,g)});f=Math.abs(f);g=Math.abs(g);c=f+g;d=b-a;e=d/(1-(f+g)/e)-d;b+=g/c*e;a-=f/c*e;return{min:a,max:b}}function gk(a,b){var c=gv(a,b),d=c.extent,e=b.get("splitNumber");"log"===a.type&&(a.base=b.get("logBase"));var f=a.type;a.setExtent(d[0],d[1]);a.niceExtent({splitNumber:e,
fixMin:c.fixMin,fixMax:c.fixMax,minInterval:"interval"===f||"time"===f?b.get("minInterval"):null,maxInterval:"interval"===f||"time"===f?b.get("maxInterval"):null});b=b.get("interval");null!=b&&a.setInterval&&a.setInterval(b)}function hk(a,b){if(b=b||a.get("type"))switch(b){case "category":return new ik(a.getOrdinalMeta?a.getOrdinalMeta():a.getCategories(),[Infinity,-Infinity]);case "value":return new dc;default:return(qa.getClass(b)||dc).create(a)}}function hf(a){var b=a.getLabelModel().get("formatter"),
c="category"===a.type?a.scale.getExtent()[0]:null;return"string"===typeof b?b=function(d){return function(e){e=a.scale.getLabel(e);return d.replace("{value}",null!=e?e:"")}}(b):"function"===typeof b?function(d,e){null!=c&&(e=d-c);return b(jk(a,d),e)}:function(d){return a.scale.getLabel(d)}}function jk(a,b){return"category"===a.type?a.scale.getLabel(b):b}function kk(a){a=a.get("interval");return null==a?"auto":a}function Mp(a){return"category"===a.type&&0===kk(a.getLabelModel())}function iv(a,b){if("image"!==
this.type){var c=this.style,d=this.shape;d&&"line"===d.symbolType?c.stroke=a:this.__isEmptyBrush?(c.stroke=a,c.fill=b||"#fff"):(c.fill&&(c.fill=a),c.stroke&&(c.stroke=a));this.dirty(!1)}}function ld(a,b,c,d,e,f,g){var h=0===a.indexOf("empty");h&&(a=a.substr(5,1).toLowerCase()+a.substr(6));a=0===a.indexOf("image://")?no(a.slice(8),new aa(b,c,d,e),g?"center":"cover"):0===a.indexOf("path://")?sj(a.slice(7),{},new aa(b,c,d,e),g?"center":"cover"):new jv({shape:{symbolType:a,x:b,y:c,width:d,height:e}});
a.__isEmptyBrush=h;a.setColor=iv;a.setColor(f);return a}function md(a,b,c){var d=0,e=a[0];if(!e)return!1;for(var f=1;f<a.length;f++){var g=a[f];d+=Tb(e[0],e[1],g[0],g[1],b,c);e=g}a=a[0];1E-8>Math.abs(e[0]-a[0])&&1E-8>Math.abs(e[1]-a[1])||(d+=Tb(e[0],e[1],a[0],a[1],b,c));return 0!==d}function Ug(a,b,c){this.name=a;this.geometries=b;c?c=[c[0],c[1]]:(a=this.getBoundingRect(),c=[a.x+a.width/2,a.y+a.height/2]);this.center=c}function kv(a){if(!a.UTF8Encoding)return a;var b=a.UTF8Scale;null==b&&(b=1024);
for(var c=a.features,d=0;d<c.length;d++)for(var e=c[d].geometry,f=e.coordinates,g=e.encodeOffsets,h=0;h<f.length;h++){var k=f[h];if("Polygon"===e.type)f[h]=Np(k,g[h],b);else if("MultiPolygon"===e.type)for(var l=0;l<k.length;l++)k[l]=Np(k[l],g[h][l],b)}a.UTF8Encoding=!1;return a}function Np(a,b,c){var d=[],e=b[0];b=b[1];for(var f=0;f<a.length;f+=2){var g=a.charCodeAt(f)-64,h=a.charCodeAt(f+1)-64;g=g>>1^-(g&1);h=h>>1^-(h&1);g+=e;h+=b;e=g;b=h;d.push([g/c,h/c])}return d}function Op(a,b){var c=Pp(a,"labels");
b=kk(b);var d=Qp(c,b);if(d)return d;if(va(b))a=Rp(a,b);else{if("auto"===b){var e=jf(a).autoInterval;e=null!=e?e:jf(a).autoInterval=a.calculateCategoryInterval()}else e=b;a=Sp(a,e)}return Tp(c,b,{labels:a,labelCategoryInterval:e})}function lv(a,b){var c=Pp(a,"ticks"),d=kk(b),e=Qp(c,d);if(e)return e;if(!b.get("show")||a.scale.isBlank())b=[];if(va(d))b=Rp(a,d,!0);else if("auto"===d){a=Op(a,a.getLabelModel());var f=a.labelCategoryInterval;b=E(a.labels,function(g){return g.tickValue})}else f=d,b=Sp(a,
f,!0);return Tp(c,d,{ticks:b,tickCategoryInterval:f})}function mv(a){var b=a.scale.getTicks(),c=hf(a);return{labels:E(b,function(d,e){return{formattedLabel:c(d,e),rawLabel:a.scale.getLabel(d),tickValue:d}})}}function Pp(a,b){return jf(a)[b]||(jf(a)[b]=[])}function Qp(a,b){for(var c=0;c<a.length;c++)if(a[c].key===b)return a[c].value}function Tp(a,b,c){a.push({key:b,value:c});return c}function Sp(a,b,c){function d(n){k.push(c?n:{formattedLabel:e(n),rawLabel:f.getLabel(n),tickValue:n})}var e=hf(a),f=
a.scale,g=f.getExtent(),h=a.getLabelModel(),k=[];b=Math.max((b||0)+1,1);var l=g[0],m=f.count();0!==l&&1<b&&2<m/b&&(l=Math.round(Math.ceil(l/b)*b));m=Mp(a);a=h.get("showMinLabel")||m;h=h.get("showMaxLabel")||m;for(a&&l!==g[0]&&d(g[0]);l<=g[1];l+=b)d(l);h&&l-b!==g[1]&&d(g[1]);return k}function Rp(a,b,c){var d=a.scale,e=hf(a),f=[];y(d.getTicks(),function(g){var h=d.getLabel(g);b(g,h)&&f.push(c?g:{formattedLabel:e(g),rawLabel:h,tickValue:g})});return f}function Up(a,b){b=(a[1]-a[0])/b/2;a[0]+=b;a[1]-=
b}function nv(a,b,c,d){function e(k,l){k=da(k);l=da(l);return h?k>l:k<l}var f=b.length;if(a.onBand&&!c&&f){c=a.getExtent();if(1===f)b[0].coord=c[0],f=b[1]={coord:c[0]};else{var g=(b[f-1].coord-b[0].coord)/(b[f-1].tickValue-b[0].tickValue);y(b,function(k){k.coord-=g/2});a=1+a.scale.getExtent()[1]-b[f-1].tickValue;f={coord:b[f-1].coord+g*a};b.push(f)}var h=c[0]>c[1];e(b[0].coord,c[0])&&(d?b[0].coord=c[0]:b.shift());d&&e(c[0],b[0].coord)&&b.unshift({coord:c[0]});e(c[1],f.coord)&&(d?f.coord=c[1]:b.pop());
d&&e(f.coord,c[1])&&b.push({coord:c[1]})}}function ov(a){return this._axes[a]}function kf(a){Vg.call(this,a)}function Vp(a,b){return b.type||(b.data?"category":"value")}function ge(a,b,c){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(a,b,c);this.model=a}function Wp(a,b,c,d){function e(h){return h.dim+"_"+h.index}c.getAxesOnZeroOf=function(){return f?[f]:[]};a=a[b];var f;b=c.model;c=b.get("axisLine.onZero");b=b.get("axisLine.onZeroAxisIndex");if(c){if(null!=
b)Xp(a[b])&&(f=a[b]);else for(var g in a)if(a.hasOwnProperty(g)&&Xp(a[g])&&!d[e(a[g])]){f=a[g];break}f&&(d[e(f)]=!0)}}function Xp(a){var b;if(b=a&&"category"!==a.type&&"time"!==a.type)b=a.scale.getExtent(),a=b[0],b=b[1],b=!(0<a&&0<b||0>a&&0>b);return b}function pv(a,b){var c=a.getExtent(),d=c[0]+c[1];a.toGlobalCoord="x"===a.dim?function(e){return e+b}:function(e){return d-e+b};a.toLocalCoord="x"===a.dim?function(e){return e-b}:function(e){return d-e+b}}function Yp(a,b){return E(qv,function(c){var d=
a.getReferringComponents(c)[0];if(D&&!d)throw Error(c+' "'+Ea(a.get(c+"Index"),a.get(c+"Id"),0)+'" not found');return d})}function Zp(a){return"cartesian2d"===a.get("coordinateSystem")}function $p(a,b){var c=a.mapDimension("defaultedLabel",!0),d=c.length;if(1===d)return id(a,b,c[0]);if(d){d=[];for(var e=0;e<c.length;e++){var f=id(a,b,c[e]);d.push(f)}return d.join(" ")}}function aq(a,b,c){var d=a.getArea();a=a.getBaseAxis().isHorizontal();var e=d.x,f=d.y,g=d.width;d=d.height;var h=c.get("lineStyle.width")||
2;d+=h;e=Math.floor(e-h/2);g=Math.round(g+h);e=new ma({shape:{x:e,y:f-h/2,width:g,height:d}});b&&(e.shape[a?"width":"height"]=0,zc(e,{shape:{width:g,height:d}},c));return e}function bq(a,b,c){var d=a.getArea();a=new Dc({shape:{cx:da(a.cx,1),cy:da(a.cy,1),r0:da(d.r0,1),r:da(d.r,1),startAngle:d.startAngle,endAngle:d.endAngle,clockwise:d.clockwise}});b&&(a.shape.endAngle=d.startAngle,zc(a,{shape:{endAngle:d.endAngle}},c));return a}function rv(a,b){var c=a.getArea&&a.getArea();"cartesian2d"===a.type&&
(a=a.getBaseAxis(),"category"===a.type&&a.onBand||(b=b.getLayout("bandWidth"),a.isHorizontal()?(c.x-=b,c.width+=2*b):(c.y-=b,c.height+=2*b)));return c}function cq(a,b,c){c.style.text=null;oa(c,{shape:{width:0}},b,a,function(){c.parent&&c.parent.remove(c)})}function dq(a,b,c){c.style.text=null;oa(c,{shape:{r:c.shape.r0}},b,a,function(){c.parent&&c.parent.remove(c)})}function lk(a){return null!=a.startAngle&&null!=a.endAngle&&a.startAngle===a.endAngle}function eq(a,b,c,d,e,f,g,h){g=b.getItemVisual(c,
"color");var k=b.getItemVisual(c,"opacity"),l=b.getVisual("borderColor"),m=d.getModel("itemStyle");b=d.getModel("emphasis.itemStyle").getBarItemStyle();h||a.setShape("r",m.get("barBorderRadius")||0);a.useStyle(T({stroke:lk(e)?"none":l,fill:lk(e)?"none":g,opacity:k},m.getBarItemStyle()));(k=d.getShallow("cursor"))&&a.attr("cursor",k);h||(h=a.style,k=d.getModel("label"),d=d.getModel("emphasis.label"),Td(h,b,k,d,{labelFetcher:f,labelDataIndex:c,defaultText:$p(f.getData(),c),isRectText:!0,autoColor:g}),
"outside"===h.textPosition&&(h.textPosition=void 0),"outside"===b.textPosition&&(b.textPosition=void 0));lk(e)&&(b.fill=b.stroke="none");db(a,b)}function fq(a,b,c){var d=a.getData(),e=[],f=d.getLayout("valueAxisHorizontal")?1:0;e[1-f]=d.getLayout("valueAxisStart");var g=d.getLayout("largeDataIndices"),h=d.getLayout("barWidth"),k=a.getModel("backgroundStyle");if(a.get("showBackground",!0)){var l=d.getLayout("largeBackgroundPoints"),m=[];m[1-f]=d.getLayout("backgroundStart");l=new gq({shape:{points:l},
incremental:!!c,__startPoint:m,__baseDimIdx:f,__largeDataIndices:g,__barWidth:h,silent:!0,z2:0});m=k.get("borderColor")||k.get("color");k=k.getItemStyle(["color","borderColor"]);l.useStyle(k);l.style.fill=null;l.style.stroke=m;l.style.lineWidth=d.getLayout("barWidth");b.add(l)}c=new gq({shape:{points:d.getLayout("largePoints")},incremental:!!c,__startPoint:e,__baseDimIdx:f,__largeDataIndices:g,__barWidth:h});b.add(c);b=d.getVisual("borderColor")||d.getVisual("color");e=a.getModel("itemStyle").getItemStyle(["color",
"borderColor"]);c.useStyle(e);c.style.fill=null;c.style.stroke=b;c.style.lineWidth=d.getLayout("barWidth");c.seriesIndex=a.seriesIndex;a.get("silent")||(c.on("mousedown",hq),c.on("mousemove",hq))}function iq(a,b,c){var d="polar"===c.type;c=d?c.getArea():c.grid.getRect();return d?{cx:c.cx,cy:c.cy,r0:a?c.r0:b.r0,r:a?c.r:b.r,startAngle:a?b.startAngle:0,endAngle:a?b.endAngle:2*Math.PI}:{x:a?b.x:c.x,y:a?c.y:b.y,width:a?b.width:c.width,height:a?c.height:b.height}}function sv(a,b,c,d){a=yj(c-a.rotation);
d=d[0]>d[1];d="start"===b&&!d||"start"!==b&&d;We(a-Ec/2)?(b=d?"bottom":"top",d="center"):We(a-1.5*Ec)?(b=d?"top":"bottom",d="center"):(b="middle",d=a<1.5*Ec&&a>Ec/2?d?"left":"right":d?"right":"left");return{rotation:a,textAlign:d,textVerticalAlign:b}}function fb(a){a&&(a.ignore=!0)}function jq(a,b,c){c=a&&a.getBoundingRect().clone();var d=b&&b.getBoundingRect().clone();if(c&&d){var e=ze([]);Ae(e,e,-a.rotation);c.applyTransform(Sc([],e,a.getLocalTransform()));d.applyTransform(Sc([],e,b.getLocalTransform()));
return c.intersect(d)}}function kq(a,b,c,d,e){for(var f=[],g=[],h=[],k=0;k<a.length;k++){var l=a[k].coord;g[0]=l;g[1]=0;h[0]=l;h[1]=c;b&&(Ca(g,g,b),Ca(h,h,b));l=new tb({anid:e+"_"+a[k].tickValue,subPixelOptimize:!0,shape:{x1:g[0],y1:g[1],x2:h[0],y2:h[1]},style:d,z2:2,silent:!0});f.push(l)}return f}function tv(a,b,c){var d=b.axis;if(Ea(c.axisLabelShow,b.get("axisLabel.show"))&&!d.scale.isBlank()){var e=b.getModel("axisLabel"),f=e.get("margin"),g=d.getViewLabels(),h=(Ea(c.labelRotate,e.get("rotate"))||
0)*Ec/180,k=lq(c.rotation,h,c.labelDirection),l=b.getCategories&&b.getCategories(!0),m=[],n=mq(b),p=b.get("triggerEvent");y(g,function(q,t){var r=q.tickValue,u=q.formattedLabel;q=q.rawLabel;var v=e;l&&l[r]&&l[r].textStyle&&(v=new ka(l[r].textStyle,e,b.ecModel));var w=v.getTextColor()||b.get("axisLine.lineStyle.color"),x=[d.dataToCoord(r),c.labelOffset+c.labelDirection*f];x=new ua({anid:"label_"+r,position:x,rotation:k.rotation,silent:n,z2:10});Ma(x.style,v,{text:u,textAlign:v.getShallow("align",!0)||
k.textAlign,textVerticalAlign:v.getShallow("verticalAlign",!0)||v.getShallow("baseline",!0)||k.textVerticalAlign,textFill:"function"===typeof w?w("category"===d.type?q:"value"===d.type?r+"":r,t):w});p&&(x.eventData=nq(b),x.eventData.targetType="axisLabel",x.eventData.value=q);a._dumbGroup.add(x);x.updateTransform();m.push(x);a.group.add(x);x.decomposeTransform()});return m}}function uv(a,b,c){var d=b.getComponent("tooltip"),e=b.getComponent("axisPointer"),f=e.get("link",!0)||[],g=[];he(c.getCoordinateSystems(),
function(h){function k(t,r,u){var v=u.model.getModel("axisPointer",e),w=v.get("show");if(w&&("auto"!==w||t||v.get("handle.show"))){null==r&&(r=v.get("triggerTooltip"));v=t?vv(u,n,e,b,t,r):v;var x=v.get("snap");t=lf(u.model);w=r||x||"category"===u.type;r=a.axesInfo[t]={key:t,axis:u,coordSys:h,axisPointerModel:v,triggerTooltip:r,involveSeries:w,snap:x,useHandle:!!v.get("handle.show"),seriesModels:[]};m[t]=r;a.seriesInvolved|=w;a:{v=u.model;u=u.dim;for(w=0;w<f.length;w++)if(x=f[w]||{},mk(x[u+"AxisId"],
v.id)||mk(x[u+"AxisIndex"],v.componentIndex)||mk(x[u+"AxisName"],v.name)){u=w;break a}u=void 0}null!=u&&(v=g[u]||(g[u]={axesInfo:{}}),v.axesInfo[t]=r,v.mapper=f[u].mapper,r.linkGroup=v)}}if(h.axisPointerEnabled){var l=lf(h.model),m=a.coordSysAxesInfo[l]={};a.coordSysMap[l]=h;var n=h.model.getModel("tooltip",d);he(h.getAxes(),nk(k,!1,null));if(h.getTooltipAxes&&d&&n.get("show")){l="axis"===n.get("trigger");var p="cross"===n.get("axisPointer.type"),q=h.getTooltipAxes(n.get("axisPointer.axis"));(l||
p)&&he(q.baseAxes,nk(k,p?"cross":!0,l));p&&he(q.otherAxes,nk(k,"cross",!1))}}})}function vv(a,b,c,d,e,f){var g=b.getModel("axisPointer"),h={};he("type snap lineStyle shadowStyle label animation animationDurationUpdate animationEasingUpdate z".split(" "),function(k){h[k]=N(g.get(k))});h.snap="category"!==a.type&&!!f;"cross"===g.get("type")&&(h.type="line");b=h.label||(h.label={});null==b.show&&(b.show=!1);"cross"===e&&(e=g.get("label.show"),b.show=null!=e?e:!0,f||(f=h.lineStyle=g.get("crossStyle"))&&
T(b,f.textStyle));return a.model.getModel("axisPointer",new ka(h,c,d))}function wv(a,b){b.eachSeries(function(c){var d=c.coordinateSystem,e=c.get("tooltip.trigger",!0),f=c.get("tooltip.show",!0);d&&"none"!==e&&!1!==e&&"item"!==e&&!1!==f&&!1!==c.get("axisPointer.show",!0)&&he(a.coordSysAxesInfo[lf(d.model)],function(g){var h=g.axis;d.getAxis(h.dim)===h&&(g.seriesModels.push(c),null==g.seriesDataCount&&(g.seriesDataCount=0),g.seriesDataCount+=c.getData().count())})},this)}function mk(a,b){return"all"===
a||F(a)&&0<=ba(a,b)||a===b}function ok(a){var b=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return b&&b.axesInfo[lf(a)]}function lf(a){return a.type+"||"+a.id}function oq(a,b,c,d,e,f){if(c=Fc.getAxisPointerClass(a.axisPointerClass))(e=(e=ok(b))&&e.axisPointerModel)?(a._axisPointer||(a._axisPointer=new c)).render(b,e,d,f):((b=a._axisPointer)&&b.dispose(d,void 0),a._axisPointer=null)}function pk(a,b,c){c=c||{};var d=a.coordinateSystem,e=b.axis;a={};var f=e.getAxesOnZeroOf()[0],g=e.position,
h=f?"onZero":g;e=e.dim;d=d.getRect();d=[d.x,d.x+d.width,d.y,d.y+d.height];var k={left:0,right:1,top:0,bottom:1,onZero:2},l=b.get("offset")||0;l="x"===e?[d[2]-l,d[3]+l]:[d[0]-l,d[1]+l];if(f){var m=f.toGlobalCoord(f.dataToCoord(0));l[k.onZero]=Math.max(Math.min(m,l[1]),l[0])}a.position=["y"===e?l[k[h]]:d[0],"x"===e?l[k[h]]:d[3]];a.rotation=Math.PI/2*("x"===e?0:1);a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[g];a.labelOffset=f?l[k[g]]-l[k.onZero]:0;b.get("axisTick.inside")&&
(a.tickDirection=-a.tickDirection);Ea(c.labelInside,b.get("axisLabel.inside"))&&(a.labelDirection=-a.labelDirection);b=b.get("axisLabel.rotate");a.labelRotate="top"===h?-b:b;a.z2=1;return a}function ie(a,b,c){P.call(this);this.updateData(a,b,c)}function xv(a,b){this.parent.drift(a,b)}function yv(a,b){this.incremental||this.useHoverLayer||("emphasis"===b?(a=this.__symbolOriginalScale,this.animateTo({scale:[Math.max(1.1*a[0],a[0]+3),Math.max(1.1*a[1],a[1]+a[1]/a[0]*3)]},400,"elasticOut")):"normal"===
b&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut"))}function qk(a){this.group=new P;this._symbolCtor=a||ie}function rk(a,b,c,d){return b&&!isNaN(b[0])&&!isNaN(b[1])&&!(d.isIgnore&&d.isIgnore(c))&&!(d.clipShape&&!d.clipShape.contain(b[0],b[1]))&&"none"!==a.getItemVisual(c,"symbol")}function pq(a){null==a||M(a)||(a={isIgnore:a});return a||{}}function qq(a){a=a.hostModel;return{itemStyle:a.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:a.getModel("emphasis.itemStyle").getItemStyle(),
symbolRotate:a.get("symbolRotate"),symbolOffset:a.get("symbolOffset"),hoverAnimation:a.get("hoverAnimation"),labelModel:a.getModel("label"),hoverLabelModel:a.getModel("emphasis.label"),cursorStyle:a.get("cursor")}}function sk(a,b,c){var d=a.getBaseAxis(),e=a.getOtherAxis(d);c=zv(e,c);d=d.dim;e=e.dim;var f=b.mapDimension(e),g=b.mapDimension(d),h="x"===e||"radius"===e?1:0;a=E(a.dimensions,function(m){return b.mapDimension(m)});var k,l=b.getCalculationInfo("stackResultDimension");if(k|=Cc(b,a[0]))a[0]=
l;if(k|=Cc(b,a[1]))a[1]=l;return{dataDimsForPoint:a,valueStart:c,valueAxisDim:e,baseAxisDim:d,stacked:!!k,valueDim:f,baseDim:g,baseDataOffset:h,stackedOverDimension:b.getCalculationInfo("stackedOverDimension")}}function zv(a,b){var c=0;a=a.scale.getExtent();"start"===b?c=a[0]:"end"===b?c=a[1]:0<a[0]?c=a[0]:0>a[1]&&(c=a[1]);return c}function tk(a,b,c,d){var e=NaN;a.stacked&&(e=c.get(c.getCalculationInfo("stackedOverDimension"),d));isNaN(e)&&(e=a.valueStart);var f=a.baseDataOffset,g=[];g[f]=c.get(a.baseDim,
d);g[1-f]=e;return b.dataToPoint(g)}function Av(a,b){var c=[];b.diff(a).add(function(d){c.push({cmd:"+",idx:d})}).update(function(d,e){c.push({cmd:"\x3d",idx:e,idx1:d})}).remove(function(d){c.push({cmd:"-",idx:d})}).execute();return c}function ec(a){return isNaN(a[0])||isNaN(a[1])}function uk(a,b,c,d,e,f,g,h,k,l,m){return"none"!==l&&l?Bv.apply(this,arguments):Cv.apply(this,arguments)}function Bv(a,b,c,d,e,f,g,h,k,l,m){var n=0;g=c;for(h=0;h<d;h++){var p=b[g];if(g>=e||0>g)break;if(ec(p)){if(m){g+=f;
continue}break}if(g===c)a[0<f?"moveTo":"lineTo"](p[0],p[1]);else if(0<k){n=b[n];var q="y"===l?1:0,t=(p[q]-n[q])*k;Wg(gb,n);gb[q]=n[q]+t;Wg(hb,p);hb[q]=p[q]-t;a.bezierCurveTo(gb[0],gb[1],hb[0],hb[1],p[0],p[1])}else a.lineTo(p[0],p[1]);n=g;g+=f}return h}function Cv(a,b,c,d,e,f,g,h,k,l,m){for(var n=0,p=c,q=0;q<d;q++){var t=b[p];if(p>=e||0>p)break;if(ec(t)){if(m){p+=f;continue}break}if(p===c)a[0<f?"moveTo":"lineTo"](t[0],t[1]),Wg(gb,t);else if(0<k){var r=p+f,u=b[r];if(m)for(;u&&ec(b[r]);)r+=f,u=b[r];
var v=.5;n=b[n];u=b[r];!u||ec(u)?Wg(hb,t):(ec(u)&&!m&&(u=t),Kf(vk,u,n),"x"===l||"y"===l?(v="x"===l?0:1,r=Math.abs(t[v]-n[v]),u=Math.abs(t[v]-u[v])):(r=Xg(t,n),u=Xg(t,u)),v=u/(u+r),rq(hb,t,vk,-k*(1-v)));sq(gb,gb,h);tq(gb,gb,g);sq(hb,hb,h);tq(hb,hb,g);a.bezierCurveTo(gb[0],gb[1],hb[0],hb[1],t[0],t[1]);rq(gb,t,vk,k*v)}else a.lineTo(t[0],t[1]);n=p;p+=f}return q}function wk(a,b){var c=[Infinity,Infinity],d=[-Infinity,-Infinity];if(b)for(var e=0;e<a.length;e++){var f=a[e];f[0]<c[0]&&(c[0]=f[0]);f[1]<c[1]&&
(c[1]=f[1]);f[0]>d[0]&&(d[0]=f[0]);f[1]>d[1]&&(d[1]=f[1])}return{min:b?c:d,max:b?d:c}}function uq(a,b){if(a.length===b.length){for(var c=0;c<a.length;c++){var d=a[c],e=b[c];if(d[0]!==e[0]||d[1]!==e[1])return}return!0}}function vq(a,b){var c=[],d=[],e=[],f=[];Qi(a,c,d);Qi(b,e,f);return Math.max(Math.abs(c[0]-e[0]),Math.abs(c[1]-e[1]),Math.abs(d[0]-f[0]),Math.abs(d[1]-f[1]))}function wq(a){return"number"===typeof a?a:a?.5:0}function Dv(a,b,c){if(!c.valueDim)return[];for(var d=[],e=0,f=b.count();e<f;e++)d.push(tk(c,
a,b,e));return d}function Gc(a,b,c){b=b.getBaseAxis();b="x"===b.dim||"radius"===b.dim?0:1;for(var d=[],e=0;e<a.length-1;e++){var f=a[e+1],g=a[e];d.push(g);var h=[];switch(c){case "end":h[b]=f[b];h[1-b]=g[1-b];d.push(h);break;case "middle":var k=[];h[b]=k[b]=(g[b]+f[b])/2;h[1-b]=g[1-b];k[1-b]=f[1-b];d.push(h);d.push(k);break;default:h[b]=g[b],h[1-b]=f[1-b],d.push(h)}}a[e]&&d.push(a[e]);return d}function Ev(a,b){var c=a.getVisual("visualMeta");if(c&&c.length&&a.count())if("cartesian2d"!==b.type)D&&
console.warn("Visual map on line style is only supported on cartesian2d.");else{for(var d,e,f=c.length-1;0<=f;f--)if(d=(d=a.getDimensionInfo(a.dimensions[c[f].dimension]))&&d.coordDim,"x"===d||"y"===d){e=c[f];break}if(e){var g=b.getAxis(d);a=E(e.stops,function(l){return{coord:g.toGlobalCoord(g.dataToCoord(l.value)),color:l.color}});b=a.length;c=e.outerColors.slice();b&&a[0].coord>a[b-1].coord&&(a.reverse(),c.reverse());var h=a[0].coord-10;e=a[b-1].coord+10;var k=e-h;if(.001>k)return"transparent";
y(a,function(l){l.offset=(l.coord-h)/k});a.push({offset:b?a[b-1].offset:.5,color:c[1]||"transparent"});a.unshift({offset:b?a[0].offset:.5,color:c[0]||"transparent"});a=new mf(0,0,0,0,a,!0);a[d]=h;a[d+"2"]=e;return a}D&&console.warn("Visual map on line style only support x or y dimension.")}}function Fv(a,b,c){var d=a.get("showAllSymbol");a="auto"===d;if(!(d&&!a||!(c=c.getAxesByScale("ordinal")[0])||a&&Gv(c,b))){var e=b.mapDimension(c.dim),f={};y(c.getViewLabels(),function(g){f[g.tickValue]=1});return function(g){return!f.hasOwnProperty(b.get(e,
g))}}}function Gv(a,b){var c=a.getExtent();c=Math.abs(c[1]-c[0])/a.scale.count();isNaN(c)&&(c=0);for(var d=b.count(),e=Math.max(1,Math.round(d/5)),f=0;f<d;f+=e)if(1.5*ie.getSymbolSize(b,f)[a.isHorizontal()?1:0]>c)return!1;return!0}function xq(a,b,c){if("cartesian2d"===a.type){var d=a.getBaseAxis().isHorizontal();a=aq(a,b,c);c.get("clip",!0)||(c=a.shape,b=Math.max(c.width,c.height),d?(c.y-=b,c.height+=2*b):(c.x-=b,c.width+=2*b));return a}return bq(a,b,c)}function Hv(a,b){this.getAllNames=function(){var c=
b();return c.mapArray(c.getName)};this.containName=function(c){return 0<=b().indexOfName(c)};this.indexOfName=function(c){return a().indexOfName(c)};this.getItemVisual=function(c,d){return a().getItemVisual(c,d)}}function Iv(a,b,c,d){var e=b.getData(),f=e.getName(this.dataIndex),g=b.get("selectedOffset");d.dispatchAction({type:"pieToggleSelect",from:a,name:f,seriesId:b.id});e.each(function(h){yq(e.getItemGraphicEl(h),e.getItemLayout(h),b.isSelected(e.getName(h)),g,c)})}function yq(a,b,c,d,e){b=(b.startAngle+
b.endAngle)/2;c=c?d:0;c=[Math.cos(b)*c,Math.sin(b)*c];e?a.animate().when(200,{position:c}).start("bounceOut"):a.attr("position",c)}function xk(a,b){P.call(this);var c=new Dc({z2:2}),d=new nf,e=new ua;this.add(c);this.add(d);this.add(e);this.updateData(a,b,!0)}function zq(a,b,c,d,e,f,g,h,k,l){function m(u,v,w,x){for(x=u;x<v&&!(a[x].y+w>k+g);x++)if(a[x].y+=w,x>u&&x+1<v&&a[x+1].y>a[x].y+a[x].height){n(x,w/2);return}n(v-1,w/2)}function n(u,v){for(;0<=u&&!(a[u].y-v<k)&&!(a[u].y-=v,0<u&&a[u].y>a[u-1].y+
a[u-1].height);u--);}function p(u,v,w,x,z,A){for(var B=v?Number.MAX_VALUE:0,K=0,V=u.length;K<V;K++)if("none"===u[K].labelAlignTo){var C=Math.abs(u[K].y-x),ha=u[K].len,ya=u[K].len2;C=C<z+ha?Math.sqrt((z+ha+ya)*(z+ha+ya)-C*C):Math.abs(u[K].x-w);v&&C>=B&&(C=B-10);!v&&C<=B&&(C=B+10);u[K].x=w+C*A;B=C}}a.sort(function(u,v){return u.y-v.y});var q=0;f=a.length;h=[];for(var t=[],r=0;r<f;r++)"outer"===a[r].position&&"labelLine"===a[r].labelAlignTo&&(a[r].linePoints[1][0]+=a[r].x-l,a[r].x=l),q=a[r].y-q,0>q&&
m(r,f,-q,e),q=a[r].y+a[r].height;0>g-q&&n(f-1,q-g);for(r=0;r<f;r++)a[r].y>=c?t.push(a[r]):h.push(a[r]);p(h,!1,b,c,d,e);p(t,!0,b,c,d,e)}function Jv(a,b,c,d,e,f,g,h){for(var k=[],l=[],m=Number.MAX_VALUE,n=-Number.MAX_VALUE,p=0;p<a.length;p++)"center"!==a[p].position&&(a[p].x<b?(m=Math.min(m,a[p].x),k.push(a[p])):(n=Math.max(n,a[p].x),l.push(a[p])));zq(l,b,c,d,1,e,f,g,h,n);zq(k,b,c,d,-1,e,f,g,h,m);for(p=0;p<a.length;p++)if(c=a[p],"center"!==c.position&&(d=c.linePoints))f="edge"===c.labelAlignTo,h=c.textRect.width,
k=f?c.x<b?d[2][0]-c.labelDistance-g-c.labelMargin:g+e-c.labelMargin-d[2][0]-c.labelDistance:c.x<b?c.x-g-c.bleedMargin:g+e-c.x-c.bleedMargin,k<c.textRect.width&&(c.text=vi(c.text,k,c.font),"edge"===c.labelAlignTo&&(h=Sa(c.text,c.font))),k=d[1][0]-d[2][0],f?d[2][0]=c.x<b?g+c.labelMargin+h+c.labelDistance:g+e-c.labelMargin-h-c.labelDistance:(d[2][0]=c.x<b?c.x+c.labelDistance:c.x-c.labelDistance,d[1][0]=d[2][0]+k),d[1][1]=d[2][1]=c.y}function Kv(a,b){return Db(a.getBoxLayoutParams(),{width:b.getWidth(),
height:b.getHeight()})}function Aq(a,b){b&&("string"===typeof b?a=b.replace("{value}",null!=a?a:""):"function"===typeof b&&(a=b(a)));return a}function of(a,b,c){var d={},e="toggleSelected"===a,f;c.eachComponent("legend",function(g){if(e&&null!=f)g[f?"select":"unSelect"](b.name);else if("allSelect"===a||"inverseSelect"===a)g[a]();else g[a](b.name),f=g.isSelected(b.name);var h=g.getData();y(h,function(k){k=k.get("name");if("\n"!==k&&""!==k){var l=g.isSelected(k);d.hasOwnProperty(k)?d[k]=d[k]&&l:d[k]=
l}})});return"allSelect"===a||"inverseSelect"===a?{selected:d}:{name:b.name,selected:d}}function Bq(a,b,c,d,e,f){"line"!==b&&0>b.indexOf("empty")?(b=c.getItemStyle(),a.style.stroke=d,f||(b.stroke=e)):b=c.getItemStyle(["borderWidth","borderColor"]);return a.setStyle(b)}function Cq(a,b,c,d){yk(a,b,c,d);c.dispatchAction({type:"legendToggleSelect",name:null!=a?a:b});zk(a,b,c,d)}function zk(a,b,c,d){var e=c.getZr().storage.getDisplayList()[0];e&&e.useHoverLayer||c.dispatchAction({type:"highlight",seriesName:a,
name:b,excludeSeriesId:d})}function yk(a,b,c,d){var e=c.getZr().storage.getDisplayList()[0];e&&e.useHoverLayer||c.dispatchAction({type:"downplay",seriesName:a,name:b,excludeSeriesId:d})}function Dq(a,b,c){a=a.getOrient();var d=[1,1];d[a.index]=0;hd(b,c,{type:"box",ignoreSize:d})}function Eq(a,b,c,d,e){var f=a.axis;if(!f.scale.isBlank()&&f.containData(b))if(a.involveSeries){var g=Lv(b,a),h=g.payloadBatch,k=g.snapToValue;h[0]&&null==e.seriesIndex&&S(e,h[0]);!d&&a.snap&&f.containData(k)&&null!=k&&(b=
k);c.showPointer(a,b,h,e);c.showTooltip(a,g,k)}else c.showPointer(a,b)}function Lv(a,b){var c=b.axis,d=c.dim,e=a,f=[],g=Number.MAX_VALUE,h=-1;Hb(b.seriesModels,function(k,l){var m=k.getData().mapDimension(d,!0);if(k.getAxisTooltipData)m=k.getAxisTooltipData(m,a,c),l=m.dataIndices,m=m.nestestValue;else{l=k.getData().indicesOfNearest(m[0],a,"category"===c.type?.5:null);if(!l.length)return;m=k.getData().get(m[0],l[0])}if(null!=m&&isFinite(m)){var n=a-m,p=Math.abs(n);if(p<=g){if(p<g||0<=n&&0>h)g=p,h=
n,e=m,f.length=0;Hb(l,function(q){f.push({seriesIndex:k.seriesIndex,dataIndexInside:q,dataIndex:k.getData().getRawIndex(q)})})}}});return{payloadBatch:f,snapToValue:e}}function Mv(a,b,c,d){a[b.key]={value:c,payloadBatch:d}}function Nv(a,b,c,d){c=c.payloadBatch;var e=b.axis,f=e.model,g=b.axisPointerModel;if(b.triggerTooltip&&c.length){b=b.coordSys.model;var h=lf(b),k=a.map[h];k||(k=a.map[h]={coordSysId:b.id,coordSysIndex:b.componentIndex,coordSysType:b.type,coordSysMainType:b.mainType,dataByAxis:[]},
a.list.push(k));k.dataByAxis.push({axisDim:e.dim,axisIndex:f.componentIndex,axisType:f.type,axisId:f.id,value:d,valueLabelOpt:{precision:g.get("label.precision"),formatter:g.get("label.formatter")},seriesDataIndices:c.slice()})}}function Ov(a,b,c){var d=c.axesInfo=[];Hb(b,function(e,f){var g=e.axisPointerModel.option;(f=a[f])?(!e.useHandle&&(g.status="show"),g.value=f.value,g.seriesDataIndices=(f.payloadBatch||[]).slice()):!e.useHandle&&(g.status="hide");"show"===g.status&&d.push({axisDim:e.axis.dim,
axisIndex:e.axis.model.componentIndex,value:g.value})})}function Pv(a,b,c,d){if(Yg(b)||!a.list.length)d({type:"hideTip"});else{var e=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};d({type:"showTip",escapeConnect:!0,x:b[0],y:b[1],tooltipOption:c.tooltipOption,position:c.position,dataIndexInside:e.dataIndexInside,dataIndex:e.dataIndex,seriesIndex:e.seriesIndex,dataByCoordSys:a.list})}}function Qv(a,b,c){b=c.getZr();var d=Fq(b).axisPointerLastHighlights||{},e=Fq(b).axisPointerLastHighlights=
{};Hb(a,function(h,k){h=h.axisPointerModel.option;"show"===h.status&&Hb(h.seriesDataIndices,function(l){e[l.seriesIndex+" | "+l.dataIndex]=l})});var f=[],g=[];y(d,function(h,k){!e[k]&&g.push(h)});y(e,function(h,k){!d[k]&&f.push(h)});g.length&&c.dispatchAction({type:"downplay",escapeConnect:!0,batch:g});f.length&&c.dispatchAction({type:"highlight",escapeConnect:!0,batch:f})}function Gq(a){var b=a.axis.model,c={};a=c.axisDim=a.axis.dim;c.axisIndex=c[a+"AxisIndex"]=b.componentIndex;c.axisName=c[a+"AxisName"]=
b.name;c.axisId=c[a+"AxisId"]=b.id;return c}function Yg(a){return!a||null==a[0]||isNaN(a[0])||null==a[1]||isNaN(a[1])}function Hq(a,b,c){if(!Q.node){var d=b.getZr();fc(d).records||(fc(d).records={});Rv(d,b);(fc(d).records[a]||(fc(d).records[a]={})).handler=c}}function Rv(a,b){function c(d,e){a.on(d,function(f){var g=Sv(b);Tv(fc(a).records,function(h){h&&e(h,f,g.dispatchAction)});Uv(g.pendings,b)})}fc(a).initialized||(fc(a).initialized=!0,c("click",O(Iq,"click")),c("mousemove",O(Iq,"mousemove")),c("globalout",
Vv))}function Uv(a,b){var c=a.showTip.length,d=a.hideTip.length,e;c?e=a.showTip[c-1]:d&&(e=a.hideTip[d-1]);e&&(e.dispatchAction=null,b.dispatchAction(e))}function Vv(a,b,c){a.handler("leave",null,c)}function Iq(a,b,c,d){b.handler(a,c,d)}function Sv(a){var b={showTip:[],hideTip:[]},c=function(d){var e=b[d.type];e?e.push(d):(d.dispatchAction=c,a.dispatchAction(d))};return{dispatchAction:c,pendings:b}}function Ak(a,b){Q.node||(b=b.getZr(),(fc(b).records||{})[a]&&(fc(b).records[a]=null))}function pf(){}
function Jq(a,b,c,d){Kq(nd(c).lastProp,d)||(nd(c).lastProp=d,b?oa(c,d,a):(c.stopAnimation(),c.attr(d)))}function Kq(a,b){if(M(a)&&M(b)){var c=!0;y(b,function(d,e){c=c&&Kq(a[e],d)});return!!c}return a===b}function Lq(a,b){a[b.get("label.show")?"show":"hide"]()}function Bk(a){return{position:a.position.slice(),rotation:a.rotation||0}}function Mq(a,b,c){var d=b.get("z"),e=b.get("zlevel");a&&a.traverse(function(f){"group"!==f.type&&(null!=d&&(f.z=d),null!=e&&(f.zlevel=e),f.silent=c)})}function Nq(a,b,
c,d,e){a=b.scale.parse(a);var f=b.scale.getLabel(a,{precision:e.precision});if(e=e.formatter){var g={value:jk(b,a),axisDimension:b.dim,axisIndex:b.index,seriesData:[]};y(d,function(h){var k=c.getSeriesByIndex(h.seriesIndex);h=h.dataIndexInside;(k=k&&k.getDataParams(h))&&g.seriesData.push(k)});ja(e)?f=e.replace("{value}",f):va(e)&&(f=e(g))}return f}function Oq(a,b,c){var d=hc();Ae(d,d,c.rotation);Dd(d,d,c.position);return Ud([a.dataToCoord(b),(c.labelOffset||0)+(c.labelDirection||1)*(c.labelMargin||
0)],d)}function Pq(a,b){var c={};c[b.dim+"AxisIndex"]=b.index;return a.getCartesian(c)}function Wv(a){var b="left "+a+"s cubic-bezier(0.23, 1, 0.32, 1),top "+a+"s cubic-bezier(0.23, 1, 0.32, 1)";return E(Xv,function(c){return c+"transition:"+b}).join(";")}function Yv(a){var b=[],c=a.get("fontSize"),d=a.getTextColor();d&&b.push("color:"+d);b.push("font:"+a.getFont());d=a.get("lineHeight");null==d&&(d=Math.round(3*c/2));c&&b.push("line-height:"+d+"px");c=a.get("textShadowColor");d=a.get("textShadowBlur")||
0;var e=a.get("textShadowOffsetX")||0,f=a.get("textShadowOffsetY")||0;d&&b.push("text-shadow:"+e+"px "+f+"px "+d+"px "+c);Qq(["decoration","align"],function(g){var h=a.get(g);h&&b.push("text-"+g+":"+h)});return b.join(";")}function Zv(a){var b=[],c=a.get("transitionDuration"),d=a.get("backgroundColor"),e=a.getModel("textStyle"),f=a.get("padding");c&&b.push(Wv(c));d&&(Q.canvasSupported?b.push("background-Color:"+d):(b.push("background-Color:#"+Fm(d)),b.push("filter:alpha(opacity\x3d70)")));Qq(["width",
"color","radius"],function(g){var h="border-"+g,k=$v(h);k=a.get(k);null!=k&&b.push(h+":"+k+("color"===g?"":"px"))});b.push(Yv(e));null!=f&&b.push("padding:"+Xe(f).join("px ")+"px");return b.join(";")+";"}function Rq(a,b,c,d,e){var f=b&&b.painter;if(c){if(c=f&&f.getViewportRoot())f=document.body,di(Ck,c,d,e,!0)&&di(a,f,Ck[0],Ck[1])}else if(a[0]=d,a[1]=e,d=f&&f.getViewportRootOffset())a[0]+=d.offsetLeft,a[1]+=d.offsetTop;a[2]=a[0]/b.getWidth();a[3]=a[1]/b.getHeight()}function Dk(a,b,c){if(Q.wxa)return null;
var d=document.createElement("div");d.domBelongToZr=!0;this.el=d;var e=this._zr=b.getZr();c=this._appendToBody=c&&c.appendToBody;this._styleCoord=[0,0,0,0];Rq(this._styleCoord,e,c,b.getWidth()/2,b.getHeight()/2);c?document.body.appendChild(d):a.appendChild(d);this._container=a;this._show=!1;var f=this;d.onmouseenter=function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0);f._inContent=!0};d.onmousemove=function(g){g=g||window.event;if(!f._enterable){var h=e.handler,k=e.painter.getViewportRoot();
wb(k,g,!0);h.dispatch("mousemove",g)}};d.onmouseleave=function(){f._enterable&&f._show&&f.hideLater(f._hideDelay);f._inContent=!1}}function Sq(a,b,c,d){a[0]=c;a[1]=d;a[2]=a[0]/b.getWidth();a[3]=a[1]/b.getHeight()}function Ek(a){var b=this._zr=a.getZr();this._styleCoord=[0,0,0,0];Sq(this._styleCoord,b,a.getWidth()/2,a.getHeight()/2);this._show=!1}function Fk(a){for(var b=a.pop();a.length;){var c=a.pop();c&&(ka.isInstance(c)&&(c=c.get("tooltip",!0)),"string"===typeof c&&(c={formatter:c}),b=new ka(c,
b,b.ecModel))}return b}function Zg(a){Vf(a,"label",["show"])}function Gk(a,b,c,d,e,f){var g=[],h=Cc(b,d)?b.getCalculationInfo("stackResultDimension"):d;a=Hk(b,h,a);a=b.indicesOfNearest(h,a)[0];g[e]=b.get(c,a);g[f]=b.get(h,a);c=b.get(d,a);b=Go(b.get(d,a));b=Math.min(b,20);0<=b&&(g[f]=+g[f].toFixed(b));return[g,c]}function qf(a,b){var c=a.getData(),d=a.coordinateSystem,e;if(e=b)e=b,e=!(!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y)));if(e&&!F(b.coord)&&d)if(e=d.dimensions,a=Tq(b,c,d,a),b=N(b),b.type&&
Ik[b.type]&&a.baseAxis&&a.valueAxis)d=Uq(e,a.baseAxis.dim),e=Uq(e,a.valueAxis.dim),c=Ik[b.type](c,a.baseDataDim,a.valueDataDim,d,e),b.coord=c[0],b.value=c[1];else{a=[null!=b.xAxis?b.xAxis:b.radiusAxis,null!=b.yAxis?b.yAxis:b.angleAxis];for(d=0;2>d;d++)Ik[a[d]]&&(a[d]=Hk(c,c.mapDimension(e[d]),a[d]));b.coord=a}return b}function Tq(a,b,c,d){var e={};if(null!=a.valueIndex||null!=a.valueDim){e.valueDataDim=null!=a.valueIndex?b.getDimension(a.valueIndex):a.valueDim;a=c.getAxis;a:{var f=e.valueDataDim;
d=d.getData();var g=d.dimensions;f=d.getDimension(f);for(var h=0;h<g.length;h++){var k=d.getDimensionInfo(g[h]);if(k.name===f){f=k.coordDim;break a}}f=void 0}e.valueAxis=a.call(c,f);e.baseAxis=c.getOtherAxis(e.valueAxis);e.baseDataDim=b.mapDimension(e.baseAxis.dim)}else e.baseAxis=d.getBaseAxis(),e.valueAxis=c.getOtherAxis(e.baseAxis),e.baseDataDim=b.mapDimension(e.baseAxis.dim),e.valueDataDim=b.mapDimension(e.valueAxis.dim);return e}function rf(a,b){var c;if(c=a&&a.containData&&b.coord)c=!(!isNaN(parseFloat(b.x))||
!isNaN(parseFloat(b.y)));return c?a.containData(b.coord):!0}function Vq(a,b,c,d){return 2>d?a.coord&&a.coord[d]:a.value}function Hk(a,b,c){if("average"===c){var d=0,e=0;a.each(b,function(f,g){isNaN(f)||(d+=f,e++)});return d/e}return"median"===c?a.getMedian(b):a.getDataExtent(b,!0)["max"===c?1:0]}function Wq(a,b,c){var d=b.coordinateSystem;a.each(function(e){var f=a.getItemModel(e),g=J(f.get("x"),c.getWidth());f=J(f.get("y"),c.getHeight());if(!isNaN(g)&&!isNaN(f))var h=[g,f];else if(b.getMarkerPosition)h=
b.getMarkerPosition(a.getValues(a.dimensions,e));else if(d){h=a.get(d.dimensions[0],e);var k=a.get(d.dimensions[1],e);h=d.dataToPoint([h,k])}isNaN(g)||(h[0]=g);isNaN(f)||(h[1]=f);a.setItemLayout(e,h)})}function aw(a,b,c){var d=a?E(a&&a.dimensions,function(e){var f=b.getData().getDimensionInfo(b.getData().mapDimension(e))||{};return T({name:e},f)}):[{name:"value",type:"float"}];d=new Ya(d,c);c=E(c.get("data"),O(qf,b));a&&(c=Pa(c,O(rf,a)));d.initData(c,null,a?Vq:function(e){return e.value});return d}
function Jk(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}function Xq(a,b,c){var d=b.getItemVisual(c,a);if(d&&"none"!==d){var e=b.getItemVisual(c,"color"),f=b.getItemVisual(c,a+"Size");b=b.getItemVisual(c,a+"Rotate");F(f)||(f=[f,f]);d=ld(d,-f[0]/2,-f[1]/2,f[0],f[1],e);d.__specifiedRotation=null==b||isNaN(b)?void 0:+b*Math.PI/180||0;d.name=a;return d}}function bw(a){var b=new cw({name:"line",subPixelOptimize:!0});Kk(b.shape,a);return b}function Kk(a,b){a.x1=b[0][0];a.y1=b[0][1];a.x2=b[1][0];a.y2=b[1][1];
a.percent=1;(b=b[2])?(a.cpx1=b[0],a.cpy1=b[1]):(a.cpx1=NaN,a.cpy1=NaN)}function Lk(a,b,c){P.call(this);this._createLine(a,b,c)}function Yq(a){this._ctor=a||Lk;this.group=new P}function Zq(a){a=a.hostModel;return{lineStyle:a.getModel("lineStyle").getLineStyle(),hoverLineStyle:a.getModel("emphasis.lineStyle").getLineStyle(),labelModel:a.getModel("label"),hoverLabelModel:a.getModel("emphasis.label")}}function $q(a){return isNaN(a[0])||isNaN(a[1])}function Mk(a){return!$q(a[0])&&!$q(a[1])}function $g(a){return!isNaN(a)&&
!isFinite(a)}function ar(a,b,c,d){var e=1-a,f=d.dimensions[a];return $g(b[e])&&$g(c[e])&&b[a]===c[a]&&d.getAxis(f).containData(b[a])}function dw(a,b){if("cartesian2d"===a.type){var c=b[0].coord,d=b[1].coord;if(c&&d&&(ar(1,c,d,a)||ar(0,c,d,a)))return!0}return rf(a,b[0])&&rf(a,b[1])}function Nk(a,b,c,d,e){var f=d.coordinateSystem,g=a.getItemModel(b),h=J(g.get("x"),e.getWidth());e=J(g.get("y"),e.getHeight());if(isNaN(h)||isNaN(e)){d.getMarkerPosition?g=d.getMarkerPosition(a.getValues(a.dimensions,b)):
(d=f.dimensions,g=a.get(d[0],b),d=a.get(d[1],b),g=f.dataToPoint([g,d]));if("cartesian2d"===f.type){var k=f.getAxis("x"),l=f.getAxis("y");d=f.dimensions;$g(a.get(d[0],b))?g[0]=k.toGlobalCoord(k.getExtent()[c?0:1]):$g(a.get(d[1],b))&&(g[1]=l.toGlobalCoord(l.getExtent()[c?0:1]))}isNaN(h)||(g[0]=h);isNaN(e)||(g[1]=e)}else g=[h,e];a.setItemLayout(b,g)}function ew(a,b,c){var d=a?E(a&&a.dimensions,function(g){var h=b.getData().getDimensionInfo(b.getData().mapDimension(g))||{};return T({name:g},h)}):[{name:"value",
type:"float"}];var e=new Ya(d,c);d=new Ya(d,c);var f=new Ya([],c);c=E(c.get("data"),O(fw,b,a,c));a&&(c=Pa(c,O(dw,a)));a=a?Vq:function(g){return g.value};e.initData(E(c,function(g){return g[0]}),null,a);d.initData(E(c,function(g){return g[1]}),null,a);f.initData(E(c,function(g){return g[2]}));f.hasItemOption=!0;return{from:e,to:d,line:f}}function Hc(a){return!isNaN(a)&&!isFinite(a)}function gw(a,b){var c=b.coord[0],d=b.coord[1];if("cartesian2d"===a.type){var e;if(e=c&&d)(e=Hc(c[0])&&Hc(d[0]))||(e=
Hc(c[1])&&Hc(d[1]));if(e)return!0}return rf(a,{coord:c,x:b.x0,y:b.y0})||rf(a,{coord:d,x:b.x1,y:b.y1})}function br(a,b,c,d,e){var f=d.coordinateSystem,g=a.getItemModel(b),h=J(g.get(c[0]),e.getWidth());e=J(g.get(c[1]),e.getHeight());if(isNaN(h)||isNaN(e)){if(d.getMarkerPosition)d=d.getMarkerPosition(a.getValues(c,b));else{g=a.get(c[0],b);var k=a.get(c[1],b);d=[g,k];f.clampData&&f.clampData(d,d);d=f.dataToPoint(d,!0)}if("cartesian2d"===f.type){var l=f.getAxis("x");f=f.getAxis("y");g=a.get(c[0],b);k=
a.get(c[1],b);Hc(g)?d[0]=l.toGlobalCoord(l.getExtent()["x0"===c[0]?0:1]):Hc(k)&&(d[1]=f.toGlobalCoord(f.getExtent()["y0"===c[1]?0:1]))}isNaN(h)||(d[0]=h);isNaN(e)||(d[1]=e)}else d=[h,e];return d}function hw(a,b,c){var d=["x0","y0","x1","y1"];if(a){var e=E(a&&a.dimensions,function(f){var g=b.getData();g=g.getDimensionInfo(g.mapDimension(f))||{};return T({name:f},g)});d=new Ya(E(d,function(f,g){return{name:f,type:e[g%2].type}}),c)}else e=[{name:"value",type:"float"}],d=new Ya(e,c);c=E(c.get("data"),
O(iw,b,a,c));a&&(c=Pa(c,O(gw,a)));d.initData(c,null,a?function(f,g,h,k){return f.coord[Math.floor(k/2)][k%2]}:function(f){return f.value});d.hasItemOption=!0;return d}function jw(a){var b=a.type,c={number:"value",time:"time"};c[b]&&(a.axisType=c[b],delete a.type);cr(a);a.hasOwnProperty("controlPosition")&&(b=a.controlStyle||(a.controlStyle={}),b.hasOwnProperty("position")||(b.position=a.controlPosition),"none"!==b.position||b.hasOwnProperty("show")||(b.show=!1,delete b.position),delete a.controlPosition);
y(a.data||[],function(d){M(d)&&!F(d)&&(!d.hasOwnProperty("value")&&d.hasOwnProperty("name")&&(d.value=d.name),cr(d))})}function cr(a){var b=a.itemStyle||(a.itemStyle={});b=b.emphasis||(b.emphasis={});a=a.label||a.label||{};var c=a.normal||(a.normal={}),d={normal:1,emphasis:1};y(a,function(e,f){d[f]||c.hasOwnProperty(f)||(c[f]=e)});b.label&&!a.hasOwnProperty("emphasis")&&(a.emphasis=b.label,delete b.label)}function dr(a,b,c,d,e,f){var g=b.get("color");e?(e.setColor(g),c.add(e),f&&f.onUpdate(e)):(e=
a.get("symbol"),e=ld(e,-1,-1,2,2,g),e.setStyle("strokeNoScale",!0),c.add(e),f&&f.onCreate(e));b=b.getItemStyle(["color","symbol","symbolSize"]);e.setStyle(b);d=R({rectHover:!0,z2:100},d,!0);b=a.get("symbolSize");b=b instanceof Array?b.slice():[+b,+b];b[0]/=2;b[1]/=2;d.scale=b;if(c=a.get("symbolOffset"))f=d.position=d.position||[0,0],f[0]+=J(c[0],b[0]),f[1]+=J(c[1],b[1]);a=a.get("symbolRotate");d.rotation=(a||0)*Math.PI/180||0;e.attr(d);e.updateTransform();return e}function er(a,b,c,d,e){if(!a.dragging){var f=
d.getModel("checkpointStyle");b=c.dataToCoord(d.getData().get(["value"],b));e||!f.get("animation",!0)?a.attr({position:[b,0]}):(a.stopAnimation(!0),a.animateTo({position:[b,0]},f.get("animationDuration",!0),f.get("animationEasing",!0)))}}function kw(a,b,c){function d(f,g){var h=!1;b(function(k){y(c(f,k)||[],function(l){g.records[k.name][l]&&(h=!0)})});return h}function e(f,g){g.nodes.push(f);b(function(h){y(c(f,h)||[],function(k){g.records[h.name][k]=!0})})}return function(f){function g(l){0<=ba(h.nodes,
l)||!d(l,h)||(e(l,h),k=!0)}var h={nodes:[],records:{}};b(function(l){h.records[l.name]={}});if(!f)return h;e(f,h);do{var k=!1;a(g)}while(k);return h}}function Ok(a,b){a=a[b]-a[1-b];return{span:Math.abs(a),sign:0<a?-1:0>a?1:b?-1:1}}function je(a,b){return Math.min(null!=b[1]?b[1]:Infinity,Math.max(null!=b[0]?b[0]:-Infinity,a))}function lw(a,b,c){var d=[Infinity,-Infinity];od(c,function(e){var f=e.getData();f&&od(f.mapDimension(b,!0),function(g){g=f.getApproximateExtent(g);g[0]<d[0]&&(d[0]=g[0]);g[1]>
d[1]&&(d[1]=g[1])})});d[1]<d[0]&&(d=[NaN,NaN]);mw(a,d);return d}function mw(a,b){a=a.getAxisModel();var c=a.getMin(!0),d="category"===a.get("type"),e=d&&a.getCategories().length;null!=c&&"dataMin"!==c&&"function"!==typeof c?b[0]=c:d&&(b[0]=0<e?0:NaN);c=a.getMax(!0);null!=c&&"dataMax"!==c&&"function"!==typeof c?b[1]=c:d&&(b[1]=0<e?e-1:NaN);a.get("scale",!0)||(0<b[0]&&(b[0]=0),0>b[1]&&(b[1]=0));return b}function fr(a,b){var c=a.getAxisModel(),d=a._percentWindow;a=a._valueWindow;if(d){var e=xj(a,[0,
500]);e=Math.min(e,20);b=b||0===d[0]&&100===d[1];c.setRange(b?null:+a[0].toFixed(e),b?null:+a[1].toFixed(e))}}function nw(a){var b=a._minMaxSpan={},c=a._dataZoomModel,d=a._dataExtent;od(["min","max"],function(e){var f=c.get(e+"Span"),g=c.get(e+"ValueSpan");null!=g&&(g=a.getAxisModel().axis.scale.parse(g));null!=g?f=ia(d[0]+g,d,[0,100],!0):null!=f&&(g=ia(f,[0,100],d,!0)-d[0]);b[e+"Span"]=f;b[e+"ValueSpan"]=g})}function gr(a){var b={};pd(["start","end","startValue","endValue","throttle"],function(c){a.hasOwnProperty(c)&&
(b[c]=a[c])});return b}function hr(a,b){var c=a._rangePropMode,d=a.get("rangeMode");pd([["start","startValue"],["end","endValue"]],function(e,f){var g=null!=b[e[0]];e=null!=b[e[1]];g&&!e?c[f]="percent":!g&&e?c[f]="value":d?c[f]=d[f]:g&&(c[f]="percent")})}function ir(a){return"vertical"===a?"ns-resize":"ew-resize"}function ah(a){return a["\x00_ec_interaction_mutex"]||(a["\x00_ec_interaction_mutex"]={})}function jr(a){this._zr=a;this._opt={};var b=H(ow,this),c=H(pw,this),d=H(qw,this),e=H(rw,this),f=
H(sw,this);wa.call(this);this.setPointerChecker=function(g){this.pointerChecker=g};this.enable=function(g,h){this.disable();this._opt=T(N(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0});null==g&&(g=!0);if(!0===g||"move"===g||"pan"===g)a.on("mousedown",b),a.on("mousemove",c),a.on("mouseup",d);if(!0===g||"scale"===g||"zoom"===g)a.on("mousewheel",e),a.on("pinch",f)};this.dispose=this.disable=function(){a.off("mousedown",b);a.off("mousemove",c);a.off("mouseup",
d);a.off("mousewheel",e);a.off("pinch",f)};this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}function ow(a){if(!(2===a.which||3===a.which||a.target&&a.target.draggable)){var b=a.offsetX,c=a.offsetY;this.pointerChecker&&this.pointerChecker(a,b,c)&&(this._x=b,this._y=c,this._dragging=!0)}}function pw(a){if(this._dragging&&sf("moveOnMouseMove",a,this._opt)&&"pinch"!==a.gestureEvent&&!ah(this._zr).globalPan){var b=a.offsetX,c=a.offsetY,d=this._x,e=this._y,
f=b-d,g=c-e;this._x=b;this._y=c;this._opt.preventDefaultMouseMove&&ye(a.event);b={dx:f,dy:g,oldX:d,oldY:e,newX:b,newY:c};b.isAvailableBehavior=H(sf,null,"moveOnMouseMove",a);this.trigger("pan",b)}}function qw(a){2!==a.which&&3!==a.which&&(this._dragging=!1)}function rw(a){var b=sf("zoomOnMouseWheel",a,this._opt),c=sf("moveOnMouseWheel",a,this._opt),d=a.wheelDelta,e=Math.abs(d),f=a.offsetX,g=a.offsetY;0!==d&&(b||c)&&(b&&(b=3<e?1.4:1<e?1.2:1.1,Pk(this,"zoom","zoomOnMouseWheel",a,{scale:0<d?b:1/b,originX:f,
originY:g})),c&&(c=Math.abs(d),Pk(this,"scrollMove","moveOnMouseWheel",a,{scrollDelta:(0<d?1:-1)*(3<c?.4:1<c?.15:.05),originX:f,originY:g})))}function sw(a){ah(this._zr).globalPan||Pk(this,"zoom",null,a,{scale:1<a.pinchScale?1.1:1/1.1,originX:a.pinchX,originY:a.pinchY})}function Pk(a,b,c,d,e){a.pointerChecker&&a.pointerChecker(d,e.originX,e.originY)&&(ye(d.event),e.isAvailableBehavior=H(sf,null,c,d),a.trigger(b,e))}function sf(a,b,c){c=c[a];return!a||c&&(!ja(c)||b.event[c+"Key"])}function tw(a,b){var c=
kr(a),d=b.dataZoomId,e=b.coordId;y(c,function(g,h){h=g.dataZoomInfos;h[d]&&0>ba(b.allCoordIds,e)&&(delete h[d],g.count--)});lr(c);var f=c[e];f||(f=c[e]={coordId:e,dataZoomInfos:{},count:0},f.controller=uw(a,f),f.dispatchAction=O(vw,a));!f.dataZoomInfos[d]&&f.count++;f.dataZoomInfos[d]=b;a=ww(f.dataZoomInfos);f.controller.enable(a.controlType,a.opt);f.controller.setPointerChecker(b.containsPoint);Jg(f,"dispatchAction",b.dataZoomModel.get("throttle",!0),"fixRate")}function xw(a,b){a=kr(a);y(a,function(c){c.controller.dispose();
var d=c.dataZoomInfos;d[b]&&(delete d[b],c.count--)});lr(a)}function kr(a){a=a.getZr();return a["\x00_ec_dataZoom_roams"]||(a["\x00_ec_dataZoom_roams"]={})}function uw(a,b){var c=new jr(a.getZr());y(["pan","zoom","scrollMove"],function(d){c.on(d,function(e){var f=[];y(b.dataZoomInfos,function(g){if(e.isAvailableBehavior(g.dataZoomModel.option)){var h=(g.getRange||{})[d];h=h&&h(b.controller,e);!g.dataZoomModel.get("disabled",!0)&&h&&f.push({dataZoomId:g.dataZoomId,start:h[0],end:h[1]})}});f.length&&
b.dispatchAction(f)})});return c}function lr(a){y(a,function(b,c){b.count||(b.controller.dispose(),delete a[c])})}function vw(a,b){a.dispatchAction({type:"dataZoom",batch:b})}function ww(a){var b,c={type_true:2,type_move:1,type_false:0,type_undefined:-1},d=!0;y(a,function(e){e=e.dataZoomModel;var f=e.get("disabled",!0)?!1:e.get("zoomLock",!0)?"move":!0;c["type_"+f]>c["type_"+b]&&(b=f);d&=e.get("preventDefaultMouseMove",!0)});return{controlType:b,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,
preventDefaultMouseMove:!!d}}}function mr(a){return function(b,c,d,e){var f=this._range,g=f.slice(),h=b.axisModels[0];if(h&&(b=a(g,h,b,c,d,e),bh(b,g,[0,100],"all"),this._range=g,f[0]!==g[0]||f[1]!==g[1]))return g}}function yw(a){var b={};y(a,function(c){b[c]=1});a.length=0;y(b,function(c,d){a.push(d)})}function zw(a){var b=a.pieceList;a.hasSpecialVisual=!1;y(b,function(c,d){c.originIndex=d;null!=c.visual&&(a.hasSpecialVisual=!0)})}function Aw(a){var b=a.categories,c=a.visual,d=a.categoryMap={};tf(b,
function(f,g){d[f]=g});if(!F(c)){var e=[];M(c)?tf(c,function(f,g){g=d[g];e[null!=g?g:-1]=f}):e[-1]=c;c=nr(a,e)}for(a=b.length-1;0<=a;a--)null==c[a]&&(delete d[b[a]],b.pop())}function Qk(a,b){var c=a.visual,d=[];M(c)?tf(c,function(e){d.push(e)}):null!=c&&d.push(c);c={color:1,symbol:1};b||1!==d.length||c.hasOwnProperty(a.type)||(d[1]=d[0]);nr(a,d)}function ch(a){return{applyVisual:function(b,c,d){b=this.mapValueToVisual(b);d("color",a(c("color"),b))},_doMap:Rk([0,1])}}function or(a){var b=this.option.visual;
return b[Math.round(ia(a,[0,1],[0,b.length-1],!0))]||{}}function dh(a){return function(b,c,d){d(a,this.mapValueToVisual(b))}}function eh(a){var b=this.option.visual;return b[this.option.loop&&-1!==a?a%b.length:a]}function qd(){return this.option.visual[0]}function Rk(a){return{linear:function(b){return ia(b,a,this.option.visual,!0)},category:eh,piecewise:function(b,c){c=Sk.call(this,c);null==c&&(c=ia(b,a,this.option.visual,!0));return c},fixed:qd}}function Sk(a){var b=this.option,c=b.pieceList;if(b.hasSpecialVisual&&
(a=xa.findPieceIndex(a,c),(c=c[a])&&c.visual))return c.visual[this.type]}function nr(a,b){a.visual=b;"color"===a.type&&(a.parsedVisual=E(b,function(c){return xb(c)}));return b}function fh(a,b,c){return a?b<=c:b<c}function pr(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!0}function Bw(a,b,c){function d(){var f=function(){};f.prototype.__hidden=f.prototype;return new f}var e={};qr(b,function(f){var g=e[f]=d();qr(a[f],function(h,k){xa.isValidType(k)&&(h={type:k,visual:h},c&&c(h,f),g[k]=new xa(h),
"opacity"===k&&(h=N(h),h.type="colorAlpha",g.__hidden.__alphaForOpacity=new xa(h)))})});return e}function Cw(a,b,c){var d;y(c,function(e){b.hasOwnProperty(e)&&pr(b[e])&&(d=!0)});d&&y(c,function(e){b.hasOwnProperty(e)&&pr(b[e])?a[e]=N(b[e]):delete a[e]})}function Dw(a,b,c,d,e,f){function g(n){return c.getItemVisual(m,n)}function h(n,p){c.setItemVisual(m,n,p)}function k(n,p){m=null==f?n:p;p=c.getRawDataItem(m);if(!p||!1!==p.visualMap){var q=d.call(e,n);p=b[q];q=l[q];for(var t=0,r=q.length;t<r;t++){var u=
q[t];p[u]&&p[u].applyVisual(n,g,h)}}}var l={};y(a,function(n){var p=xa.prepareVisualTypes(b[n]);l[n]=p});var m;null==f?c.each(k):c.each([f],k)}function rr(a){var b=["x","y"],c=["width","height"];return{point:function(d,e,f){if(d)return uf(d[a],f.range)},rect:function(d,e,f){if(d)return e=f.range,d=[d[b[a]],d[b[a]]+d[c[a]]],d[1]<d[0]&&d.reverse(),uf(d[0],e)||uf(d[1],e)||uf(e[0],d)||uf(e[1],d)}}}function uf(a,b){return b[0]<=a&&a<=b[1]}function Ew(a){a=aa.create(a);return function(b,c){return Co(b,
a)}}function Fw(a,b){a=aa.create(a);return function(c){var d=(c=null!=b?b:c)?a.x:a.y;return[d,d+((c?a.width:a.height)||0)]}}function Gw(a,b,c){a=aa.create(a);return function(d,e,f){if(e=a.contain(e[0],e[1]))e=(d=b.getComponentByElement(d.topTarget))&&d.coordinateSystem,e=!(d&&d!==c&&!Hw[d.mainType]&&e&&e.model!==c);return e}}function sr(a,b,c){var d=this._targetInfoList=[],e={},f=Ee(b,a,{includeMainTypes:tr});Ic(Iw,function(g,h){(!c||!c.include||0<=gh(c.include,h))&&g(f,d,e)})}function Tk(a){a[0]>
a[1]&&a.reverse();return a}function ur(a,b,c,d){D&&W("cartesian2d"===c.type,"lineX/lineY brush is available only in cartesian2d.");var e=c.getAxis(["x","y"][a]);c=Tk(E([0,1],function(g){return b?e.coordToData(e.toLocalCoord(d[g])):e.toGlobalCoord(e.dataToCoord(d[g]))}));var f=[];f[a]=c;f[1-a]=[NaN,NaN];return{values:c,xyMinMax:f}}function vr(a,b,c,d){return[b[0]-d[a]*c[0],b[1]-d[a]*c[1]]}function wr(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}function xr(a){a.eachComponent({mainType:"brush"},
function(b){(b.brushTargetManager=new sr(b.option,a)).setInputRanges(b.areas,a)})}function Jw(a,b,c,d,e){e&&(e=a.getZr(),e.__ecInBrushSelectEvent||(e.__ecBrushSelect||(e.__ecBrushSelect=Kw),Jg(e,"__ecBrushSelect",c,b)(a,d)))}function Kw(a,b){if(!a.isDisposed()){var c=a.getZr();c.__ecInBrushSelectEvent=!0;a.dispatchAction({type:"brushSelect",batch:b});c.__ecInBrushSelectEvent=!1}}function yr(a,b,c,d){for(var e=0,f=b.length;e<f;e++){var g=b[e];if(a[g.brushType](d,c,g.selectors,g))return!0}}function zr(a){var b=
a.brushSelector;if(ja(b)){var c=[];y(Uk,function(e,f){c[f]=function(g,h,k,l){g=h.getItemLayout(g);return e[b](g,k,l)}});return c}if(va(b)){var d={};y(Uk,function(e,f){d[f]=b});return d}return b}function Lw(a,b){a=a.option.seriesIndex;return null!=a&&"all"!==a&&(F(a)?0>ba(a,b):b!==a)}function Mw(a){var b=a.selectors={};y(Uk[a.brushType],function(c,d){b[d]=function(e){return c(e,b,a)}});return a}function Ar(a){return new aa(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}function Br(a,b){return R({brushType:a.brushType,
brushMode:a.brushMode,transformable:a.transformable,brushStyle:(new ka(a.brushStyle)).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},b,!0)}function hh(a){D&&W(a);wa.call(this);this._zr=a;this.group=new P;this._track=[];this._covers=[];D&&this._mounted;this._uid="brushController_"+Nw++;this._handlers={};Ib(Ow,function(b,c){this._handlers[c]=H(b,this)},this)}function Pw(a,b){Ib(b,function(c,d){a.on(d,c)})}function Qw(a,b){Ib(b,function(c,d){a.off(d,c)})}function Cr(a,b){var c=rd[b.brushType].createCover(a,
b);c.__brushOption=b;Dr(c,b);a.group.add(c);return c}function Er(a,b){var c=rd[b.__brushOption.brushType];c.endCreating&&(c.endCreating(a,b),Dr(b,b.__brushOption));return b}function Dr(a,b){var c=b.z;null==c&&(c=1E4);a.traverse(function(d){d.z=c;d.z2=c})}function Vk(a,b){rd[b.__brushOption.brushType].updateCommon(a,b);var c=b.__brushOption;rd[b.__brushOption.brushType].updateCoverShape(a,b,c.range,c)}function Wk(a,b,c){var d=a._panels;if(!d)return!0;var e,f=a._transform;Ib(d,function(g){g.isTargetByCursor(b,
c,f)&&(e=g)});return e}function Fr(a,b){a=a._panels;if(!a)return!0;b=b.__brushOption.panelId;return null!=b?a[b]:!0}function Xk(a){var b=a._covers,c=b.length;Ib(b,function(d){a.group.remove(d)},a);b.length=0;return!!c}function sd(a,b){var c=Rw(a._covers,function(d){d=d.__brushOption;var e=N(d.range);return{brushType:d.brushType,panelId:d.panelId,range:e}});a.trigger("brush",c,{isEnd:!!b.isEnd,removeOnClick:!!b.removeOnClick})}function Gr(a){var b=a.length-1;0>b&&(b=0);return[a[0],a[b]]}function Hr(a,
b,c,d){var e=new P;e.add(new ma({name:"main",style:Yk(c),silent:!0,draggable:!0,cursor:"move",drift:Jc(a,b,e,"nswe"),ondragend:Jc(sd,b,{isEnd:!0})}));Ib(d,function(f){e.add(new ma({name:f,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Jc(a,b,e,f),ondragend:Jc(sd,b,{isEnd:!0})}))});return e}function Ir(a,b,c,d){var e=d.brushStyle.lineWidth||0,f=ke(e,6),g=c[0][0],h=c[1][0],k=g-e/2,l=h-e/2,m=c[0][1],n=c[1][1];c=m-f+e/2;var p=n-f+e/2;m-=g;n-=h;var q=m+e;e=n+e;gc(a,b,"main",g,h,m,n);d.transformable&&
(gc(a,b,"w",k,l,f,e),gc(a,b,"e",c,l,f,e),gc(a,b,"n",k,l,q,f),gc(a,b,"s",k,p,q,f),gc(a,b,"nw",k,l,f,f),gc(a,b,"ne",c,l,f,f),gc(a,b,"sw",k,p,f,f),gc(a,b,"se",c,p,f,f))}function Zk(a,b){var c=b.__brushOption,d=c.transformable,e=b.childAt(0);e.useStyle(Yk(c));e.attr({silent:!d,cursor:d?"move":"default"});Ib("w e n s se sw ne nw".split(" "),function(f){var g=b.childOfName(f);f=$k(a,f);g&&g.attr({silent:!d,invisible:!d,cursor:d?Sw[f]+"-resize":null})})}function gc(a,b,c,d,e,f,g){if(c=b.childOfName(c)){var h=
c.setShape;e=al(a,b,[[d,e],[d+f,e+g]]);a=vf(e[0][0],e[1][0]);b=vf(e[0][1],e[1][1]);d=ke(e[0][0],e[1][0]);e=ke(e[0][1],e[1][1]);h.call(c,{x:a,y:b,width:d-a,height:e-b})}}function Yk(a){return T({strokeNoScale:!0},a.brushStyle)}function Jr(a,b,c,d){var e=[vf(a,c),vf(b,d)];a=[ke(a,c),ke(b,d)];return[[e[0],a[0]],[e[1],a[1]]]}function $k(a,b){if(1<b.length)return b=b.split(""),a=[$k(a,b[0]),$k(a,b[1])],"e"!==a[0]&&"w"!==a[0]||a.reverse(),a.join("");a=vj({w:"left",e:"right",n:"top",s:"bottom"}[b],xg(a.group));
return{left:"w",right:"e",top:"n",bottom:"s"}[a]}function Kr(a,b,c,d,e,f,g,h){h=d.__brushOption;var k=a(h.range),l=Lr(c,f,g);Ib(e.split(""),function(m){m=Tw[m];k[m[0]][m[1]]+=l[m[0]]});h.range=b(Jr(k[0][0],k[1][0],k[0][1],k[1][1]));Vk(c,d);sd(c,{isEnd:!1})}function Uw(a,b,c,d,e){e=b.__brushOption.range;var f=Lr(a,c,d);Ib(e,function(g){g[0]+=f[0];g[1]+=f[1]});Vk(a,b);sd(a,{isEnd:!1})}function Lr(a,b,c){a=a.group;b=a.transformCoordToLocal(b,c);c=a.transformCoordToLocal(0,0);return[b[0]-c[0],b[1]-c[1]]}
function al(a,b,c){return(b=Fr(a,b))&&!0!==b?b.clipPath(c,a._transform):N(c)}function bl(a){a=a.event;a.preventDefault&&a.preventDefault()}function cl(a,b,c){return a.childOfName("main").contain(b,c)}function Mr(a,b,c,d){var e=a._creatingCover,f=a._creatingPanel,g=a._brushOption;a._track.push(c.slice());var h=a._track;if(h.length){var k=h[h.length-1];var l=h[0];h=k[0]-l[0];k=k[1]-l[1];k=6<Vw(h*h+k*k,.5)}else k=!1;if(k||e){if(f&&!e&&("single"===g.brushMode&&Xk(a),e=N(g),e.brushType=Nr(e.brushType,
f),e.panelId=!0===f?null:f.panelId,e=a._creatingCover=Cr(a,e),a._covers.push(e)),e){f=rd[Nr(a._brushType,f)];e.__brushOption.range=f.getCreatingRange(al(a,e,a._track));d&&(Er(a,e),f.updateCommon(a,e));f=e.__brushOption;rd[e.__brushOption.brushType].updateCoverShape(a,e,f.range,f);var m={isEnd:d}}}else d&&"single"===g.brushMode&&g.removeOnClick&&Wk(a,b,c)&&Xk(a)&&(m={isEnd:d,removeOnClick:!0});return m}function Nr(a,b){return"auto"===a?(D&&W(b&&b.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"'),
b.defaultBrushType):a}function Or(a,b){if(a._dragging){bl(b);var c=a.group.transformCoordToLocal(b.offsetX,b.offsetY);b=Mr(a,b,c,!0);a._dragging=!1;a._track=[];a._creatingCover=null;b&&sd(a,b)}}function Pr(a){return{createCover:function(b,c){return Hr(Jc(Kr,function(d){d=[d,[0,100]];a&&d.reverse();return d},function(d){return d[a]}),b,c,[["w","e"],["n","s"]][a])},getCreatingRange:function(b){var c=Gr(b);b=vf(c[0][a],c[1][a]);c=ke(c[0][a],c[1][a]);return[b,c]},updateCoverShape:function(b,c,d,e){var f=
Fr(b,c);!0!==f&&f.getLinearBrushOtherExtent?f=f.getLinearBrushOtherExtent(a,b._transform):(f=b._zr,f=[0,[f.getWidth(),f.getHeight()][1-a]]);d=[d,f];a&&d.reverse();Ir(b,c,d,e)},updateCommon:Zk,contain:cl}}function dl(a,b,c,d){d&&d.$from===a.id||this._brushController.setPanels(a.brushTargetManager.makePanelOpts(c)).enableBrush(a.brushOption).updateCovers(a.areas.slice())}function Qr(a,b,c){this.model=a;this.ecModel=b;this.api=c}function Rr(a,b,c,d){var e=c.type;D&&W(e,"graphic type MUST be set");e=
Sr.hasOwnProperty(e)?Sr[e]:ko(e);D&&W(e,"graphic type can not be found");c=new e(c);b.add(c);d.set(a,c);c.__ecGraphicId=a}function ih(a,b){var c=a&&a.parent;c&&("group"===a.type&&a.traverse(function(d){ih(d,b)}),b.removeKey(a.__ecGraphicId),c.remove(a))}function Ww(a){a=S({},a);y(["id","parentId","$action","hv","bounding"].concat(Lo),function(b){delete a[b]});return a}function Tr(a,b){var c;y(b,function(d){null!=a[d]&&"auto"!==a[d]&&(c=!0)});return c}if("undefined"!==typeof window)var jh=window.__DEV__;
else"undefined"!==typeof global&&(jh=global.__DEV__);"undefined"===typeof jh&&(jh=!0);var D=jh,pn=2311,Xw={},Q=Xw="object"===typeof wx&&"function"===typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"===typeof document&&"undefined"!==typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"===typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,
svgSupported:!0,domSupported:!1}:re(navigator.userAgent),qm={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},pm={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},se=Object.prototype.toString,wf=Array.prototype,
Ts=wf.forEach,Ws=wf.filter,ve=wf.slice,Us=wf.map,Vs=wf.reduce,Sh={},If=function(){return Sh.createCanvas()};Sh.createCanvas=function(){return document.createElement("canvas")};var Hf,Qc="__ec_primitive__";Jf.prototype={constructor:Jf,get:function(a){return this.data.hasOwnProperty(a)?this.data[a]:null},set:function(a,b){return this.data[a]=b},each:function(a,b){void 0!==b&&(a=H(a,b));for(var c in this.data)this.data.hasOwnProperty(c)&&a(this.data[c],c)},removeKey:function(a){delete this.data[a]}};
var Yw=(Object.freeze||Object)({$override:om,clone:N,merge:R,mergeAll:Uh,extend:S,defaults:T,createCanvas:If,getContext:rm,indexOf:ba,inherits:Ba,mixin:fa,isArrayLike:Nb,each:y,map:E,reduce:ue,filter:Pa,find:function(a,b,c){if(a&&b)for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a))return a[d]},bind:H,curry:O,isArray:F,isFunction:va,isString:ja,isObject:M,isBuiltInObject:Th,isTypedArray:jb,isDom:te,eqNaN:we,retrieve:Ea,retrieve2:Fa,retrieve3:Bd,slice:Vh,normalizeCssArray:Wh,assert:W,trim:Xh,setAsPrimitive:Yh,
isPrimitive:function(a){return a[Qc]},createHashMap:U,concatArray:function(a,b){for(var c=new a.constructor(a.length+b.length),d=0;d<a.length;d++)c[d]=a[d];a=a.length;for(d=0;d<b.length;d++)c[d+a]=b[d];return c},noop:Za}),sm="undefined"===typeof Float32Array?Array:Float32Array,Xg=xe,Yc=vm,Zw=(Object.freeze||Object)({create:Rc,copy:tm,clone:Zh,set:function(a,b,c){a[0]=b;a[1]=c;return a},add:$h,scaleAndAdd:um,sub:Kf,len:ai,length:ai,lenSquare:bi,lengthSquare:bi,mul:function(a,b,c){a[0]=b[0]*c[0];a[1]=
b[1]*c[1];return a},div:function(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];return a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},scale:Lf,normalize:Mf,distance:xe,dist:Xg,distanceSquare:vm,distSquare:Yc,negate:function(a,b){a[0]=-b[0];a[1]=-b[1];return a},lerp:function(a,b,c,d){a[0]=b[0]+d*(c[0]-b[0]);a[1]=b[1]+d*(c[1]-b[1]);return a},applyTransform:Ca,min:Ob,max:Pb});Nf.prototype={constructor:Nf,_dragStart:function(a){for(var b=a.target;b&&!b.draggable;)b=b.parent;b&&(this._draggingTarget=b,b.dragging=
!0,this._x=a.offsetX,this._y=a.offsetY,this.dispatchToElement(Cd(b,a),"dragstart",a.event))},_drag:function(a){var b=this._draggingTarget;if(b){var c=a.offsetX,d=a.offsetY,e=c-this._x,f=d-this._y;this._x=c;this._y=d;b.drift(e,f,a);this.dispatchToElement(Cd(b,a),"drag",a.event);c=this.findHover(c,d,b).target;d=this._dropTarget;this._dropTarget=c;b!==c&&(d&&c!==d&&this.dispatchToElement(Cd(d,a),"dragleave",a.event),c&&c!==d&&this.dispatchToElement(Cd(c,a),"dragenter",a.event))}},_dragEnd:function(a){var b=
this._draggingTarget;b&&(b.dragging=!1);this.dispatchToElement(Cd(b,a),"dragend",a.event);this._dropTarget&&this.dispatchToElement(Cd(this._dropTarget,a),"drop",a.event);this._dropTarget=this._draggingTarget=null}};var Ur=Array.prototype.slice,wa=function(a){this._$handlers={};this._$eventProcessor=a};wa.prototype={constructor:wa,one:function(a,b,c,d){return wm(this,a,b,c,d,!0)},on:function(a,b,c,d){return wm(this,a,b,c,d,!1)},isSilent:function(a){var b=this._$handlers;return!b[a]||!b[a].length},
off:function(a,b){var c=this._$handlers;if(!a)return this._$handlers={},this;if(b){if(c[a]){for(var d=[],e=0,f=c[a].length;e<f;e++)c[a][e].h!==b&&d.push(c[a][e]);c[a]=d}c[a]&&0===c[a].length&&delete c[a]}else delete c[a];return this},trigger:function(a){var b=this._$handlers[a],c=this._$eventProcessor;if(b){var d=arguments,e=d.length;3<e&&(d=Ur.call(d,1));for(var f=b.length,g=0;g<f;){var h=b[g];if(c&&c.filter&&null!=h.query&&!c.filter(a,h.query))g++;else{switch(e){case 1:h.h.call(h.ctx);break;case 2:h.h.call(h.ctx,
d[1]);break;case 3:h.h.call(h.ctx,d[1],d[2]);break;default:h.h.apply(h.ctx,d)}h.one?(b.splice(g,1),f--):g++}}}c&&c.afterTrigger&&c.afterTrigger(a);return this},triggerWithContext:function(a){var b=this._$handlers[a],c=this._$eventProcessor;if(b){var d=arguments,e=d.length;4<e&&(d=Ur.call(d,1,d.length-1));for(var f=d[d.length-1],g=b.length,h=0;h<g;){var k=b[h];if(c&&c.filter&&null!=k.query&&!c.filter(a,k.query))h++;else{switch(e){case 1:k.h.call(f);break;case 2:k.h.call(f,d[1]);break;case 3:k.h.call(f,
d[1],d[2]);break;default:k.h.apply(f,d)}k.one?(b.splice(h,1),g--):h++}}}c&&c.afterTrigger&&c.afterTrigger(a);return this}};var Xs=Math.log(2),Ck=[],Gi="undefined"!==typeof window&&!!window.addEventListener,Ys=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fi=[],ye=Gi?function(a){a.preventDefault();a.stopPropagation();a.cancelBubble=!0}:function(a){a.returnValue=!1;a.cancelBubble=!0},el=function(){this._track=[]};el.prototype={constructor:el,recognize:function(a,b,c){this._doTrack(a,b,c);return this._recognize(a)},
clear:function(){this._track.length=0;return this},_doTrack:function(a,b,c){var d=a.touches;if(d){a={points:[],touches:[],target:b,event:a};b=0;for(var e=d.length;b<e;b++){var f=d[b],g=ei(c,f,{});a.points.push([g.zrX,g.zrY]);a.touches.push(f)}this._track.push(a)}},_recognize:function(a){for(var b in fl)if(fl.hasOwnProperty(b)){var c=fl[b](this._track,a);if(c)return c}}};var fl={pinch:function(a,b){var c=a.length;if(c){var d=(a[c-1]||{}).points;if((c=(a[c-2]||{}).points||d)&&1<c.length&&d&&1<d.length)return c=
zm(d)/zm(c),!isFinite(c)&&(c=1),b.pinchScale=c,d=[(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2],b.pinchX=d[0],b.pinchY=d[1],{type:"pinch",target:a[0].target,event:b}}}};Am.prototype.dispose=function(){};var $w="click dblclick mousewheel mouseout mouseup mousedown mousemove contextmenu".split(" "),le=function(a,b,c,d){wa.call(this);this.storage=a;this.painter=b;this.painterRoot=d;c=c||new Am;this.proxy=null;this._hovered={};Nf.call(this);this.setHandlerProxy(c)};le.prototype={constructor:le,setHandlerProxy:function(a){this.proxy&&
this.proxy.dispose();a&&(y($w,function(b){a.on&&a.on(b,this[b],this)},this),a.handler=this);this.proxy=a},mousemove:function(a){var b=a.zrX,c=a.zrY,d=Bm(this,b,c),e=this._hovered,f=e.target;f&&!f.__zr&&(e=this.findHover(e.x,e.y),f=e.target);b=this._hovered=d?{x:b,y:c}:this.findHover(b,c);c=b.target;d=this.proxy;d.setCursor&&d.setCursor(c?c.cursor:"default");f&&c!==f&&this.dispatchToElement(e,"mouseout",a);this.dispatchToElement(b,"mousemove",a);c&&c!==f&&this.dispatchToElement(b,"mouseover",a)},mouseout:function(a){var b=
a.zrEventControl,c=a.zrIsToLocalDOM;"only_globalout"!==b&&this.dispatchToElement(this._hovered,"mouseout",a);"no_globalout"!==b&&!c&&this.trigger("globalout",{type:"globalout",event:a})},resize:function(a){this._hovered={}},dispatch:function(a,b){(a=this[a])&&a.call(this,b)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(a){var b=this.proxy;b.setCursor&&b.setCursor(a)},dispatchToElement:function(a,b,c){a=a||{};var d=a.target;if(!d||!d.silent){for(var e=
"on"+b,f={type:b,event:c,target:a.target,topTarget:a.topTarget,cancelBubble:!1,offsetX:c.zrX,offsetY:c.zrY,gestureEvent:c.gestureEvent,pinchX:c.pinchX,pinchY:c.pinchY,pinchScale:c.pinchScale,wheelDelta:c.zrDelta,zrByTouch:c.zrByTouch,which:c.which,stop:Zs};d&&(d[e]&&(f.cancelBubble=d[e].call(d,f)),d.trigger(b,f),d=d.parent,!f.cancelBubble););f.cancelBubble||(this.trigger(b,f),this.painter&&this.painter.eachOtherLayer(function(g){"function"===typeof g[e]&&g[e].call(g,f);g.trigger&&g.trigger(b,f)}))}},
findHover:function(a,b,c){for(var d=this.storage.getDisplayList(),e={x:a,y:b},f=d.length-1;0<=f;f--){var g;if(g=d[f]!==c&&!d[f].ignore){a:{var h=void 0;var k=d[f];g=a;var l=b;if(k[k.rectHover?"rectContain":"contain"](g,l)){for(;k;){if(k.clipPath&&!k.clipPath.contain(g,l)){h=!1;break a}k.silent&&(h=!0);k=k.parent}h=h?"silent":!0}else h=!1}g=h}if(g&&(!e.topTarget&&(e.topTarget=d[f]),"silent"!==h)){e.target=d[f];break}}return e},processGesture:function(a,b){this._gestureMgr||(this._gestureMgr=new el);
var c=this._gestureMgr;"start"===b&&c.clear();var d=c.recognize(a,this.findHover(a.zrX,a.zrY,null).target,this.proxy.dom);"end"===b&&c.clear();d&&(b=d.type,a.gestureEvent=b,this.dispatchToElement({target:d.target},b,d.event))}};y("click mousedown mouseup mousewheel dblclick contextmenu".split(" "),function(a){le.prototype[a]=function(b){var c=b.zrX,d=b.zrY,e=Bm(this,c,d);if("mouseup"!==a||!e){var f=this.findHover(c,d);var g=f.target}if("mousedown"===a)this._downEl=g,this._downPoint=[b.zrX,b.zrY],
this._upEl=g;else if("mouseup"===a)this._upEl=g;else if("click"===a){if(this._downEl!==this._upEl||!this._downPoint||4<Xg(this._downPoint,[b.zrX,b.zrY]))return;this._downPoint=null}this.dispatchToElement(f,a,b)}});fa(le,wa);fa(le,Nf);var $s="undefined"===typeof Float32Array?Array:Float32Array,ax=(Object.freeze||Object)({create:hc,identity:ze,copy:gi,mul:Sc,translate:Dd,rotate:Ae,scale:hi,invert:ii,clone:function(a){var b=hc();gi(b,a);return b}}),gl=ze,Vd=function(a){a=a||{};a.position||(this.position=
[0,0]);null==a.rotation&&(this.rotation=0);a.scale||(this.scale=[1,1]);this.origin=this.origin||null},ub=Vd.prototype;ub.transform=null;ub.needLocalTransform=function(){return Tc(this.rotation)||Tc(this.position[0])||Tc(this.position[1])||Tc(this.scale[0]-1)||Tc(this.scale[1]-1)};var td=[];ub.updateTransform=function(){var a=this.parent,b=a&&a.transform,c=this.needLocalTransform(),d=this.transform;c||b?(d=d||hc(),c?this.getLocalTransform(d):gl(d),b&&(c?Sc(d,a.transform,d):gi(d,a.transform)),this.transform=
d,a=this.globalScaleRatio,null!=a&&1!==a&&(this.getGlobalScale(td),c=0>td[0]?-1:1,b=0>td[1]?-1:1,c=((td[0]-c)*a+c)/td[0]||0,a=((td[1]-b)*a+b)/td[1]||0,d[0]*=c,d[1]*=c,d[2]*=a,d[3]*=a),this.invTransform=this.invTransform||hc(),ii(this.invTransform,d)):d&&gl(d)};ub.getLocalTransform=function(a){return Vd.getLocalTransform(this,a)};ub.setTransform=function(a){var b=this.transform,c=a.dpr||1;b?a.setTransform(c*b[0],c*b[1],c*b[2],c*b[3],c*b[4],c*b[5]):a.setTransform(c,0,0,c,0,0)};ub.restoreTransform=function(a){var b=
a.dpr||1;a.setTransform(b,0,0,b,0,0)};var Kc=[],hl=hc();ub.setLocalTransform=function(a){if(a){var b=a[0]*a[0]+a[1]*a[1],c=a[2]*a[2]+a[3]*a[3],d=this.position,e=this.scale;Tc(b-1)&&(b=Math.sqrt(b));Tc(c-1)&&(c=Math.sqrt(c));0>a[0]&&(b=-b);0>a[3]&&(c=-c);d[0]=a[4];d[1]=a[5];e[0]=b;e[1]=c;this.rotation=Math.atan2(-a[1]/c,a[0]/b)}};ub.decomposeTransform=function(){if(this.transform){var a=this.parent,b=this.transform;a&&a.transform&&(Sc(Kc,a.invTransform,b),b=Kc);(a=this.origin)&&(a[0]||a[1])&&(hl[4]=
a[0],hl[5]=a[1],Sc(Kc,b,hl),Kc[4]-=a[0],Kc[5]-=a[1],b=Kc);this.setLocalTransform(b)}};ub.getGlobalScale=function(a){var b=this.transform;a=a||[];if(!b)return a[0]=1,a[1]=1,a;a[0]=Math.sqrt(b[0]*b[0]+b[1]*b[1]);a[1]=Math.sqrt(b[2]*b[2]+b[3]*b[3]);0>b[0]&&(a[0]=-a[0]);0>b[3]&&(a[1]=-a[1]);return a};ub.transformCoordToLocal=function(a,b){a=[a,b];(b=this.invTransform)&&Ca(a,a,b);return a};ub.transformCoordToGlobal=function(a,b){a=[a,b];(b=this.transform)&&Ca(a,a,b);return a};Vd.getLocalTransform=function(a,
b){b=b||[];gl(b);var c=a.origin,d=a.scale||[1,1],e=a.rotation||0;a=a.position||[0,0];c&&(b[4]-=c[0],b[5]-=c[1]);hi(b,b,d);e&&Ae(b,b,e);c&&(b[4]+=c[0],b[5]+=c[1]);b[4]+=a[0];b[5]+=a[1];return b};var kh={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return 1>(a*=2)?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return 1>(a*=2)?.5*a*a*a:.5*((a-=
2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return 1>(a*=2)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return 1>(a*=2)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return.5*(1-Math.cos(Math.PI*a))},
exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:1>(a*=2)?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var b=.1;if(0===a)return 0;if(1===a)return 1;
if(!b||1>b){b=1;var c=.1}else c=.4*Math.asin(1/b)/(2*Math.PI);return-(b*Math.pow(2,10*--a)*Math.sin(2*(a-c)*Math.PI/.4))},elasticOut:function(a){var b=.1;if(0===a)return 0;if(1===a)return 1;if(!b||1>b){b=1;var c=.1}else c=.4*Math.asin(1/b)/(2*Math.PI);return b*Math.pow(2,-10*a)*Math.sin(2*(a-c)*Math.PI/.4)+1},elasticInOut:function(a){var b=.1;if(0===a)return 0;if(1===a)return 1;if(!b||1>b){b=1;var c=.1}else c=.4*Math.asin(1/b)/(2*Math.PI);return 1>(a*=2)?-.5*b*Math.pow(2,10*--a)*Math.sin(2*(a-c)*
Math.PI/.4):b*Math.pow(2,-10*--a)*Math.sin(2*(a-c)*Math.PI/.4)*.5+1},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){return--a*a*(2.70158*a+1.70158)+1},backInOut:function(a){return 1>(a*=2)?.5*a*a*(3.5949095*a-2.5949095):.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)},bounceIn:function(a){return 1-kh.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(a){return.5>
a?.5*kh.bounceIn(2*a):.5*kh.bounceOut(2*a-1)+.5}};ji.prototype={constructor:ji,step:function(a,b){this._initialized||(this._startTime=a+this._delay,this._initialized=!0);if(this._paused)this._pausedTime+=b;else if(b=(a-this._startTime-this._pausedTime)/this._life,!(0>b)){b=Math.min(b,1);var c=this.easing;c="string"===typeof c?kh[c]:c;c="function"===typeof c?c(b):b;this.fire("frame",c);if(1===b){if(this.loop)return this.restart(a),"restart";this._needsRemove=!0;return"destroy"}return null}},restart:function(a){this._startTime=
a-(a-this._startTime-this._pausedTime)%this._life+this.gap;this._pausedTime=0;this._needsRemove=!1},fire:function(a,b){a="on"+a;if(this[a])this[a](this._target,b)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var Vr=function(){this.tail=this.head=null;this._len=0},xf=Vr.prototype;xf.insert=function(a){a=new Wr(a);this.insertEntry(a);return a};xf.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,a.next=null,this.tail=a):this.head=this.tail=a;this._len++};
xf.remove=function(a){var b=a.prev,c=a.next;b?b.next=c:this.head=c;c?c.prev=b:this.tail=b;a.next=a.prev=null;this._len--};xf.len=function(){return this._len};xf.clear=function(){this.head=this.tail=null;this._len=0};var Wr=function(a){this.value=a},il=function(a){this._list=new Vr;this._map={};this._maxSize=a||10;this._lastRemovedEntry=null},jl=il.prototype;jl.put=function(a,b){var c=this._list,d=this._map,e=null;if(null==d[a]){var f=c.len(),g=this._lastRemovedEntry;f>=this._maxSize&&0<f&&(f=c.head,
c.remove(f),delete d[f.key],e=f.value,this._lastRemovedEntry=f);g?g.value=b:g=new Wr(b);g.key=a;c.insertEntry(g);d[a]=g}return e};jl.get=function(a){a=this._map[a];var b=this._list;if(null!=a)return a!==b.tail&&(b.remove(a),b.insertEntry(a)),a.value};jl.clear=function(){this._list.clear();this._map={}};var Dm={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],
black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,
0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],
fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,
1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,
205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,
69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,
82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},Cm=new il(20),Of=null,bx=(Object.freeze||Object)({parse:xb,
lift:Em,toHex:Fm,fastLerp:Ce,fastMapToColor:Ce,lerp:Gm,mapToColor:Gm,modifyHSL:Pf,modifyAlpha:oi,stringify:Qb}),pi=Array.prototype.slice,kl=function(a,b,c,d){this._tracks={};this._target=a;this._loop=b||!1;this._getter=c||at;this._setter=d||bt;this._delay=this._clipCount=0;this._doneList=[];this._onframeList=[];this._clipList=[]};kl.prototype={when:function(a,b){var c=this._tracks,d;for(d in b)if(b.hasOwnProperty(d)){if(!c[d]){c[d]=[];var e=this._getter(this._target,d);if(null==e)continue;if(0!==
a){var f=c[d],g=f.push;if(Nb(e)){var h=e.length;if(Nb(e[0])){for(var k=[],l=0;l<h;l++)k.push(pi.call(e[l]));e=k}else e=pi.call(e)}g.call(f,{time:0,value:e})}}c[d].push({time:a,value:b[d]})}return this},during:function(a){this._onframeList.push(a);return this},pause:function(){for(var a=0;a<this._clipList.length;a++)this._clipList[a].pause();this._paused=!0},resume:function(){for(var a=0;a<this._clipList.length;a++)this._clipList[a].resume();this._paused=!1},isPaused:function(){return!!this._paused},
_doneCallback:function(){this._tracks={};this._clipList.length=0;for(var a=this._doneList,b=a.length,c=0;c<b;c++)a[c].call(this)},start:function(a,b){var c=this,d=0,e=function(){d--;d||c._doneCallback()},f;for(f in this._tracks)if(this._tracks.hasOwnProperty(f)){var g=et(this,a,e,this._tracks[f],f,b);if(g){this._clipList.push(g);d++;this.animation&&this.animation.addClip(g);var h=g}}if(h){var k=h.onframe;h.onframe=function(l,m){k(l,m);for(var n=0;n<c._onframeList.length;n++)c._onframeList[n](l,m)}}d||
this._doneCallback();return this},stop:function(a){for(var b=this._clipList,c=this.animation,d=0;d<b.length;d++){var e=b[d];if(a)e.onframe(this._target,1);c&&c.removeClip(e)}b.length=0},delay:function(a){this._delay=a;return this},done:function(a){a&&this._doneList.push(a);return this},getClips:function(){return this._clipList}};var Xr=1;"undefined"!==typeof window&&(Xr=Math.max(window.devicePixelRatio||1,1));var lh=Xr,ll=function(){this.animators=[]};ll.prototype={constructor:ll,animate:function(a,
b){var c,d=!1,e=this,f=this.__zr;if(a){a=a.split(".");var g=e;d="shape"===a[0];for(var h=0,k=a.length;h<k;h++)g&&(g=g[a[h]]);g&&(c=g)}else c=e;if(c){var l=e.animators,m=new kl(c,b);m.during(function(n){e.dirty(d)}).done(function(){l.splice(ba(l,m),1)});l.push(m);f&&f.animation.addAnimator(m);return m}},stopAnimation:function(a){for(var b=this.animators,c=b.length,d=0;d<c;d++)b[d].stop(a);b.length=0;return this},animateTo:function(a,b,c,d,e,f){Lm(this,a,b,c,d,e,f)},animateFrom:function(a,b,c,d,e,f){Lm(this,
a,b,c,d,e,f,!0)}};var Rb=function(a){Vd.call(this,a);wa.call(this,a);this.animators=[];this.id=a.id||pn++};Rb.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(a,b){switch(this.draggable){case "horizontal":b=0;break;case "vertical":a=0}var c=this.transform;c||(c=this.transform=[1,0,0,1,0,0]);c[4]+=a;c[5]+=b;this.decomposeTransform();this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(a,
b){},attrKV:function(a,b){if("position"===a||"scale"===a||"origin"===a){if(b){var c=this[a];c||(c=this[a]=[]);c[0]=b[0];c[1]=b[1]}}else this[a]=b},hide:function(){this.ignore=!0;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1;this.__zr&&this.__zr.refresh()},attr:function(a,b){if("string"===typeof a)this.attrKV(a,b);else if(M(a))for(var c in a)a.hasOwnProperty(c)&&this.attrKV(c,a[c]);this.dirty(!1);return this},setClipPath:function(a){var b=this.__zr;b&&a.addSelfToZr(b);this.clipPath&&
this.clipPath!==a&&this.removeClipPath();this.clipPath=a;a.__zr=b;a.__clipTarget=this;this.dirty(!1)},removeClipPath:function(){var a=this.clipPath;a&&(a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,this.clipPath=a.__clipTarget=null,this.dirty(!1))},addSelfToZr:function(a){this.__zr=a;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.addAnimator(b[c]);this.clipPath&&this.clipPath.addSelfToZr(a)},removeSelfFromZr:function(a){this.__zr=null;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.removeAnimator(b[c]);
this.clipPath&&this.clipPath.removeSelfFromZr(a)}};fa(Rb,ll);fa(Rb,Vd);fa(Rb,wa);var mh=Math.min,nh=Math.max;aa.prototype={constructor:aa,union:function(a){var b=mh(a.x,this.x),c=mh(a.y,this.y);this.width=nh(a.x+a.width,this.x+this.width)-b;this.height=nh(a.y+a.height,this.y+this.height)-c;this.x=b;this.y=c},applyTransform:function(){var a=[],b=[],c=[],d=[];return function(e){if(e){a[0]=c[0]=this.x;a[1]=d[1]=this.y;b[0]=d[0]=this.x+this.width;b[1]=c[1]=this.y+this.height;Ca(a,a,e);Ca(b,b,e);Ca(c,
c,e);Ca(d,d,e);this.x=mh(a[0],b[0],c[0],d[0]);this.y=mh(a[1],b[1],c[1],d[1]);e=nh(a[0],b[0],c[0],d[0]);var f=nh(a[1],b[1],c[1],d[1]);this.width=e-this.x;this.height=f-this.y}}}(),calculateTransform:function(a){var b=a.width/this.width,c=a.height/this.height,d=hc();Dd(d,d,[-this.x,-this.y]);hi(d,d,[b,c]);Dd(d,d,[a.x,a.y]);return d},intersect:function(a){if(!a)return!1;a instanceof aa||(a=aa.create(a));var b=this.x,c=this.y,d=this.y+this.height,e=a.x+a.width,f=a.y,g=a.y+a.height;return!(this.x+this.width<
a.x||e<b||d<f||g<c)},contain:function(a,b){return a>=this.x&&a<=this.x+this.width&&b>=this.y&&b<=this.y+this.height},clone:function(){return new aa(this.x,this.y,this.width,this.height)},copy:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};aa.create=function(a){return new aa(a.x,a.y,a.width,a.height)};var P=function(a){a=a||{};Rb.call(this,a);for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);
this._children=[];this.__storage=null;this.__dirty=!0};P.prototype={constructor:P,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(a){for(var b=this._children,c=0;c<b.length;c++)if(b[c].name===a)return b[c]},childCount:function(){return this._children.length},add:function(a){a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a));return this},addBefore:function(a,b){if(a&&a!==this&&
a.parent!==this&&b&&b.parent===this){var c=this._children;b=c.indexOf(b);0<=b&&(c.splice(b,0,a),this._doAdd(a))}return this},_doAdd:function(a){a.parent&&a.parent.remove(a);a.parent=this;var b=this.__storage,c=this.__zr;b&&b!==a.__storage&&(b.addToStorage(a),a instanceof P&&a.addChildrenToStorage(b));c&&c.refresh()},remove:function(a){var b=this.__zr,c=this.__storage,d=this._children,e=ba(d,a);if(0>e)return this;d.splice(e,1);a.parent=null;c&&(c.delFromStorage(a),a instanceof P&&a.delChildrenFromStorage(c));
b&&b.refresh();return this},removeAll:function(){var a=this._children,b=this.__storage,c;for(c=0;c<a.length;c++){var d=a[c];b&&(b.delFromStorage(d),d instanceof P&&d.delChildrenFromStorage(b));d.parent=null}a.length=0;return this},eachChild:function(a,b){for(var c=this._children,d=0;d<c.length;d++)a.call(b,c[d],d);return this},traverse:function(a,b){for(var c=0;c<this._children.length;c++){var d=this._children[c];a.call(b,d);"group"===d.type&&d.traverse(a,b)}return this},addChildrenToStorage:function(a){for(var b=
0;b<this._children.length;b++){var c=this._children[b];a.addToStorage(c);c instanceof P&&c.addChildrenToStorage(a)}},delChildrenFromStorage:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.delFromStorage(c);c instanceof P&&c.delChildrenFromStorage(a)}},dirty:function(){this.__dirty=!0;this.__zr&&this.__zr.refresh();return this},getBoundingRect:function(a){var b=null,c=new aa(0,0,0,0);a=a||this._children;for(var d=[],e=0;e<a.length;e++){var f=a[e];if(!f.ignore&&!f.invisible){var g=
f.getBoundingRect();(f=f.getLocalTransform(d))?(c.copy(g),c.applyTransform(f),b=b||c.clone(),b.union(c)):(b=b||g.clone(),b.union(g))}}return b||c}};Ba(P,Rb);var ml=function(){this._roots=[];this._displayList=[];this._displayListLen=0};ml.prototype={constructor:ml,traverse:function(a,b){for(var c=0;c<this._roots.length;c++)this._roots[c].traverse(a,b)},getDisplayList:function(a,b){a&&this.updateDisplayList(b||!1);return this._displayList},updateDisplayList:function(a){this._displayListLen=0;for(var b=
this._roots,c=this._displayList,d=0,e=b.length;d<e;d++)this._updateAndAddDisplayable(b[d],null,a);c.length=this._displayListLen;Q.canvasSupported&&Qf(c,Qm)},_updateAndAddDisplayable:function(a,b,c){if(!a.ignore||c){a.beforeUpdate();a.__dirty&&a.update();a.afterUpdate();var d=a.clipPath;if(d){b=b?b.slice():[];for(var e=a;d;)d.parent=e,d.updateTransform(),b.push(d),e=d,d=d.clipPath}if(a.isGroup){d=a._children;for(e=0;e<d.length;e++){var f=d[e];a.__dirty&&(f.__dirty=!0);this._updateAndAddDisplayable(f,
b,c)}a.__dirty=!1}else a.__clipPaths=b,this._displayList[this._displayListLen++]=a}},addRoot:function(a){a.__storage!==this&&(a instanceof P&&a.addChildrenToStorage(this),this.addToStorage(a),this._roots.push(a))},delRoot:function(a){if(null==a){for(var b=0;b<this._roots.length;b++)a=this._roots[b],a instanceof P&&a.delChildrenFromStorage(this);this._roots=[];this._displayList=[];this._displayListLen=0}else if(a instanceof Array){b=0;for(var c=a.length;b<c;b++)this.delRoot(a[b])}else b=ba(this._roots,
a),0<=b&&(this.delFromStorage(a),this._roots.splice(b,1),a instanceof P&&a.delChildrenFromStorage(this))},addToStorage:function(a){a&&(a.__storage=this,a.dirty(!1));return this},delFromStorage:function(a){a&&(a.__storage=null);return this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Qm};var cx={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},Bi=function(a,
b,c){return cx.hasOwnProperty(b)?c*=a.dpr:c},jc={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},oh=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],Wc=function(a){this.extendFrom(a,!1)};Wc.prototype={constructor:Wc,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,
fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,
textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(a,b,c){c=c&&c.style;var d=!c||a.__attrCachedBy!==jc.STYLE_BIND;a.__attrCachedBy=jc.STYLE_BIND;for(var e=0;e<oh.length;e++){var f=oh[e],g=f[0];if(d||this[g]!==c[g])a[g]=Bi(a,g,this[g]||f[1])}if(d||this.fill!==c.fill)a.fillStyle=this.fill;if(d||this.stroke!==c.stroke)a.strokeStyle=this.stroke;if(d||this.opacity!==c.opacity)a.globalAlpha=null==this.opacity?
1:this.opacity;if(d||this.blend!==c.blend)a.globalCompositeOperation=this.blend||"source-over";this.hasStroke()&&(a.lineWidth=this.lineWidth/(this.strokeNoScale&&b&&b.getLineScale?b.getLineScale():1))},hasFill:function(){var a=this.fill;return null!=a&&"none"!==a},hasStroke:function(){var a=this.stroke;return null!=a&&"none"!==a&&0<this.lineWidth},extendFrom:function(a,b){if(a)for(var c in a)!a.hasOwnProperty(c)||!0!==b&&(!1===b?this.hasOwnProperty(c):null==a[c])||(this[c]=a[c])},set:function(a,b){"string"===
typeof a?this[a]=b:this.extendFrom(a,!0)},clone:function(){var a=new this.constructor;a.extendFrom(this,!0);return a},getGradient:function(a,b,c){a=("radial"===b.type?ht:gt)(a,b,c);b=b.colorStops;for(c=0;c<b.length;c++)a.addColorStop(b[c].offset,b[c].color);return a}};for(var nl=Wc.prototype,ol=0;ol<oh.length;ol++){var pl=oh[ol];pl[0]in nl||(nl[pl[0]]=pl[1])}Wc.getGradient=nl.getGradient;var ql=function(a,b){this.image=a;this.repeat=b;this.type="pattern"};ql.prototype.getCanvasPattern=function(a){return a.createPattern(this.image,
this.repeat||"repeat")};var yf=function(a,b,c){c=c||lh;if("string"===typeof a)var d=Rm(a,b,c);else M(a)&&(d=a,a=d.id);this.id=a;this.dom=d;if(a=d.style)d.onselectstart=it,a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",a["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",a.padding=0,a.margin=0,a["border-width"]=0;this.ctxBack=this.domBack=null;this.painter=b;this.config=null;this.clearColor=0;this.motionBlur=!1;this.lastFrameAlpha=.7;this.dpr=c};yf.prototype=
{constructor:yf,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.dpr=this.dpr},createBackBuffer:function(){var a=this.dpr;this.domBack=Rm("back-"+this.id,this.painter,a);this.ctxBack=this.domBack.getContext("2d");1!==a&&this.ctxBack.scale(a,a)},resize:function(a,b){var c=this.dpr,d=this.dom,e=d.style,f=this.domBack;e&&(e.width=a+"px",
e.height=b+"px");d.width=a*c;d.height=b*c;f&&(f.width=a*c,f.height=b*c,1!==c&&this.ctxBack.scale(c,c))},clear:function(a,b){var c=this.dom,d=this.ctx,e=c.width,f=c.height;b=b||this.clearColor;var g=this.motionBlur&&!a;a=this.lastFrameAlpha;var h=this.dpr;g&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(c,0,0,e/h,f/h));d.clearRect(0,0,e,f);if(b&&"transparent"!==b){if(b.colorStops){var k=b.__canvasGradient||Wc.getGradient(d,b,{x:0,y:0,width:e,
height:f});b.__canvasGradient=k}else b.image&&(k=ql.prototype.getCanvasPattern.call(b,d));d.save();d.fillStyle=k||b;d.fillRect(0,0,e,f);d.restore()}g&&(b=this.domBack,d.save(),d.globalAlpha=a,d.drawImage(b,0,0,e,f),d.restore())}};var rl="undefined"!==typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){setTimeout(a,
16)},ti=new il(50),Rf={},ui=0,wi=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,kt={measureText:function(a,b){var c=rm();c.font=b||"12px sans-serif";return c.measureText(a)}},lt={left:1,right:1,center:1},mt={top:1,bottom:1,middle:1},en=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],jn={},bn={},sl=new aa,tl=function(){};tl.prototype={constructor:tl,drawRectText:function(a,b){var c=this.style;b=c.textRect||
b;this.__dirty&&yi(c,!0);var d=c.text;null!=d&&(d+="");if(null!=d&&(d||c.textBackgroundColor||c.textBorderWidth&&c.textBorderColor||c.textPadding)){a.save();var e=this.transform;c.transformText?this.setTransform(a):e&&(sl.copy(b),sl.applyTransform(e),b=sl);c.rich?gn(this,a,d,c,b,9):$m(this,a,d,c,b,9);a.restore()}}};Ta.prototype={constructor:Ta,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,
globalScaleRatio:1,beforeBrush:function(a){},afterBrush:function(a){},brush:function(a,b){},getBoundingRect:function(){},contain:function(a,b){return this.rectContain(a,b)},traverse:function(a,b){a.call(b,this)},rectContain:function(a,b){a=this.transformCoordToLocal(a,b);return this.getBoundingRect().contain(a[0],a[1])},dirty:function(){this.__dirty=this.__dirtyText=!0;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate("style",a)},attrKV:function(a,b){"style"!==
a?Rb.prototype.attrKV.call(this,a,b):this.style.set(b)},setStyle:function(a,b){this.style.set(a,b);this.dirty(!1);return this},useStyle:function(a){this.style=new Wc(a,this);this.dirty(!1);return this},calculateTextPosition:null};Ba(Ta,Rb);fa(Ta,tl);Sb.prototype={constructor:Sb,type:"image",brush:function(a,b){var c=this.style,d=c.image;c.bind(a,this,b);if((b=this._image=Sm(d,this._image,this,this.onload))&&b&&b.width&&b.height){d=c.x||0;var e=c.y||0,f=c.width,g=c.height,h=b.width/b.height;null==
f&&null!=g?f=g*h:null==g&&null!=f?g=f/h:null==f&&null==g&&(f=b.width,g=b.height);this.setTransform(a);if(c.sWidth&&c.sHeight){h=c.sx||0;var k=c.sy||0;a.drawImage(b,h,k,c.sWidth,c.sHeight,d,e,f,g)}else c.sx&&c.sy?(h=c.sx,k=c.sy,a.drawImage(b,h,k,f-h,g-k,d,e,f,g)):a.drawImage(b,d,e,f,g);null!=c.text&&(this.restoreTransform(a),this.drawRectText(a,this.getBoundingRect()))}},getBoundingRect:function(){var a=this.style;this._rect||(this._rect=new aa(a.x||0,a.y||0,a.width||0,a.height||0));return this._rect}};
Ba(Sb,Ta);var ul=new aa(0,0,0,0),vl=new aa(0,0,0,0),wl=function(a,b,c){this.type="canvas";var d=!a.nodeName||"CANVAS"===a.nodeName.toUpperCase();this._opts=c=S({},c||{});this.dpr=c.devicePixelRatio||lh;this._singleCanvas=d;this.root=a;var e=a.style;e&&(e["-webkit-tap-highlight-color"]="transparent",e["-webkit-user-select"]=e["user-select"]=e["-webkit-touch-callout"]="none",a.innerHTML="");this.storage=b;b=this._zlevelList=[];e=this._layers={};this._layerConfig={};this._needsManuallyCompositing=!1;
if(d){d=a.width;var f=a.height;null!=c.width&&(d=c.width);null!=c.height&&(f=c.height);this.dpr=c.devicePixelRatio||1;a.width=d*this.dpr;a.height=f*this.dpr;this._width=d;this._height=f;c=new yf(a,this,this.dpr);c.__builtin__=!0;c.initContext();e[314159]=c;c.zlevel=314159;b.push(314159);this._domRoot=a}else this._width=this._getSize(0),this._height=this._getSize(1),c=this._width,b=this._height,e=document.createElement("div"),e.style.cssText=["position:relative","width:"+c+"px","height:"+b+"px","padding:0;margin:0;border-width:0"].join(";")+
";",c=this._domRoot=e,a.appendChild(c);this._hoverlayer=null;this._hoverElements=[]};wl.prototype={constructor:wl,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(a){var b=this.storage.getDisplayList(!0),c=this._zlevelList;this._redrawId=Math.random();this._paintList(b,
a,this._redrawId);for(a=0;a<c.length;a++)b=this._layers[c[a]],!b.__builtin__&&b.refresh&&b.refresh(0===a?this._backgroundColor:null);this.refreshHover();return this},addHover:function(a,b){if(!a.__hoverMir){var c=new a.constructor({style:a.style,shape:a.shape,z:a.z,z2:a.z2,silent:a.silent});c.__from=a;a.__hoverMir=c;b&&c.setStyle(b);this._hoverElements.push(c);return c}},removeHover:function(a){var b=this._hoverElements,c=ba(b,a.__hoverMir);0<=c&&b.splice(c,1);a.__hoverMir=null},clearHover:function(a){a=
this._hoverElements;for(var b=0;b<a.length;b++){var c=a[b].__from;c&&(c.__hoverMir=null)}a.length=0},refreshHover:function(){var a=this._hoverElements,b=a.length,c=this._hoverlayer;c&&c.clear();if(b){Qf(a,this.storage.displayableSortFunc);c||(c=this._hoverlayer=this.getLayer(1E5));var d={};c.ctx.save();for(var e=0;e<b;){var f=a[e],g=f.__from;g&&g.__zr?(e++,g.invisible||(f.transform=g.transform,f.invTransform=g.invTransform,f.__clipPaths=g.__clipPaths,this._doPaintEl(f,c,!0,d))):(a.splice(e,1),g.__hoverMir=
null,b--)}c.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1E5)},_paintList:function(a,b,c){if(this._redrawId===c){b=b||!1;this._updateLayerStatus(a);var d=this._doPaintList(a,b);this._needsManuallyCompositing&&this._compositeManually();if(!d){var e=this;rl(function(){e._paintList(a,b,c)})}}},_compositeManually:function(){var a=this.getLayer(314159).ctx,b=this._domRoot.width,c=this._domRoot.height;a.clearRect(0,0,b,c);this.eachBuiltinLayer(function(d){d.virtual&&a.drawImage(d.dom,0,
0,b,c)})},_doPaintList:function(a,b){for(var c=[],d=0;d<this._zlevelList.length;d++){var e=this._layers[this._zlevelList[d]];e.__builtin__&&e!==this._hoverlayer&&(e.__dirty||b)&&c.push(e)}d=!0;for(var f=0;f<c.length;f++){e=c[f];var g=e.ctx,h={};g.save();var k=b?e.__startIndex:e.__drawIndex,l=!b&&e.incremental&&Date.now,m=l&&Date.now(),n=e.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(e.__startIndex===e.__endIndex)e.clear(!1,n);else if(k===e.__startIndex){var p=a[k];p.incremental&&p.notClear&&
!b||e.clear(!1,n)}-1===k&&(console.error("For some unknown reason. drawIndex is -1"),k=e.__startIndex);for(;k<e.__endIndex&&!(n=a[k],this._doPaintEl(n,e,b,h),n.__dirty=n.__dirtyText=!1,l&&15<Date.now()-m);k++);e.__drawIndex=k;e.__drawIndex<e.__endIndex&&(d=!1);h.prevElClipPaths&&g.restore();g.restore()}Q.wxa&&y(this._layers,function(q){q&&q.ctx&&q.ctx.draw&&q.ctx.draw()});return d},_doPaintEl:function(a,b,c,d){var e=b.ctx,f=a.transform;if(b=(b.__dirty||c)&&!a.invisible&&0!==a.style.opacity&&!(f&&
!f[0]&&!f[3])){if(b=a.culling)b=this._width,c=this._height,ul.copy(a.getBoundingRect()),a.transform&&ul.applyTransform(a.transform),vl.width=b,vl.height=c,b=!ul.intersect(vl);b=!b}if(b){b=a.__clipPaths;c=d.prevElClipPaths;if(!c||ot(b,c))if(c&&(e.restore(),d.prevElClipPaths=null,d.prevEl=null),b){e.save();for(c=0;c<b.length;c++)f=b[c],f.setTransform(e),e.beginPath(),f.buildPath(e,f.shape),e.clip(),f.restoreTransform(e);d.prevElClipPaths=b}a.beforeBrush&&a.beforeBrush(e);a.brush(e,d.prevEl||null);d.prevEl=
a;a.afterBrush&&a.afterBrush(e)}},getLayer:function(a,b){this._singleCanvas&&!this._needsManuallyCompositing&&(a=314159);var c=this._layers[a];c||(c=new yf("zr_"+a,this,this.dpr),c.zlevel=a,c.__builtin__=!0,this._layerConfig[a]?R(c,this._layerConfig[a],!0):this._layerConfig[a-.01]&&R(c,this._layerConfig[a-.01],!0),b&&(c.virtual=b),this.insertLayer(a,c),c.initContext());return c},insertLayer:function(a,b){var c=this._layers,d=this._zlevelList,e=d.length,f=null,g=-1,h=this._domRoot;if(!c[a]&&b&&(b.__builtin__||
"function"===typeof b.resize&&"function"===typeof b.refresh)){if(0<e&&a>d[0]){for(g=0;g<e-1&&!(d[g]<a&&d[g+1]>a);g++);f=c[d[g]]}d.splice(g+1,0,a);c[a]=b;b.virtual||(f?(a=f.dom,a.nextSibling?h.insertBefore(b.dom,a.nextSibling):h.appendChild(b.dom)):h.firstChild?h.insertBefore(b.dom,h.firstChild):h.appendChild(b.dom))}},eachLayer:function(a,b){var c=this._zlevelList,d;for(d=0;d<c.length;d++){var e=c[d];a.call(b,this._layers[e],e)}},eachBuiltinLayer:function(a,b){var c=this._zlevelList,d;for(d=0;d<c.length;d++){var e=
c[d];var f=this._layers[e];f.__builtin__&&a.call(b,f,e)}},eachOtherLayer:function(a,b){var c=this._zlevelList,d;for(d=0;d<c.length;d++){var e=c[d];var f=this._layers[e];f.__builtin__||a.call(b,f,e)}},getLayers:function(){return this._layers},_updateLayerStatus:function(a){function b(k){e&&(e.__endIndex!==k&&(e.__dirty=!0),e.__endIndex=k)}this.eachBuiltinLayer(function(k,l){k.__dirty=k.__used=!1});if(this._singleCanvas)for(var c=1;c<a.length;c++){var d=a[c];if(d.zlevel!==a[c-1].zlevel||d.incremental){this._needsManuallyCompositing=
!0;break}}var e=null,f=0;for(c=0;c<a.length;c++){d=a[c];var g=d.zlevel;if(h!==g){var h=g;f=0}d.incremental?(g=this.getLayer(g+.001,this._needsManuallyCompositing),g.incremental=!0,f=1):g=this.getLayer(g+(0<f?.01:0),this._needsManuallyCompositing);g!==e&&(g.__used=!0,g.__startIndex!==c&&(g.__dirty=!0),g.__startIndex=c,g.__drawIndex=g.incremental?-1:c,b(c),e=g);d.__dirty&&(g.__dirty=!0,g.incremental&&0>g.__drawIndex&&(g.__drawIndex=c))}b(c);this.eachBuiltinLayer(function(k,l){!k.__used&&0<k.getElementCount()&&
(k.__dirty=!0,k.__startIndex=k.__endIndex=k.__drawIndex=0);k.__dirty&&0>k.__drawIndex&&(k.__drawIndex=k.__startIndex)})},clear:function(){this.eachBuiltinLayer(this._clearLayer);return this},_clearLayer:function(a){a.clear()},setBackgroundColor:function(a){this._backgroundColor=a},configLayer:function(a,b){if(b){var c=this._layerConfig;c[a]?R(c[a],b,!0):c[a]=b;for(b=0;b<this._zlevelList.length;b++){var d=this._zlevelList[b];d!==a&&d!==a+.01||R(this._layers[d],c[a],!0)}}},delLayer:function(a){var b=
this._layers,c=this._zlevelList,d=b[a];d&&(d.dom.parentNode.removeChild(d.dom),delete b[a],c.splice(ba(c,a),1))},resize:function(a,b){if(this._domRoot.style){var c=this._domRoot;c.style.display="none";var d=this._opts;null!=a&&(d.width=a);null!=b&&(d.height=b);a=this._getSize(0);b=this._getSize(1);c.style.display="";if(this._width!==a||b!==this._height){c.style.width=a+"px";c.style.height=b+"px";for(var e in this._layers)this._layers.hasOwnProperty(e)&&this._layers[e].resize(a,b);y(this._progressiveLayers,
function(f){f.resize(a,b)});this.refresh(!0)}this._width=a;this._height=b}else{if(null==a||null==b)return;this._width=a;this._height=b;this.getLayer(314159).resize(a,b)}return this},clearLayer:function(a){(a=this._layers[a])&&a.clear()},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(a){a=a||{};if(this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var b=new yf("image",this,a.pixelRatio||this.dpr);
b.initContext();b.clear(!1,a.backgroundColor||this._backgroundColor);if(a.pixelRatio<=this.dpr){this.refresh();var c=b.dom.width,d=b.dom.height,e=b.ctx;this.eachLayer(function(h){h.__builtin__?e.drawImage(h.dom,0,0,c,d):h.renderToCanvas&&(b.ctx.save(),h.renderToCanvas(b.ctx),b.ctx.restore())})}else{a={};for(var f=this.storage.getDisplayList(!0),g=0;g<f.length;g++)this._doPaintEl(f[g],b,!0,a)}return b.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(a){var b=
this._opts,c=["width","height"][a],d=["clientWidth","clientHeight"][a],e=["paddingLeft","paddingTop"][a];a=["paddingRight","paddingBottom"][a];if(null!=b[c]&&"auto"!==b[c])return parseFloat(b[c]);b=this.root;var f=document.defaultView.getComputedStyle(b);return(b[d]||parseInt(f[c],10)||parseInt(b.style[c],10))-(parseInt(f[e],10)||0)-(parseInt(f[a],10)||0)|0},pathToImage:function(a,b){b=b||this.dpr;var c=document.createElement("canvas"),d=c.getContext("2d"),e=a.getBoundingRect(),f=a.style,g=f.shadowBlur*
b,h=f.shadowOffsetX*b,k=f.shadowOffsetY*b,l=f.hasStroke()?f.lineWidth:0;f=Math.max(l/2,-h+g);var m=Math.max(l/2,-k+g);h=e.width+f+Math.max(l/2,h+g);g=e.height+m+Math.max(l/2,k+g);c.width=h*b;c.height=g*b;d.scale(b,b);d.clearRect(0,0,h,g);d.dpr=b;b=a.position;g=a.rotation;k=a.scale;a.position=[f-e.x,m-e.y];a.rotation=0;a.scale=[1,1];a.updateTransform();a&&a.brush(d);c=new Sb({style:{x:0,y:0,image:c}});null!=b&&(c.position=a.position=b);null!=g&&(c.rotation=a.rotation=g);null!=k&&(c.scale=a.scale=k);
return c}};var ph=function(a){a=a||{};this.stage=a.stage||{};this.onframe=a.onframe||function(){};this._clips=[];this._running=!1;this._time;this._pausedTime;this._pauseStart;this._paused=!1;wa.call(this)};ph.prototype={constructor:ph,addClip:function(a){this._clips.push(a)},addAnimator:function(a){a.animation=this;a=a.getClips();for(var b=0;b<a.length;b++)this.addClip(a[b])},removeClip:function(a){a=ba(this._clips,a);0<=a&&this._clips.splice(a,1)},removeAnimator:function(a){for(var b=a.getClips(),
c=0;c<b.length;c++)this.removeClip(b[c]);a.animation=null},_update:function(){for(var a=(new Date).getTime()-this._pausedTime,b=a-this._time,c=this._clips,d=c.length,e=[],f=[],g=0;g<d;g++){var h=c[g],k=h.step(a,b);k&&(e.push(k),f.push(h))}for(g=0;g<d;)c[g]._needsRemove?(c[g]=c[d-1],c.pop(),d--):g++;d=e.length;for(g=0;g<d;g++)f[g].fire(e[g]);this._time=a;this.onframe(b);this.trigger("frame",b);this.stage.update&&this.stage.update()},_startLoop:function(){function a(){b._running&&(rl(a),!b._paused&&
b._update())}var b=this;this._running=!0;rl(a)},start:function(){this._time=(new Date).getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(a,b){b=b||{};a=new kl(a,b.loop,b.getter,
b.setter);this.addAnimator(a);return a}};fa(ph,wa);var Ji=Q.domSupported,Fi=function(){var a="click dblclick mousewheel mouseout mouseup mousedown mousemove contextmenu".split(" "),b={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},c=E(a,function(d){var e=d.replace("mouse","pointer");return b.hasOwnProperty(e)?e:d});return{mouse:a,touch:["touchstart","touchend","touchmove"],pointer:c}}(),nn={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},xl=mn.prototype;xl.stopPropagation=
xl.stopImmediatePropagation=xl.preventDefault=Za;var mb={mousedown:function(a){a=wb(this.dom,a);this._mayPointerCapture=[a.zrX,a.zrY];this.trigger("mousedown",a)},mousemove:function(a){a=wb(this.dom,a);var b=this._mayPointerCapture;!b||a.zrX===b[0]&&a.zrY===b[1]||Ii(this,!0);this.trigger("mousemove",a)},mouseup:function(a){a=wb(this.dom,a);Ii(this,!1);this.trigger("mouseup",a)},mouseout:function(a){a=wb(this.dom,a);this._pointerCapturing&&(a.zrEventControl="no_globalout");a.zrIsToLocalDOM=ln(this,
a.toElement||a.relatedTarget);this.trigger("mouseout",a)},touchstart:function(a){(a=wb(this.dom,a))&&(a.zrByTouch=!0);this._lastTouchMoment=new Date;this.handler.processGesture(a,"start");mb.mousemove.call(this,a);mb.mousedown.call(this,a)},touchmove:function(a){(a=wb(this.dom,a))&&(a.zrByTouch=!0);this.handler.processGesture(a,"change");mb.mousemove.call(this,a)},touchend:function(a){(a=wb(this.dom,a))&&(a.zrByTouch=!0);this.handler.processGesture(a,"end");mb.mouseup.call(this,a);300>+new Date-this._lastTouchMoment&&
mb.click.call(this,a)},pointerdown:function(a){mb.mousedown.call(this,a)},pointermove:function(a){Ei(a)||mb.mousemove.call(this,a)},pointerup:function(a){mb.mouseup.call(this,a)},pointerout:function(a){Ei(a)||mb.mouseout.call(this,a)}};y(["click","mousewheel","dblclick","contextmenu"],function(a){mb[a]=function(b){b=wb(this.dom,b);this.trigger(a,b)}});var Li={pointermove:function(a){Ei(a)||Li.mousemove.call(this,a)},pointerup:function(a){Li.mouseup.call(this,a)},mousemove:function(a){this.trigger("mousemove",
a)},mouseup:function(a){var b=this._pointerCapturing;Ii(this,!1);this.trigger("mouseup",a);b&&(a.zrEventControl="only_globalout",this.trigger("mouseout",a))}},Yr=Ki.prototype;Yr.dispose=function(){Hi(this._localHandlerScope);Ji&&Hi(this._globalHandlerScope)};Yr.setCursor=function(a){this.dom.style&&(this.dom.style.cursor=a||"default")};fa(Ki,wa);var dx=!Q.canvasSupported,qh={canvas:wl},Xc={},Ni=function(a,b,c){c=c||{};this.dom=b;this.id=a;var d=this,e=new ml,f=c.renderer;if(dx){if(!qh.vml)throw Error("You need to require 'zrender/vml/vml' to support IE8");
f="vml"}else f&&qh[f]||(f="canvas");a=new qh[f](b,e,c,a);this.storage=e;this.painter=a;b=Q.node||Q.worker?null:new Ki(a.getViewportRoot(),a.root);this.handler=new le(e,a,b,a.root);this.animation=new ph({stage:{update:H(this.flush,this)}});this.animation.start();var g=e.delFromStorage,h=e.addToStorage;e.delFromStorage=function(k){g.call(e,k);k&&k.removeSelfFromZr(d)};e.addToStorage=function(k){h.call(e,k);k.addSelfToZr(d)}};Ni.prototype={constructor:Ni,getId:function(){return this.id},add:function(a){this.storage.addRoot(a);
this._needsRefresh=!0},remove:function(a){this.storage.delRoot(a);this._needsRefresh=!0},configLayer:function(a,b){this.painter.configLayer&&this.painter.configLayer(a,b);this._needsRefresh=!0},setBackgroundColor:function(a){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(a);this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1;this.painter.refresh();this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},
flush:function(){if(this._needsRefresh){var a=!0;this.refreshImmediately()}this._needsRefreshHover&&(a=!0,this.refreshHoverImmediately());a&&this.trigger("rendered")},addHover:function(a,b){if(this.painter.addHover)return a=this.painter.addHover(a,b),this.refreshHover(),a},removeHover:function(a){this.painter.removeHover&&(this.painter.removeHover(a),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=
!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(a){a=a||{};this.painter.resize(a.width,a.height);this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(a,b){return this.painter.pathToImage(a,b)},setCursorStyle:function(a){this.handler.setCursorStyle(a)},findHover:function(a,
b){return this.handler.findHover(a,b)},on:function(a,b,c){this.handler.on(a,b,c)},off:function(a,b){this.handler.off(a,b)},trigger:function(a,b){this.handler.trigger(a,b)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;delete Xc[this.id]}};var ex=(Object.freeze||Object)({version:"4.3.2",init:Mi,dispose:function(a){if(a)a.dispose();
else{for(var b in Xc)Xc.hasOwnProperty(b)&&Xc[b].dispose();Xc={}}return this},getInstance:function(a){return Xc[a]},registerPainter:function(a,b){qh[a]=b}}),Hd=y,Gd=M,st=F,Uo="fontStyle fontWeight fontSize fontFamily rich tag color textBorderColor textBorderWidth width height lineHeight align verticalAlign baseline shadowColor shadowBlur shadowOffsetX shadowOffsetY textShadowColor textShadowBlur textShadowOffsetX textShadowOffsetY backgroundColor borderColor borderWidth borderRadius padding".split(" "),
tt=0,wt=0,rh=function(a){for(var b=0;b<a.length;b++)a[b][1]||(a[b][1]=a[b][0]);return function(c,d,e){for(var f={},g=0;g<a.length;g++){var h=a[g][1];d&&0<=ba(d,h)||e&&0>ba(e,h)||(h=c.getShallow(h),null!=h&&(f[a[g][0]]=h))}return f}},fx=rh([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),gx=rh([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),$f=Math.pow,mc=Math.sqrt,Gn=mc(3),
ag=1/3,yb=Rc(),ab=Rc(),Jd=Rc(),Ga=Math.min,Ha=Math.max,yl=Math.sin,zl=Math.cos,ud=2*Math.PI,sh=Rc(),th=Rc(),uh=Rc(),Zr=[],$r=[],na={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Jb=[],Lc=[],Kb=[],Lb=[],as=Math.min,bs=Math.max,zf=Math.cos,Af=Math.sin,vh=Math.sqrt,me=Math.abs,Al="undefined"!==typeof Float32Array,qb=function(a){if(this._saveData=!a)this.data=[];this._ctx=null};qb.prototype={constructor:qb,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(a,
b,c){c=c||0;this._ux=me(c/lh/a)||0;this._uy=me(c/lh/b)||0},getContext:function(){return this._ctx},beginPath:function(a){(this._ctx=a)&&a.beginPath();a&&(this.dpr=a.dpr);this._saveData&&(this._len=0);this._lineDash&&(this._lineDash=null,this._dashOffset=0);return this},moveTo:function(a,b){this.addData(na.M,a,b);this._ctx&&this._ctx.moveTo(a,b);this._x0=a;this._y0=b;this._xi=a;this._yi=b;return this},lineTo:function(a,b){var c=me(a-this._xi)>this._ux||me(b-this._yi)>this._uy||5>this._len;this.addData(na.L,
a,b);this._ctx&&c&&(this._needsDash()?this._dashedLineTo(a,b):this._ctx.lineTo(a,b));c&&(this._xi=a,this._yi=b);return this},bezierCurveTo:function(a,b,c,d,e,f){this.addData(na.C,a,b,c,d,e,f);this._ctx&&(this._needsDash()?this._dashedBezierTo(a,b,c,d,e,f):this._ctx.bezierCurveTo(a,b,c,d,e,f));this._xi=e;this._yi=f;return this},quadraticCurveTo:function(a,b,c,d){this.addData(na.Q,a,b,c,d);this._ctx&&(this._needsDash()?this._dashedQuadraticTo(a,b,c,d):this._ctx.quadraticCurveTo(a,b,c,d));this._xi=c;
this._yi=d;return this},arc:function(a,b,c,d,e,f){this.addData(na.A,a,b,c,c,d,e-d,0,f?0:1);this._ctx&&this._ctx.arc(a,b,c,d,e,f);this._xi=zf(e)*c+a;this._yi=Af(e)*c+b;return this},arcTo:function(a,b,c,d,e){this._ctx&&this._ctx.arcTo(a,b,c,d,e);return this},rect:function(a,b,c,d){this._ctx&&this._ctx.rect(a,b,c,d);this.addData(na.R,a,b,c,d);return this},closePath:function(){this.addData(na.Z);var a=this._ctx,b=this._x0,c=this._y0;a&&(this._needsDash()&&this._dashedLineTo(b,c),a.closePath());this._xi=
b;this._yi=c;return this},fill:function(a){a&&a.fill();this.toStatic()},stroke:function(a){a&&a.stroke();this.toStatic()},setLineDash:function(a){if(a instanceof Array){this._lineDash=a;for(var b=this._dashIdx=0,c=0;c<a.length;c++)b+=a[c];this._dashSum=b}return this},setLineDashOffset:function(a){this._dashOffset=a;return this},len:function(){return this._len},setData:function(a){var b=a.length;this.data&&this.data.length===b||!Al||(this.data=new Float32Array(b));for(var c=0;c<b;c++)this.data[c]=
a[c];this._len=b},appendPath:function(a){a instanceof Array||(a=[a]);for(var b=a.length,c=0,d=this._len,e=0;e<b;e++)c+=a[e].len();Al&&this.data instanceof Float32Array&&(this.data=new Float32Array(d+c));for(e=0;e<b;e++){c=a[e].data;for(var f=0;f<c.length;f++)this.data[d++]=c[f]}this._len=d},addData:function(a){if(this._saveData){var b=this.data;this._len+arguments.length>b.length&&(this._expandData(),b=this.data);for(var c=0;c<arguments.length;c++)b[this._len++]=arguments[c];this._prevCmd=a}},_expandData:function(){if(!(this.data instanceof
Array)){for(var a=[],b=0;b<this._len;b++)a[b]=this.data[b];this.data=a}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(a,b){var c=this._dashSum,d=this._dashOffset,e=this._lineDash,f=this._ctx,g=this._xi,h=this._yi,k=a-g,l=b-h,m=vh(k*k+l*l),n=e.length;k/=m;l/=m;0>d&&(d=c+d);d%=c;c=g-d*k;for(d=h-d*l;0<k&&c<=a||0>k&&c>=a||0===k&&(0<l&&d<=b||0>l&&d>=b);){var p=this._dashIdx;m=e[p];c+=k*m;d+=l*m;this._dashIdx=(p+1)%n;if(!(0<k&&c<g||0>k&&c>g||0<l&&d<h||0>l&&d>h))f[p%2?"moveTo":"lineTo"](0<=
k?as(c,a):bs(c,a),0<=l?as(d,b):bs(d,b))}k=c-a;l=d-b;this._dashOffset=-vh(k*k+l*l)},_dashedBezierTo:function(a,b,c,d,e,f){var g=this._dashSum,h=this._dashOffset,k=this._lineDash,l=this._ctx,m=this._xi,n=this._yi,p=0,q=this._dashIdx,t=k.length,r=0;0>h&&(h=g+h);h%=g;for(g=0;1>g;g+=.1){var u=Aa(m,a,c,e,g+.1)-Aa(m,a,c,e,g);var v=Aa(n,b,d,f,g+.1)-Aa(n,b,d,f,g);p+=vh(u*u+v*v)}for(;q<t&&!(r+=k[q],r>h);q++);for(g=(r-h)/p;1>=g;){var w=Aa(m,a,c,e,g);var x=Aa(n,b,d,f,g);q%2?l.moveTo(w,x):l.lineTo(w,x);g+=k[q]/
p;q=(q+1)%t}0!==q%2&&l.lineTo(e,f);u=e-w;v=f-x;this._dashOffset=-vh(u*u+v*v)},_dashedQuadraticTo:function(a,b,c,d){var e=c,f=d;c=(c+2*a)/3;d=(d+2*b)/3;a=(this._xi+2*a)/3;b=(this._yi+2*b)/3;this._dashedBezierTo(a,b,c,d,e,f)},toStatic:function(){var a=this.data;a instanceof Array&&(a.length=this._len,Al&&(this.data=new Float32Array(a)))},getBoundingRect:function(){Jb[0]=Jb[1]=Kb[0]=Kb[1]=Number.MAX_VALUE;Lc[0]=Lc[1]=Lb[0]=Lb[1]=-Number.MAX_VALUE;for(var a=this.data,b=0,c=0,d=0,e=0,f=0;f<a.length;){var g=
a[f++];1===f&&(b=a[f],c=a[f+1],d=b,e=c);switch(g){case na.M:d=a[f++];e=a[f++];b=d;c=e;Kb[0]=d;Kb[1]=e;Lb[0]=d;Lb[1]=e;break;case na.L:g=b;var h=c;c=a[f];b=a[f+1];var k=Kb,l=Lb;k[0]=Ga(g,c);k[1]=Ga(h,b);l[0]=Ha(g,c);l[1]=Ha(h,b);b=a[f++];c=a[f++];break;case na.C:g=void 0;h=b;var m=a[f++];b=a[f++];var n=a[f++];k=a[f++];l=a[f];var p=a[f+1],q=Kb,t=Lb,r=vn,u=Aa,v=r(h,m,n,l,Zr);q[0]=Infinity;q[1]=Infinity;t[0]=-Infinity;t[1]=-Infinity;for(g=0;g<v;g++){var w=u(h,m,n,l,Zr[g]);q[0]=Ga(w,q[0]);t[0]=Ha(w,t[0])}v=
r(c,b,k,p,$r);for(g=0;g<v;g++)m=u(c,b,k,p,$r[g]),q[1]=Ga(m,q[1]),t[1]=Ha(m,t[1]);q[0]=Ga(h,q[0]);t[0]=Ha(h,t[0]);q[0]=Ga(l,q[0]);t[0]=Ha(l,t[0]);q[1]=Ga(c,q[1]);t[1]=Ha(c,t[1]);q[1]=Ga(p,q[1]);t[1]=Ha(p,t[1]);b=a[f++];c=a[f++];break;case na.Q:g=b;h=c;t=a[f++];p=a[f++];c=a[f];b=a[f+1];k=Kb;l=Lb;v=yn;q=$a;u=Ha(Ga(v(g,t,c),1),0);v=Ha(Ga(v(h,p,b),1),0);t=q(g,t,c,u);p=q(h,p,b,v);k[0]=Ga(g,c,t);k[1]=Ga(h,b,p);l[0]=Ha(g,c,t);l[1]=Ha(h,b,p);b=a[f++];c=a[f++];break;case na.A:b=a[f++];g=a[f++];k=a[f++];h=a[f++];
u=a[f++];c=a[f++]+u;f+=1;m=1-a[f++];1===f&&(d=zf(u)*k+b,e=Af(u)*h+g);l=b;p=g;q=k;t=h;v=c;var x=m;m=Kb;n=Lb;r=Ob;w=Pb;var z=Math.abs(u-v);if(1E-4>z%ud&&1E-4<z)m[0]=l-q,m[1]=p-t,n[0]=l+q,n[1]=p+t;else for(sh[0]=zl(u)*q+l,sh[1]=yl(u)*t+p,th[0]=zl(v)*q+l,th[1]=yl(v)*t+p,r(m,sh,th),w(n,sh,th),u%=ud,0>u&&(u+=ud),v%=ud,0>v&&(v+=ud),u>v&&!x?v+=ud:u<v&&x&&(u+=ud),x&&(x=v,v=u,u=x),x=0;x<v;x+=Math.PI/2)x>u&&(uh[0]=zl(x)*q+l,uh[1]=yl(x)*t+p,r(m,uh,m),w(n,uh,n));b=zf(c)*k+b;c=Af(c)*h+g;break;case na.R:d=b=a[f++];
e=c=a[f++];k=a[f++];l=a[f++];g=d;h=e;k=d+k;l=e+l;p=Kb;q=Lb;p[0]=Ga(g,k);p[1]=Ga(h,l);q[0]=Ha(g,k);q[1]=Ha(h,l);break;case na.Z:b=d,c=e}Ob(Jb,Jb,Kb);Pb(Lc,Lc,Lb)}0===f&&(Jb[0]=Jb[1]=Lc[0]=Lc[1]=0);return new aa(Jb[0],Jb[1],Lc[0]-Jb[0],Lc[1]-Jb[1])},rebuildPath:function(a){for(var b=this.data,c,d,e,f,g,h,k=this._ux,l=this._uy,m=this._len,n=0;n<m;)switch(g=b[n++],1===n&&(e=b[n],f=b[n+1],c=e,d=f),g){case na.M:c=e=b[n++];d=f=b[n++];a.moveTo(e,f);break;case na.L:g=b[n++];h=b[n++];if(me(g-e)>k||me(h-f)>
l||n===m-1)a.lineTo(g,h),e=g,f=h;break;case na.C:a.bezierCurveTo(b[n++],b[n++],b[n++],b[n++],b[n++],b[n++]);e=b[n-2];f=b[n-1];break;case na.Q:a.quadraticCurveTo(b[n++],b[n++],b[n++],b[n++]);e=b[n-2];f=b[n-1];break;case na.A:e=b[n++];f=b[n++];h=b[n++];g=b[n++];var p=b[n++],q=b[n++],t=b[n++],r=b[n++],u=h>g?h:g,v=h>g?1:h/g,w=h>g?g/h:1;q=p+q;.001<Math.abs(h-g)?(a.translate(e,f),a.rotate(t),a.scale(v,w),a.arc(0,0,u,p,q,1-r),a.scale(1/v,1/w),a.rotate(-t),a.translate(-e,-f)):a.arc(e,f,u,p,q,1-r);1===n&&
(c=zf(p)*h+e,d=Af(p)*g+f);e=zf(q)*h+e;f=Af(q)*g+f;break;case na.R:c=e=b[n];d=f=b[n+1];a.rect(b[n++],b[n++],b[n++],b[n++]);break;case na.Z:a.closePath(),e=c,f=d}}};qb.CMD=na;var An=2*Math.PI,Re=2*Math.PI,oc=qb.CMD,Qd=2*Math.PI,Ka=[-1,-1,-1],bb=[-1,-1],cs=ql.prototype.getCanvasPattern,Bl=Math.abs,hx=new qb(!0);ca.prototype={constructor:ca,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(a,b){var c=this.style,d=this.path||hx,e=c.hasStroke(),
f=c.hasFill(),g=c.fill,h=c.stroke,k=f&&!!g.colorStops,l=e&&!!h.colorStops,m=f&&!!g.image,n=e&&!!h.image;c.bind(a,this,b);this.setTransform(a);if(this.__dirty){if(k){var p=p||this.getBoundingRect();this._fillGradient=c.getGradient(a,g,p)}l&&(p=p||this.getBoundingRect(),this._strokeGradient=c.getGradient(a,h,p))}k?a.fillStyle=this._fillGradient:m&&(a.fillStyle=cs.call(g,a));l?a.strokeStyle=this._strokeGradient:n&&(a.strokeStyle=cs.call(h,a));b=c.lineDash;g=c.lineDashOffset;h=!!a.setLineDash;k=this.getGlobalScale();
d.setScale(k[0],k[1],this.segmentIgnoreThreshold);this.__dirtyPath||b&&!h&&e?(d.beginPath(a),b&&!h&&(d.setLineDash(b),d.setLineDashOffset(g)),this.buildPath(d,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(a.beginPath(),this.path.rebuildPath(a));f&&(null!=c.fillOpacity?(f=a.globalAlpha,a.globalAlpha=c.fillOpacity*c.opacity,d.fill(a),a.globalAlpha=f):d.fill(a));b&&h&&(a.setLineDash(b),a.lineDashOffset=g);e&&(null!=c.strokeOpacity?(f=a.globalAlpha,a.globalAlpha=c.strokeOpacity*c.opacity,d.stroke(a),
a.globalAlpha=f):d.stroke(a));b&&h&&a.setLineDash([]);null!=c.text&&(this.restoreTransform(a),this.drawRectText(a,this.getBoundingRect()))},buildPath:function(a,b,c){},createPathProxy:function(){this.path=new qb},getBoundingRect:function(){var a=this._rect,b=this.style,c=!a;if(c){var d=this.path;d||(d=this.path=new qb);this.__dirtyPath&&(d.beginPath(),this.buildPath(d,this.shape,!1));a=d.getBoundingRect()}this._rect=a;if(b.hasStroke()){d=this._rectWithStroke||(this._rectWithStroke=a.clone());if(this.__dirty||
c)d.copy(a),c=b.lineWidth,a=b.strokeNoScale?this.getLineScale():1,b.hasFill()||(c=Math.max(c,this.strokeContainThreshold||4)),1E-10<a&&(d.width+=c/a,d.height+=c/a,d.x-=c/a/2,d.y-=c/a/2);return d}return a},contain:function(a,b){b=this.transformCoordToLocal(a,b);var c=this.getBoundingRect(),d=this.style;a=b[0];b=b[1];if(c.contain(a,b)){c=this.path.data;if(d.hasStroke()){var e=d.lineWidth,f=d.strokeNoScale?this.getLineScale():1;if(1E-10<f&&(d.hasFill()||(e=Math.max(e,this.strokeContainThreshold)),Bn(c,
e/f,!0,a,b)))return!0}if(d.hasFill())return Bn(c,0,!1,a,b)}return!1},dirty:function(a){null==a&&(a=!0);a&&(this.__dirtyPath=a,this._rect=null);this.__dirty=this.__dirtyText=!0;this.__zr&&this.__zr.refresh();this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(a){return this.animate("shape",a)},attrKV:function(a,b){"shape"===a?(this.setShape(b),this.__dirtyPath=!0,this._rect=null):Ta.prototype.attrKV.call(this,a,b)},setShape:function(a,b){var c=this.shape;if(c){if(M(a))for(var d in a)a.hasOwnProperty(d)&&
(c[d]=a[d]);else c[a]=b;this.dirty(!0)}return this},getLineScale:function(){var a=this.transform;return a&&1E-10<Bl(a[0]-1)&&1E-10<Bl(a[3]-1)?Math.sqrt(Bl(a[0]*a[3]-a[2]*a[1])):1}};ca.extend=function(a){var b=function(d){ca.call(this,d);a.style&&this.style.extendFrom(a.style,!1);var e=a.shape;if(e){var f=this.shape=this.shape||{},g;for(g in e)!f.hasOwnProperty(g)&&e.hasOwnProperty(g)&&(f[g]=e[g])}a.init&&a.init.call(this,d)};Ba(b,ca);for(var c in a)"style"!==c&&"shape"!==c&&(b.prototype[c]=a[c]);
return b};Ba(ca,Ta);var Rd=qb.CMD,Qt=[[],[],[]],eo=Math.sqrt,Pt=Math.atan2,qj=Math.sqrt,sg=Math.sin,rg=Math.cos,qg=Math.PI,rj=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(Math.sqrt(a[0]*a[0]+a[1]*a[1])*Math.sqrt(b[0]*b[0]+b[1]*b[1]))},bo=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(rj(a,b))},Nt=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,Ot=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,ua=function(a){Ta.call(this,a)};ua.prototype={constructor:ua,type:"text",brush:function(a,b){var c=this.style;this.__dirty&&
yi(c,!0);c.fill=c.stroke=c.shadowBlur=c.shadowColor=c.shadowOffsetX=c.shadowOffsetY=null;var d=c.text;null!=d&&(d+="");null!=d&&(d||c.textBackgroundColor||c.textBorderWidth&&c.textBorderColor||c.textPadding)?(this.setTransform(a),c.rich?gn(this,a,d,c,null,b):$m(this,a,d,c,null,b),this.restoreTransform(a)):a.__attrCachedBy=jc.NONE},getBoundingRect:function(){var a=this.style;this.__dirty&&yi(a,!0);if(!this._rect){var b=a.text;null!=b?b+="":b="";b=Vc(a.text+"",a.font,a.textAlign,a.textVerticalAlign,
a.textPadding,a.textLineHeight,a.rich);b.x+=a.x||0;b.y+=a.y||0;Ci(a.textStroke,a.textStrokeWidth)&&(a=a.textStrokeWidth,b.x-=a/2,b.y-=a/2,b.width+=a,b.height+=a);this._rect=b}return this._rect}};Ba(ua,Ta);var Cl=ca.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(a,b,c){c&&a.moveTo(b.cx+b.r,b.cy);a.arc(b.cx,b.cy,b.r,0,2*Math.PI,!0)}}),Mc=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],Dl=function(a){return Q.browser.ie&&11<=Q.browser.version?function(){var b=
this.__clipPaths,c=this.style;if(b)for(var d=0;d<b.length;d++){var e=b[d],f=e&&e.shape;e=e&&e.type;if(f&&("sector"===e&&f.startAngle===f.endAngle||!("rect"!==e||f.width&&f.height))){for(b=0;b<Mc.length;b++)Mc[b][2]=c[Mc[b][0]],c[Mc[b][0]]=Mc[b][1];var g=!0;break}}a.apply(this,arguments);if(g)for(b=0;b<Mc.length;b++)c[Mc[b][0]]=Mc[b][2]}:a},Dc=ca.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:Dl(ca.prototype.brush),buildPath:function(a,b){var c=
b.cx,d=b.cy,e=Math.max(b.r0||0,0),f=Math.max(b.r,0),g=b.startAngle,h=b.endAngle;b=b.clockwise;var k=Math.cos(g),l=Math.sin(g);a.moveTo(k*e+c,l*e+d);a.lineTo(k*f+c,l*f+d);a.arc(c,d,f,g,h,!b);a.lineTo(Math.cos(h)*e+c,Math.sin(h)*e+d);0!==e&&a.arc(c,d,e,h,g,b);a.closePath()}}),ds=ca.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=2*Math.PI;a.moveTo(c+b.r,d);a.arc(c,d,b.r,0,e,!1);a.moveTo(c+b.r0,d);a.arc(c,d,b.r0,0,e,!0)}}),ne=ca.extend({type:"polygon",shape:{points:null,
smooth:!1,smoothConstraint:null},buildPath:function(a,b){go(a,b,!0)}}),nf=ca.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(a,b){go(a,b,!1)}}),Sd=Math.round,vd={},ma=ca.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(a,b){if(this.subPixelOptimize){io(vd,b,this.style);var c=vd.x;var d=vd.y;var e=vd.width;var f=vd.height;vd.r=b.r;b=vd}else c=b.x,d=b.y,e=b.width,f=b.height;b.r?Ym(a,b):a.rect(c,
d,e,f);a.closePath()}}),Bf={},tb=ca.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){if(this.subPixelOptimize){ho(Bf,b,this.style);var c=Bf.x1;var d=Bf.y1;var e=Bf.x2;var f=Bf.y2}else c=b.x1,d=b.y1,e=b.x2,f=b.y2;b=b.percent;0!==b&&(a.moveTo(c,d),1>b&&(e=c*(1-b)+e*b,f=d*(1-b)+f*b),a.lineTo(e,f))},pointAt:function(a){var b=this.shape;return[b.x1*(1-a)+b.x2*a,b.y1*(1-a)+b.y2*a]}}),Ra=[],El=ca.extend({type:"bezier-curve",shape:{x1:0,y1:0,
x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.x1,d=b.y1,e=b.x2,f=b.y2,g=b.cpx1,h=b.cpy1,k=b.cpx2,l=b.cpy2;b=b.percent;0!==b&&(a.moveTo(c,d),null==k||null==l?(1>b&&(zn(c,g,e,b,Ra),g=Ra[1],e=Ra[2],zn(d,h,f,b,Ra),h=Ra[1],f=Ra[2]),a.quadraticCurveTo(g,h,e,f)):(1>b&&(wn(c,g,k,e,b,Ra),g=Ra[1],k=Ra[2],e=Ra[3],wn(d,h,l,f,b,Ra),h=Ra[1],l=Ra[2],f=Ra[3]),a.bezierCurveTo(g,h,k,l,e,f)))},pointAt:function(a){return jo(this.shape,a,!1)},tangentAt:function(a){a=
jo(this.shape,a,!0);return Mf(a,a)}}),Fl=ca.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r,0),f=b.startAngle,g=b.endAngle;b=b.clockwise;a.moveTo(Math.cos(f)*e+c,Math.sin(f)*e+d);a.arc(c,d,e,f,g,!b)}}),ix=ca.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var a=this.__dirtyPath,b=this.shape.paths,c=0;c<b.length;c++)a=a||b[c].__dirtyPath;this.__dirtyPath=
a;this.__dirty=this.__dirty||a},beforeBrush:function(){this._updatePathDirty();for(var a=this.shape.paths||[],b=this.getGlobalScale(),c=0;c<a.length;c++)a[c].path||a[c].createPathProxy(),a[c].path.setScale(b[0],b[1],a[c].segmentIgnoreThreshold)},buildPath:function(a,b){b=b.paths||[];for(var c=0;c<b.length;c++)b[c].buildPath(a,b[c].shape,!0)},afterBrush:function(){for(var a=this.shape.paths||[],b=0;b<a.length;b++)a[b].__dirtyPath=!1},getBoundingRect:function(){this._updatePathDirty();return ca.prototype.getBoundingRect.call(this)}}),
Cf=function(a){this.colorStops=a||[]};Cf.prototype={constructor:Cf,addColorStop:function(a,b){this.colorStops.push({offset:a,color:b})}};var mf=function(a,b,c,d,e,f){this.x=null==a?0:a;this.y=null==b?0:b;this.x2=null==c?1:c;this.y2=null==d?0:d;this.type="linear";this.global=f||!1;this.colorStops=e||[]};mf.prototype={constructor:mf};Ba(mf,Cf);var wh=function(a,b,c,d,e){this.x=null==a?.5:a;this.y=null==b?.5:b;this.r=null==c?.5:c;this.type="radial";this.global=e||!1;this.colorStops=d||[]};wh.prototype=
{constructor:wh};Ba(wh,Cf);rb.prototype.incremental=!0;rb.prototype.clearDisplaybles=function(){this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.dirty();this.notClear=!1};rb.prototype.addDisplayable=function(a,b){b?this._temporaryDisplayables.push(a):this._displayables.push(a);this.dirty()};rb.prototype.addDisplayables=function(a,b){b=b||!1;for(var c=0;c<a.length;c++)this.addDisplayable(a[c],b)};rb.prototype.eachPendingDisplayable=function(a){for(var b=this._cursor;b<this._displayables.length;b++)a&&
a(this._displayables[b]);for(b=0;b<this._temporaryDisplayables.length;b++)a&&a(this._temporaryDisplayables[b])};rb.prototype.update=function(){this.updateTransform();for(var a=this._cursor;a<this._displayables.length;a++){var b=this._displayables[a];b.parent=this;b.update();b.parent=null}for(a=0;a<this._temporaryDisplayables.length;a++)b=this._temporaryDisplayables[a],b.parent=this,b.update(),b.parent=null};rb.prototype.brush=function(a,b){for(b=this._cursor;b<this._displayables.length;b++){var c=
this._displayables[b];c.beforeBrush&&c.beforeBrush(a);c.brush(a,b===this._cursor?null:this._displayables[b-1]);c.afterBrush&&c.afterBrush(a)}this._cursor=b;for(b=0;b<this._temporaryDisplayables.length;b++)c=this._temporaryDisplayables[b],c.beforeBrush&&c.beforeBrush(a),c.brush(a,0===b?null:this._temporaryDisplayables[b-1]),c.afterBrush&&c.afterBrush(a);this._temporaryDisplayables=[];this.notClear=!0};var jx=[];rb.prototype.getBoundingRect=function(){if(!this._rect){for(var a=new aa(Infinity,Infinity,
-Infinity,-Infinity),b=0;b<this._displayables.length;b++){var c=this._displayables[b],d=c.getBoundingRect().clone();c.needLocalTransform()&&d.applyTransform(c.getLocalTransform(jx));a.union(d)}this._rect=a}return this._rect};rb.prototype.contain=function(a,b){var c=this.transformCoordToLocal(a,b);if(this.getBoundingRect().contain(c[0],c[1]))for(c=0;c<this._displayables.length;c++)if(this._displayables[c].contain(a,b))return!0;return!1};Ba(rb,Ta);var yg=Math.max,zg=Math.min,vg={},wo=1,vo={},cb={},
kx=ed,po=U(),qo=0;cb.circle=Cl;cb.sector=Dc;cb.ring=ds;cb.polygon=ne;cb.polyline=nf;cb.rect=ma;cb.line=tb;cb.bezierCurve=El;cb.arc=Fl;var xh=(Object.freeze||Object)({Z2_EMPHASIS_LIFT:1,CACHED_LABEL_STYLE_PROPERTIES:{color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},extendShape:yc,extendPath:function(a,b){return ca.extend(co(a,b))},registerShape:function(a,b){cb[a]=b},getShapeClass:ko,makePath:sj,makeImage:no,mergePath:function(a,b){for(var c=[],d=a.length,e=0;e<d;e++){var f=
a[e];f.path||f.createPathProxy();f.__dirtyPath&&f.buildPath(f.path,f.shape,!0);c.push(f.path)}a=new ca(b);a.createPathProxy();a.buildPath=function(g){g.appendPath(c);var h=g.getContext();h&&g.rebuildPath(h)};return a},resizePath:mo,subPixelOptimizeLine:function(a){ho(a.shape,a.shape,a.style);return a},subPixelOptimizeRect:function(a){io(a.shape,a.shape,a.style);return a},subPixelOptimize:kx,setElementHoverStyle:ro,setHoverStyle:db,setAsHighDownDispatcher:so,isHighDownDispatcher:to,getHighlightDigit:uo,
setLabelStyle:Td,modifyLabelStyle:function(a,b,c){var d=a.style;b&&(ug(d),a.setStyle(b),Se(d));d=a.__hoverStl;c&&d&&(ug(d),S(d,c),Se(d))},setTextStyle:Ma,setText:function(a,b,c){var d={isRectText:!0},e;!1===c?e=!0:d.autoColor=c;xo(a,b,d,e)},getFont:zo,updateProps:oa,initProps:zc,getTransform:xg,applyTransform:Ud,transformDirection:vj,groupTransition:Bo,clipPointsByRect:Co,clipRectByRect:function(a,b){var c=yg(a.x,b.x),d=zg(a.x+a.width,b.x+b.width),e=yg(a.y,b.y);a=zg(a.y+a.height,b.y+b.height);if(d>=
c&&a>=e)return{x:c,y:e,width:d-c,height:a-e}},createIcon:Ue,linePolygonIntersect:Ve,lineLineIntersect:Do,Group:P,Image:Sb,Text:ua,Circle:Cl,Sector:Dc,Ring:ds,Polygon:ne,Polyline:nf,Rect:ma,Line:tb,BezierCurve:El,Arc:Fl,IncrementalDisplayable:rb,CompoundPath:ix,LinearGradient:mf,RadialGradient:wh,BoundingRect:aa}),lx=["textStyle","color"],mx=rh([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],
["textAlign"]]),Fo=nb();ka.prototype={constructor:ka,init:null,mergeOption:function(a){R(this.option,a,!0)},get:function(a,b){return null==a?this.option:Eo(this.option,this.parsePath(a),!b&&wj(this,a))},getShallow:function(a,b){var c=this.option;c=null==c?c:c[a];b=!b&&wj(this,a);null==c&&b&&(c=b.getShallow(a));return c},getModel:function(a,b){var c=null==a?this.option:Eo(this.option,a=this.parsePath(a)),d;b=b||(d=wj(this,a))&&d.getModel(a);return new ka(c,b,this.ecModel)},isEmpty:function(){return null==
this.option},restoreData:function(){},clone:function(){return new this.constructor(N(this.option))},setReadOnly:function(a){},parsePath:function(a){"string"===typeof a&&(a=a.split("."));return a},customizeGetParent:function(a){Fo(this).getParent=a},isAnimationEnabled:function(){if(!Q.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}};Fe(ka);tn(ka);fa(ka,{getLineStyle:function(a){a=fx(this,a);a.lineDash=this.getLineDash(a.lineWidth);
return a},getLineDash:function(a){null==a&&(a=1);var b=this.get("type"),c=Math.max(a,2);a*=4;return"solid"===b||null==b?!1:"dashed"===b?[a,a]:[c,c]}});fa(ka,{getAreaStyle:function(a,b){return gx(this,a,b)}});fa(ka,{getTextColor:function(a){var b=this.ecModel;return this.getShallow("color")||(!a&&b?b.get(lx):null)},getFont:function(){return zo({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},
this.ecModel)},getTextRect:function(a){return Vc(a,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}});fa(ka,{getItemStyle:function(a,b){a=mx(this,a,b);(b=this.getBorderLineDash())&&(a.lineDash=b);return a},getBorderLineDash:function(){var a=this.get("borderType");return"solid"===a||null==a?null:"dashed"===a?[5,5]:[1,1]}});var Vt=0,
Wt=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,nx=(Object.freeze||Object)({linearMap:ia,parsePercent:J,round:da,asc:fd,getPrecision:Go,getPrecisionSafe:Ac,getPixelPrecision:xj,getPercentWithPrecision:Ho,MAX_SAFE_INTEGER:9007199254740991,remRadian:yj,isRadianAroundZero:We,parseDate:Bg,quantity:Io,quantityExponent:zj,nice:Aj,quantile:function(a,b){var c=(a.length-1)*b+1;b=Math.floor(c);var d=+a[b-1];return(c-=b)?
d+c*(a[b]-d):d},reformIntervals:function(a){function b(k,l,m){return k.interval[m]<l.interval[m]||k.interval[m]===l.interval[m]&&(k.close[m]-l.close[m]===(m?-1:1)||!m&&b(k,l,1))}a.sort(function(k,l){return b(k,l,0)?-1:1});for(var c=-Infinity,d=1,e=0;e<a.length;){for(var f=a[e].interval,g=a[e].close,h=0;2>h;h++)f[h]<=c&&(f[h]=c,g[h]=h?1:1-d),c=f[h],d=g[h];f[0]===f[1]&&1!==g[0]*g[1]?a.splice(e,1):e++}return a},isNumeric:function(a){return 0<=a-parseFloat(a)}}),Xe=Wh,Xt=/([&<>"'])/g,Yt={"\x26":"\x26amp;",
"\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"},Ko="abcdefg".split(""),es=vi,ox=(Object.freeze||Object)({addCommas:Wd,toCamelCase:Jo,normalizeCssArray:Xe,encodeHTML:Na,formatTpl:Bj,formatTplSimple:function(a,b,c){y(b,function(d,e){a=a.replace("{"+e+"}",c?Na(d):d)});return a},getTooltipMarker:Cg,formatTime:Cj,capitalFirst:Dj,truncateText:es,getTextBoundingRect:function(a){return Vc(a.text,a.font,a.textAlign,a.textVerticalAlign,a.textPadding,a.textLineHeight,a.rich,a.truncate)},getTextRect:function(a,
b,c,d,e,f,g,h){return Vc(a,b,c,d,e,h,f,g)},windowOpen:Ej}),Dg=y,Lo="left right top bottom width height".split(" "),Eg=[["width","left","right"],["height","top","bottom"]];O(gd,"vertical");O(gd,"horizontal");var px=nb(),ea=ka.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(a,b,c,d){ka.call(this,a,b,c,d);this.uid=Ag("ec_cpt_model")},init:function(a,b,c,d){this.mergeDefaultAndTheme(a,
c)},mergeDefaultAndTheme:function(a,b){var c=this.layoutMode,d=c?Yd({},a):{};b=b.getTheme();R(a,b.get(this.mainType));R(a,this.getDefaultOption());c&&hd(a,d,c)},mergeOption:function(a,b){R(this.option,a,!0);(b=this.layoutMode)&&hd(this.option,a,b)},optionUpdated:function(a,b){},getDefaultOption:function(){var a=px(this);if(!a.defaultOption){for(var b=[],c=this.constructor;c;){var d=c.prototype.defaultOption;d&&b.push(d);c=c.superClass}c={};for(d=b.length-1;0<=d;d--)c=R(c,b[d],!0);a.defaultOption=
c}return a.defaultOption},getReferringComponents:function(a){return this.ecModel.queryComponents({mainType:a,index:this.get(a+"Index",!0),id:this.get(a+"Id",!0)})}});Yf(ea,{registerWhenExtend:!0});(function(a){var b={};a.registerSubTypeDefaulter=function(c,d){c=kc(c);b[c.main]=d};a.determineSubType=function(c,d){var e=d.type;if(!e){var f=kc(c).main;a.hasSubTypes(c)&&b[f]&&(e=b[f](d))}return e};return a})(ea);(function(a,b){function c(f){var g={},h=[];y(f,function(k){var l=d(g,k),m=l.originalDeps=
b(k);m=e(m,f);l.entryCount=m.length;0===l.entryCount&&h.push(k);y(m,function(n){0>ba(l.predecessor,n)&&l.predecessor.push(n);var p=d(g,n);0>ba(p.successor,n)&&p.successor.push(k)})});return{graph:g,noEntryList:h}}function d(f,g){f[g]||(f[g]={predecessor:[],successor:[]});return f[g]}function e(f,g){var h=[];y(f,function(k){0<=ba(g,k)&&h.push(k)});return h}a.topologicalTravel=function(f,g,h,k){function l(r){n[r].entryCount--;0===n[r].entryCount&&p.push(r)}function m(r){q[r]=!0;l(r)}if(f.length){g=
c(g);var n=g.graph,p=g.noEntryList,q={};for(y(f,function(r){q[r]=!0});p.length;){f=p.pop();g=n[f];var t=!!q[f];t&&(h.call(k,f,g.originalDeps.slice()),delete q[f]);y(g.successor,t?m:l)}y(q,function(){throw Error("Circle dependency may exists");})}}})(ea,function(a){var b=[];y(ea.getClassesByMainType(a),function(c){b=b.concat(c.prototype.dependencies||[])});b=E(b,function(c){return kc(c).main});"dataset"!==a&&0>=ba(b,"dataset")&&b.unshift("dataset");return b});fa(ea,{getBoxLayoutParams:function(){return{left:this.get("left"),
top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}});var fs="";"undefined"!==typeof navigator&&(fs=navigator.platform||"");var eu={color:"#c23531 #2f4554 #61a0a8 #d48265 #91c7ae #749f83 #ca8622 #bda29a #6e7074 #546570 #c4ccd3".split(" "),gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:fs.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",
animationDuration:1E3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2E3,progressiveThreshold:3E3,progressive:400,hoverLayerThreshold:3E3,useUTC:!1},Gl=nb(),Hl={clearColorPalette:function(){Gl(this).colorIdx=0;Gl(this).colorNameMap={}},getColorFromPalette:function(a,b,c){b=Gl(b||this);var d=b.colorIdx||0,e=b.colorNameMap=b.colorNameMap||{};if(e.hasOwnProperty(a))return e[a];var f=Ua(this.get("color",!0)),g=this.get("colorLayer",!0);
if(null!=c&&g)a:{for(var h=g.length,k=0;k<h;k++)if(g[k].length>c){c=g[k];break a}c=g[h-1]}else c=f;if((c=c||f)&&c.length)return f=c[d],a&&(e[a]=f),b.colorIdx=(d+1)%c.length,f}};sb.seriesDataToSource=function(a){return new sb({data:a,sourceFormat:jb(a)?"typedArray":"original",fromDataset:!1})};tn(sb);var Oa={Must:1,Might:2,Not:3},Zd=nb(),Il=ka.extend({init:function(a,b,c,d){c=c||{};this.option=null;this._theme=new ka(c);this._optionManager=d},setOption:function(a,b){W(!("\x00_ec_inner"in a),"please use chart.getOption()");
this._optionManager.setOption(a,b);this.resetOption(null)},resetOption:function(a){var b=!1,c=this._optionManager;if(!a||"recreate"===a){var d=c.mountOption("recreate"===a);this.option&&"recreate"!==a?(this.restoreData(),this.mergeOption(d)):du.call(this,d);b=!0}"timeline"!==a&&"media"!==a||this.restoreData();a&&"recreate"!==a&&"timeline"!==a||(d=c.getTimelineOption(this))&&(this.mergeOption(d),b=!0);a&&"recreate"!==a&&"media"!==a||(a=c.getMediaOption(this,this._api),a.length&&y(a,function(e){this.mergeOption(e,
b=!0)},this));return b},mergeOption:function(a){var b=this.option,c=this._componentsMap,d=[];Zd(this).datasetMap=U();y(a,function(e,f){null!=e&&(ea.hasClass(f)?f&&d.push(f):b[f]=null==b[f]?N(e):R(b[f],e,!0))});ea.topologicalTravel(d,ea.getAllClassMainTypes(),function(e,f){var g=Ua(a[e]);g=Oi(c.get(e),g);qn(g);y(g,function(k,l){var m=k.option;M(m)&&(k.keyInfo.mainType=e,l=k.keyInfo,k=k.exist,k=m.type?m.type:k?k.subType:ea.determineSubType(e,m),l.subType=k)});var h=fu(c,f);b[e]=[];c.set(e,[]);y(g,function(k,
l){var m=k.exist,n=k.option;W(M(n)||m,"Empty component definition");if(n){var p=ea.getClass(e,k.keyInfo.subType,!0);m&&m.constructor===p?(m.name=k.keyInfo.name,m.mergeOption(n,this),m.optionUpdated(n,!1)):(k=S({dependentModels:h,componentIndex:l},k.keyInfo),m=new p(n,this,this,k),S(m,k),m.init(n,this,this,k),m.optionUpdated(null,!0))}else m.mergeOption({},this),m.optionUpdated({},!1);c.get(e)[l]=m;b[e][l]=m.option},this);"series"===e&&Gj(this,c.get("series"))},this);this._seriesIndicesMap=U(this._seriesIndices=
this._seriesIndices||[])},getOption:function(){var a=N(this.option);y(a,function(b,c){if(ea.hasClass(c)){b=Ua(b);for(var d=b.length-1;0<=d;d--)Wf(b[d])&&b.splice(d,1);a[c]=b}});delete a["\x00_ec_inner"];return a},getTheme:function(){return this._theme},getComponent:function(a,b){if(a=this._componentsMap.get(a))return a[b||0]},queryComponents:function(a){var b=a.mainType;if(!b)return[];var c=a.index,d=a.id,e=a.name,f=this._componentsMap.get(b);if(!f||!f.length)return[];if(null!=c)F(c)||(c=[c]),b=Pa(E(c,
function(k){return f[k]}),function(k){return!!k});else if(null!=d){var g=F(d);b=Pa(f,function(k){return g&&0<=ba(d,k.id)||!g&&k.id===d})}else if(null!=e){var h=F(e);b=Pa(f,function(k){return h&&0<=ba(e,k.name)||!h&&k.name===e})}else b=f.slice();return Qo(b,a)},findComponents:function(a){var b=a.mainType,c=function(d){var e=b+"Index",f=b+"Id",g=b+"Name";return!d||null==d[e]&&null==d[f]&&null==d[g]?null:{mainType:b,index:d[e],id:d[f],name:d[g]}}(a.query);c=c?this.queryComponents(c):this._componentsMap.get(b);
return function(d){return a.filter?Pa(d,a.filter):d}(Qo(c,a))},eachComponent:function(a,b,c){var d=this._componentsMap;"function"===typeof a?(c=b,b=a,d.each(function(e,f){y(e,function(g,h){b.call(c,f,g,h)})})):ja(a)?y(d.get(a),b,c):M(a)&&(a=this.findComponents(a),y(a,b,c))},getSeriesByName:function(a){var b=this._componentsMap.get("series");return Pa(b,function(c){return c.name===a})},getSeriesByIndex:function(a){return this._componentsMap.get("series")[a]},getSeriesByType:function(a){var b=this._componentsMap.get("series");
return Pa(b,function(c){return c.subType===a})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(a,b){Fg(this);y(this._seriesIndices,function(c){var d=this._componentsMap.get("series")[c];a.call(b,d,c)},this)},eachRawSeries:function(a,b){y(this._componentsMap.get("series"),a,b)},eachSeriesByType:function(a,b,c){Fg(this);y(this._seriesIndices,function(d){var e=this._componentsMap.get("series")[d];
e.subType===a&&b.call(c,e,d)},this)},eachRawSeriesByType:function(a,b,c){return y(this.getSeriesByType(a),b,c)},isSeriesFiltered:function(a){Fg(this);return null==this._seriesIndicesMap.get(a.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(a,b){Fg(this);a=Pa(this._componentsMap.get("series"),a,b);Gj(this,a)},restoreData:function(a){var b=this._componentsMap;Gj(this,b.get("series"));var c=[];b.each(function(d,e){c.push(e)});ea.topologicalTravel(c,
ea.getAllClassMainTypes(),function(d,e){y(b.get(d),function(f){var g;if(!(g="series"!==d)){if(a){g=a.seiresIndex;var h=a.seriesId,k=a.seriesName;g=null!=g&&f.componentIndex!==g||null!=h&&f.id!==h||null!=k&&f.name!==k}else g=void 0;g=!g}g&&f.restoreData()})})}});fa(Il,Hl);var gu="getDom getZr getWidth getHeight getDevicePixelRatio dispatchAction isDisposed on off getDataURL getConnectedDataURL getModel getOption getViewOfComponentModel getViewOfSeriesModel".split(" "),Jl={};ac.prototype={constructor:ac,
create:function(a,b){var c=[];y(Jl,function(d,e){d=d.create(a,b);c=c.concat(d||[])});this._coordinateSystems=c},update:function(a,b){y(this._coordinateSystems,function(c){c.update&&c.update(a,b)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};ac.register=function(a,b){Jl[a]=b};ac.get=function(a){return Jl[a]};var Gg=y,Hg=E,So=R,ju=/^(min|max)?(.+)$/;Hj.prototype={constructor:Hj,setOption:function(a,b){a&&y(Ua(a.series),function(d){d&&d.data&&jb(d.data)&&Yh(d.data)});a=
N(a);var c=this._optionBackup;a=hu.call(this,a,b,!c);this._newBaseOption=a.baseOption;c?(lu(c.baseOption,a.baseOption),a.timelineOptions.length&&(c.timelineOptions=a.timelineOptions),a.mediaList.length&&(c.mediaList=a.mediaList),a.mediaDefault&&(c.mediaDefault=a.mediaDefault)):this._optionBackup=a},mountOption:function(a){var b=this._optionBackup;this._timelineOptions=Hg(b.timelineOptions,N);this._mediaList=Hg(b.mediaList,N);this._mediaDefault=N(b.mediaDefault);this._currentMediaIndices=[];return N(a?
b.baseOption:this._newBaseOption)},getTimelineOption:function(a){var b,c=this._timelineOptions;c.length&&(a=a.getComponent("timeline"))&&(b=N(c[a.getCurrentIndex()],!0));return b},getMediaOption:function(a){a=this._api.getWidth();var b=this._api.getHeight(),c=this._mediaList,d=this._mediaDefault,e=[],f=[];if(!c.length&&!d)return f;for(var g=0,h=c.length;g<h;g++)iu(c[g].query,a,b)&&e.push(g);!e.length&&d&&(e=[-1]);e.length&&!ku(e,this._currentMediaIndices)&&(f=Hg(e,function(k){return N(-1===k?d.option:
c[k].option)}));this._currentMediaIndices=e;return f}};var Ze=M,To="areaStyle lineStyle nodeStyle linkStyle chordStyle label labelLine".split(" "),qx=function(a,b){y(bc(a.series),function(d){Ze(d)&&mu(d)});var c="xAxis yAxis radiusAxis angleAxis singleAxis parallelAxis radar".split(" ");b&&c.push("valueAxis","categoryAxis","logAxis","timeAxis");y(c,function(d){y(bc(a[d]),function(e){e&&(pa(e,"axisLabel"),pa(e.axisPointer,"label"))})});y(bc(a.parallel),function(d){d=d&&d.parallelAxisDefault;pa(d,"axisLabel");
pa(d&&d.axisPointer,"label")});y(bc(a.calendar),function(d){Ia(d,"itemStyle");pa(d,"dayLabel");pa(d,"monthLabel");pa(d,"yearLabel")});y(bc(a.radar),function(d){pa(d,"name")});y(bc(a.geo),function(d){Ze(d)&&(eb(d),y(bc(d.regions),function(e){eb(e)}))});y(bc(a.timeline),function(d){eb(d);Ia(d,"label");Ia(d,"itemStyle");Ia(d,"controlStyle",!0);d=d.data;F(d)&&y(d,function(e){M(e)&&(Ia(e,"label"),Ia(e,"itemStyle"))})});y(bc(a.toolbox),function(d){Ia(d,"iconStyle");y(d.feature,function(e){Ia(e,"iconStyle")})});
pa(Vo(a.axisPointer),"label");pa(Vo(a.tooltip).axisPointer,"label")},nu=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],rx="grid geo parallel legend toolbox title visualMap dataZoom timeline".split(" "),lp=function(a,b){qx(a,b);a.series=Ua(a.series);y(a.series,function(c){if(M(c)){var d=c.type;if("line"===d)null!=c.clipOverflow&&(c.clip=c.clipOverflow);else if("pie"===d||"gauge"===d)null!=c.clockWise&&(c.clockwise=c.clockWise);else if("gauge"===d){d=["pointer.color"];for(var e=c,f=0;f<d.length&&
(e=e&&e[d[f]],null!=e);f++);d=e;if(null!=d){e=["itemStyle.color"];f=c;for(var g,h=0;h<e.length-1;h++)g=e[h],null==f[g]&&(f[g]={}),f=f[g];null==f[e[h]]&&(f[e[h]]=d)}}Wo(c)}});a.dataRange&&(a.visualMap=a.dataRange);y(rx,function(c){if(c=a[c])F(c)||(c=[c]),y(c,function(d){Wo(d)})})},Kl=Xo.prototype;Kl.pure=!1;Kl.persistent=!0;Kl.getSource=function(){return this._source};var pu={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(a){return this._data[a+
this._source.startIndex]},appendData:Jj},arrayRows_row:{pure:!0,count:function(){var a=this._data[0];return a?Math.max(0,a.length-this._source.startIndex):0},getItem:function(a){a+=this._source.startIndex;for(var b=[],c=this._data,d=0;d<c.length;d++){var e=c[d];b.push(e?e[a]:null)}return b},appendData:function(){throw Error('Do not support appendData when set seriesLayoutBy: "row".');}},objectRows:{pure:!0,count:Yo,getItem:Zo,appendData:Jj},keyedColumns:{pure:!0,count:function(){var a=this._data[this._source.dimensionsDefine[0].name];
return a?a.length:0},getItem:function(a){for(var b=[],c=this._source.dimensionsDefine,d=0;d<c.length;d++){var e=this._data[c[d].name];b.push(e?e[a]:null)}return b},appendData:function(a){var b=this._data;y(a,function(c,d){d=b[d]||(b[d]=[]);for(var e=0;e<(c||[]).length;e++)d.push(c[e])})}},original:{count:Yo,getItem:Zo,appendData:Jj},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(a,b){a-=this._offset;b=b||[];a*=this._dimSize;
for(var c=0;c<this._dimSize;c++)b[c]=this._data[a+c];return b},appendData:function(a){D&&W(jb(a),"Added data must be TypedArray if data in initialization is TypedArray");this._data=a},clean:function(){this._offset+=this.count();this._data=null}}},qu={arrayRows:Kj,objectRows:function(a,b,c,d){return null!=c?a[d]:a},keyedColumns:Kj,original:function(a,b,c,d){a=De(a);return null!=c&&a instanceof Array?a[c]:a},typedArray:Kj},gs={arrayRows:$o,objectRows:function(a,b,c,d){return Lj(a[b],this._dimensionInfos[b])},
keyedColumns:$o,original:function(a,b,c,d){c=a&&(null==a.value?a:a.value);var e;if(e=!this._rawData.pure)e=Gd(a)&&!(a instanceof Array);e&&(this.hasItemOption=!0);return Lj(c instanceof Array?c[d]:c,this._dimensionInfos[b])},typedArray:function(a,b,c,d){return a[d]}},sx=/\{@(.+?)\}/g,Ll={getDataParams:function(a,b){var c=this.getData(b),d=this.getRawValue(a,b),e=c.getRawIndex(a),f=c.getName(a),g=c.getRawDataItem(a),h=c.getItemVisual(a,"color");a=c.getItemVisual(a,"borderColor");var k=this.ecModel.getComponent("tooltip");
k=k&&k.get("renderMode");k=sn(k);var l=this.mainType,m="series"===l;c=c.userOutput;return{componentType:l,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:m?this.subType:null,seriesIndex:this.seriesIndex,seriesId:m?this.id:null,seriesName:m?this.name:null,name:f,dataIndex:e,data:g,dataType:b,value:d,color:h,borderColor:a,dimensionNames:c?c.dimensionNames:null,encode:c?c.encode:null,marker:Cg({color:h,renderMode:k}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(a,
b,c,d,e){b=b||"normal";var f=this.getData(c),g=f.getItemModel(a);c=this.getDataParams(a,c);null!=d&&c.value instanceof Array&&(c.value=c.value[d]);e=g.get("normal"===b?[e||"label","formatter"]:[b,e||"label","formatter"]);if("function"===typeof e)return c.status=b,c.dimensionIndex=d,e(c);if("string"===typeof e)return Bj(e,c).replace(sx,function(h,k){h=k.length;"["===k.charAt(0)&&"]"===k.charAt(h-1)&&(k=+k.slice(1,h-1));return id(f,a,k)})},getRawValue:function(a,b){return id(this.getData(b),a)},formatTooltip:function(){}},
Nc=$d.prototype;Nc.perform=function(a){function b(m){1<=m||(m=1);return m}var c=this._upstream,d=a&&a.skip;if(this._dirty&&c){var e=this.context;e.data=e.outputData=c.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var f;this._plan&&!d&&(f=this._plan(this.context));var g=b(this._modBy),h=this._modDataCount||0;e=b(a&&a.modBy);var k=a&&a.modDataCount||0;if(g!==e||h!==k)f="reset";if(this._dirty||"reset"===f){this._dirty=!1;var l=ru(this,d)}this._modBy=e;this._modDataCount=k;a=
a&&a.step;c?(D&&W(null!=c._outputDueEnd),this._dueEnd=c._outputDueEnd):(D&&W(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):Infinity);if(this._progress){c=this._dueIndex;a=Math.min(null!=a?this._dueIndex+a:Infinity,this._dueEnd);if(!d&&(l||c<a))if(d=this._progress,F(d))for(l=0;l<d.length;l++)ap(this,d[l],c,a,e,k);else ap(this,d,c,a,e,k);this._dueIndex=a;e=null!=this._settedOutputEnd?this._settedOutputEnd:a;D&&W(e>=this._outputDueEnd);this._outputDueEnd=e}else this._dueIndex=
this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var bp=function(){function a(){return d<c?d++:null}function b(){var k=d%g*e+Math.ceil(d/g);k=d>=c?null:k<f?k:d;d++;return k}var c,d,e,f,g,h={reset:function(k,l,m,n){d=k;c=l;e=m;f=n;g=Math.ceil(f/e);h.next=1<e&&0<f?b:a}};return h}();Nc.dirty=function(){this._dirty=!0;this._onDirty&&this._onDirty(this.context)};Nc.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};Nc.pipe=
function(a){D&&W(a&&!a._disposed&&a!==this);if(this._downstream!==a||this._dirty)this._downstream=a,a._upstream=this,a.dirty()};Nc.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)};Nc.getUpstream=function(){return this._upstream};Nc.getDownstream=function(){return this._downstream};Nc.setOutputEnd=function(a){this._outputDueEnd=this._settedOutputEnd=a};var Df=nb(),ee=ea.extend({type:"series.__base__",
seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(a,b,c,d){this.seriesIndex=this.componentIndex;this.dataTask=new $d({count:tu,reset:uu});this.dataTask.context={model:this};this.mergeDefaultAndTheme(a,c);Mo(this);a=this.getInitialData(a,c);dp(a,this);this.dataTask.context.data=a;D&&W(a,"getInitialData returned invalid data.");Df(this).dataBeforeProcessed=
a;cp(this)},mergeDefaultAndTheme:function(a,b){var c=this.layoutMode,d=c?Yd({},a):{},e=this.subType;ea.hasClass(e)&&(e+="Series");R(a,b.getTheme().get(this.subType));R(a,this.getDefaultOption());Vf(a,"label",["show"]);this.fillDataTextStyle(a.data);c&&hd(a,d,c)},mergeOption:function(a,b){a=R(this.option,a,!0);this.fillDataTextStyle(a.data);var c=this.layoutMode;c&&hd(this.option,a,c);Mo(this);a=this.getInitialData(a,b);dp(a,this);this.dataTask.dirty();this.dataTask.context.data=a;Df(this).dataBeforeProcessed=
a;cp(this)},fillDataTextStyle:function(a){if(a&&!jb(a))for(var b=["show"],c=0;c<a.length;c++)a[c]&&a[c].label&&Vf(a[c],"label",b)},getInitialData:function(){},appendData:function(a){this.getRawData().appendData(a.data)},getData:function(a){var b=Mj(this);return b?(b=b.context.data,null==a?b:b.getLinkedData(a)):Df(this).data},setData:function(a){var b=Mj(this);if(b){var c=b.context;c.data!==a&&b.modifyOutputEnd&&b.setOutputEnd(a.count());c.outputData=a;b!==this.dataTask&&(c.data=a)}Df(this).data=a},
getSource:function(){return Zd(this).source},getRawData:function(){return Df(this).dataBeforeProcessed},getBaseAxis:function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},formatTooltip:function(a,b,c,d){function e(v){function w(A,B){var K=m.getDimensionInfo(B);if(K&&!1!==K.otherDims.tooltip){var V=K.type;B="sub"+g.seriesIndex+"at"+l;var C=Cg({color:r,type:"subItem",renderMode:d,markerId:B});C="string"===typeof C?C:C.content;(A=(x?C+Na(K.displayName||"-")+": ":"")+Na("ordinal"===
V?A+"":"time"===V?b?"":Cj("yyyy/MM/dd hh:mm:ss",A):Wd(A)))&&z.push(A);h&&(k[B]=r,++l)}}var x=ue(v,function(A,B,K){B=m.getDimensionInfo(K);return A|=B&&!1!==B.tooltip&&null!=B.displayName},0),z=[];n.length?y(n,function(A){w(id(m,a,A),A)}):y(v,w);v=x?h?"\n":"\x3cbr/\x3e":"";v+=z.join(v||", ");return{renderMode:d,content:v,style:k}}function f(v){return{renderMode:d,content:Na(Wd(v)),style:k}}var g=this;d=d||"html";c="html"===d?"\x3cbr/\x3e":"\n";var h="richText"===d,k={},l=0,m=this.getData(),n=m.mapDimension("defaultedTooltip",
!0),p=n.length,q=this.getRawValue(a),t=F(q),r=m.getItemVisual(a,"color");M(r)&&r.colorStops&&(r=(r.colorStops[0]||{}).color);r=r||"transparent";p=(1<p||t&&!p?e(q):p?f(id(m,a,n[0])):f(t?q[0]:q)).content;t=g.seriesIndex+"at"+l;q=Cg({color:r,type:"item",renderMode:d,markerId:t});k[t]=r;++l;t=m.getName(a);var u=this.name;Pi(this)||(u="");u=u?Na(u)+(b?": ":c):"";c="string"===typeof q?q:q.content;return{html:b?c+u+p:u+c+(t?Na(t)+": "+p:p),markers:k}},isAnimationEnabled:function(){if(Q.node)return!1;var a=
this.getShallow("animation");a&&this.getData().count()>this.getShallow("animationThreshold")&&(a=!1);return a},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(a,b,c){var d=this.ecModel,e=Hl.getColorFromPalette.call(this,a,b,c);e||(e=d.getColorFromPalette(a,b,c));return e},coordDimToDataDim:function(a){return this.getRawData().mapDimension(a,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},
getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});fa(ee,Ll);fa(ee,Hl);var Eb=function(){this.group=new P;this.uid=Ag("viewComponent")};Eb.prototype={constructor:Eb,init:function(a,b){},render:function(a,b,c,d){},dispose:function(){},filterForExposedEvent:null};var Ml=Eb.prototype;Ml.updateView=Ml.updateLayout=Ml.updateVisual=function(a,b,c,d){};Fe(Eb);Yf(Eb,{registerWhenExtend:!0});var Nl=function(){var a=nb();return function(b){var c=a(b),
d=b.pipelineContext;b=c.large;var e=c.progressiveRender,f=c.large=d&&d.large;c=c.progressiveRender=d&&d.progressiveRender;return!!(b^f||e^c)&&"reset"}},fp=nb(),zu=Nl();Wa.prototype={type:"chart",init:function(a,b){},render:function(a,b,c,d){},highlight:function(a,b,c,d){ep(a.getData(),d,"emphasis")},downplay:function(a,b,c,d){ep(a.getData(),d,"normal")},remove:function(a,b){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};
var Ol=Wa.prototype;Ol.updateView=Ol.updateLayout=Ol.updateVisual=function(a,b,c,d){this.render(a,b,c,d)};Fe(Wa,["dispose"]);Yf(Wa,{registerWhenExtend:!0});Wa.markUpdateMethod=function(a,b){fp(a).updateMethod=b};var Au={incrementalPrepareRender:{progress:function(a,b){b.view.incrementalRender(a,b.model,b.ecModel,b.api,b.payload)}},render:{forceFirstProgress:!0,progress:function(a,b){b.view.render(b.model,b.ecModel,b.api,b.payload)}}},tx={pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",
scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",
sunburst:"\u65ed\u65e5\u56fe"},ux={general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",
withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}},Qu=function(a,b){function c(n,p){if("string"!==typeof n)return n;var q=n;y(p,function(t,r){q=q.replace(new RegExp("\\{\\s*"+r+"\\s*\\}","g"),
t)});return q}function d(n){var p=f.get(n);if(null==p){n=n.split(".");p=ux;for(var q=0;q<n.length;++q)p=p[n[q]];return p}return p}function e(){var n=b.getModel("title").option;n&&n.length&&(n=n[0]);return n&&n.text}var f=b.getModel("aria");if(f.get("show"))if(f.get("description"))a.setAttribute("aria-label",f.get("description"));else{var g=0;b.eachSeries(function(n,p){++g},this);var h=f.get("data.maxCount")||10,k=f.get("series.maxCount")||10,l=Math.min(g,k);if(!(1>g)){k=(k=e())?c(d("general.withTitle"),
{title:k}):d("general.withoutTitle");var m=[];k+=c(d(1<g?"series.multiple.prefix":"series.single.prefix"),{seriesCount:g});b.eachSeries(function(n,p){if(p<l){p=n.get("name");var q="series."+(1<g?"multiple":"single")+".";p=d(p?q+"withName":q+"withoutName");p=c(p,{seriesId:n.seriesIndex,seriesName:n.get("name"),seriesType:tx[n.subType]||"\u81ea\u5b9a\u4e49\u56fe"});n=n.getData();window.data=n;p=n.count()>h?p+c(d("data.partialData"),{displayCnt:h}):p+d("data.allData");q=[];for(var t=0;t<n.count();t++)if(t<
h){var r=n.getName(t),u=id(n,t);q.push(c(r?d("data.withName"):d("data.withoutName"),{name:r,value:u}))}p+=q.join(d("data.separator.middle"))+d("data.separator.end");m.push(p)}});k+=m.join(d("series.multiple.separator.middle"))+d("series.multiple.separator.end");a.setAttribute("aria-label",k)}}},yh=Math.PI,ib=Kg.prototype;ib.restoreData=function(a,b){a.restoreData(b);this._stageTaskMap.each(function(c){(c=c.overallTask)&&c.dirty()})};ib.getPerformArgs=function(a,b){if(a.__pipeline){var c=this._pipelineMap.get(a.__pipeline.id),
d=c.context;a=!b&&c.progressiveEnabled&&(!d||d.progressiveRender)&&a.__idxInPipeline>c.blockIndex?c.step:null;d=d&&d.modDataCount;return{step:a,modBy:null!=d?Math.ceil(d/a):null,modDataCount:d}}};ib.getPipeline=function(a){return this._pipelineMap.get(a)};ib.updateStreamModes=function(a,b){var c=this._pipelineMap.get(a.uid),d=a.getData().count();b=c.progressiveEnabled&&b.incrementalPrepareRender&&d>=c.threshold;var e=a.get("large")&&d>=a.get("largeThreshold");d="mod"===a.get("progressiveChunkMode")?
d:null;a.pipelineContext=c.context={progressiveRender:b,modDataCount:d,large:e}};ib.restorePipelines=function(a){var b=this,c=b._pipelineMap=U();a.eachSeries(function(d){var e=d.getProgressive(),f=d.uid;c.set(f,{id:f,head:null,tail:null,threshold:d.getProgressiveThreshold(),progressiveEnabled:e&&!(d.preventIncremental&&d.preventIncremental()),blockIndex:-1,step:Math.round(e||700),count:0});Lg(b,d,d.dataTask)})};ib.prepareStageTasks=function(){var a=this._stageTaskMap,b=this.ecInstance.getModel(),
c=this.api;y(this._allHandlers,function(d){var e=a.get(d.uid)||a.set(d.uid,[]);d.reset&&Bu(this,d,e,b,c);d.overallReset&&Fu(this,d,e,b,c)},this)};ib.prepareView=function(a,b,c,d){var e=a.renderTask,f=e.context;f.model=b;f.ecModel=c;f.api=d;e.__block=!a.incrementalPrepareRender;Lg(this,b,e)};ib.performDataProcessorTasks=function(a,b){hp(this,this._dataProcessorHandlers,a,b,{block:!0})};ib.performVisualTasks=function(a,b,c){hp(this,this._visualHandlers,a,b,c)};ib.performSeriesTasks=function(a){var b;
a.eachSeries(function(c){b|=c.dataTask.perform()});this.unfinished|=b};ib.plan=function(){this._pipelineMap.each(function(a){var b=a.tail;do{if(b.__block){a.blockIndex=b.__idxInPipeline;break}b=b.getUpstream()}while(b)})};var ip=ib.updatePayload=function(a,b){"remain"!==b&&(a.context.payload=b)},Ku=jp(0);Kg.wrapStageHandler=function(a,b){if(va(a)){var c=a;zh=null;try{a(Ef,hs)}catch(d){}a={overallReset:c,seriesType:zh}}a.uid=Ag("stageHandler");b&&(a.visualType=b);return a};var Ef={},hs={},zh;kp(Ef,
Il);kp(hs,Ro);Ef.eachSeriesByType=Ef.eachRawSeriesByType=function(a){zh=a};Ef.eachComponent=function(a){"series"===a.mainType&&a.subType&&(zh=a.subType)};var is="#37A2DA #32C5E9 #67E0E3 #9FE6B8 #FFDB5C #ff9f7f #fb7293 #E062AE #E690D1 #e7bcf3 #9d96f5 #8378EA #96BFFF".split(" "),vx={color:is,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],"#37A2DA #67E0E3 #FFDB5C #ff9f7f #E062AE #9d96f5".split(" "),"#37A2DA #32C5E9 #9FE6B8 #FFDB5C #ff9f7f #fb7293 #e7bcf3 #8378EA #96BFFF".split(" "),is]},Ah=function(){return{axisLine:{lineStyle:{color:"#eee"}},
axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}}},Pl="#dd6b66 #759aa0 #e69d87 #8dc1a9 #ea7e53 #eedd78 #73a373 #73b9bc #7289ab #91ca8c #f49f42".split(" "),js={color:Pl,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"},label:{color:"#000"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},
dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:Pl[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:Ah(),logAxis:Ah(),valueAxis:Ah(),categoryAxis:Ah(),line:{symbol:"circle"},graph:{color:Pl},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};js.categoryAxis.splitLine.show=
!1;ea.extend({type:"dataset",defaultOption:{seriesLayoutBy:"column",sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){var a=this.option.source,b="unknown";if(jb(a))b="typedArray";else if(F(a)){0===a.length&&(b="arrayRows");for(var c=0,d=a.length;c<d;c++){var e=a[c];if(null!=e)if(F(e)){b="arrayRows";break}else if(M(e)){b="objectRows";break}}}else if(M(a))for(c in a){if(a.hasOwnProperty(c)&&Nb(a[c])){b="keyedColumns";break}}else if(null!=a)throw Error("Invalid data");Zd(this).sourceFormat=
b}});Eb.extend({type:"dataset"});ca.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.rx;b=b.ry;var f=.5522848*e,g=.5522848*b;a.moveTo(c-e,d);a.bezierCurveTo(c-e,d-g,c-f,d-b,c,d-b);a.bezierCurveTo(c+f,d-b,c+e,d-g,c+e,d);a.bezierCurveTo(c+e,d+g,c+f,d+b,c,d+b);a.bezierCurveTo(c-f,d+b,c-e,d+g,c-e,d);a.closePath()}});var ks=U(),ls={registerMap:function(a,b,c){F(b)||(b.svg?b=[{type:"svg",source:b.svg,specialAreas:b.specialAreas}]:(b.geoJson&&!b.features&&
(c=b.specialAreas,b=b.geoJson),b=[{type:"geoJSON",source:b,specialAreas:c}]));y(b,function(d){var e=d.type;"geoJson"===e&&(e=d.type="geoJSON");var f=xx[e];D&&W(f,"Illegal map type: "+e);f(d)});return ks.set(a,b)},retrieveMap:function(a){return ks.get(a)}},xx={geoJSON:function(a){var b=a.source;a.geoJSON=ja(b)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(b):(new Function("return ("+b+");"))():b},svg:function(a){var b=a.source;ja(b)&&(b=(new DOMParser).parseFromString(b,"text/xml"));9===b.nodeType&&
(b=b.firstChild);for(;"svg"!==b.nodeName.toLowerCase()||1!==b.nodeType;)b=b.nextSibling;a.svgXML=b}},be=W,sa=y,Su=va,cf=M,Qj=ea.parseClassType,Ql={zrender:"4.3.2"},wd={PROCESSOR:{FILTER:1E3,SERIES_FILTER:800,STATISTIC:5E3},VISUAL:{LAYOUT:1E3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2E3,CHART:3E3,POST_CHART_LAYOUT:3500,COMPONENT:4E3,BRUSH:5E3}},wp=/^[a-zA-Z0-9_]+$/;$e.prototype.on=ae("on",!0);$e.prototype.off=ae("off",!0);$e.prototype.one=ae("one",!0);fa($e,wa);var Z=af.prototype;Z._onframe=function(){if(!this._disposed){var a=
this._scheduler;if(this.__optionUpdated)a=this.__optionUpdated.silent,this.__flagInMainProcess=!0,bf(this),Bc.update.call(this),this.__optionUpdated=this.__flagInMainProcess=!1,Pg.call(this,a),!a&&this.trigger("updated");else if(a.unfinished){var b=1,c=this._model,d=this._api;a.unfinished=!1;do{var e=+new Date;a.performSeriesTasks(c);a.performDataProcessorTasks(c);pp(this,c);a.performVisualTasks(c);Sj(this,this._model,d,"remain");b-=+new Date-e}while(0<b&&a.unfinished);a.unfinished||this._zr.flush()}}};
Z.getDom=function(){return this._dom};Z.getZr=function(){return this._zr};Z.setOption=function(a,b,c){D&&be(!this.__flagInMainProcess,"`setOption` should not be called during main process.");if(this._disposed)Xa(this.id);else{if(cf(b)){c=b.lazyUpdate;var d=b.silent;b=b.notMerge}this.__flagInMainProcess=!0;if(!this._model||b){b=new Hj(this._api);var e=this._theme,f=this._model=new Il;f.scheduler=this._scheduler;f.init(null,null,e,b)}this._model.setOption(a,vp);c?(this.__optionUpdated={silent:d},this.__flagInMainProcess=
!1):(bf(this),Bc.update.call(this),this._zr.flush(),this.__flagInMainProcess=this.__optionUpdated=!1,Pg.call(this,d),!d&&this.trigger("updated"))}};Z.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};Z.getModel=function(){return this._model};Z.getOption=function(){return this._model&&this._model.getOption()};Z.getWidth=function(){return this._zr.getWidth()};Z.getHeight=function(){return this._zr.getHeight()};Z.getDevicePixelRatio=function(){return this._zr.painter.dpr||
window.devicePixelRatio||1};Z.getRenderedCanvas=function(a){if(Q.canvasSupported)return a=a||{},a.pixelRatio=a.pixelRatio||1,a.backgroundColor=a.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(a)};Z.getSvgDataURL=function(){if(Q.svgSupported){var a=this._zr,b=a.storage.getDisplayList();y(b,function(c){c.stopAnimation(!0)});return a.painter.toDataURL()}};Z.getDataURL=function(a){if(this._disposed)Xa(this.id);else{a=a||{};var b=this._model,c=[],d=this;sa(a.excludeComponents,
function(e){b.eachComponent({mainType:e},function(f){f=d._componentsMap[f.__viewId];f.group.ignore||(c.push(f),f.group.ignore=!0)})});a="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(a).toDataURL("image/"+(a&&a.type||"png"));sa(c,function(e){e.group.ignore=!1});return a}};Z.getConnectedDataURL=function(a){if(this._disposed)Xa(this.id);else if(Q.canvasSupported){var b="svg"===a.type,c=this.group,d=Math.min,e=Math.max;if(Rg[c]){var f=Infinity,g=Infinity,h=-Infinity,k=
-Infinity,l=[],m=a&&a.pixelRatio||1;y(jd,function(u,v){u.group===c&&(v=b?u.getZr().painter.getSvgDom().innerHTML:u.getRenderedCanvas(N(a)),u=u.getDom().getBoundingClientRect(),f=d(u.left,f),g=d(u.top,g),h=e(u.right,h),k=e(u.bottom,k),l.push({dom:v,left:u.left,top:u.top}))});f*=m;g*=m;h*=m;k*=m;var n=h-f,p=k-g,q=If(),t=Mi(q,{renderer:b?"svg":"canvas"});t.resize({width:n,height:p});if(b){var r="";sa(l,function(u){r+='\x3cg transform\x3d"translate('+(u.left-f)+","+(u.top-g)+')"\x3e'+u.dom+"\x3c/g\x3e"});
t.painter.getSvgRoot().innerHTML=r;a.connectedBackgroundColor&&t.painter.setBackgroundColor(a.connectedBackgroundColor);t.refreshImmediately();return t.painter.toDataURL()}a.connectedBackgroundColor&&t.add(new ma({shape:{x:0,y:0,width:n,height:p},style:{fill:a.connectedBackgroundColor}}));sa(l,function(u){u=new Sb({style:{x:u.left*m-f,y:u.top*m-g,image:u.dom}});t.add(u)});t.refreshImmediately();return q.toDataURL("image/"+(a&&a.type||"png"))}return this.getDataURL(a)}};Z.convertToPixel=O(mp,"convertToPixel");
Z.convertFromPixel=O(mp,"convertFromPixel");Z.containPixel=function(a,b){if(this._disposed)Xa(this.id);else{var c;a=Ee(this._model,a);y(a,function(d,e){0<=e.indexOf("Models")&&y(d,function(f){var g=f.coordinateSystem;g&&g.containPoint?c|=!!g.containPoint(b):"seriesModels"===e?(g=this._chartsMap[f.__viewId])&&g.containPoint?c|=g.containPoint(b,f):D&&console.warn(e+": "+(g?"The found component do not support containPoint.":"No view mapping to the found component.")):D&&console.warn(e+": containPoint is not supported")},
this)},this);return!!c}};Z.getVisual=function(a,b){a=Ee(this._model,a,{defaultMainType:"series"});var c=a.seriesModel;D&&(c||console.warn("There is no specified seires model"));c=c.getData();a=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?c.indexOfRawIndex(a.dataIndex):null;return null!=a?c.getItemVisual(a,b):c.getVisual(b)};Z.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]};Z.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]};
var Bc={prepareAndUpdate:function(a){bf(this);Bc.update.call(this,a)},update:function(a){var b=this._model,c=this._api,d=this._zr,e=this._coordSysMgr,f=this._scheduler;b&&(f.restoreData(b,a),f.performSeriesTasks(b),e.create(b,c),f.performDataProcessorTasks(b,a),pp(this,b),e.update(b,c),Rj(b),f.performVisualTasks(b,a),rp(this,b,c,a),a=b.get("backgroundColor")||"transparent",Q.canvasSupported?d.setBackgroundColor(a):(d=xb(a),a=Qb(d,"rgb"),0===d[3]&&(a="transparent")),Tj(b,c))},updateTransform:function(a){var b=
this._model,c=this,d=this._api;if(b){var e=[];b.eachComponent(function(g,h){(g=c.getViewOfComponentModel(h))&&g.__alive&&(g.updateTransform?(h=g.updateTransform(h,b,d,a))&&h.update&&e.push(g):e.push(g))});var f=U();b.eachSeries(function(g){var h=c._chartsMap[g.__viewId];h.updateTransform?(h=h.updateTransform(g,b,d,a))&&h.update&&f.set(g.uid,1):f.set(g.uid,1)});Rj(b);this._scheduler.performVisualTasks(b,a,{setDirty:!0,dirtyMap:f});Sj(c,b,d,a,f);Tj(b,this._api)}},updateView:function(a){var b=this._model;
b&&(Wa.markUpdateMethod(a,"updateView"),Rj(b),this._scheduler.performVisualTasks(b,a,{setDirty:!0}),rp(this,this._model,this._api,a),Tj(b,this._api))},updateVisual:function(a){Bc.update.call(this,a)},updateLayout:function(a){Bc.update.call(this,a)}};Z.resize=function(a){D&&be(!this.__flagInMainProcess,"`resize` should not be called during main process.");if(this._disposed)Xa(this.id);else{this._zr.resize(a);var b=this._model;this._loadingFX&&this._loadingFX.resize();b&&(b=b.resetOption("media"),a=
a&&a.silent,this.__flagInMainProcess=!0,b&&bf(this),Bc.update.call(this),this.__flagInMainProcess=!1,Pg.call(this,a),!a&&this.trigger("updated"))}};Z.showLoading=function(a,b){this._disposed?Xa(this.id):(cf(a)&&(b=a,a=""),a=a||"default",this.hideLoading(),Bh[a]?(a=Bh[a](this._api,b),b=this._zr,this._loadingFX=a,b.add(a)):D&&console.warn("Loading effects "+a+" not exists."))};Z.hideLoading=function(){this._disposed?Xa(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)};
Z.makeActionFromEvent=function(a){var b=S({},a);b.type=Qg[a.type];return b};Z.dispatchAction=function(a,b){this._disposed?Xa(this.id):(cf(b)||(b={silent:!!b}),Og[a.type]&&this._model&&(this.__flagInMainProcess?this._pendingActions.push(a):(qp.call(this,a,b.silent),b.flush?this._zr.flush(!0):!1!==b.flush&&Q.browser.weChat&&this._throttledZrFlush(),Pg.call(this,b.silent),!b.silent&&this.trigger("updated"))))};Z.appendData=function(a){if(this._disposed)Xa(this.id);else{var b=a.seriesIndex;b=this.getModel().getSeriesByIndex(b);
D&&be(a.data&&b);b.appendData(a);this._scheduler.unfinished=!0}};Z.on=ae("on",!1);Z.off=ae("off",!1);Z.one=ae("one",!1);var yx="click dblclick mouseover mouseout mousemove mousedown mouseup globalout contextmenu".split(" ");Z._initEvents=function(){sa(yx,function(a){var b=function(c){var d=this.getModel(),e=c.target,f="globalout"===a;if(f)var g={};else e&&null!=e.dataIndex?g=(g=e.dataModel||d.getSeriesByIndex(e.seriesIndex))&&g.getDataParams(e.dataIndex,e.dataType,e)||{}:e&&e.eventData&&(g=S({},e.eventData));
if(g){var h=g.componentType,k=g.componentIndex;if("markLine"===h||"markPoint"===h||"markArea"===h)h="series",k=g.seriesIndex;h=(d=h&&null!=k&&d.getComponent(h,k))&&this["series"===d.mainType?"_chartsMap":"_componentsMap"][d.__viewId];D&&(f||d&&h||console.warn("model or view can not be found by params"));g.event=c;g.type=a;this._ecEventProcessor.eventInfo={targetEl:e,packedEvent:g,model:d,view:h};this.trigger(a,g)}};b.zrEventfulCallAtLast=!0;this._zr.on(a,b,this)},this);sa(Qg,function(a,b){this._messageCenter.on(b,
function(c){this.trigger(b,c)},this)},this)};Z.isDisposed=function(){return this._disposed};Z.clear=function(){this._disposed?Xa(this.id):this.setOption({series:[]},!0)};Z.dispose=function(){if(this._disposed)Xa(this.id);else{this._disposed=!0;rn(this.getDom(),Vj,"");var a=this._api,b=this._model;sa(this._componentsViews,function(c){c.dispose(b,a)});sa(this._chartsViews,function(c){c.dispose(b,a)});this._zr.dispose();delete jd[this.id]}};fa(af,wa);Pj.prototype={constructor:Pj,normalizeQuery:function(a){var b=
{},c={},d={};if(ja(a))a=Qj(a),b.mainType=a.main||null,b.subType=a.sub||null;else{var e=["Index","Name","Id"],f={name:1,dataIndex:1,dataType:1};y(a,function(g,h){for(var k=!1,l=0;l<e.length;l++){var m=e[l],n=h.lastIndexOf(m);0<n&&n===h.length-m.length&&(n=h.slice(0,n),"data"!==n&&(b.mainType=n,b[m.toLowerCase()]=g,k=!0))}f.hasOwnProperty(h)&&(c[h]=g,k=!0);k||(d[h]=g)})}return{cptQuery:b,dataQuery:c,otherQuery:d}},filter:function(a,b,c){function d(l,m,n,p){return null==l[n]||m[p||n]===l[n]}var e=this.eventInfo;
if(!e)return!0;c=e.targetEl;var f=e.packedEvent,g=e.model;e=e.view;if(!g||!e)return!0;var h=b.cptQuery,k=b.dataQuery;return d(h,g,"mainType")&&d(h,g,"subType")&&d(h,g,"index","componentIndex")&&d(h,g,"name")&&d(h,g,"id")&&d(k,f,"name")&&d(k,f,"dataIndex")&&d(k,f,"dataType")&&(!e.filterForExposedEvent||e.filterForExposedEvent(a,b.otherQuery,c,f))},afterTrigger:function(){this.eventInfo=null}};var Og={},Qg={},Oj=[],vp=[],tp=[],Ng=[],Mg={},Bh={},jd={},Rg={},zx=new Date-0,Ax=new Date-0,Vj="_echarts_instance_";
de(2E3,{createOnAllSeries:!0,performRawSeries:!0,reset:function(a,b){var c=a.getData(),d=(a.visualColorAccessPath||"itemStyle.color").split("."),e=a.get(d),f=!va(e)||e instanceof Cf?null:e;if(!e||f)e=a.getColorFromPalette(a.name,null,b.getSeriesCount());c.setVisual("color",e);var g=(a.visualBorderColorAccessPath||"itemStyle.borderColor").split(".");e=a.get(g);c.setVisual("borderColor",e);if(!b.isSeriesFiltered(a))return f&&c.each(function(h){c.setItemVisual(h,"color",f(a.getDataParams(h)))}),b=function(h,
k){var l=h.getItemModel(k),m=l.get(d,!0);l=l.get(g,!0);null!=m&&h.setItemVisual(k,"color",m);null!=l&&h.setItemVisual(k,"borderColor",l)},{dataEach:c.hasItemOption?b:null}}});Fb(lp);kd(900,function(a){var b=U();a.eachSeries(function(c){var d=c.get("stack");if(d){d=b.get(d)||b.set(d,[]);var e=c.getData();c={stackResultDimension:e.getCalculationInfo("stackResultDimension"),stackedOverDimension:e.getCalculationInfo("stackedOverDimension"),stackedDimension:e.getCalculationInfo("stackedDimension"),stackedByDimension:e.getCalculationInfo("stackedByDimension"),
isStackedByIndex:e.getCalculationInfo("isStackedByIndex"),data:e,seriesModel:c};c.stackedDimension&&(c.isStackedByIndex||c.stackedByDimension)&&(d.length&&e.setCalculationInfo("stackedOnSeries",d[d.length-1].seriesModel),d.push(c))}});b.each(ou)});Bh["default"]=function(a,b){b=b||{};T(b,{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var c=new P,d=new ma({style:{fill:b.maskColor},zlevel:b.zlevel,
z:1E4});c.add(d);var e=b.fontSize+" sans-serif",f=new ma({style:{fill:"none",text:b.text,font:e,textPosition:"right",textDistance:10,textFill:b.textColor},zlevel:b.zlevel,z:10001});c.add(f);if(b.showSpinner){var g=new Fl({shape:{startAngle:-yh/2,endAngle:-yh/2+.1,r:b.spinnerRadius},style:{stroke:b.color,lineCap:"round",lineWidth:b.lineWidth},zlevel:b.zlevel,z:10001});g.animateShape(!0).when(1E3,{endAngle:3*yh/2}).start("circularInOut");g.animateShape(!0).when(1E3,{startAngle:3*yh/2}).delay(300).start("circularInOut");
c.add(g)}c.resize=function(){var h=Sa(b.text,e),k=b.showSpinner?b.spinnerRadius:0;h=(a.getWidth()-2*k-(b.showSpinner&&h?10:0)-h)/2-(b.showSpinner?0:h/2);var l=a.getHeight()/2;b.showSpinner&&g.setShape({cx:h,cy:l});f.setShape({x:h-k,y:l-k,width:2*k,height:2*k});d.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})};c.resize();return c};ta({type:"highlight",event:"highlight",update:"highlight"},Za);ta({type:"downplay",event:"downplay",update:"downplay"},Za);Mg.light=vx;Mg.dark=js;Sg.prototype=
{constructor:Sg,add:function(a){this._add=a;return this},update:function(a){this._update=a;return this},remove:function(a){this._remove=a;return this},execute:function(){var a=this._old,b=this._new,c={},d=[],e=[];Ap(a,{},d,"_oldKeyGetter",this);Ap(b,c,e,"_newKeyGetter",this);for(b=0;b<a.length;b++){var f=d[b],g=c[f];if(null!=g){var h=g.length;h?(1===h&&(c[f]=null),g=g.shift()):c[f]=null;this._update&&this._update(g,b)}else this._remove&&this._remove(b)}for(b=0;b<e.length;b++)if(f=e[b],c.hasOwnProperty(f)&&
(g=c[f],null!=g))if(g.length)for(a=0,h=g.length;a<h;a++)this._add&&this._add(g[a]);else this._add&&this._add(g)}};var Xj=U(["tooltip","label","itemName","itemId","seriesName"]),Ch=M,Xu={"float":"undefined"===typeof Float64Array?Array:Float64Array,"int":"undefined"===typeof Int32Array?Array:Int32Array,ordinal:Array,number:Array,time:Array},Dh="undefined"===typeof Uint32Array?Array:Uint32Array,Yu="undefined"===typeof Int32Array?Array:Int32Array,Eh="undefined"===typeof Uint16Array?Array:Uint16Array,
Vu="hasItemOption _nameList _idList _invertedIndicesMap _rawData _chunkSize _chunkCount _dimValueGetter _count _rawCount _nameDimIdx _idDimIdx".split(" "),Wu=["_extent","_approximateExtent","_rawExtent"],Ya=function(a,b){a=a||["x","y"];for(var c={},d=[],e={},f=0;f<a.length;f++){var g=a[f];ja(g)?g=new df({name:g}):g instanceof df||(g=new df(g));var h=g.name;g.type=g.type||"float";g.coordDim||(g.coordDim=h,g.coordDimIndex=0);g.otherDims=g.otherDims||{};d.push(h);c[h]=g;g.index=f;g.createInvertedIndices&&
(e[h]=[])}this.dimensions=d;this._dimensionInfos=c;this.hostModel=b;this._indices=null;this._rawCount=this._count=0;this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this._visual={};this._layout={};this._itemVisuals=[];this.hasItemVisual={};this._itemLayouts=[];this._graphicEls=[];this._chunkSize=1E5;this._chunkCount=0;this._rawExtent={};this._extent={};this._approximateExtent={};this._dimensionsSummary=Tu(this);this._invertedIndicesMap=e;this._calculationInfo={};this.userOutput=
this._dimensionsSummary.userOutput},G=Ya.prototype;G.type="list";G.hasItemOption=!0;G.getDimension=function(a){if("number"===typeof a||!isNaN(a)&&!this._dimensionInfos.hasOwnProperty(a))a=this.dimensions[a];return a};G.getDimensionInfo=function(a){return this._dimensionInfos[this.getDimension(a)]};G.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()};G.mapDimension=function(a,b){var c=this._dimensionsSummary;if(null==b)return c.encodeFirstDimNotExtra[a];a=c.encode[a];
return!0===b?(a||[]).slice():a&&a[b]};G.initData=function(a,b,c){var d=sb.isInstance(a)||Nb(a);d&&(a=new Xo(a,this.dimensions.length));if(D&&!d&&("function"!==typeof a.getItem||"function"!==typeof a.count))throw Error("Inavlid data provider.");this._rawData=a;this._storage={};this._indices=null;this._nameList=b||[];this._idList=[];this._nameRepeatCount={};c||(this.hasItemOption=!1);this.defaultDimValueGetter=gs[this._rawData.getSource().sourceFormat];this._dimValueGetter=c=c||this.defaultDimValueGetter;
this._dimValueGetterArrayRows=gs.arrayRows;this._rawExtent={};this._initDataFromProvider(0,a.count());a.pure&&(this.hasItemOption=!1)};G.getProvider=function(){return this._rawData};G.appendData=function(a){D&&W(!this._indices,"appendData can only be called on raw data.");var b=this._rawData,c=this.count();b.appendData(a);a=b.count();b.persistent||(a+=c);this._initDataFromProvider(c,a)};G.appendValues=function(a,b){for(var c=this._chunkSize,d=this._storage,e=this.dimensions,f=e.length,g=this._rawExtent,
h=this.count(),k=h+Math.max(a.length,b?b.length:0),l=this._chunkCount,m=0;m<f;m++){var n=e[m];g[n]||(g[n]=[Infinity,-Infinity]);d[n]||(d[n]=[]);Cp(d,this._dimensionInfos[n],c,l,k);this._chunkCount=d[n].length}l=Array(f);for(m=h;m<k;m++){for(var p=m-h,q=Math.floor(m/c),t=m%c,r=0;r<f;r++){n=e[r];var u=this._dimValueGetterArrayRows(a[p]||l,n,p,r);d[n][q][t]=u;n=g[n];u<n[0]&&(n[0]=u);u>n[1]&&(n[1]=u)}b&&(this._nameList[m]=b[p])}this._rawCount=this._count=k;this._extent={};Dp(this)};G._initDataFromProvider=
function(a,b){if(!(a>=b)){for(var c=this._chunkSize,d=this._rawData,e=this._storage,f=this.dimensions,g=f.length,h=this._dimensionInfos,k=this._nameList,l=this._idList,m=this._rawExtent,n=this._nameRepeatCount={},p,q=this._chunkCount,t=0;t<g;t++){var r=f[t];m[r]||(m[r]=[Infinity,-Infinity]);var u=h[r];0===u.otherDims.itemName&&(p=this._nameDimIdx=t);0===u.otherDims.itemId&&(this._idDimIdx=t);e[r]||(e[r]=[]);Cp(e,u,c,q,b);this._chunkCount=e[r].length}for(q=Array(g);a<b;a++){q=d.getItem(a,q);u=Math.floor(a/
c);t=a%c;for(var v=0;v<g;v++){r=f[v];var w=e[r][u],x=this._dimValueGetter(q,r,a,v);w[t]=x;r=m[r];x<r[0]&&(r[0]=x);x>r[1]&&(r[1]=x)}d.pure||(r=k[a],q&&null==r&&(null!=q.name?k[a]=r=q.name:null!=p&&(v=f[p],u=e[v][u])&&(r=u[t],(t=h[v].ordinalMeta)&&t.categories.length&&(r=t.categories[r]))),t=null==q?null:q.id,null==t&&null!=r&&(n[r]=n[r]||0,t=r,0<n[r]&&(t+="__ec__"+n[r]),n[r]++),null!=t&&(l[a]=t))}!d.persistent&&d.clean&&d.clean();this._rawCount=this._count=b;this._extent={};Dp(this)}};G.count=function(){return this._count};
G.getIndices=function(){var a=this._indices;if(a){var b=a.constructor;var c=this._count;if(b===Array){b=new b(c);for(var d=0;d<c;d++)b[d]=a[d]}else b=new b(a.buffer,0,c)}else for(b=65535<this._rawCount?Dh:Eh,b=new b(this.count()),d=0;d<b.length;d++)b[d]=d;return b};G.get=function(a,b){if(!(0<=b&&b<this._count))return NaN;var c=this._storage;if(!c[a])return NaN;b=this.getRawIndex(b);return c[a][Math.floor(b/this._chunkSize)][b%this._chunkSize]};G.getByRawIndex=function(a,b){return 0<=b&&b<this._rawCount?
(a=this._storage[a])?a[Math.floor(b/this._chunkSize)][b%this._chunkSize]:NaN:NaN};G._getFast=function(a,b){return this._storage[a][Math.floor(b/this._chunkSize)][b%this._chunkSize]};G.getValues=function(a,b){var c=[];F(a)||(b=a,a=this.dimensions);for(var d=0,e=a.length;d<e;d++)c.push(this.get(a[d],b));return c};G.hasValue=function(a){for(var b=this._dimensionsSummary.dataDimsOnCoord,c=0,d=b.length;c<d;c++)if(isNaN(this.get(b[c],a)))return!1;return!0};G.getDataExtent=function(a){a=this.getDimension(a);
var b=[Infinity,-Infinity];if(!this._storage[a])return b;var c=this.count(),d;if(!this._indices)return this._rawExtent[a].slice();if(d=this._extent[a])return d.slice();d=b;b=d[0];d=d[1];for(var e=0;e<c;e++){var f=this._getFast(a,this.getRawIndex(e));f<b&&(b=f);f>d&&(d=f)}d=[b,d];return this._extent[a]=d};G.getApproximateExtent=function(a){a=this.getDimension(a);return this._approximateExtent[a]||this.getDataExtent(a)};G.setApproximateExtent=function(a,b){b=this.getDimension(b);this._approximateExtent[b]=
a.slice()};G.getCalculationInfo=function(a){return this._calculationInfo[a]};G.setCalculationInfo=function(a,b){Ch(a)?S(this._calculationInfo,a):this._calculationInfo[a]=b};G.getSum=function(a){var b=0;if(this._storage[a])for(var c=0,d=this.count();c<d;c++){var e=this.get(a,c);isNaN(e)||(b+=e)}return b};G.getMedian=function(a){var b=[];this.each(a,function(d,e){isNaN(d)||b.push(d)});a=[].concat(b).sort(function(d,e){return d-e});var c=this.count();return 0===c?0:1===c%2?a[(c-1)/2]:(a[c/2]+a[c/2-1])/
2};G.rawIndexOf=function(a,b){a=a&&this._invertedIndicesMap[a];if(D&&!a)throw Error("Do not supported yet");b=a[b];return null==b||isNaN(b)?-1:b};G.indexOfName=function(a){for(var b=0,c=this.count();b<c;b++)if(this.getName(b)===a)return b;return-1};G.indexOfRawIndex=function(a){if(a>=this._rawCount||0>a)return-1;if(!this._indices)return a;var b=this._indices,c=b[a];if(null!=c&&c<this._count&&c===a)return a;c=0;for(var d=this._count-1;c<=d;){var e=(c+d)/2|0;if(b[e]<a)c=e+1;else if(b[e]>a)d=e-1;else return e}return-1};
G.indicesOfNearest=function(a,b,c){var d=[];if(!this._storage[a])return d;null==c&&(c=Infinity);for(var e=Infinity,f=-1,g=0,h=0,k=this.count();h<k;h++){var l=b-this.get(a,h),m=Math.abs(l);if(m<=c){if(m<e||m===e&&0<=l&&0>f)e=m,f=l,g=0;l===f&&(d[g++]=h)}}d.length=g;return d};G.getRawIndex=ef;G.getRawDataItem=function(a){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(a));for(var b=[],c=0;c<this.dimensions.length;c++)b.push(this.get(this.dimensions[c],a));return b};G.getName=
function(a){a=this.getRawIndex(a);return this._nameList[a]||Ep(this,this._nameDimIdx,a)||""};G.getId=function(a){return Zj(this,this.getRawIndex(a))};G.each=function(a,b,c,d){if(this._count){"function"===typeof a&&(d=c,c=b,b=a,a=[]);c=c||d||this;a=E(ak(a),this.getDimension,this);D&&Tg(this,a);d=a.length;for(var e=0;e<this.count();e++)switch(d){case 0:b.call(c,e);break;case 1:b.call(c,this.get(a[0],e),e);break;case 2:b.call(c,this.get(a[0],e),this.get(a[1],e),e);break;default:for(var f=0,g=[];f<d;f++)g[f]=
this.get(a[f],e);g[f]=e;b.apply(c,g)}}};G.filterSelf=function(a,b,c,d){if(this._count){"function"===typeof a&&(d=c,c=b,b=a,a=[]);c=c||d||this;a=E(ak(a),this.getDimension,this);D&&Tg(this,a);d=this.count();var e=new (65535<this._rawCount?Dh:Eh)(d),f=[],g=a.length,h=0;a=a[0];for(var k=0;k<d;k++){var l=this.getRawIndex(k);if(0===g)var m=b.call(c,k);else if(1===g)m=this._getFast(a,l),m=b.call(c,m,k);else{for(m=0;m<g;m++)f[m]=this._getFast(a,l);f[m]=k;m=b.apply(c,f)}m&&(e[h++]=l)}h<d&&(this._indices=e);
this._count=h;this._extent={};this.getRawIndex=this._indices?ff:ef;return this}};G.selectRange=function(a){if(this._count){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);D&&Tg(this,b);var d=b.length;if(d){var e=this.count(),f=new (65535<this._rawCount?Dh:Eh)(e),g=0,h=b[0],k=a[h][0],l=a[h][1],m=!1;if(!this._indices){var n=0;if(1===d){var p=this._storage[b[0]];for(m=0;m<this._chunkCount;m++)for(var q=p[m],t=Math.min(this._count-m*this._chunkSize,this._chunkSize),r=0;r<t;r++){var u=q[r];if(u>=
k&&u<=l||isNaN(u))f[g++]=n;n++}m=!0}else if(2===d){p=this._storage[h];var v=this._storage[b[1]],w=a[b[1]][0],x=a[b[1]][1];for(m=0;m<this._chunkCount;m++){q=p[m];var z=v[m];t=Math.min(this._count-m*this._chunkSize,this._chunkSize);for(r=0;r<t;r++){u=q[r];var A=z[r];(u>=k&&u<=l||isNaN(u))&&(A>=w&&A<=x||isNaN(A))&&(f[g++]=n);n++}}m=!0}}if(!m)if(1===d)for(r=0;r<e;r++){if(n=this.getRawIndex(r),u=this._getFast(h,n),u>=k&&u<=l||isNaN(u))f[g++]=n}else for(r=0;r<e;r++){h=!0;n=this.getRawIndex(r);for(m=0;m<
d;m++)if(k=b[m],u=this._getFast(c,n),u<a[k][0]||u>a[k][1])h=!1;h&&(f[g++]=this.getRawIndex(r))}g<e&&(this._indices=f);this._count=g;this._extent={};this.getRawIndex=this._indices?ff:ef;return this}}};G.mapArray=function(a,b,c,d){"function"===typeof a&&(d=c,c=b,b=a,a=[]);var e=[];this.each(a,function(){e.push(b&&b.apply(this,arguments))},c||d||this);return e};G.map=function(a,b,c,d){c=c||d||this;a=E(ak(a),this.getDimension,this);D&&Tg(this,a);d=Fp(this,a);d._indices=this._indices;d.getRawIndex=d._indices?
ff:ef;for(var e=d._storage,f=[],g=this._chunkSize,h=a.length,k=this.count(),l=[],m=d._rawExtent,n=0;n<k;n++){for(var p=0;p<h;p++)l[p]=this.get(a[p],n);l[h]=n;p=b&&b.apply(c,l);if(null!=p){"object"!==typeof p&&(f[0]=p,p=f);var q=this.getRawIndex(n),t=Math.floor(q/g);q%=g;for(var r=0;r<p.length;r++){var u=a[r],v=p[r],w=m[u];(u=e[u])&&(u[t][q]=v);v<w[0]&&(w[0]=v);v>w[1]&&(w[1]=v)}}}return d};G.downSample=function(a,b,c,d){var e=Fp(this,[a]),f=[];b=Math.floor(1/b);var g=e._storage[a],h=this.count(),k=
this._chunkSize;a=e._rawExtent[a];for(var l=new (65535<this._rawCount?Dh:Eh)(h),m=0,n=0;n<h;n+=b){b>h-n&&(b=h-n,f.length=b);for(var p=0;p<b;p++){var q=this.getRawIndex(n+p);f[p]=g[Math.floor(q/k)][q%k]}p=c(f);q=this.getRawIndex(Math.min(n+d(f,p)||0,h-1));g[Math.floor(q/k)][q%k]=p;p<a[0]&&(a[0]=p);p>a[1]&&(a[1]=p);l[m++]=q}e._count=m;e._indices=l;e.getRawIndex=ff;return e};G.getItemModel=function(a){var b=this.hostModel;return new ka(this.getRawDataItem(a),b,b&&b.ecModel)};G.diff=function(a){var b=
this;return new Sg(a?a.getIndices():[],this.getIndices(),function(c){return Zj(a,c)},function(c){return Zj(b,c)})};G.getVisual=function(a){var b=this._visual;return b&&b[a]};G.setVisual=function(a,b){if(Ch(a))for(var c in a)a.hasOwnProperty(c)&&this.setVisual(c,a[c]);else this._visual=this._visual||{},this._visual[a]=b};G.setLayout=function(a,b){if(Ch(a))for(var c in a)a.hasOwnProperty(c)&&this.setLayout(c,a[c]);else this._layout[a]=b};G.getLayout=function(a){return this._layout[a]};G.getItemLayout=
function(a){return this._itemLayouts[a]};G.setItemLayout=function(a,b,c){this._itemLayouts[a]=c?S(this._itemLayouts[a]||{},b):b};G.clearItemLayouts=function(){this._itemLayouts.length=0};G.getItemVisual=function(a,b,c){a=(a=this._itemVisuals[a])&&a[b];return null!=a||c?a:this.getVisual(b)};G.setItemVisual=function(a,b,c){var d=this._itemVisuals[a]||{},e=this.hasItemVisual;this._itemVisuals[a]=d;if(Ch(b))for(var f in b)b.hasOwnProperty(f)&&(d[f]=b[f],e[f]=!0);else d[b]=c,e[b]=!0};G.clearAllVisual=
function(){this._visual={};this._itemVisuals=[];this.hasItemVisual={}};var Bx=function(a){a.seriesIndex=this.seriesIndex;a.dataIndex=this.dataIndex;a.dataType=this.dataType};G.setItemGraphicEl=function(a,b){var c=this.hostModel;b&&(b.dataIndex=a,b.dataType=this.dataType,b.seriesIndex=c&&c.seriesIndex,"group"===b.type&&b.traverse(Bx,b));this._graphicEls[a]=b};G.getItemGraphicEl=function(a){return this._graphicEls[a]};G.eachItemGraphicEl=function(a,b){y(this._graphicEls,function(c,d){c&&a&&a.call(b,
c,d)})};G.cloneShallow=function(a){a||(a=E(this.dimensions,this.getDimensionInfo,this),a=new Ya(a,this.hostModel));a._storage=this._storage;Bp(a,this);a._indices=this._indices?new this._indices.constructor(this._indices):null;a.getRawIndex=a._indices?ff:ef;return a};G.wrapMethod=function(a,b){var c=this[a];"function"===typeof c&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(a),this[a]=function(){var d=c.apply(this,arguments);return b.apply(this,[d].concat(Vh(arguments)))})};
G.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];G.CHANGABLE_METHODS=["filterSelf","selectRange"];var dk=function(a,b){b=b||{};return Gp(b.coordDimensions||[],a,{dimsDef:b.dimensionsDefine||a.dimensionsDefine,encodeDef:b.encodeDefine||a.encodeDefine,dimCount:b.dimensionsCount,encodeDefaulter:b.encodeDefaulter,generateCoord:b.generateCoord,generateCoordCount:b.generateCoordCount})},bv={cartesian2d:function(a,b,c,d){var e=a.getReferringComponents("xAxis")[0],f=a.getReferringComponents("yAxis")[0];
if(D){if(!e)throw Error('xAxis "'+Ea(a.get("xAxisIndex"),a.get("xAxisId"),0)+'" not found');if(!f)throw Error('yAxis "'+Ea(a.get("xAxisIndex"),a.get("yAxisId"),0)+'" not found');}b.coordSysDims=["x","y"];c.set("x",e);c.set("y",f);fe(e)&&(d.set("x",e),b.firstCategoryDimIndex=0);fe(f)&&(d.set("y",f),null==b.firstCategoryDimIndex&(b.firstCategoryDimIndex=1))},singleAxis:function(a,b,c,d){a=a.getReferringComponents("singleAxis")[0];if(D&&!a)throw Error("singleAxis should be specified.");b.coordSysDims=
["single"];c.set("single",a);fe(a)&&(d.set("single",a),b.firstCategoryDimIndex=0)},polar:function(a,b,c,d){var e=a.getReferringComponents("polar")[0];a=e.findAxisModel("radiusAxis");e=e.findAxisModel("angleAxis");if(D){if(!e)throw Error("angleAxis option not found");if(!a)throw Error("radiusAxis option not found");}b.coordSysDims=["radius","angle"];c.set("radius",a);c.set("angle",e);fe(a)&&(d.set("radius",a),b.firstCategoryDimIndex=0);fe(e)&&(d.set("angle",e),null==b.firstCategoryDimIndex&&(b.firstCategoryDimIndex=
1))},geo:function(a,b,c,d){b.coordSysDims=["lng","lat"]},parallel:function(a,b,c,d){var e=a.ecModel;a=e.getComponent("parallel",a.get("parallelIndex"));var f=b.coordSysDims=a.dimensions.slice();y(a.parallelAxisIndex,function(g,h){g=e.getComponent("parallelAxis",g);var k=f[h];c.set(k,g);fe(g)&&null==b.firstCategoryDimIndex&&(d.set(k,g),b.firstCategoryDimIndex=h)})}};qa.prototype.parse=function(a){return a};qa.prototype.getSetting=function(a){return this._setting[a]};qa.prototype.contain=function(a){var b=
this._extent;return a>=b[0]&&a<=b[1]};qa.prototype.normalize=function(a){var b=this._extent;return b[1]===b[0]?.5:(a-b[0])/(b[1]-b[0])};qa.prototype.scale=function(a){var b=this._extent;return a*(b[1]-b[0])+b[0]};qa.prototype.unionExtent=function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]);a[1]>b[1]&&(b[1]=a[1])};qa.prototype.unionExtentFromData=function(a,b){this.unionExtent(a.getApproximateExtent(b))};qa.prototype.getExtent=function(){return this._extent.slice()};qa.prototype.setExtent=function(a,
b){var c=this._extent;isNaN(a)||(c[0]=a);isNaN(b)||(c[1]=b)};qa.prototype.isBlank=function(){return this._isBlank};qa.prototype.setBlank=function(a){this._isBlank=a};qa.prototype.getLabel=null;Fe(qa);Yf(qa,{registerWhenExtend:!0});gf.createByAxisModel=function(a){a=a.option;var b=a.data;b=b&&E(b,dv);return new gf({categories:b,needCollect:!b,deduplication:!1!==a.dedplication})};var ms=gf.prototype;ms.getOrdinal=function(a){return(this._map||(this._map=U(this.categories))).get(a)};ms.parseAndCollect=
function(a){var b=this._needCollect;if("string"!==typeof a&&!b)return a;if(b&&!this._deduplication){var c=this.categories.length;this.categories[c]=a;return c}var d=this._map||(this._map=U(this.categories));c=d.get(a);null==c&&(b?(c=this.categories.length,this.categories[c]=a,d.set(a,c)):c=NaN);return c};var Rl=qa.prototype,ik=qa.extend({type:"ordinal",init:function(a,b){if(!a||F(a))a=new gf({categories:a});this._ordinalMeta=a;this._extent=b||[0,a.categories.length-1]},parse:function(a){return"string"===
typeof a?this._ordinalMeta.getOrdinal(a):Math.round(a)},contain:function(a){a=this.parse(a);return Rl.contain.call(this,a)&&null!=this._ordinalMeta.categories[a]},normalize:function(a){return Rl.normalize.call(this,this.parse(a))},scale:function(a){return Math.round(Rl.scale.call(this,a))},getTicks:function(){for(var a=[],b=this._extent,c=b[0];c<=b[1];)a.push(c),c++;return a},getLabel:function(a){if(!this.isBlank())return this._ordinalMeta.categories[a]},count:function(){return this._extent[1]-this._extent[0]+
1},unionExtentFromData:function(a,b){this.unionExtent(a.getApproximateExtent(b))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:Za,niceExtent:Za});ik.create=function(){return new ik};var dc=qa.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(a,b){var c=this._extent;isNaN(a)||(c[0]=parseFloat(a));isNaN(b)||(c[1]=parseFloat(b))},unionExtent:function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]);a[1]>b[1]&&(b[1]=a[1]);dc.prototype.setExtent.call(this,b[0],b[1])},
getInterval:function(){return this._interval},setInterval:function(a){this._interval=a;this._niceExtent=this._extent.slice();this._intervalPrecision=Ac(a)+2},getTicks:function(a){var b=this._interval,c=this._extent,d=this._niceExtent,e=this._intervalPrecision,f=[];if(!b)return f;c[0]<d[0]&&(a?f.push(da(d[0]-b,e)):f.push(c[0]));for(var g=d[0];g<=d[1];){f.push(g);g=da(g+b,e);if(g===f[f.length-1])break;if(1E4<f.length)return[]}d=f.length?f[f.length-1]:d[1];c[1]>d&&(a?f.push(da(d+b,e)):f.push(c[1]));
return f},getMinorTicks:function(a){for(var b=this.getTicks(!0),c=[],d=this.getExtent(),e=1;e<b.length;e++){for(var f=b[e-1],g=0,h=[],k=(b[e]-f)/a;g<a-1;){var l=da(f+(g+1)*k);l>d[0]&&l<d[1]&&h.push(l);g++}c.push(h)}return c},getLabel:function(a,b){if(null==a)return"";b=b&&b.precision;null==b?b=Ac(a)||0:"auto"===b&&(b=this._intervalPrecision);a=da(a,b,!0);return Wd(a)},niceTicks:function(a,b,c){a=a||5;var d=this._extent,e=d[1]-d[0];isFinite(e)&&(0>e&&(e=-e,d.reverse()),e=a=Aj((d[1]-d[0])/a,!0),null!=
b&&e<b&&(e=a=b),null!=c&&e>c&&(e=a=c),c=b=Ac(e)+2,e=c=[da(Math.ceil(d[0]/e)*e,c),da(Math.floor(d[1]/e)*e,c)],Jp(e,d),this._intervalPrecision=b,this._interval=a,this._niceExtent=c)},niceExtent:function(a){var b=this._extent;if(b[0]===b[1])if(0!==b[0]){var c=b[0];a.fixMax||(b[1]+=c/2);b[0]-=c/2}else b[1]=1;isFinite(b[1]-b[0])||(b[0]=0,b[1]=1);this.niceTicks(a.splitNumber,a.minInterval,a.maxInterval);c=this._interval;a.fixMin||(b[0]=da(Math.floor(b[0]/c)*c));a.fixMax||(b[1]=da(Math.ceil(b[1]/c)*c))}});
dc.create=function(){return new dc};var Sl="undefined"!==typeof Float32Array?Float32Array:Array,Cx={seriesType:"bar",plan:Nl(),reset:function(a){if(a.coordinateSystem&&"cartesian2d"===a.coordinateSystem.type&&a.pipelineContext&&a.pipelineContext.large){var b=a.getData(),c=a.coordinateSystem,d=c.grid.getRect(),e=c.getBaseAxis(),f=c.getOtherAxis(e),g=b.mapDimension(f.dim),h=b.mapDimension(e.dim),k=f.isHorizontal(),l=k?0:1,m=Lp(fk([a]),e,a).width;.5<m||(m=.5);return{progress:function(n,p){var q=n.count,
t=new Sl(2*q),r=new Sl(2*q);q=new Sl(q);for(var u,v=[],w=[],x=0,z=0;null!=(u=n.next());)w[l]=p.get(g,u),w[1-l]=p.get(h,u),v=c.dataToPoint(w,null,v),r[x]=k?d.x+d.width:v[0],t[x++]=v[0],r[x]=k?v[1]:d.y+d.height,t[x++]=v[1],q[z++]=u;p.setLayout({largePoints:t,largeDataIndices:q,largeBackgroundPoints:r,barWidth:m,valueAxisStart:f.toGlobalCoord(f.dataToCoord("log"===f.type?1:0)),backgroundStart:k?d.x:d.y,valueAxisHorizontal:k})}}}}},Dx=dc.prototype,ns=Math.ceil,os=Math.floor,Ul=dc.extend({type:"time",
getLabel:function(a){return Cj(this._stepLvl[0],new Date(a),this.getSetting("useUTC"))},niceExtent:function(a){var b=this._extent;b[0]===b[1]&&(b[0]-=864E5,b[1]+=864E5);if(-Infinity===b[1]&&Infinity===b[0]){var c=new Date;b[1]=+new Date(c.getFullYear(),c.getMonth(),c.getDate());b[0]=b[1]-864E5}this.niceTicks(a.splitNumber,a.minInterval,a.maxInterval);c=this._interval;a.fixMin||(b[0]=da(os(b[0]/c)*c));a.fixMax||(b[1]=da(ns(b[1]/c)*c))},niceTicks:function(a,b,c){a=a||10;var d=this._extent,e=d[1]-d[0],
f=e/a;null!=b&&f<b&&(f=b);null!=c&&f>c&&(f=c);b=Tl.length;c=0;for(var g=b;c<g;){var h=c+g>>>1;Tl[h][1]<f?c=h+1:g=h}f=Tl[Math.min(c,b-1)];b=f[1];"year"===f[0]&&(a=Aj(e/b/a,!0),b*=a);a=this.getSetting("useUTC")?0:6E4*(new Date(+d[0]||+d[1])).getTimezoneOffset();a=[Math.round(ns((d[0]-a)/b)*b+a),Math.round(os((d[1]-a)/b)*b+a)];Jp(a,d);this._stepLvl=f;this._interval=b;this._niceExtent=a},parse:function(a){return+Bg(a)}});y(["contain","normalize"],function(a){Ul.prototype[a]=function(b){return Dx[a].call(this,
this.parse(b))}});var Tl=[["hh:mm:ss",1E3],["hh:mm:ss",5E3],["hh:mm:ss",1E4],["hh:mm:ss",15E3],["hh:mm:ss",3E4],["hh:mm\nMM-dd",6E4],["hh:mm\nMM-dd",3E5],["hh:mm\nMM-dd",6E5],["hh:mm\nMM-dd",9E5],["hh:mm\nMM-dd",18E5],["hh:mm\nMM-dd",36E5],["hh:mm\nMM-dd",72E5],["hh:mm\nMM-dd",216E5],["hh:mm\nMM-dd",432E5],["MM-dd\nyyyy",864E5],["MM-dd\nyyyy",1728E5],["MM-dd\nyyyy",2592E5],["MM-dd\nyyyy",3456E5],["MM-dd\nyyyy",432E6],["MM-dd\nyyyy",5184E5],["week",6048E5],["MM-dd\nyyyy",864E6],["week",12096E5],["week",
18144E5],["month",26784E5],["week",36288E5],["month",53568E5],["week",6048E6],["quarter",8208E6],["month",107136E5],["month",13392E6],["half-year",16416E6],["month",214272E5],["month",26784E6],["year",32832E6]];Ul.create=function(a){return new Ul({useUTC:a.ecModel.get("useUTC")})};var Fh=qa.prototype,Ff=dc.prototype,Ex=Math.floor,Fx=Math.ceil,Gh=Math.pow,Mb=Math.log,Vl=qa.extend({type:"log",base:10,$constructor:function(){qa.apply(this,arguments);this._originalScale=new dc},getTicks:function(a){var b=
this._originalScale,c=this._extent,d=b.getExtent();return E(Ff.getTicks.call(this,a),function(e){var f=da(Gh(this.base,e));f=e===c[0]&&b.__fixMin?da(f,Ac(d[0])):f;return f=e===c[1]&&b.__fixMax?da(f,Ac(d[1])):f},this)},getMinorTicks:Ff.getMinorTicks,getLabel:Ff.getLabel,scale:function(a){a=Fh.scale.call(this,a);return Gh(this.base,a)},setExtent:function(a,b){var c=this.base;a=Mb(a)/Mb(c);b=Mb(b)/Mb(c);Ff.setExtent.call(this,a,b)},getExtent:function(){var a=this.base,b=Fh.getExtent.call(this);b[0]=
Gh(a,b[0]);b[1]=Gh(a,b[1]);a=this._originalScale;var c=a.getExtent();a.__fixMin&&(b[0]=da(b[0],Ac(c[0])));a.__fixMax&&(b[1]=da(b[1],Ac(c[1])));return b},unionExtent:function(a){this._originalScale.unionExtent(a);var b=this.base;a[0]=Mb(a[0])/Mb(b);a[1]=Mb(a[1])/Mb(b);Fh.unionExtent.call(this,a)},unionExtentFromData:function(a,b){this.unionExtent(a.getApproximateExtent(b))},niceTicks:function(a){a=a||10;var b=this._extent,c=b[1]-b[0];if(!(Infinity===c||0>=c)){var d=Io(c);for(.5>=a/c*d&&(d*=10);!isNaN(d)&&
1>Math.abs(d)&&0<Math.abs(d);)d*=10;a=[da(Fx(b[0]/d)*d),da(Ex(b[1]/d)*d)];this._interval=d;this._niceExtent=a}},niceExtent:function(a){Ff.niceExtent.call(this,a);var b=this._originalScale;b.__fixMin=a.fixMin;b.__fixMax=a.fixMax}});y(["contain","normalize"],function(a){Vl.prototype[a]=function(b){b=Mb(b)/Mb(this.base);return Fh[a].call(this,b)}});Vl.create=function(){return new Vl};var Wl={getMin:function(a){var b=this.option;a=a||null==b.rangeStart?b.min:b.rangeStart;this.axis&&null!=a&&"dataMin"!==
a&&"function"!==typeof a&&!we(a)&&(a=this.axis.scale.parse(a));return a},getMax:function(a){var b=this.option;a=a||null==b.rangeEnd?b.max:b.rangeEnd;this.axis&&null!=a&&"dataMax"!==a&&"function"!==typeof a&&!we(a)&&(a=this.axis.scale.parse(a));return a},getNeedCrossZero:function(){var a=this.option;return null!=a.rangeStart||null!=a.rangeEnd?!1:!a.scale},getCoordSysModel:Za,setRange:function(a,b){this.option.rangeStart=a;this.option.rangeEnd=b},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=
null}},Gx=yc({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2;b=b.height/2;a.moveTo(c,d-b);a.lineTo(c+e,d+b);a.lineTo(c-e,d+b);a.closePath()}}),Hx=yc({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2;b=b.height/2;a.moveTo(c,d-b);a.lineTo(c+e,d);a.lineTo(c,d+b);a.lineTo(c-e,d);a.closePath()}}),Ix=yc({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.x,d=b.y,e=b.width/
5*3,f=Math.max(e,b.height);e/=2;b=e*e/(f-e);f=d-f+e+b;var g=Math.asin(b/e),h=Math.cos(g)*e,k=Math.sin(g),l=Math.cos(g),m=.6*e,n=.7*e;a.moveTo(c-h,f+b);a.arc(c,f,e,Math.PI-g,2*Math.PI+g);a.bezierCurveTo(c+h-k*m,f+b+l*m,c,d-n,c,d);a.bezierCurveTo(c,d-n,c-h+k*m,f+b+l*m,c-h,f+b);a.closePath()}}),Jx=yc({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.height,d=b.x,e=b.y;b=b.width/3*2;a.moveTo(d,e);a.lineTo(d+b,e+c);a.lineTo(d,e+c/4*3);a.lineTo(d-b,e+c);a.lineTo(d,e);a.closePath()}}),
Kx={line:function(a,b,c,d,e){e.x1=a;e.y1=b+d/2;e.x2=a+c;e.y2=b+d/2},rect:function(a,b,c,d,e){e.x=a;e.y=b;e.width=c;e.height=d},roundRect:function(a,b,c,d,e){e.x=a;e.y=b;e.width=c;e.height=d;e.r=Math.min(c,d)/4},square:function(a,b,c,d,e){c=Math.min(c,d);e.x=a;e.y=b;e.width=c;e.height=c},circle:function(a,b,c,d,e){e.cx=a+c/2;e.cy=b+d/2;e.r=Math.min(c,d)/2},diamond:function(a,b,c,d,e){e.cx=a+c/2;e.cy=b+d/2;e.width=c;e.height=d},pin:function(a,b,c,d,e){e.x=a+c/2;e.y=b+d/2;e.width=c;e.height=d},arrow:function(a,
b,c,d,e){e.x=a+c/2;e.y=b+d/2;e.width=c;e.height=d},triangle:function(a,b,c,d,e){e.cx=a+c/2;e.cy=b+d/2;e.width=c;e.height=d}},Xl={};y({line:tb,rect:ma,roundRect:ma,square:ma,circle:Cl,diamond:Hx,pin:Ix,arrow:Jx,triangle:Gx},function(a,b){Xl[b]=new a});var jv=yc({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(a,b,c){a=Vm(a,b,c);var d=this.shape;d&&"pin"===d.symbolType&&"inside"===b.textPosition&&(a.y=c.y+.4*c.height);return a},buildPath:function(a,b,c){var d=
b.symbolType;if("none"!==d){var e=Xl[d];e||(d="rect",e=Xl[d]);Kx[d](b.x,b.y,b.width,b.height,e.shape);e.buildPath(a,e.shape,c)}}}),Lx=(Object.freeze||Object)({createList:function(a){return ck(a.getSource(),a)},getLayoutRect:Db,dataStack:{isDimensionStacked:Cc,enableDataStack:Ip,getStackedDimension:bk},createScale:function(a,b){var c=b;ka.isInstance(b)||(c=new ka(b),fa(c,Wl));b=hk(c);b.setExtent(a[0],a[1]);gk(b,c);return b},mixinAxisModelCommonMethods:function(a){fa(a,Wl)},completeDimensions:Gp,createDimensions:dk,
createSymbol:ld});Ug.prototype={constructor:Ug,properties:null,getBoundingRect:function(){var a=this._rect;if(a)return a;var b=Number.MAX_VALUE;a=[b,b];b=[-b,-b];for(var c=[],d=[],e=this.geometries,f=0;f<e.length;f++)"polygon"===e[f].type&&(Qi(e[f].exterior,c,d),Ob(a,a,c),Pb(b,b,d));0===f&&(a[0]=a[1]=b[0]=b[1]=0);return this._rect=new aa(a[0],a[1],b[0]-a[0],b[1]-a[1])},contain:function(a){var b=this.getBoundingRect(),c=this.geometries;if(!b.contain(a[0],a[1]))return!1;b=0;var d=c.length;a:for(;b<
d;b++)if("polygon"===c[b].type){var e=c[b].interiors;if(md(c[b].exterior,a[0],a[1])){for(var f=0;f<(e?e.length:0);f++)if(md(e[f]))continue a;return!0}}return!1},transformTo:function(a,b,c,d){var e=this.getBoundingRect(),f=e.width/e.height;c?d||(d=c/f):c=f*d;a=new aa(a,b,c,d);e=e.calculateTransform(a);b=this.geometries;for(c=0;c<b.length;c++)if("polygon"===b[c].type){var g=b[c].exterior;d=b[c].interiors;for(f=0;f<g.length;f++)Ca(g[f],g[f],e);for(g=0;g<(d?d.length:0);g++)for(f=0;f<d[g].length;f++)Ca(d[g][f],
d[g][f],e)}e=this._rect;e.copy(a);this.center=[e.x+e.width/2,e.y+e.height/2]},cloneShallow:function(a){null==a&&(a=this.name);a=new Ug(a,this.geometries,this.center);a._rect=this._rect;a.transformTo=null;return a}};var ps=function(a,b){kv(a);return E(Pa(a.features,function(c){return c.geometry&&c.properties&&0<c.geometry.coordinates.length}),function(c){var d=c.properties;c=c.geometry;var e=c.coordinates,f=[];"Polygon"===c.type&&f.push({type:"polygon",exterior:e[0],interiors:e.slice(1)});"MultiPolygon"===
c.type&&y(e,function(g){g[0]&&f.push({type:"polygon",exterior:g[0],interiors:g.slice(1)})});c=new Ug(d[b||"name"],f,d.cp);c.properties=d;return c})},jf=nb(),qs=[0,1],xd=function(a,b,c){this.dim=a;this.scale=b;this._extent=c||[0,0];this.onBand=this.inverse=!1};xd.prototype={constructor:xd,contain:function(a){var b=this._extent,c=Math.max(b[0],b[1]);return a>=Math.min(b[0],b[1])&&a<=c},containData:function(a){return this.scale.contain(a)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(a){return xj(a||
this.scale.getExtent(),this._extent)},setExtent:function(a,b){var c=this._extent;c[0]=a;c[1]=b},dataToCoord:function(a,b){var c=this._extent,d=this.scale;a=d.normalize(a);this.onBand&&"ordinal"===d.type&&(c=c.slice(),Up(c,d.count()));return ia(a,qs,c,b)},coordToData:function(a,b){var c=this._extent,d=this.scale;this.onBand&&"ordinal"===d.type&&(c=c.slice(),Up(c,d.count()));a=ia(a,c,qs,b);return this.scale.scale(a)},pointToData:function(a,b){},getTicksCoords:function(a){a=a||{};var b=a.tickModel||
this.getTickModel(),c=("category"===this.type?lv(this,b):{ticks:this.scale.getTicks()}).ticks;c=E(c,function(d){return{coord:this.dataToCoord(d),tickValue:d}},this);b=b.get("alignWithLabel");nv(this,c,b,a.clamp);return c},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var a=this.model.getModel("minorTick").get("splitNumber");0<a&&100>a||(a=5);a=this.scale.getMinorTicks(a);return E(a,function(b){return E(b,function(c){return{coord:this.dataToCoord(c),tickValue:c}},this)},this)},
getViewLabels:function(){if("category"===this.type){var a=this.getLabelModel();var b=Op(this,a);a=!a.get("show")||this.scale.isBlank()?{labels:[],labelCategoryInterval:b.labelCategoryInterval}:b}else a=mv(this);return a.labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var a=this._extent,b=this.scale.getExtent();b=b[1]-b[0]+(this.onBand?1:0);0===b&&(b=1);return Math.abs(Math.abs(a[1]-a[0]))/
b},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){var a=this.getLabelModel();var b=this.getRotate?this.getRotate():this.isHorizontal&&!this.isHorizontal()?90:0;var c=a.get("rotate")||0;a=a.getFont();var d=hf(this),e=(b-c)/180*Math.PI;b=this.scale;c=b.getExtent();b=b.count();if(1>c[1]-c[0])b=0;else{var f=1;40<b&&(f=Math.max(1,Math.floor(b/40)));var g=c[0],h=this.dataToCoord(g+1)-this.dataToCoord(g),k=Math.abs(h*Math.cos(e));e=Math.abs(h*Math.sin(e));var l=0;for(h=0;g<=c[1];g+=
f){var m=0,n=0;n=Vc(d(g),a,"center","top");m=1.3*n.width;n=1.3*n.height;l=Math.max(l,m,7);h=Math.max(h,n,7)}a=l/k;d=h/e;isNaN(a)&&(a=Infinity);isNaN(d)&&(d=Infinity);a=Math.max(0,Math.floor(Math.min(a,d)));d=jf(this.model);c=this.getExtent();f=d.lastAutoInterval;g=d.lastTickCount;null!=f&&null!=g&&1>=Math.abs(f-a)&&1>=Math.abs(g-b)&&f>a&&d.axisExtend0===c[0]&&d.axisExtend1===c[1]?a=f:(d.lastTickCount=b,d.lastAutoInterval=a,d.axisExtend0=c[0],d.axisExtend1=c[1]);b=a}return b}};var rs={};y("map each filter indexOf inherits reduce filter bind curry isArray isString isObject isFunction extend defaults clone merge".split(" "),
function(a){rs[a]=Yw[a]});var ss={};y("extendShape extendPath makePath makeImage mergePath resizePath createIcon setHoverStyle setLabelStyle setTextStyle setText getFont updateProps initProps getTransform clipPointsByRect clipRectByRect registerShape getShapeClass Group Image Text Circle Sector Ring Polygon Polyline Rect Line BezierCurve Arc IncrementalDisplayable CompoundPath LinearGradient RadialGradient BoundingRect".split(" "),function(a){ss[a]=xh[a]});var Vg=function(a){this._axes={};this._dimList=
[];this.name=a||""};Vg.prototype={constructor:Vg,type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return E(this._dimList,ov,this)},getAxesByScale:function(a){a=a.toLowerCase();return Pa(this.getAxes(),function(b){return b.scale.type===a})},addAxis:function(a){var b=a.dim;this._axes[b]=a;this._dimList.push(b)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(a,
b){for(var c=this._dimList,d=a instanceof Array?[]:{},e=0;e<c.length;e++){var f=c[e];d[f]=this._axes[f][b](a[f])}return d}};kf.prototype={constructor:kf,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(a){var b=this.getAxis("x"),c=this.getAxis("y");return b.contain(b.toLocalCoord(a[0]))&&c.contain(c.toLocalCoord(a[1]))},containData:function(a){return this.getAxis("x").containData(a[0])&&
this.getAxis("y").containData(a[1])},dataToPoint:function(a,b,c){b=this.getAxis("x");var d=this.getAxis("y");c=c||[];c[0]=b.toGlobalCoord(b.dataToCoord(a[0]));c[1]=d.toGlobalCoord(d.dataToCoord(a[1]));return c},clampData:function(a,b){var c=this.getAxis("x").scale,d=this.getAxis("y").scale,e=c.getExtent(),f=d.getExtent();c=c.parse(a[0]);a=d.parse(a[1]);b=b||[];b[0]=Math.min(Math.max(Math.min(e[0],e[1]),c),Math.max(e[0],e[1]));b[1]=Math.min(Math.max(Math.min(f[0],f[1]),a),Math.max(f[0],f[1]));return b},
pointToData:function(a,b){var c=this.getAxis("x"),d=this.getAxis("y");b=b||[];b[0]=c.coordToData(c.toLocalCoord(a[0]));b[1]=d.coordToData(d.toLocalCoord(a[1]));return b},getOtherAxis:function(a){return this.getAxis("x"===a.dim?"y":"x")},getArea:function(){var a=this.getAxis("x").getGlobalExtent(),b=this.getAxis("y").getGlobalExtent(),c=Math.min(a[0],a[1]),d=Math.min(b[0],b[1]);return new aa(c,d,Math.max(a[0],a[1])-c,Math.max(b[0],b[1])-d)}};Ba(kf,Vg);var Hh=function(a,b,c,d,e){xd.call(this,a,b,c);
this.type=d||"value";this.position=e||"bottom"};Hh.prototype={constructor:Hh,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getGlobalExtent:function(a){var b=this.getExtent();b[0]=this.toGlobalCoord(b[0]);b[1]=this.toGlobalCoord(b[1]);a&&b[0]>b[1]&&b.reverse();return b},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(a,b){return this.coordToData(this.toLocalCoord(a["x"===this.dim?0:1]),b)},toLocalCoord:null,
toGlobalCoord:null};Ba(Hh,xd);var ts={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,
showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},yd={};yd.categoryAxis=R({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},ts);yd.valueAxis=R({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",
width:1}}},ts);yd.timeAxis=T({scale:!0,min:"dataMin",max:"dataMax"},yd.valueAxis);yd.logAxis=T({scale:!0,logBase:10},yd.valueAxis);var Mx=["value","category","time","log"],us=function(a,b,c,d){y(Mx,function(e){b.extend({type:a+"Axis."+e,mergeDefaultAndTheme:function(f,g){var h=this.layoutMode,k=h?Yd({},f):{};g=g.getTheme();R(f,g.get(e+"Axis"));R(f,this.getDefaultOption());f.type=c(a,f);h&&hd(f,k,h)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=gf.createByAxisModel(this))},
getCategories:function(f){var g=this.option;if("category"===g.type)return f?g.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:Uh([{},yd[e+"Axis"],d],!0)})});ea.registerSubTypeDefaulter(a+"Axis",O(c,a))},oe=ea.extend({type:"cartesian2dAxis",axis:null,init:function(){oe.superApply(this,"init",arguments);this.resetRange()},mergeOption:function(){oe.superApply(this,"mergeOption",arguments);this.resetRange()},restoreData:function(){oe.superApply(this,
"restoreData",arguments);this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});R(oe.prototype,Wl);var vs={offset:0};us("x",oe,Vp,vs);us("y",oe,Vp,vs);ea.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});
var Ja=ge.prototype;Ja.type="grid";Ja.axisPointerEnabled=!0;Ja.getRect=function(){return this._rect};Ja.update=function(a,b){var c=this._axesMap;this._updateScale(a,this.model);y(c.x,function(e){gk(e.scale,e.model)});y(c.y,function(e){gk(e.scale,e.model)});var d={};y(c.x,function(e){Wp(c,"y",e,d)});y(c.y,function(e){Wp(c,"x",e,d)});this.resize(this.model,b)};Ja.resize=function(a,b,c){function d(){y(f,function(g){var h=g.isHorizontal(),k=h?[0,e.width]:[0,e.height],l=g.inverse?1:0;g.setExtent(k[l],
k[1-l]);pv(g,h?e.x:e.y)})}var e=Db(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()});this._rect=e;var f=this._axesList;d();!c&&a.get("containLabel")&&(y(f,function(g){if(!g.model.get("axisLabel.inside")){var h=g.scale;if(!g.model.get("axisLabel.show")||h.isBlank())var k=void 0;else{var l="category"===g.type,m=h.getExtent();l?h=h.count():(k=h.getTicks(),h=k.length);l=g.getLabelModel();var n=hf(g),p,q=1;40<h&&(q=Math.ceil(h/40));for(var t=0;t<h;t+=q){var r=n(k?k[t]:m[0]+t),u=l.getTextRect(r);
r=(l.get("rotate")||0)*Math.PI/180;u=u.plain();var v=u.width,w=u.height;r=new aa(u.x,u.y,v*Math.abs(Math.cos(r))+Math.abs(w*Math.sin(r)),v*Math.abs(Math.sin(r))+Math.abs(w*Math.cos(r)));p?p.union(r):p=r}k=p}k&&(m=g.isHorizontal()?"height":"width",p=g.model.get("axisLabel.margin"),e[m]-=k[m]+p,"top"===g.position?e.y+=k.height+p:"left"===g.position&&(e.x+=k.width+p))}}),d())};Ja.getAxis=function(a,b){a=this._axesMap[a];if(null!=a){if(null==b)for(var c in a)if(a.hasOwnProperty(c))return a[c];return a[b]}};
Ja.getAxes=function(){return this._axesList.slice()};Ja.getCartesian=function(a,b){if(null!=a&&null!=b)return this._coordsMap["x"+a+"y"+b];M(a)&&(b=a.yAxisIndex,a=a.xAxisIndex);for(var c=0,d=this._coordsList;c<d.length;c++)if(d[c].getAxis("x").index===a||d[c].getAxis("y").index===b)return d[c]};Ja.getCartesians=function(){return this._coordsList.slice()};Ja.convertToPixel=function(a,b,c){a=this._findConvertTarget(a,b);return a.cartesian?a.cartesian.dataToPoint(c):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(c)):
null};Ja.convertFromPixel=function(a,b,c){a=this._findConvertTarget(a,b);return a.cartesian?a.cartesian.pointToData(c):a.axis?a.axis.coordToData(a.axis.toLocalCoord(c)):null};Ja._findConvertTarget=function(a,b){a=b.seriesModel;var c=b.xAxisModel||a&&a.getReferringComponents("xAxis")[0],d=b.yAxisModel||a&&a.getReferringComponents("yAxis")[0];b=b.gridModel;var e=this._coordsList,f;if(a){var g=a.coordinateSystem;0>ba(e,g)&&(g=null)}else c&&d?g=this.getCartesian(c.componentIndex,d.componentIndex):c?f=
this.getAxis("x",c.componentIndex):d?f=this.getAxis("y",d.componentIndex):b&&b.coordinateSystem===this&&(g=this._coordsList[0]);return{cartesian:g,axis:f}};Ja.containPoint=function(a){var b=this._coordsList[0];if(b)return b.containPoint(a)};Ja._initCartesian=function(a,b,c){function d(h){return function(k,l){if(k.getCoordSysModel()===a){var m=k.get("position");"x"===h?"top"!==m&&"bottom"!==m&&(m=e.bottom?"top":"bottom"):"left"!==m&&"right"!==m&&(m=e.left?"right":"left");e[m]=!0;m=new Hh(h,hk(k),[0,
0],k.get("type"),m);m.onBand="category"===m.type&&k.get("boundaryGap");m.inverse=k.get("inverse");k.axis=m;m.model=k;m.grid=this;m.index=l;this._axesList.push(m);f[h][l]=m;g[h]++}}}var e={left:!1,right:!1,top:!1,bottom:!1},f={x:{},y:{}},g={x:0,y:0};b.eachComponent("xAxis",d("x"),this);b.eachComponent("yAxis",d("y"),this);g.x&&g.y?(this._axesMap=f,y(f.x,function(h,k){y(f.y,function(l,m){m="x"+k+"y"+m;var n=new kf(m);n.grid=this;n.model=a;this._coordsMap[m]=n;this._coordsList.push(n);n.addAxis(h);n.addAxis(l)},
this)},this)):(this._axesMap={},this._axesList=[])};Ja._updateScale=function(a,b){function c(d,e,f){y(d.mapDimension(e.dim,!0),function(g){e.scale.unionExtentFromData(d,bk(d,g))})}y(this._axesList,function(d){d.scale.setExtent(Infinity,-Infinity)});a.eachSeries(function(d){if(Zp(d)){var e=Yp(d,a),f=e[0];e=e[1];var g;(g=f.getCoordSysModel()!==b)||(g=e.getCoordSysModel()!==b);g||(g=this.getCartesian(f.componentIndex,e.componentIndex),f=d.getData(),e=g.getAxis("x"),g=g.getAxis("y"),"list"===f.type&&
(c(f,e,d),c(f,g,d)))}},this)};Ja.getTooltipAxes=function(a){var b=[],c=[];y(this.getCartesians(),function(d){var e=null!=a&&"auto"!==a?d.getAxis(a):d.getBaseAxis();d=d.getOtherAxis(e);0>ba(b,e)&&b.push(e);0>ba(c,d)&&c.push(d)});return{baseAxes:b,otherAxes:c}};var qv=["xAxis","yAxis"];ge.create=function(a,b){var c=[];a.eachComponent("grid",function(d,e){var f=new ge(d,a,b);f.name="grid_"+e;f.resize(d,b,!0);d.coordinateSystem=f;c.push(f)});a.eachSeries(function(d){if(Zp(d)){var e=Yp(d,a),f=e[0];e=e[1];
var g=f.getCoordSysModel();if(D){if(!g)throw Error('Grid "'+Ea(f.get("gridIndex"),f.get("gridId"),0)+'" not found');if(f.getCoordSysModel()!==e.getCoordSysModel())throw Error("xAxis and yAxis must use the same grid");}d.coordinateSystem=g.coordinateSystem.getCartesian(f.componentIndex,e.componentIndex)}});return c};ge.dimensions=ge.prototype.dimensions=kf.prototype.dimensions;ac.register("cartesian2d",ge);ee.extend({type:"series.__base_bar__",getInitialData:function(a,b){return ck(this.getSource(),
this,{useEncodeDefaulter:!0})},getMarkerPosition:function(a){var b=this.coordinateSystem;if(b){a=b.dataToPoint(b.clampData(a));var c=this.getData(),d=c.getLayout("offset");c=c.getLayout("size");b=b.getBaseAxis().isHorizontal()?0:1;a[b]+=d+c/2;return a}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3E3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}}).extend({type:"series.bar",
dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return this.get("large")?this.get("progressive"):!1},getProgressiveThreshold:function(){var a=this.get("progressiveThreshold"),b=this.get("largeThreshold");b>a&&(a=b);return a},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});var Nx=
rh([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Ox=yc({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r0||0,0),f=Math.max(b.r,0),g=.5*(f-e),h=e+g,k=b.startAngle,l=b.endAngle;b=b.clockwise;var m=Math.cos(k),n=Math.sin(k),p=Math.cos(l),q=Math.sin(l);
if(b?l-k<2*Math.PI:k-l<2*Math.PI)a.moveTo(m*e+c,n*e+d),a.arc(m*h+c,n*h+d,g,-Math.PI+k,k,!b);a.arc(c,d,f,k,l,!b);a.moveTo(p*f+c,q*f+d);a.arc(p*h+c,q*h+d,g,l-2*Math.PI,l-Math.PI,!b);0!==e&&(a.arc(c,d,e,l,k,b),a.moveTo(m*e+c,q*e+d));a.closePath()}}),Px=["itemStyle","barBorderWidth"],Ih=[0,0];S(ka.prototype,{getBarItemStyle:function(a){a=Nx(this,a);if(this.getBorderLineDash){var b=this.getBorderLineDash();b&&(a.lineDash=b)}return a}});yp({type:"bar",render:function(a,b,c){this._updateDrawMode(a);var d=
a.get("coordinateSystem");"cartesian2d"===d||"polar"===d?this._isLargeDraw?this._renderLarge(a,b,c):this._renderNormal(a,b,c):D&&console.warn("Only cartesian2d and polar supported for bar.");return this.group},incrementalPrepareRender:function(a,b,c){this._clear();this._updateDrawMode(a)},incrementalRender:function(a,b,c,d){this._incrementalRenderLarge(a,b)},_updateDrawMode:function(a){a=a.pipelineContext.large;if(null==this._isLargeDraw||a^this._isLargeDraw)this._isLargeDraw=a,this._clear()},_renderNormal:function(a,
b,c){var d=this.group,e=a.getData(),f=this._data,g=a.coordinateSystem;b=g.getBaseAxis();var h;"cartesian2d"===g.type?h=b.isHorizontal():"polar"===g.type&&(h="angle"===b.dim);var k=a.isAnimationEnabled()?a:null,l=a.get("clip",!0),m=rv(g,e);d.removeClipPath();var n=a.get("roundCap",!0),p=a.get("showBackground",!0),q=a.getModel("backgroundStyle"),t=q.get("barBorderRadius")||0,r=[],u=this._backgroundEls||[],v=function(w){var x=Jh[g.type](e,w);x=new ("polar"===g.type?Dc:ma)({shape:iq(h,x,g),silent:!0,
z2:0});x.useStyle(q.getBarItemStyle());"cartesian2d"===g.type&&x.setShape("r",t);return r[w]=x};e.diff(f).add(function(w){var x=e.getItemModel(w),z=Jh[g.type](e,w,x);p&&v(w);if(e.hasValue(w))if(l&&ws[g.type](m,z))d.remove(A);else{var A=xs[g.type](w,z,h,k,!1,n);e.setItemGraphicEl(w,A);d.add(A);eq(A,e,w,x,z,a,h,"polar"===g.type)}}).update(function(w,x){var z=e.getItemModel(w),A=Jh[g.type](e,w,z);if(p){if(0===u.length)var B=v(x);else B=u[x],B.useStyle(q.getBarItemStyle()),"cartesian2d"===g.type&&B.setShape("r",
t),r[w]=B;var K=Jh[g.type](e,w);K=iq(h,K,g);oa(B,{shape:K},k,w)}x=f.getItemGraphicEl(x);e.hasValue(w)?l&&ws[g.type](m,A)?d.remove(x):(x?oa(x,{shape:A},k,w):x=xs[g.type](w,A,h,k,!0,n),e.setItemGraphicEl(w,x),d.add(x),eq(x,e,w,z,A,a,h,"polar"===g.type)):d.remove(x)}).remove(function(w){var x=f.getItemGraphicEl(w);"cartesian2d"===g.type?x&&cq(w,k,x):x&&dq(w,k,x)}).execute();b=this._backgroundGroup||(this._backgroundGroup=new P);b.removeAll();for(c=0;c<r.length;++c)b.add(r[c]);d.add(b);this._backgroundEls=
r;this._data=e},_renderLarge:function(a,b,c){this._clear();fq(a,this.group);a=a.get("clip",!0)?(b=a.coordinateSystem)?"polar"===b.type?bq(b,!1,a):"cartesian2d"===b.type?aq(b,!1,a):null:null:null;a?this.group.setClipPath(a):this.group.removeClipPath()},_incrementalRenderLarge:function(a,b){this._removeBackground();fq(b,this.group,!0)},dispose:Za,remove:function(a){this._clear(a)},_clear:function(a){var b=this.group,c=this._data;a&&a.get("animation")&&c&&!this._isLargeDraw?(this._removeBackground(),
this._backgroundEls=[],c.eachItemGraphicEl(function(d){"sector"===d.type?dq(d.dataIndex,a,d):cq(d.dataIndex,a,d)})):b.removeAll();this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup);this._backgroundGroup=null}});var Yl=Math.max,Zl=Math.min,ws={cartesian2d:function(a,b){var c=0>b.width?-1:1,d=0>b.height?-1:1;0>c&&(b.x+=b.width,b.width=-b.width);0>d&&(b.y+=b.height,b.height=-b.height);var e=Yl(b.x,a.x),f=Zl(b.x+b.width,a.x+a.width),g=Yl(b.y,a.y);a=Zl(b.y+b.height,
a.y+a.height);b.x=e;b.y=g;b.width=f-e;b.height=a-g;e=0>b.width||0>b.height;0>c&&(b.x+=b.width,b.width=-b.width);0>d&&(b.y+=b.height,b.height=-b.height);return e},polar:function(a,b){var c=b.r0<=b.r?1:-1;if(0>c){var d=b.r;b.r=b.r0;b.r0=d}d=Zl(b.r,a.r);a=Yl(b.r0,a.r0);b.r=d;b.r0=a;a=0>d-a;0>c&&(d=b.r,b.r=b.r0,b.r0=d);return a}},xs={cartesian2d:function(a,b,c,d,e){var f=new ma({shape:S({},b),z2:1});f.name="item";if(d){c=c?"height":"width";var g={};f.shape[c]=0;g[c]=b[c];xh[e?"updateProps":"initProps"](f,
{shape:g},d,a)}return f},polar:function(a,b,c,d,e,f){f=new (!c&&f?Ox:Dc)({shape:T({clockwise:b.startAngle<b.endAngle},b),z2:1});f.name="item";if(d){var g=c?"r":"endAngle",h={};f.shape[g]=c?0:b.startAngle;h[g]=b[g];xh[e?"updateProps":"initProps"](f,{shape:h},d,a)}return f}},Jh={cartesian2d:function(a,b,c){a=a.getItemLayout(b);if(c){c=c.get(Px)||0;b=isNaN(a.width)?Number.MAX_VALUE:Math.abs(a.width);var d=isNaN(a.height)?Number.MAX_VALUE:Math.abs(a.height);c=Math.min(c,b,d)}else c=0;b=0<a.width?1:-1;
d=0<a.height?1:-1;return{x:a.x+b*c/2,y:a.y+d*c/2,width:a.width-b*c,height:a.height-d*c}},polar:function(a,b,c){a=a.getItemLayout(b);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle}}},gq=ca.extend({type:"largeBar",shape:{points:[]},buildPath:function(a,b){b=b.points;for(var c=this.__startPoint,d=this.__baseDimIdx,e=0;e<b.length;e+=2)c[d]=b[e+d],a.moveTo(c[0],c[1]),a.lineTo(b[e],b[e+1])}}),hq=Ig(function(a){a:{var b=a.offsetY;var c=this.__baseDimIdx;var d=1-c,e=this.shape.points,
f=this.__largeDataIndices,g=Math.abs(this.__barWidth/2),h=this.__startPoint[d];Ih[0]=a.offsetX;Ih[1]=b;var k=Ih[c];a=Ih[1-c];b=k-g;g=k+g;k=0;for(var l=e.length/2;k<l;k++){var m=2*k,n=e[m+c];m=e[m+d];if(n>=b&&n<=g&&(h<=m?a>=h&&a<=m:a>=m&&a<=h)){c=f[k];break a}}c=-1}this.dataIndex=0<=c?c:null},30,!1),Ec=Math.PI,zd=function(a,b){this.opt=b;this.axisModel=a;T(b,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0});this.group=new P;a=new P({position:b.position.slice(),rotation:b.rotation});
a.updateTransform();this._transform=a.transform;this._dumbGroup=a};zd.prototype={constructor:zd,hasBuilder:function(a){return!!ys[a]},add:function(a){ys[a].call(this)},getGroup:function(){return this.group}};var ys={axisLine:function(){var a=this.opt,b=this.axisModel;if(b.get("axisLine.show")){var c=this.axisModel.axis.getExtent(),d=this._transform,e=[c[0],0];c=[c[1],0];d&&(Ca(e,e,d),Ca(c,c,d));var f=S({lineCap:"round"},b.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new tb({anid:"line",
subPixelOptimize:!0,shape:{x1:e[0],y1:e[1],x2:c[0],y2:c[1]},style:f,strokeContainThreshold:a.strokeContainThreshold||5,silent:!0,z2:1}));var g=b.get("axisLine.symbol");d=b.get("axisLine.symbolSize");b=b.get("axisLine.symbolOffset")||0;"number"===typeof b&&(b=[b,b]);if(null!=g){"string"===typeof g&&(g=[g,g]);if("string"===typeof d||"number"===typeof d)d=[d,d];var h=d[0],k=d[1];y([{rotate:a.rotation+Math.PI/2,offset:b[0],r:0},{rotate:a.rotation-Math.PI/2,offset:b[1],r:Math.sqrt((e[0]-c[0])*(e[0]-c[0])+
(e[1]-c[1])*(e[1]-c[1]))}],function(l,m){if("none"!==g[m]&&null!=g[m]){m=ld(g[m],-h/2,-k/2,h,k,f.stroke,!0);var n=l.r+l.offset;m.attr({rotation:l.rotate,position:[e[0]+n*Math.cos(a.rotation),e[1]-n*Math.sin(a.rotation)],silent:!0,z2:11});this.group.add(m)}},this)}}},axisTickLabel:function(){var a=this.axisModel,b=this.opt;var c=a.axis,d=a.getModel("axisTick");if(!d.get("show")||c.scale.isBlank())var e=void 0;else for(e=d.getModel("lineStyle"),d=b.tickDirection*d.get("length"),c=c.getTicksCoords(),
e=kq(c,this._transform,d,T(e.getLineStyle(),{stroke:a.get("axisLine.lineStyle.color")}),"ticks"),c=0;c<e.length;c++)this.group.add(e[c]);var f=tv(this,a,b),g=e;if(!Mp(a.axis)){e=a.get("axisLabel.showMinLabel");c=a.get("axisLabel.showMaxLabel");f=f||[];g=g||[];d=f[0];var h=f[1],k=f[f.length-1];f=f[f.length-2];var l=g[0],m=g[1],n=g[g.length-1];g=g[g.length-2];!1===e?(fb(d),fb(l)):jq(d,h)&&(e?(fb(h),fb(m)):(fb(d),fb(l)));!1===c?(fb(k),fb(n)):jq(f,k)&&(c?(fb(f),fb(g)):(fb(k),fb(n)))}e=a.axis;c=a.getModel("minorTick");
if(c.get("show")&&!e.scale.isBlank()&&(e=e.getMinorTicksCoords(),e.length))for(d=c.getModel("lineStyle"),b=b.tickDirection*c.get("length"),a=T(d.getLineStyle(),T(a.getModel("axisTick").getLineStyle(),{stroke:a.get("axisLine.lineStyle.color")})),c=0;c<e.length;c++)for(d=kq(e[c],this._transform,b,a,"minorticks_"+c),h=0;h<d.length;h++)this.group.add(d[h])},axisName:function(){var a=this.opt,b=this.axisModel,c=Ea(a.axisName,b.get("name"));if(c){var d=b.get("nameLocation"),e=a.nameDirection,f=b.getModel("nameTextStyle"),
g=b.get("nameGap")||0,h=this.axisModel.axis.getExtent(),k=h[0]>h[1]?-1:1;g=["start"===d?h[0]-k*g:"end"===d?h[1]+k*g:(h[0]+h[1])/2,"middle"===d||"center"===d?a.labelOffset+e*g:0];k=b.get("nameRotate");null!=k&&(k=k*Ec/180);if("middle"===d||"center"===d)d=lq(a.rotation,null!=k?k:a.rotation,e);else{d=sv(a,d,k||0,h);var l=a.axisNameAvailableWidth;null!=l&&(l=Math.abs(l/Math.sin(d.rotation)),!isFinite(l)&&(l=null))}e=f.getFont();h=b.get("nameTruncate",!0)||{};k=h.ellipsis;a=Ea(a.nameTruncateMaxWidth,h.maxWidth,
l);a=null!=k&&null!=a?es(c,a,e,k,{minChar:2,placeholder:h.placeholder}):c;l=b.get("tooltip",!0);h=b.mainType;k={componentType:h,name:c,$vars:["name"]};k[h+"Index"]=b.componentIndex;g=new ua({anid:"name",__fullText:c,__truncatedText:a,position:g,rotation:d.rotation,silent:mq(b),z2:1,tooltip:l&&l.show?S({content:c,formatter:function(){return c},formatterParams:k},l):null});Ma(g.style,f,{text:a,textFont:e,textFill:f.getTextColor()||b.get("axisLine.lineStyle.color"),textAlign:f.get("align")||d.textAlign,
textVerticalAlign:f.get("verticalAlign")||d.textVerticalAlign});b.get("triggerEvent")&&(g.eventData=nq(b),g.eventData.targetType="axisName",g.eventData.name=c);this._dumbGroup.add(g);g.updateTransform();this.group.add(g);g.decomposeTransform()}}},nq=zd.makeAxisEventDataBase=function(a){var b={componentType:a.mainType,componentIndex:a.componentIndex};b[a.mainType+"Index"]=a.componentIndex;return b},lq=zd.innerTextLayout=function(a,b,c){a=yj(b-a);We(a)?(b=0<c?"top":"bottom",c="center"):We(a-Ec)?(b=
0<c?"bottom":"top",c="center"):(b="middle",c=0<a&&a<Ec?0<c?"right":"left":0<c?"left":"right");return{rotation:a,textAlign:c,textVerticalAlign:b}},mq=zd.isLabelSilent=function(a){var b=a.get("tooltip");return a.get("silent")||!(a.get("triggerEvent")||b&&b.show)},he=y,nk=O,Fc=Gb({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(a,b,c,d){if(this.axisPointerClass){var e=ok(a);if(e){var f=e.axisPointerModel,g=e.axis.scale,h=f.option,k=f.get("status"),l=f.get("value");null!=l&&(l=g.parse(l));
f=!!f.get("handle.show");null==k&&(h.status=f?"show":"hide");g=g.getExtent().slice();g[0]>g[1]&&g.reverse();if(null==l||l>g[1])l=g[1];l<g[0]&&(l=g[0]);h.value=l;f&&(h.status=e.axis.scale.isBlank()?"hide":"show")}}Fc.superApply(this,"render",arguments);oq(this,a,b,c,d,!0)},updateAxisPointer:function(a,b,c,d,e){oq(this,a,b,c,d,!1)},remove:function(a,b){var c=this._axisPointer;c&&c.remove(b);Fc.superApply(this,"remove",arguments)},dispose:function(a,b){var c=this._axisPointer;c&&c.dispose(b,void 0);
this._axisPointer=null;Fc.superApply(this,"dispose",arguments)}}),$l=[];Fc.registerAxisPointerClass=function(a,b){if(D&&$l[a])throw Error("axisPointer "+a+" exists");$l[a]=b};Fc.getAxisPointerClass=function(a){return a&&$l[a]};var Qx=["axisLine","axisTickLabel","axisName"],Rx=["splitArea","splitLine","minorSplitLine"],am=Fc.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(a,b,c,d){this.group.removeAll();var e=this._axisGroup;this._axisGroup=new P;this.group.add(this._axisGroup);
if(a.get("show")){var f=a.getCoordSysModel(),g=pk(f,a);g=new zd(a,g);y(Qx,g.add,g);this._axisGroup.add(g.getGroup());y(Rx,function(h){if(a.get(h+".show"))this["_"+h](a,f)},this);Bo(e,this._axisGroup,a);am.superCall(this,"render",a,b,c,d)}},remove:function(){this.__splitAreaColors=null},_splitLine:function(a,b){var c=a.axis;if(!c.scale.isBlank()){var d=a.getModel("splitLine"),e=d.getModel("lineStyle");a=e.get("color");a=F(a)?a:[a];b=b.coordinateSystem.getRect();var f=c.isHorizontal(),g=0;d=c.getTicksCoords({tickModel:d});
var h=[],k=[];e=e.getLineStyle();for(var l=0;l<d.length;l++){var m=c.toGlobalCoord(d[l].coord);f?(h[0]=m,h[1]=b.y,k[0]=m,k[1]=b.y+b.height):(h[0]=b.x,h[1]=m,k[0]=b.x+b.width,k[1]=m);m=g++%a.length;this._axisGroup.add(new tb({anid:null!=d[l].tickValue?"line_"+d[l].tickValue:null,subPixelOptimize:!0,shape:{x1:h[0],y1:h[1],x2:k[0],y2:k[1]},style:T({stroke:a[m]},e),silent:!0}))}}},_minorSplitLine:function(a,b){var c=a.axis,d=a.getModel("minorSplitLine").getModel("lineStyle");b=b.coordinateSystem.getRect();
a=c.isHorizontal();var e=c.getMinorTicksCoords();if(e.length){var f=[],g=[];d=d.getLineStyle();for(var h=0;h<e.length;h++)for(var k=0;k<e[h].length;k++){var l=c.toGlobalCoord(e[h][k].coord);a?(f[0]=l,f[1]=b.y,g[0]=l,g[1]=b.y+b.height):(f[0]=b.x,f[1]=l,g[0]=b.x+b.width,g[1]=l);this._axisGroup.add(new tb({anid:"minor_line_"+e[h][k].tickValue,subPixelOptimize:!0,shape:{x1:f[0],y1:f[1],x2:g[0],y2:g[1]},style:d,silent:!0}))}}},_splitArea:function(a,b){var c=this._axisGroup,d=a.axis;if(!d.scale.isBlank()){var e=
a.getModel("splitArea"),f=e.getModel("areaStyle");a=f.get("color");b=b.coordinateSystem.getRect();e=d.getTicksCoords({tickModel:e,clamp:!0});if(e.length){var g=a.length,h=this.__splitAreaColors,k=U(),l=0;if(h)for(var m=0;m<e.length;m++){var n=h.get(e[m].tickValue);if(null!=n){l=(n+(g-1)*m)%g;break}}h=d.toGlobalCoord(e[0].coord);f=f.getAreaStyle();a=F(a)?a:[a];for(m=1;m<e.length;m++){var p=d.toGlobalCoord(e[m].coord);if(d.isHorizontal()){n=h;var q=b.y;var t=p-n;p=b.height;h=n+t}else n=b.x,q=h,t=b.width,
p-=q,h=q+p;var r=e[m-1].tickValue;null!=r&&k.set(r,l);c.add(new ma({anid:null!=r?"area_"+r:null,shape:{x:n,y:q,width:t,height:p},style:T({fill:a[l]},f),silent:!0}));l=(l+1)%g}this.__splitAreaColors=k}}}});am.extend({type:"xAxis"});am.extend({type:"yAxis"});Gb({type:"grid",render:function(a,b){this.group.removeAll();a.get("show")&&this.group.add(new ma({shape:a.coordinateSystem.getRect(),style:T({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}});Fb(function(a){a.xAxis&&a.yAxis&&
!a.grid&&(a.grid={})});ce(wd.VISUAL.LAYOUT,O(function(a,b){a=Kp(a,b);var c=fk(a),d={};y(a,function(e){var f=e.getData(),g=e.coordinateSystem,h=g.getBaseAxis(),k=ek(e),l=c[h.dim+h.index][k],m=l.offset,n=l.width,p=g.getOtherAxis(h);e=e.get("barMinHeight")||0;d[k]=d[k]||[];f.setLayout({bandWidth:l.bandWidth,offset:m,size:n});l=f.mapDimension(p.dim);h=f.mapDimension(h.dim);var q=Cc(f,l),t=p.isHorizontal();p=p.toGlobalCoord(p.dataToCoord("log"===p.type?1:0));for(var r=0,u=f.count();r<u;r++){var v=f.get(l,
r),w=f.get(h,r),x=0<=v?"p":"n",z=p;q&&(d[k][w]||(d[k][w]={p:p,n:p}),z=d[k][w][x]);if(t){var A=g.dataToPoint([v,w]);v=z;z=A[1]+m;var B=A[0]-p;A=n;Math.abs(B)<e&&(B=(0>B?-1:1)*e);isNaN(B)||q&&(d[k][w][x]+=B)}else A=g.dataToPoint([w,v]),v=A[0]+m,B=n,A=A[1]-p,Math.abs(A)<e&&(A=(0>=A?-1:1)*e),isNaN(A)||q&&(d[k][w][x]+=A);f.setItemLayout(r,{x:v,y:z,width:B,height:A})}},this)},"bar"));ce(wd.VISUAL.PROGRESSIVE_LAYOUT,Cx);de({seriesType:"bar",reset:function(a){a.getData().setVisual("legendSymbol","roundRect")}});
ee.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,b){if(D&&(a=a.coordinateSystem,"polar"!==a&&"cartesian2d"!==a))throw Error("Line not support coordinateSystem besides cartesian and polar");return ck(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",
symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity}});var vb=ie.prototype,Sx=ie.getSymbolSize=function(a,b){a=a.getItemVisual(b,"symbolSize");return a instanceof Array?a.slice():[+a,+a]};vb._createSymbol=function(a,b,c,d,e){this.removeAll();b=b.getItemVisual(c,"color");e=ld(a,-1,-1,2,2,b,e);e.attr({z2:100,culling:!0,scale:[d[0]/2,d[1]/2]});e.drift=xv;this._symbolType=a;this.add(e)};vb.stopSymbolAnimation=
function(a){this.childAt(0).stopAnimation(a)};vb.getSymbolPath=function(){return this.childAt(0)};vb.getScale=function(){return this.childAt(0).scale};vb.highlight=function(){this.childAt(0).trigger("emphasis")};vb.downplay=function(){this.childAt(0).trigger("normal")};vb.setZ=function(a,b){var c=this.childAt(0);c.zlevel=a;c.z=b};vb.setDraggable=function(a){var b=this.childAt(0);b.draggable=a;b.cursor=a?"move":b.cursor};vb.updateData=function(a,b,c){this.silent=!1;var d=a.getItemVisual(b,"symbol")||
"circle",e=a.hostModel,f=Sx(a,b),g=d!==this._symbolType;if(g){var h=a.getItemVisual(b,"symbolKeepAspect");this._createSymbol(d,a,b,f,h)}else d=this.childAt(0),d.silent=!1,oa(d,{scale:[f[0]/2,f[1]/2]},e,b);this._updateCommon(a,b,f,c);g&&(d=this.childAt(0),a=c&&c.fadeIn,c={scale:d.scale.slice()},a&&(c.style={opacity:d.style.opacity}),d.scale=[0,0],a&&(d.style.opacity=0),zc(d,c,e,b));this._seriesModel=e};var Tx=["itemStyle"],Ux=["emphasis","itemStyle"],Vx=["label"],Wx=["emphasis","label"];vb._updateCommon=
function(a,b,c,d){var e=this.childAt(0),f=a.hostModel,g=a.getItemVisual(b,"color");"image"!==e.type?e.useStyle({strokeNoScale:!0}):e.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var h=d&&d.itemStyle,k=d&&d.hoverItemStyle,l=d&&d.symbolOffset,m=d&&d.labelModel,n=d&&d.hoverLabelModel,p=d&&d.hoverAnimation,q=d&&d.cursorStyle;if(!d||a.hasItemOption){var t=d&&d.itemModel?d.itemModel:a.getItemModel(b);h=t.getModel(Tx).getItemStyle(["color"]);k=t.getModel(Ux).getItemStyle();
l=t.getShallow("symbolOffset");m=t.getModel(Vx);n=t.getModel(Wx);p=t.getShallow("hoverAnimation");q=t.getShallow("cursor")}else k=S({},k);t=e.style;var r=a.getItemVisual(b,"symbolRotate");e.attr("rotation",(r||0)*Math.PI/180||0);l&&e.attr("position",[J(l[0],c[0]),J(l[1],c[1])]);q&&e.attr("cursor",q);e.setColor(g,d&&d.symbolInnerColor);e.setStyle(h);h=a.getItemVisual(b,"opacity");null!=h&&(t.opacity=h);h=a.getItemVisual(b,"liftZ");l=e.__z2Origin;null!=h?null==l&&(e.__z2Origin=e.z2,e.z2+=h):null!=l&&
(e.z2=l,e.__z2Origin=null);var u=d&&d.useNameLabel;Td(t,k,m,n,{labelFetcher:f,labelDataIndex:b,defaultText:function(v,w){return u?a.getName(v):$p(a,v)},isRectText:!0,autoColor:g});e.__symbolOriginalScale=[c[0]/2,c[1]/2];e.hoverStyle=k;e.highDownOnUpdate=p&&f.isAnimationEnabled()?yv:null;db(e)};vb.fadeOut=function(a,b){var c=this.childAt(0);this.silent=c.silent=!0;b&&b.keepLabel||(c.style.text=null);oa(c,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,a)};Ba(ie,P);var pe=qk.prototype;
pe.updateData=function(a,b){b=pq(b);var c=this.group,d=a.hostModel,e=this._data,f=this._symbolCtor,g=qq(a);e||c.removeAll();a.diff(e).add(function(h){var k=a.getItemLayout(h);if(rk(a,k,h,b)){var l=new f(a,h,g);l.attr("position",k);a.setItemGraphicEl(h,l);c.add(l)}}).update(function(h,k){k=e.getItemGraphicEl(k);var l=a.getItemLayout(h);rk(a,l,h,b)?(k?(k.updateData(a,h,g),oa(k,{position:l},d)):(k=new f(a,h),k.attr("position",l)),c.add(k),a.setItemGraphicEl(h,k)):c.remove(k)}).remove(function(h){var k=
e.getItemGraphicEl(h);k&&k.fadeOut(function(){c.remove(k)})}).execute();this._data=a};pe.isPersistent=function(){return!0};pe.updateLayout=function(){var a=this._data;a&&a.eachItemGraphicEl(function(b,c){c=a.getItemLayout(c);b.attr("position",c)})};pe.incrementalPrepareUpdate=function(a){this._seriesScope=qq(a);this._data=null;this.group.removeAll()};pe.incrementalUpdate=function(a,b,c){function d(h){h.isGroup||(h.incremental=h.useHoverLayer=!0)}c=pq(c);for(var e=a.start;e<a.end;e++){var f=b.getItemLayout(e);
if(rk(b,f,e,c)){var g=new this._symbolCtor(b,e,this._seriesScope);g.traverse(d);g.attr("position",f);this.group.add(g);b.setItemGraphicEl(e,g)}}};pe.remove=function(a){var b=this.group,c=this._data;c&&a?c.eachItemGraphicEl(function(d){d.fadeOut(function(){b.remove(d)})}):b.removeAll()};var Xx=function(a,b,c,d,e,f,g,h){var k=Av(a,b),l=[],m=[],n=[],p=[],q=[],t=[],r=[],u=sk(e,b,g),v=sk(f,a,h);for(h=0;h<k.length;h++){var w=k[h],x=!0;switch(w.cmd){case "\x3d":g=a.getItemLayout(w.idx);var z=b.getItemLayout(w.idx1);
if(isNaN(g[0])||isNaN(g[1]))g=z.slice();l.push(g);m.push(z);n.push(c[w.idx]);p.push(d[w.idx1]);r.push(b.getRawIndex(w.idx1));break;case "+":g=w.idx;l.push(e.dataToPoint([b.get(u.dataDimsForPoint[0],g),b.get(u.dataDimsForPoint[1],g)]));m.push(b.getItemLayout(g).slice());n.push(tk(u,e,b,g));p.push(d[g]);r.push(b.getRawIndex(g));break;case "-":g=w.idx,z=a.getRawIndex(g),z!==g?(l.push(a.getItemLayout(g)),m.push(f.dataToPoint([a.get(v.dataDimsForPoint[0],g),a.get(v.dataDimsForPoint[1],g)])),n.push(c[g]),
p.push(tk(v,f,a,g)),r.push(z)):x=!1}x&&(q.push(w),t.push(t.length))}t.sort(function(A,B){return r[A]-r[B]});a=[];b=[];c=[];d=[];e=[];for(h=0;h<t.length;h++)g=t[h],a[h]=l[g],b[h]=m[g],c[h]=n[g],d[h]=p[g],e[h]=q[g];return{current:a,next:b,stackedOnCurrent:c,stackedOnNext:d,status:e}},sq=Ob,tq=Pb,rq=um,Wg=tm,vk=[],gb=[],hb=[],Yx=ca.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:Dl(ca.prototype.brush),
buildPath:function(a,b){var c=b.points,d=0,e=c.length,f=wk(c,b.smoothConstraint);if(b.connectNulls){for(;0<e&&ec(c[e-1]);e--);for(;d<e&&ec(c[d]);d++);}for(;d<e;)d+=uk(a,c,d,e,e,1,f.min,f.max,b.smooth,b.smoothMonotone,b.connectNulls)+1}}),Zx=ca.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:Dl(ca.prototype.brush),buildPath:function(a,b){var c=b.points,d=b.stackedOnPoints,e=0,f=c.length,g=b.smoothMonotone,
h=wk(c,b.smoothConstraint),k=wk(d,b.smoothConstraint);if(b.connectNulls){for(;0<f&&ec(c[f-1]);f--);for(;e<f&&ec(c[e]);e++);}for(;e<f;){var l=uk(a,c,e,f,f,1,h.min,h.max,b.smooth,g,b.connectNulls);uk(a,d,e+l-1,l,f,-1,k.min,k.max,b.stackedOnSmooth,g,b.connectNulls);e+=l+1;a.closePath()}}});Wa.extend({type:"line",init:function(){var a=new P,b=new qk;this.group.add(b.group);this._symbolDraw=b;this._lineGroup=a},render:function(a,b,c){b=a.coordinateSystem;var d=this.group,e=a.getData(),f=a.getModel("lineStyle"),
g=a.getModel("areaStyle"),h=e.mapArray(e.getItemLayout),k="polar"===b.type,l=this._coordSys,m=this._symbolDraw,n=this._polyline,p=this._polygon,q=this._lineGroup,t=a.get("animation"),r=!g.isEmpty(),u=g.get("origin"),v=sk(b,e,u);v=Dv(b,e,v);var w=a.get("showSymbol"),x=w&&!k&&Fv(a,e,b),z=this._data;z&&z.eachItemGraphicEl(function(B,K){B.__temp&&(d.remove(B),z.setItemGraphicEl(K,null))});w||m.remove();d.add(q);k=!k&&a.get("step");if(b&&b.getArea&&a.get("clip",!0)){var A=b.getArea();null!=A.width?(A.x-=
.1,A.y-=.1,A.width+=.2,A.height+=.2):A.r0&&(A.r0-=.5,A.r1+=.5)}this._clipShapeForSymbol=A;n&&l.type===b.type&&k===this._step?(r&&!p?p=this._newPolygon(h,v,b,t):p&&!r&&(q.remove(p),p=this._polygon=null),q.setClipPath(xq(b,!1,a)),w&&m.updateData(e,{isIgnore:x,clipShape:A}),e.eachItemGraphicEl(function(B){B.stopAnimation(!0)}),uq(this._stackedOnPoints,v)&&uq(this._points,h)||(t?this._updateAnimation(e,v,b,c,k,u):(k&&(h=Gc(h,b,k),v=Gc(v,b,k)),n.setShape({points:h}),p&&p.setShape({points:h,stackedOnPoints:v})))):
(w&&m.updateData(e,{isIgnore:x,clipShape:A}),k&&(h=Gc(h,b,k),v=Gc(v,b,k)),n=this._newPolyline(h,b,t),r&&(p=this._newPolygon(h,v,b,t)),q.setClipPath(xq(b,!0,a)));c=Ev(e,b)||e.getVisual("color");n.useStyle(T(f.getLineStyle(),{fill:"none",stroke:c,lineJoin:"bevel"}));f=a.get("smooth");f=wq(a.get("smooth"));n.setShape({smooth:f,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")});p&&(n=e.getCalculationInfo("stackedOnSeries"),A=0,p.useStyle(T(g.getAreaStyle(),{fill:c,opacity:.7,
lineJoin:"bevel"})),n&&(A=wq(n.get("smooth"))),p.setShape({smooth:f,stackedOnSmooth:A,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")}));this._data=e;this._coordSys=b;this._stackedOnPoints=v;this._points=h;this._step=k;this._valueOrigin=u},dispose:function(){},highlight:function(a,b,c,d){var e=a.getData(),f=Xf(e,d);if(!(f instanceof Array)&&null!=f&&0<=f){b=e.getItemGraphicEl(f);if(!b){c=e.getItemLayout(f);if(!c||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c[0],
c[1]))return;b=new ie(e,f);b.position=c;b.setZ(a.get("zlevel"),a.get("z"));b.ignore=isNaN(c[0])||isNaN(c[1]);b.__temp=!0;e.setItemGraphicEl(f,b);b.stopSymbolAnimation(!0);this.group.add(b)}b.highlight()}else Wa.prototype.highlight.call(this,a,b,c,d)},downplay:function(a,b,c,d){var e=a.getData(),f=Xf(e,d);if(null!=f&&0<=f){if(a=e.getItemGraphicEl(f))a.__temp?(e.setItemGraphicEl(f,null),this.group.remove(a)):a.downplay()}else Wa.prototype.downplay.call(this,a,b,c,d)},_newPolyline:function(a){var b=
this._polyline;b&&this._lineGroup.remove(b);b=new Yx({shape:{points:a},silent:!0,z2:10});this._lineGroup.add(b);return this._polyline=b},_newPolygon:function(a,b){var c=this._polygon;c&&this._lineGroup.remove(c);c=new Zx({shape:{points:a,stackedOnPoints:b},silent:!0});this._lineGroup.add(c);return this._polygon=c},_updateAnimation:function(a,b,c,d,e,f){var g=this._polyline;d=this._polygon;var h=a.hostModel;b=Xx(this._data,a,this._stackedOnPoints,b,this._coordSys,c,this._valueOrigin,f);f=b.current;
var k=b.stackedOnCurrent,l=b.next,m=b.stackedOnNext;e&&(f=Gc(b.current,c,e),k=Gc(b.stackedOnCurrent,c,e),l=Gc(b.next,c,e),m=Gc(b.stackedOnNext,c,e));if(3E3<vq(f,l)||d&&3E3<vq(k,m))g.setShape({points:l}),d&&d.setShape({points:l,stackedOnPoints:m});else{g.shape.__points=b.current;g.shape.points=f;oa(g,{shape:{points:l}},h);d&&(d.setShape({points:f,stackedOnPoints:k}),oa(d,{shape:{points:l,stackedOnPoints:m}},h));var n=[];c=b.status;for(e=0;e<c.length;e++)"\x3d"===c[e].cmd&&(d=a.getItemGraphicEl(c[e].idx1))&&
n.push({el:d,ptIdx:e});g.animators&&g.animators.length&&g.animators[0].during(function(){for(var p=0;p<n.length;p++)n[p].el.attr("position",g.shape.__points[n[p].ptIdx])})}},remove:function(a){var b=this.group,c=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(!0);c&&c.eachItemGraphicEl(function(d,e){d.__temp&&(b.remove(d),c.setItemGraphicEl(e,null))});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var $x={average:function(a){for(var b=
0,c=0,d=0;d<a.length;d++)isNaN(a[d])||(b+=a[d],c++);return 0===c?NaN:b/c},sum:function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c]||0;return b},max:function(a){for(var b=-Infinity,c=0;c<a.length;c++)a[c]>b&&(b=a[c]);return isFinite(b)?b:NaN},min:function(a){for(var b=Infinity,c=0;c<a.length;c++)a[c]<b&&(b=a[c]);return isFinite(b)?b:NaN},nearest:function(a){return a[0]}},ay=function(a,b){return Math.round(a.length/2)};de(function(a,b,c){return{seriesType:a,performRawSeries:!0,reset:function(d,e,f){function g(u,
v){if(t){var w=d.getRawValue(v),x=d.getDataParams(v);n&&u.setItemVisual(v,"symbol",h(w,x));p&&u.setItemVisual(v,"symbolSize",k(w,x));q&&u.setItemVisual(v,"symbolRotate",m(w,x))}if(u.hasItemOption){var z=u.getItemModel(v);w=z.getShallow("symbol",!0);x=z.getShallow("symbolSize",!0);var A=z.getShallow("symbolRotate",!0);z=z.getShallow("symbolKeepAspect",!0);null!=w&&u.setItemVisual(v,"symbol",w);null!=x&&u.setItemVisual(v,"symbolSize",x);null!=A&&u.setItemVisual(v,"symbolRotate",A);null!=z&&u.setItemVisual(v,
"symbolKeepAspect",z)}}f=d.getData();var h=d.get("symbol"),k=d.get("symbolSize"),l=d.get("symbolKeepAspect"),m=d.get("symbolRotate"),n=va(h),p=va(k),q=va(m),t=n||p||q,r=!n&&h?h:b;f.setVisual({legendSymbol:c||r,symbol:r,symbolSize:p?null:k,symbolKeepAspect:l,symbolRotate:m});if(!e.isSeriesFiltered(d))return{dataEach:f.hasItemOption||t?g:null}}}}("line","circle","line"));ce(function(a){return{seriesType:a,plan:Nl(),reset:function(b){function c(k,l){var m=k.end-k.start;m=f&&new Float32Array(m*h);for(var n=
k.start,p=0,q=[],t=[];n<k.end;n++){if(1===h){var r=l.get(g[0],n);r=!isNaN(r)&&e.dataToPoint(r,null,t)}else{r=q[0]=l.get(g[0],n);var u=q[1]=l.get(g[1],n);r=!isNaN(r)&&!isNaN(u)&&e.dataToPoint(q,null,t)}f?(m[p++]=r?r[0]:NaN,m[p++]=r?r[1]:NaN):l.setItemLayout(n,r&&r.slice()||[NaN,NaN])}f&&l.setLayout("symbolPoints",m)}var d=b.getData(),e=b.coordinateSystem,f=b.pipelineContext.large;if(e){var g=E(e.dimensions,function(k){return d.mapDimension(k)}).slice(0,2),h=g.length;b=d.getCalculationInfo("stackResultDimension");
Cc(d,g[0])&&(g[0]=b);Cc(d,g[1])&&(g[1]=b);return h&&{progress:c}}}}}("line"));kd(wd.PROCESSOR.STATISTIC,function(a){return{seriesType:a,modifyOutputEnd:!0,reset:function(b,c,d){c=b.getData();d=b.get("sampling");var e=b.coordinateSystem;if("cartesian2d"===e.type&&d){var f=e.getBaseAxis();e=e.getOtherAxis(f);f=f.getExtent();f=Math.abs(f[1]-f[0]);f=Math.round(c.count()/f);if(1<f){var g;"string"===typeof d?g=$x[d]:"function"===typeof d&&(g=d);g&&b.setData(c.downSample(c.mapDimension(e.dim),1/f,g,ay))}}}}}("line"));
var zs=function(a,b,c){b=F(b)&&{coordDimensions:b}||S({},b);var d=a.getSource();b=dk(d,b);a=new Ya(b,a);a.initData(d,c);return a},Kh=xp({type:"series.pie",init:function(a){Kh.superApply(this,"init",arguments);this.legendVisualProvider=new Hv(H(this.getData,this),H(this.getRawData,this));this.updateSelectedMap(this._createSelectableList());this._defaultLabelLine(a)},mergeOption:function(a){Kh.superCall(this,"mergeOption",a);this.updateSelectedMap(this._createSelectableList())},getInitialData:function(a,
b){return zs(this,{coordDimensions:["value"],encodeDefaulter:O(bu,this)})},_createSelectableList:function(){for(var a=this.getRawData(),b=a.mapDimension("value"),c=[],d=0,e=a.count();d<e;d++){var f=c,g=f.push,h=a.getName(d),k=a.get(b,d);var l=a,m=d;if(l){var n=l.getProvider().getSource().sourceFormat;"original"!==n&&"objectRows"!==n?n=void 0:(l=l.getRawDataItem(m),"original"!==n||M(l)||(l=null),n=l?l.selected:void 0)}else n=void 0;g.call(f,{name:h,value:k,selected:n})}return c},getDataParams:function(a){var b=
this.getData(),c=Kh.superCall(this,"getDataParams",a),d=[];b.each(b.mapDimension("value"),function(e){d.push(e)});c.percent=Ho(d,a,b.hostModel.get("percentPrecision"));c.$vars.push("percent");return c},_defaultLabelLine:function(a){Vf(a,"labelLine",["show"]);var b=a.labelLine,c=a.emphasis.labelLine;b.show=b.show&&a.label.show;c.show=c.show&&a.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,
minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});fa(Kh,{updateSelectedMap:function(a){this._targetList=
F(a)?a.slice():[];this._selectTargetMap=ue(a||[],function(b,c){b.set(c.name,c);return b},U())},select:function(a,b){a=null!=b?this._targetList[b]:this._selectTargetMap.get(a);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(c){c.selected=!1});a&&(a.selected=!0)},unSelect:function(a,b){(a=null!=b?this._targetList[b]:this._selectTargetMap.get(a))&&(a.selected=!1)},toggleSelected:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);if(null!=c)return this[c.selected?
"unSelect":"select"](a,b),c.selected},isSelected:function(a,b){return(a=null!=b?this._targetList[b]:this._selectTargetMap.get(a))&&a.selected}});var As=xk.prototype;As.updateData=function(a,b,c){var d=this.childAt(0),e=this.childAt(1),f=this.childAt(2),g=a.hostModel,h=a.getItemModel(b),k=a.getItemLayout(b),l=S({},k);l.label=null;var m=g.getShallow("animationTypeUpdate");c?(d.setShape(l),"scale"===g.getShallow("animationType")?(d.shape.r=k.r0,zc(d,{shape:{r:k.r}},g,b)):(d.shape.endAngle=k.startAngle,
oa(d,{shape:{endAngle:k.endAngle}},g,b))):"expansion"===m?d.setShape(l):oa(d,{shape:l},g,b);l=a.getItemVisual(b,"color");d.useStyle(T({lineJoin:"bevel",fill:l},h.getModel("itemStyle").getItemStyle()));d.hoverStyle=h.getModel("emphasis.itemStyle").getItemStyle();(l=h.getShallow("cursor"))&&d.attr("cursor",l);yq(this,a.getItemLayout(b),g.isSelected(a.getName(b)),g.get("selectedOffset"),g.get("animation"));this._updateLabel(a,b,!c&&"transition"===m);this.highDownOnUpdate=g.get("silent")?null:function(n,
p){n=g.isAnimationEnabled()&&h.get("hoverAnimation");"emphasis"===p?(e.ignore=e.hoverIgnore,f.ignore=f.hoverIgnore,n&&(d.stopAnimation(!0),d.animateTo({shape:{r:k.r+g.get("hoverOffset")}},300,"elasticOut"))):(e.ignore=e.normalIgnore,f.ignore=f.normalIgnore,n&&(d.stopAnimation(!0),d.animateTo({shape:{r:k.r}},300,"elasticOut")))};db(this)};As._updateLabel=function(a,b,c){var d=this.childAt(1),e=this.childAt(2),f=a.hostModel,g=a.getItemModel(b),h=a.getItemLayout(b).label,k=a.getItemVisual(b,"color");
if(!h||isNaN(h.x)||isNaN(h.y))e.ignore=e.normalIgnore=e.hoverIgnore=d.ignore=d.normalIgnore=d.hoverIgnore=!0;else{k={points:h.linePoints||[[h.x,h.y],[h.x,h.y],[h.x,h.y]]};var l={x:h.x,y:h.y};c?(oa(d,{shape:k},f,b),oa(e,{style:l},f,b)):(d.attr({shape:k}),e.attr({style:l}));e.attr({rotation:h.rotation,origin:[h.x,h.y],z2:10});c=g.getModel("label");f=g.getModel("emphasis.label");l=g.getModel("labelLine");g=g.getModel("emphasis.labelLine");k=a.getItemVisual(b,"color");Td(e.style,e.hoverStyle={},c,f,{labelFetcher:a.hostModel,
labelDataIndex:b,defaultText:h.text,autoColor:k,useInsideStyle:!!h.inside},{textAlign:h.textAlign,textVerticalAlign:h.verticalAlign,opacity:a.getItemVisual(b,"opacity")});e.ignore=e.normalIgnore=!c.get("show");e.hoverIgnore=!f.get("show");d.ignore=d.normalIgnore=!l.get("show");d.hoverIgnore=!g.get("show");d.setStyle({stroke:k,opacity:a.getItemVisual(b,"opacity")});d.setStyle(l.getModel("lineStyle").getLineStyle());d.hoverStyle=g.getModel("lineStyle").getLineStyle();(a=l.get("smooth"))&&!0===a&&(a=
.4);d.setShape({smooth:a})}};Ba(xk,P);Wa.extend({type:"pie",init:function(){this._sectorGroup=new P},render:function(a,b,c,d){if(!d||d.from!==this.uid){var e=a.getData(),f=this._data,g=this.group;b=b.get("animation");var h=!f,k=a.get("animationType"),l=a.get("animationTypeUpdate"),m=O(Iv,this.uid,a,b,c),n=a.get("selectedMode");e.diff(f).add(function(p){var q=new xk(e,p);h&&"scale"!==k&&q.eachChild(function(t){t.stopAnimation(!0)});n&&q.on("click",m);e.setItemGraphicEl(p,q);g.add(q)}).update(function(p,
q){q=f.getItemGraphicEl(q);h||"transition"===l||q.eachChild(function(t){t.stopAnimation(!0)});q.updateData(e,p);q.off("click");n&&q.on("click",m);g.add(q);e.setItemGraphicEl(p,q)}).remove(function(p){p=f.getItemGraphicEl(p);g.remove(p)}).execute();if(b&&0<e.count()&&(h?"scale"!==k:"transition"!==l)){b=e.getItemLayout(0);for(d=1;isNaN(b.startAngle)&&d<e.count();++d)b=e.getItemLayout(d);c=Math.max(c.getWidth(),c.getHeight())/2;d=H(g.removeClipPath,g);g.setClipPath(this._createClipPath(b.cx,b.cy,c,b.startAngle,
b.clockwise,d,a,h))}else g.removeClipPath();this._data=e}},dispose:function(){},_createClipPath:function(a,b,c,d,e,f,g,h){a=new Dc({shape:{cx:a,cy:b,r0:0,r:c,startAngle:d,endAngle:d,clockwise:e}});(h?zc:oa)(a,{shape:{endAngle:d+(e?1:-1)*Math.PI*2}},g,f);return a},containPoint:function(a,b){if(b=b.getData().getItemLayout(0)){var c=a[0]-b.cx;a=a[1]-b.cy;a=Math.sqrt(c*c+a*a);return a<=b.r&&a>=b.r0}}});var by=Math.PI/180,cy=function(a,b,c,d,e,f){var g=a.getData(),h=[],k,l,m=!1,n=(a.get("minShowLabelAngle")||
0)*by;g.each(function(p){var q=g.getItemLayout(p),t=g.getItemModel(p),r=t.getModel("label"),u=r.get("position")||t.get("emphasis.label.position"),v=r.get("distanceToLabelLine"),w=r.get("alignTo"),x=J(r.get("margin"),c),z=r.get("bleedMargin"),A=r.getFont(),B=t.getModel("labelLine");t=B.get("length");t=J(t,c);B=B.get("length2");B=J(B,c);if(!(q.angle<n)){var K=(q.startAngle+q.endAngle)/2,V=Math.cos(K),C=Math.sin(K);k=q.cx;l=q.cy;var ha=a.getFormattedLabel(p,"normal")||g.getName(p),ya=Vc(ha,A,ra,"top"),
la="inside"===u||"inner"===u;if("center"===u){p=q.cx;var za=q.cy;var ra="center"}else{ra=(la?(q.r+q.r0)/2*V:q.r*V)+k;var X=(la?(q.r+q.r0)/2*C:q.r*C)+l;p=ra+3*V;za=X+3*C;if(!la){var Y=ra+V*(t+b-q.r);C=X+C*(t+b-q.r);var I=Y+(0>V?-1:1)*B;p="edge"===w?0>V?e+x:e+c-x:I+(0>V?-v:v);za=C;Y=[[ra,X],[Y,C],[I,C]]}ra=la?"center":"edge"===w?0<V?"right":"left":0<V?"left":"right"}r=r.get("rotate");r="number"===typeof r?Math.PI/180*r:r?0>V?-K+Math.PI:-K:0;m=!!r;q.label={x:p,y:za,position:u,height:ya.height,len:t,
len2:B,linePoints:Y,textAlign:ra,verticalAlign:"middle",rotation:r,inside:la,labelDistance:v,labelAlignTo:w,labelMargin:x,bleedMargin:z,textRect:ya,text:ha,font:A};la||h.push(q.label)}});!m&&a.get("avoidLabelOverlap")&&Jv(h,k,l,b,c,d,e,f)},Lh=2*Math.PI,Bs=Math.PI/180;(function(a,b){y(b,function(c){c.update="updateView";ta(c,function(d,e){var f={};e.eachComponent({mainType:"series",subType:a,query:d},function(g){if(g[c.method])g[c.method](d.name,d.dataIndex);var h=g.getData();h.each(function(k){k=
h.getName(k);f[k]=g.isSelected(k)||!1})});return{name:d.name,selected:f,seriesId:d.seriesId}})})})("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);de(function(a){return{getTargetSeries:function(b){var c={},d=U();b.eachSeriesByType(a,function(e){e.__paletteScope=c;d.set(e.uid,e)});return d},reset:function(b,c){var d=b.getRawData(),e={},f=b.getData();
f.each(function(g){var h=f.getRawIndex(g);e[h]=g});d.each(function(g){var h=e[g],k=null!=h&&f.getItemVisual(h,"color",!0),l=null!=h&&f.getItemVisual(h,"borderColor",!0),m;k&&l||(m=d.getItemModel(g));k||(g=m.get("itemStyle.color")||b.getColorFromPalette(d.getName(g)||g+"",b.__paletteScope,d.count()),null!=h&&f.setItemVisual(h,"color",g));l||(l=m.get("itemStyle.borderColor"),null!=h&&f.setItemVisual(h,"borderColor",l))})}}}("pie"));ce(O(function(a,b,c,d){b.eachSeriesByType(a,function(e){var f=e.getData(),
g=f.mapDimension("value"),h=Kv(e,c),k=e.get("center"),l=e.get("radius");F(l)||(l=[0,l]);F(k)||(k=[k,k]);var m=J(h.width,c.getWidth()),n=J(h.height,c.getHeight()),p=Math.min(m,n),q=J(k[0],m)+h.x,t=J(k[1],n)+h.y,r=J(l[0],p/2),u=J(l[1],p/2),v=-e.get("startAngle")*Bs,w=e.get("minAngle")*Bs,x=0;f.each(g,function(X){!isNaN(X)&&x++});var z=f.getSum(g),A=Math.PI/(z||x)*2,B=e.get("clockwise"),K=e.get("roseType"),V=e.get("stillShowZeroSum"),C=f.getDataExtent(g);C[0]=0;var ha=Lh,ya=0,la=v,za=B?1:-1;f.each(g,
function(X,Y){if(isNaN(X))f.setItemLayout(Y,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:B,cx:q,cy:t,r0:r,r:K?NaN:u,viewRect:h});else{var I="area"!==K?0===z&&V?A:X*A:Lh/x;I<w?(I=w,ha-=w):ya+=X;var Uc=la+za*I;f.setItemLayout(Y,{angle:I,startAngle:la,endAngle:Uc,clockwise:B,cx:q,cy:t,r0:r,r:K?ia(X,C,[r,u]):u,viewRect:h});la=Uc}});if(ha<Lh&&x)if(.001>=ha){var ra=Lh/x;f.each(g,function(X,Y){isNaN(X)||(X=f.getItemLayout(Y),X.angle=ra,X.startAngle=v+za*Y*ra,X.endAngle=v+za*(Y+1)*ra)})}else A=ha/ya,
la=v,f.each(g,function(X,Y){isNaN(X)||(Y=f.getItemLayout(Y),X=Y.angle===w?w:X*A,Y.startAngle=la,Y.endAngle=la+za*X,la+=za*X)});cy(e,u,h.width,h.height,h.x,h.y)})},"pie"));kd(function(a){return{seriesType:a,reset:function(b,c){var d=c.findComponents({mainType:"legend"});if(d&&d.length){var e=b.getData();e.filterSelf(function(f){f=e.getName(f);for(var g=0;g<d.length;g++)if(!d[g].isSelected(f))return!1;return!0})}}}}("pie"));ee.extend({type:"series.gauge",getInitialData:function(a,b){return zs(this,
["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},
itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var dy=ca.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(a,b){var c=Math.cos,d=Math.sin,e=b.r,f=b.width,g=b.angle,h=b.x-c(g)*f*(f>=e/3?1:2),k=b.y-d(g)*f*(f>=e/3?1:2);g=b.angle-Math.PI/2;a.moveTo(h,
k);a.lineTo(b.x+c(g)*f,b.y+d(g)*f);a.lineTo(b.x+c(b.angle)*e,b.y+d(b.angle)*e);a.lineTo(b.x-c(g)*f,b.y-d(g)*f);a.lineTo(h,k)}}),ey=2*Math.PI;Wa.extend({type:"gauge",render:function(a,b,c){this.group.removeAll();var d=a.get("axisLine.lineStyle.color"),e=a.get("center"),f=c.getWidth(),g=c.getHeight();g=Math.min(f,g);f=J(e[0],c.getWidth());e=J(e[1],c.getHeight());g=J(a.get("radius"),g/2);this._renderMain(a,b,c,d,{cx:f,cy:e,r:g})},dispose:function(){},_renderMain:function(a,b,c,d,e){var f=this.group,
g=a.getModel("axisLine"),h=g.getModel("lineStyle"),k=a.get("clockwise"),l=-a.get("startAngle")/180*Math.PI,m=-a.get("endAngle")/180*Math.PI,n=(m-l)%ey,p=l,q=h.get("width");g=g.get("show");for(var t=0;g&&t<d.length;t++)m=l+n*Math.min(Math.max(d[t][0],0),1),p=new Dc({shape:{startAngle:p,endAngle:m,cx:e.cx,cy:e.cy,clockwise:k,r0:e.r-q,r:e.r},silent:!0}),p.setStyle({fill:d[t][1]}),p.setStyle(h.getLineStyle(["color","borderWidth","borderColor"])),f.add(p),p=m;f=function(r){if(0>=r)return d[0][1];for(var u=
0;u<d.length;u++)if(d[u][0]>=r&&(0===u?0:d[u-1][0])<r)return d[u][1];return d[u-1][1]};k||(h=l,l=m,m=h);this._renderTicks(a,b,c,f,e,l,m,k);this._renderPointer(a,b,c,f,e,l,m,k);this._renderTitle(a,b,c,f,e);this._renderDetail(a,b,c,f,e)},_renderTicks:function(a,b,c,d,e,f,g,h){b=this.group;c=e.cx;h=e.cy;e=e.r;var k=+a.get("min"),l=+a.get("max"),m=a.getModel("splitLine"),n=a.getModel("axisTick"),p=a.getModel("axisLabel");a=a.get("splitNumber");var q=n.get("splitNumber"),t=J(m.get("length"),e),r=J(n.get("length"),
e),u=f;f=(g-f)/a;g=f/q;for(var v=m.getModel("lineStyle").getLineStyle(),w=n.getModel("lineStyle").getLineStyle(),x=0;x<=a;x++){var z=Math.cos(u),A=Math.sin(u);if(m.get("show")){var B=new tb({shape:{x1:z*e+c,y1:A*e+h,x2:z*(e-t)+c,y2:A*(e-t)+h},style:v,silent:!0});"auto"===v.stroke&&B.setStyle({stroke:d(x/a)});b.add(B)}if(p.get("show")){B=Aq(da(x/a*(l-k)+k),p.get("formatter"));var K=p.get("distance"),V=d(x/a);b.add(new ua({style:Ma({},p,{text:B,x:z*(e-t-K)+c,y:A*(e-t-K)+h,textVerticalAlign:-.4>A?"top":
.4<A?"bottom":"middle",textAlign:-.4>z?"left":.4<z?"right":"center"},{autoColor:V}),silent:!0}))}if(n.get("show")&&x!==a){for(B=0;B<=q;B++)z=Math.cos(u),A=Math.sin(u),z=new tb({shape:{x1:z*e+c,y1:A*e+h,x2:z*(e-r)+c,y2:A*(e-r)+h},silent:!0,style:w}),"auto"===w.stroke&&z.setStyle({stroke:d((x+B/q)/a)}),b.add(z),u+=g;u-=g}else u+=f}},_renderPointer:function(a,b,c,d,e,f,g,h){var k=this.group,l=this._data;if(a.get("pointer.show")){var m=[+a.get("min"),+a.get("max")],n=[f,g],p=a.getData(),q=p.mapDimension("value");
p.diff(l).add(function(t){var r=new dy({shape:{angle:f}});zc(r,{shape:{angle:ia(p.get(q,t),m,n,!0)}},a);k.add(r);p.setItemGraphicEl(t,r)}).update(function(t,r){r=l.getItemGraphicEl(r);oa(r,{shape:{angle:ia(p.get(q,t),m,n,!0)}},a);k.add(r);p.setItemGraphicEl(t,r)}).remove(function(t){t=l.getItemGraphicEl(t);k.remove(t)}).execute();p.eachItemGraphicEl(function(t,r){var u=p.getItemModel(r),v=u.getModel("pointer");t.setShape({x:e.cx,y:e.cy,width:J(v.get("width"),e.r),r:J(v.get("length"),e.r)});t.useStyle(u.getModel("itemStyle").getItemStyle());
"auto"===t.style.fill&&t.setStyle("fill",d(ia(p.get(q,r),m,[0,1],!0)));db(t,u.getModel("emphasis.itemStyle").getItemStyle())});this._data=p}else l&&l.eachItemGraphicEl(function(t){k.remove(t)})},_renderTitle:function(a,b,c,d,e){b=a.getData();var f=b.mapDimension("value");c=a.getModel("title");if(c.get("show")){var g=c.get("offsetCenter"),h=e.cx+J(g[0],e.r);e=e.cy+J(g[1],e.r);g=+a.get("min");var k=+a.get("max");a=a.getData().get(f,0);d=d(ia(a,[g,k],[0,1],!0));this.group.add(new ua({silent:!0,style:Ma({},
c,{x:h,y:e,text:b.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:d,forceRich:!0})}))}},_renderDetail:function(a,b,c,d,e){b=a.getModel("detail");var f=+a.get("min"),g=+a.get("max");if(b.get("show")){var h=b.get("offsetCenter");c=e.cx+J(h[0],e.r);h=e.cy+J(h[1],e.r);var k=J(b.get("width"),e.r);e=J(b.get("height"),e.r);a=a.getData();a=a.get(a.mapDimension("value"),0);d=d(ia(a,[f,g],[0,1],!0));this.group.add(new ua({silent:!0,style:Ma({},b,{x:c,y:h,text:Aq(a,b.get("formatter")),textWidth:isNaN(k)?
null:k,textHeight:isNaN(e)?null:e,textAlign:"center",textVerticalAlign:"middle"},{autoColor:d,forceRich:!0})}))}}});cc({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});Gb({type:"title",render:function(a,b,c){this.group.removeAll();
if(a.get("show")){b=this.group;var d=a.getModel("textStyle"),e=a.getModel("subtextStyle"),f=a.get("textAlign"),g=Fa(a.get("textBaseline"),a.get("textVerticalAlign"));d=new ua({style:Ma({},d,{text:a.get("text"),textFill:d.getTextColor()},{disableBox:!0}),z2:10});var h=d.getBoundingRect(),k=a.get("subtext");e=new ua({style:Ma({},e,{text:k,textFill:e.getTextColor(),y:h.height+a.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10});var l=a.get("link"),m=a.get("sublink");h=a.get("triggerEvent",
!0);d.silent=!l&&!h;e.silent=!m&&!h;if(l)d.on("click",function(){Ej(l,"_"+a.get("target"))});if(m)e.on("click",function(){Ej(m,"_"+a.get("subtarget"))});d.eventData=e.eventData=h?{componentType:"title",componentIndex:a.componentIndex}:null;b.add(d);k&&b.add(e);k=b.getBoundingRect();h=a.getBoxLayoutParams();h.width=k.width;h.height=k.height;c=Db(h,{width:c.getWidth(),height:c.getHeight()},a.get("padding"));f||(f=a.get("left")||a.get("right"),"middle"===f&&(f="center"),"right"===f?c.x+=c.width:"center"===
f&&(c.x+=c.width/2));g||(g=a.get("top")||a.get("bottom"),"center"===g&&(g="middle"),"bottom"===g?c.y+=c.height:"middle"===g&&(c.y+=c.height/2),g=g||"top");b.attr("position",[c.x,c.y]);f={textAlign:f,textVerticalAlign:g};d.setStyle(f);e.setStyle(f);k=b.getBoundingRect();c=c.margin;f=a.getItemStyle(["color","opacity"]);f.fill=a.get("backgroundColor");c=new ma({shape:{x:k.x-c[3],y:k.y-c[0],width:k.width+c[1]+c[3],height:k.height+c[0]+c[2],r:a.get("borderRadius")},style:f,subPixelOptimize:!0,silent:!0});
b.add(c)}}});var fy={all:{type:"all",title:N("\u5168\u9009")},inverse:{type:"inverse",title:N("\u53cd\u9009")}},Cs=cc({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(a,b,c){this.mergeDefaultAndTheme(a,c);a.selected=a.selected||{};this._updateSelector(a)},mergeOption:function(a){Cs.superCall(this,"mergeOption",a);this._updateSelector(a)},_updateSelector:function(a){var b=a.selector;!0===b&&(b=a.selector=["all","inverse"]);F(b)&&y(b,function(c,d){ja(c)&&
(c={type:c});b[d]=R(c,fy[c.type])})},optionUpdated:function(){this._updateData(this.ecModel);var a=this._data;if(a[0]&&"single"===this.get("selectedMode")){for(var b=!1,c=0;c<a.length;c++){var d=a[c].get("name");if(this.isSelected(d)){this.select(d);b=!0;break}}!b&&this.select(a[0].get("name"))}},_updateData:function(a){var b=[],c=[];a.eachRawSeries(function(e){c.push(e.name);var f;if(e.legendVisualProvider){var g=e.legendVisualProvider.getAllNames();a.isSeriesFiltered(e)||(c=c.concat(g));g.length?
b=b.concat(g):f=!0}else f=!0;f&&Pi(e)&&b.push(e.name)});this._availableNames=c;var d=this.get("data")||b;this._data=E(d,function(e){if("string"===typeof e||"number"===typeof e)e={name:e};return new ka(e,this,this.ecModel)},this)},getData:function(){return this._data},select:function(a){var b=this.option.selected;"single"===this.get("selectedMode")&&y(this._data,function(c){b[c.get("name")]=!1});b[a]=!0},unSelect:function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},toggleSelected:function(a){var b=
this.option.selected;b.hasOwnProperty(a)||(b[a]=!0);this[b[a]?"unSelect":"select"](a)},allSelect:function(){var a=this.option.selected;y(this._data,function(b){a[b.get("name",!0)]=!0})},inverseSelect:function(){var a=this.option.selected;y(this._data,function(b){b=b.get("name",!0);a.hasOwnProperty(b)||(a[b]=!0);a[b]=!a[b]})},isSelected:function(a){var b=this.option.selected;return!(b.hasOwnProperty(a)&&!b[a])&&0<=ba(this._availableNames,a)},getOrient:function(){return"vertical"===this.get("orient")?
{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",
borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}});ta("legendToggleSelect","legendselectchanged",O(of,"toggleSelected"));ta("legendAllSelect","legendselectall",O(of,"allSelect"));ta("legendInverseSelect","legendinverseselect",O(of,"inverseSelect"));ta("legendSelect","legendselected",O(of,"select"));ta("legendUnSelect","legendunselected",O(of,"unSelect"));var Mh=
P,gy=Gb({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new Mh);this.group.add(this._selectorGroup=new Mh);this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(a,b,c){var d=this._isFirstRender;this._isFirstRender=!1;this.resetInner();if(a.get("show",!0)){var e=a.get("align"),f=a.get("orient");e&&"auto"!==e||(e="right"===a.get("left")&&"vertical"===f?"right":"left");
var g=a.get("selector",!0),h=a.get("selectorPosition",!0);!g||h&&"auto"!==h||(h="horizontal"===f?"end":"start");this.renderInner(e,a,b,c,g,f,h);b=a.getBoxLayoutParams();c={width:c.getWidth(),height:c.getHeight()};f=a.get("padding");var k=Db(b,c,f);d=this.layoutInner(a,e,k,d,g,h);e=Db(T({width:d.width,height:d.height},b),c,f);this.group.attr("position",[e.x-d.x,e.y-d.y]);e=this.group;g=e.add;h=Xe(a.get("padding"));b=a.getItemStyle(["color","opacity"]);b.fill=a.get("backgroundColor");d=new ma({shape:{x:d.x-
h[3],y:d.y-h[0],width:d.width+h[1]+h[3],height:d.height+h[0]+h[2],r:a.get("borderRadius")},style:b,silent:!0,z2:-1});g.call(e,this._backgroundEl=d)}},resetInner:function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl);this.getSelectorGroup().removeAll()},renderInner:function(a,b,c,d,e,f,g){var h=this.getContentGroup(),k=U(),l=b.get("selectedMode"),m=[];c.eachRawSeries(function(n){!n.get("legendHoverLink")&&m.push(n.id)});y(b.getData(),function(n,p){var q=
n.get("name");if(this.newlineDisabled||""!==q&&"\n"!==q){var t=c.getSeriesByName(q)[0];if(!k.get(q)){if(t){var r=t.getData(),u=r.getVisual("color"),v=r.getVisual("borderColor");"function"===typeof u&&(u=u(t.getDataParams(0)));"function"===typeof v&&(v=v(t.getDataParams(0)));var w=r.getVisual("legendSymbol")||"roundRect";r=r.getVisual("symbol");this._createItem(q,p,n,b,w,r,a,u,v,l).on("click",O(Cq,q,null,d,m)).on("mouseover",O(zk,t.name,null,d,m)).on("mouseout",O(yk,t.name,null,d,m));k.set(q,!0)}else c.eachRawSeries(function(x){if(!k.get(q)&&
x.legendVisualProvider){var z=x.legendVisualProvider;if(z.containName(q)){var A=z.indexOfName(q);x=z.getItemVisual(A,"color");z=z.getItemVisual(A,"borderColor");this._createItem(q,p,n,b,"roundRect",null,a,x,z,l).on("click",O(Cq,null,q,d,m)).on("mouseover",O(zk,null,q,d,m)).on("mouseout",O(yk,null,q,d,m));k.set(q,!0)}}},this);D&&(k.get(q)||console.warn(q+" series not exists. Legend data should be same with series name or data name."))}}else h.add(new Mh({newline:!0}))},this);e&&this._createSelector(e,
b,d,f,g)},_createSelector:function(a,b,c,d,e){function f(h){var k=h.type,l=new ua({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){c.dispatchAction({type:"all"===k?"legendAllSelect":"legendInverseSelect"})}});g.add(l);var m=b.getModel("selectorLabel"),n=b.getModel("emphasis.selectorLabel");Td(l.style,l.hoverStyle={},m,n,{defaultText:h.title,isRectText:!1});db(l)}var g=this.getSelectorGroup();y(a,function(h){f(h)})},_createItem:function(a,b,c,d,e,f,g,h,k,l){var m=d.get("itemWidth"),
n=d.get("itemHeight"),p=d.get("inactiveColor"),q=d.get("inactiveBorderColor"),t=d.get("symbolKeepAspect"),r=d.getModel("itemStyle"),u=d.isSelected(a),v=new Mh,w=c.getModel("textStyle"),x=c.get("icon");c=c.getModel("tooltip");var z=c.parentModel;e=x||e;var A=ld(e,0,0,m,n,u?h:p,null==t?!0:t);v.add(Bq(A,e,r,k,q,u));x||!f||f===e&&"none"!==f||(e=.8*n,"none"===f&&(f="circle"),h=ld(f,(m-e)/2,(n-e)/2,e,e,u?h:p,null==t?!0:t),v.add(Bq(h,f,r,k,q,u)));f="left"===g?m+5:-5;k=d.get("formatter");m=a;"string"===typeof k&&
k?m=k.replace("{name}",null!=a?a:""):"function"===typeof k&&(m=k(a));v.add(new ua({style:Ma({},w,{text:m,x:f,y:n/2,textFill:u?w.getTextColor():p,textAlign:g,textVerticalAlign:"middle"})}));d=new ma({shape:v.getBoundingRect(),invisible:!0,tooltip:c.get("show")?S({content:a,formatter:z.get("formatter",!0)||function(){return a},formatterParams:{componentType:"legend",legendIndex:d.componentIndex,name:a,$vars:["name"]}},c.option):null});v.add(d);v.eachChild(function(B){B.silent=!0});d.silent=!l;this.getContentGroup().add(v);
db(v);v.__legendDataIndex=b;return v},layoutInner:function(a,b,c,d,e,f){b=this.getContentGroup();d=this.getSelectorGroup();gd(a.get("orient"),b,a.get("itemGap"),c.width,c.height);c=b.getBoundingRect();var g=[-c.x,-c.y];if(e){gd("horizontal",d,a.get("selectorItemGap",!0));e=d.getBoundingRect();var h=[-e.x,-e.y],k=a.get("selectorButtonGap",!0);a=a.getOrient().index;var l=0===a?"width":"height",m=0===a?"height":"width",n=0===a?"y":"x";"end"===f?h[a]+=c[l]+k:g[a]+=e[l]+k;h[1-a]+=c[m]/2-e[m]/2;d.attr("position",
h);b.attr("position",g);f={x:0,y:0};f[l]=c[l]+k+e[l];f[m]=Math.max(c[m],e[m]);f[n]=Math.min(0,e[n]+h[1-a]);return f}b.attr("position",g);return this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll();this._isFirstRender=!0}});kd(wd.PROCESSOR.SERIES_FILTER,function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.filterSeries(function(c){for(var d=0;d<b.length;d++)if(!b[d].isSelected(c.name))return!1;return!0})});ea.registerSubTypeDefaulter("legend",function(){return"plain"});
var Ds=Cs.extend({type:"legend.scroll",setScrollDataIndex:function(a){this.option.scrollDataIndex=a},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(a,b,c,d){var e=
Yd({},a);Ds.superCall(this,"init",a,b,c,d);Dq(this,a,e)},mergeOption:function(a,b){Ds.superCall(this,"mergeOption",a,b);Dq(this,this.option,a)}}),Es=P,bm=["width","height"],cm=["x","y"],dm=gy.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){dm.superCall(this,"init");this._currentIndex=0;this.group.add(this._containerGroup=new Es);this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new Es)},resetInner:function(){dm.superCall(this,"resetInner");this._controllerGroup.removeAll();
this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null},renderInner:function(a,b,c,d,e,f,g){function h(n,p){var q=n+"DataIndex";p=Ue(b.get("pageIcons",!0)[b.getOrient().name][p],{onclick:H(k._pageGo,k,q,b,d)},{x:-m[0]/2,y:-m[1]/2,width:m[0],height:m[1]});p.name=n;l.add(p)}var k=this;dm.superCall(this,"renderInner",a,b,c,d,e,f,g);var l=this._controllerGroup,m=b.get("pageIconSize",!0);F(m)||(m=[m,m]);h("pagePrev",0);a=b.getModel("pageTextStyle");l.add(new ua({name:"pageText",style:{textFill:a.getTextColor(),
font:a.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0}));h("pageNext",1)},layoutInner:function(a,b,c,d,e,f){b=this.getSelectorGroup();var g=a.getOrient().index,h=bm[g],k=cm[g],l=bm[1-g],m=cm[1-g];e&&gd("horizontal",b,a.get("selectorItemGap",!0));var n=a.get("selectorButtonGap",!0),p=b.getBoundingRect(),q=[-p.x,-p.y],t=N(c);e&&(t[h]=c[h]-p[h]-n);a=this._layoutContentAndController(a,d,t,g,h,l,m);e&&("end"===f?q[g]+=a[h]+n:(e=p[h]+n,q[g]-=e,a[k]-=e),a[h]+=p[h]+n,q[1-g]+=a[m]+a[l]/
2-p[l]/2,a[l]=Math.max(a[l],p[l]),a[m]=Math.min(a[m],p[m]+q[1-g]),b.attr("position",q));return a},_layoutContentAndController:function(a,b,c,d,e,f,g){var h=this.getContentGroup(),k=this._containerGroup,l=this._controllerGroup;gd(a.get("orient"),h,a.get("itemGap"),d?c.width:null,d?null:c.height);gd("horizontal",l,a.get("pageButtonItemGap",!0));var m=h.getBoundingRect(),n=l.getBoundingRect(),p=this._showController=m[e]>c[e],q=[-m.x,-m.y];b||(q[d]=h.position[d]);var t=[0,0],r=[-n.x,-n.y];b=Fa(a.get("pageButtonGap",
!0),a.get("itemGap",!0));p&&("end"===a.get("pageButtonPosition",!0)?r[d]+=c[e]-n[e]:t[d]+=n[e]+b);r[1-d]+=m[f]/2-n[f]/2;h.attr("position",q);k.attr("position",t);l.attr("position",r);q={x:0,y:0};q[e]=p?c[e]:m[e];q[f]=Math.max(m[f],n[f]);q[g]=Math.min(0,n[g]+r[1-d]);k.__rectSize=c[e];p?(d={x:0,y:0},d[e]=Math.max(c[e]-n[e]-b,0),d[f]=q[f],k.setClipPath(new ma({shape:d})),k.__rectSize=d[e]):l.eachChild(function(u){u.attr({invisible:!0,silent:!0})});c=this._getPageInfo(a);null!=c.pageIndex&&oa(h,{position:c.contentPosition},
p?a:!1);this._updatePageInfoView(a,c);return q},_pageGo:function(a,b,c){a=this._getPageInfo(b)[a];null!=a&&c.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:b.id})},_updatePageInfoView:function(a,b){var c=this._controllerGroup;y(["pagePrev","pageNext"],function(h){var k=null!=b[h+"DataIndex"];if(h=c.childOfName(h))h.setStyle("fill",k?a.get("pageIconColor",!0):a.get("pageIconInactiveColor",!0)),h.cursor=k?"pointer":"default"});var d=c.childOfName("pageText"),e=a.get("pageFormatter"),
f=b.pageIndex;f=null!=f?f+1:0;var g=b.pageCount;d&&e&&d.setStyle("text",ja(e)?e.replace("{current}",f).replace("{total}",g):e({current:f,total:g}))},_getPageInfo:function(a){function b(r){if(r){var u=r.getBoundingRect(),v=u[k]+r.position[g];return{s:v,e:v+u[h],i:r.__legendDataIndex}}}function c(r,u){return r.e>=u&&r.s<=u+f}var d=a.get("scrollDataIndex",!0),e=this.getContentGroup(),f=this._containerGroup.__rectSize,g=a.getOrient().index,h=bm[g],k=cm[g];a=this._findTargetItemIndex(d);d=e.children();
var l=d[a],m=d.length,n=m?1:0;e={contentPosition:e.position.slice(),pageCount:n,pageIndex:n-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!l)return e;l=b(l);e.contentPosition[g]=-l.s;n=a+1;for(var p=l,q=l,t=null;n<=m;++n){t=b(d[n]);if(!t&&q.e>p.s+f||t&&!c(t,p.s))if(p=q.i>p.i?q:t)null==e.pageNextDataIndex&&(e.pageNextDataIndex=p.i),++e.pageCount;q=t}n=a-1;q=p=l;for(t=null;-1<=n;--n)t=b(d[n]),t&&c(q,t.s)||!(p.i<q.i)||(q=p,null==e.pagePrevDataIndex&&(e.pagePrevDataIndex=p.i),++e.pageCount,++e.pageIndex),
p=t;return e},_findTargetItemIndex:function(a){if(!this._showController)return 0;var b,c;this.getContentGroup().eachChild(function(d,e){d=d.__legendDataIndex;null==c&&null!=d&&(c=e);d===a&&(b=e)});return null!=b?b:c}});ta("legendScroll","legendscroll",function(a,b){var c=a.scrollDataIndex;null!=c&&b.eachComponent({mainType:"legend",subType:"scroll",query:a},function(d){d.setScrollDataIndex(c)})});var Fs=function(a,b){var c=[],d=a.seriesIndex,e;if(null==d||!(e=b.getSeriesByIndex(d)))return{point:[]};
var f=e.getData();b=Xf(f,a);if(null==b||0>b||F(b))return{point:[]};a=f.getItemGraphicEl(b);d=e.coordinateSystem;e.getTooltipPosition?c=e.getTooltipPosition(b)||[]:d&&d.dataToPoint?c=d.dataToPoint(f.getValues(E(d.dimensions,function(g){return f.mapDimension(g)}),b,!0))||[]:a&&(c=a.getBoundingRect().clone(),c.applyTransform(a.transform),c=[c.x+c.width/2,c.y+c.height/2]);return{point:c,el:a}},Hb=y,Fq=nb();cc({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,
z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",
size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});var fc=nb(),Tv=y,Gs=Gb({type:"axisPointer",render:function(a,b,c){b=b.getComponent("tooltip");var d=a.get("triggerOn")||b&&b.get("triggerOn")||"mousemove|click";Hq("axisPointer",c,function(e,f,g){"none"!==d&&("leave"===e||0<=d.indexOf(e))&&g({type:"updateAxisPointer",currTrigger:e,x:f&&f.offsetX,y:f&&f.offsetY})})},remove:function(a,b){Ak(b.getZr(),"axisPointer");Gs.superApply(this._model,
"remove",arguments)},dispose:function(a,b){Ak("axisPointer",b);Gs.superApply(this._model,"dispose",arguments)}}),nd=nb();pf.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(a,b,c,d){var e=b.get("value"),f=b.get("status");this._axisModel=a;this._axisPointerModel=b;this._api=c;if(d||this._lastValue!==e||this._lastStatus!==f){this._lastValue=e;this._lastStatus=f;d=this._group;var g=this._handle;
f&&"hide"!==f?(d&&d.show(),g&&g.show(),f={},this.makeElOption(f,e,a,b,c),g=f.graphicKey,g!==this._lastGraphicKey&&this.clear(c),this._lastGraphicKey=g,g=this._moveAnimation=this.determineAnimation(a,b),d?(a=O(Jq,b,g),this.updatePointerEl(d,f,a,b),this.updateLabelEl(d,f,a,b)):(d=this._group=new P,this.createPointerEl(d,f,a,b),this.createLabelEl(d,f,a,b),c.getZr().add(d)),Mq(d,b,!0),this._renderHandle(e)):(d&&d.hide(),g&&g.hide())}},remove:function(a){this.clear(a)},dispose:function(a){this.clear(a)},
determineAnimation:function(a,b){var c=b.get("animation"),d=a.axis,e="category"===d.type;b=b.get("snap");return b||e?"auto"===c||null==c?(c=this.animationThreshold,e&&d.getBandWidth()>c?!0:b?(a=ok(a).seriesDataCount,d=d.getExtent(),Math.abs(d[0]-d[1])/a>c):!1):!0===c:!1},makeElOption:function(a,b,c,d,e){},createPointerEl:function(a,b,c,d){if(c=b.pointer)b=nd(a).pointerEl=new xh[c.type](N(b.pointer)),a.add(b)},createLabelEl:function(a,b,c,d){b.label&&(b=nd(a).labelEl=new ma(N(b.label)),a.add(b),Lq(b,
d))},updatePointerEl:function(a,b,c){(a=nd(a).pointerEl)&&b.pointer&&(a.setStyle(b.pointer.style),c(a,{shape:b.pointer.shape}))},updateLabelEl:function(a,b,c,d){if(a=nd(a).labelEl)a.setStyle(b.label.style),c(a,{shape:b.label.shape,position:b.label.position}),Lq(a,d)},_renderHandle:function(a){if(!this._dragging&&this.updateHandleTransform){var b=this._axisPointerModel,c=this._api.getZr(),d=this._handle,e=b.getModel("handle"),f=b.get("status");if(e.get("show")&&f&&"hide"!==f){if(!this._handle){var g=
!0;d=this._handle=Ue(e.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(h){ye(h.event)},onmousedown:H(this._onHandleDragMove,this,0,0),drift:H(this._onHandleDragMove,this),ondragend:H(this._onHandleDragEnd,this)});c.add(d)}Mq(d,b,!1);d.setStyle(e.getItemStyle(null,"color borderColor borderWidth opacity shadowColor shadowBlur shadowOffsetX shadowOffsetY".split(" ")));b=e.get("size");F(b)||(b=[b,b]);d.attr("scale",[b[0]/2,b[1]/2]);Jg(this,"_doDispatchAxisPointer",e.get("throttle")||0,"fixRate");
this._moveHandleToValue(a,g)}else d&&c.remove(d),this._handle=null}},_moveHandleToValue:function(a,b){Jq(this._axisPointerModel,!b&&this._moveAnimation,this._handle,Bk(this.getHandleTransform(a,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(a,b){var c=this._handle;c&&(this._dragging=!0,this._payloadInfo=a=this.updateHandleTransform(Bk(c),[a,b],this._axisModel,this._axisPointerModel),c.stopAnimation(),c.attr(Bk(a)),nd(c).lastProp=null,this._doDispatchAxisPointer())},_doDispatchAxisPointer:function(){if(this._handle){var a=
this._payloadInfo,b=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:a.cursorPoint[0],y:a.cursorPoint[1],tooltipOption:a.tooltipOption,axesInfo:[{axisDim:b.axis.dim,axisIndex:b.componentIndex}]})}},_onHandleDragEnd:function(a){this._dragging=!1;this._handle&&(a=this._axisPointerModel.get("value"),this._moveHandleToValue(a),this._api.dispatchAction({type:"hideTip"}))},getHandleTransform:null,updateHandleTransform:null,clear:function(a){this._lastStatus=this._lastValue=null;a=a.getZr();
var b=this._group,c=this._handle;a&&b&&(this._lastGraphicKey=null,b&&a.remove(b),c&&a.remove(c),this._payloadInfo=this._handle=this._group=null)},doClear:function(){},buildLabel:function(a,b,c){c=c||0;return{x:a[c],y:a[1-c],width:b[c],height:b[1-c]}}};pf.prototype.constructor=pf;Fe(pf);var iy=pf.extend({makeElOption:function(a,b,c,d,e){var f=c.axis,g=f.grid,h=d.get("type"),k=Pq(g,f).getOtherAxis(f).getGlobalExtent(),l=f.toGlobalCoord(f.dataToCoord(b,!0));if(h&&"none"!==h){var m=d.get("type");var n=
d.getModel(m+"Style");if("line"===m){var p=n.getLineStyle();p.fill=null}else"shadow"===m&&(p=n.getAreaStyle(),p.stroke=null);m=p;f=hy[h](f,l,k);f.style=m;a.graphicKey=f.type;a.pointer=f}f=pk(g.model,c);g=zd.innerTextLayout(f.rotation,0,f.labelDirection);f.labelMargin=d.get("label.margin");b=Oq(c.axis,b,f);f=g.textAlign;m=g.textVerticalAlign;g=d.get("value");g=Nq(g,c.axis,c.ecModel,d.get("seriesDataIndices"),{precision:d.get("label.precision"),formatter:d.get("label.formatter")});d=d.getModel("label");
h=Xe(d.get("padding")||0);k=d.getFont();n=Vc(g,k);l=n.width+h[1]+h[3];n=n.height+h[0]+h[2];"right"===f&&(b[0]-=l);"center"===f&&(b[0]-=l/2);"bottom"===m&&(b[1]-=n);"middle"===m&&(b[1]-=n/2);f=e.getWidth();e=e.getHeight();b[0]=Math.min(b[0]+l,f)-l;b[1]=Math.min(b[1]+n,e)-n;b[0]=Math.max(b[0],0);b[1]=Math.max(b[1],0);(e=d.get("backgroundColor"))&&"auto"!==e||(e=c.get("axisLine.lineStyle.color"));a.label={shape:{x:0,y:0,width:l,height:n,r:d.get("borderRadius")},position:b.slice(),style:{text:g,textFont:k,
textFill:d.getTextColor(),textPosition:"inside",textPadding:h,fill:e,stroke:d.get("borderColor")||"transparent",lineWidth:d.get("borderWidth")||0,shadowBlur:d.get("shadowBlur"),shadowColor:d.get("shadowColor"),shadowOffsetX:d.get("shadowOffsetX"),shadowOffsetY:d.get("shadowOffsetY")},z2:10}},getHandleTransform:function(a,b,c){var d=pk(b.axis.grid.model,b,{labelInside:!1});d.labelMargin=c.get("handle.margin");return{position:Oq(b.axis,a,d),rotation:d.rotation+(0>d.labelDirection?Math.PI:0)}},updateHandleTransform:function(a,
b,c,d){d=c.axis;var e=d.grid;c=d.getGlobalExtent(!0);var f=Pq(e,d).getOtherAxis(d).getGlobalExtent();d="x"===d.dim?0:1;e=a.position;e[d]+=b[d];e[d]=Math.min(c[1],e[d]);e[d]=Math.max(c[0],e[d]);b=(f[1]+f[0])/2;b=[b,b];b[d]=e[d];return{position:e,rotation:a.rotation,cursorPoint:b,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][d]}}}),hy={line:function(a,b,c){var d=[b,c[0]];b=[b,c[1]];a=(a="x"===a.dim?0:1)||0;return{type:"Line",subPixelOptimize:!0,shape:{x1:d[a],y1:d[1-a],x2:b[a],y2:b[1-a]}}},
shadow:function(a,b,c){var d=Math.max(1,a.getBandWidth());b=[b-d/2,c[0]];c=[d,c[1]-c[0]];a=(a="x"===a.dim?0:1)||0;return{type:"Rect",shape:{x:b[a],y:b[1-a],width:c[a],height:c[1-a]}}}};Fc.registerAxisPointerClass("CartesianAxisPointer",iy);Fb(function(a){if(a){a.axisPointer&&0!==a.axisPointer.length||(a.axisPointer={});var b=a.axisPointer.link;b&&!F(b)&&(a.axisPointer.link=[b])}});kd(wd.PROCESSOR.STATISTIC,function(a,b){var c=a.getComponent("axisPointer"),d={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},
coordSysMap:{}};uv(d,a,b);d.seriesInvolved&&wv(d,a);c.coordSysAxesInfo=d});ta({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(a,b,c){var d=a.currTrigger,e=[a.x,a.y],f=a.dispatchAction||H(c.dispatchAction,c),g=b.getComponent("axisPointer").coordSysAxesInfo;if(g){Yg(e)&&(e=Fs({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},b).point);var h=Yg(e),k=a.axesInfo,l=g.axesInfo,m="leave"===d||Yg(e),n={},p={};b={list:[],map:{}};var q={showPointer:O(Mv,p),showTooltip:O(Nv,
b)};Hb(g.coordSysMap,function(r,u){var v=h||r.containPoint(e);Hb(g.coordSysAxesInfo[u],function(w,x){x=w.axis;var z;a:{for(z=0;z<(k||[]).length;z++){var A=k[z];if(w.axis.dim===A.axisDim&&w.axis.model.componentIndex===A.axisIndex){z=A;break a}}z=void 0}m||!v||k&&!z||(z=z&&z.value,null!=z||h||(z=x.pointToData(e)),null!=z&&Eq(w,z,q,!1,n))})});var t={};Hb(l,function(r,u){var v=r.linkGroup;v&&!p[u]&&Hb(v.axesInfo,function(w,x){x=p[x];w!==r&&x&&(x=x.value,v.mapper&&(x=r.axis.scale.parse(v.mapper(x,Gq(w),
Gq(r)))),t[r.key]=x)})});Hb(t,function(r,u){Eq(l[u],r,q,!0,n)});Ov(p,l,n);Pv(b,e,a,f);Qv(l,f,c);return n}});cc({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",
axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var Qq=y,$v=Jo,Xv=["","-webkit-","-moz-","-o-"];Dk.prototype={constructor:Dk,_enterable:!0,update:function(a){var b=this._container,c=b.currentStyle||document.defaultView.getComputedStyle(b);b=b.style;"absolute"!==b.position&&"absolute"!==c.position&&(b.position="relative");a.get("alwaysShowContent")&&
this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var a=this._styleCoord[3],b=this._styleCoord[2]*this._zr.getWidth();a*=this._zr.getHeight();this.moveTo(b,a)},show:function(a){clearTimeout(this._hideTimeout);var b=this.el,c=this._styleCoord;b.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+Zv(a)+";left:"+c[0]+"px;top:"+c[1]+"px;"+(a.get("extraCssText")||"");b.style.display=b.innerHTML?"block":"none";b.style.pointerEvents=this._enterable?
"auto":"none";this._show=!0},setContent:function(a){this.el.innerHTML=null==a?"":a},setEnterable:function(a){this._enterable=a},getSize:function(){var a=this.el;return[a.clientWidth,a.clientHeight]},moveTo:function(a,b){var c=this._styleCoord;Rq(c,this._zr,this._appendToBody,a,b);a=this.el.style;a.left=c[0]+"px";a.top=c[1]+"px"},hide:function(){this.el.style.display="none";this._show=!1},hideLater:function(a){!this._show||this._inContent&&this._enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=
setTimeout(H(this.hide,this),a)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var a=this.el.clientWidth,b=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var c=document.defaultView.getComputedStyle(this.el);c&&(a+=parseInt(c.borderLeftWidth,10)+parseInt(c.borderRightWidth,10),b+=parseInt(c.borderTopWidth,10)+parseInt(c.borderBottomWidth,10))}return{width:a,height:b}}};Ek.prototype=
{constructor:Ek,_enterable:!0,update:function(a){a.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var a=this._styleCoord[3],b=this._styleCoord[2]*this._zr.getWidth();a*=this._zr.getHeight();this.moveTo(b,a)},show:function(a){this._hideTimeout&&clearTimeout(this._hideTimeout);this.el.attr("show",!0);this._show=!0},setContent:function(a,b,c){this.el&&this._zr.remove(this.el);for(var d={},e=a,f=e.indexOf("{marker");0<=f;){var g=e.indexOf("|}");f=e.substr(f+7,
g-f-7);-1<f.indexOf("sub")?d["marker"+f]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:b[f],textOffset:[3,0]}:d["marker"+f]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:b[f]};e=e.substr(g+1);f=e.indexOf("{marker")}b=c.getModel("textStyle");e=b.get("fontSize");g=c.get("textLineHeight");null==g&&(g=Math.round(3*e/2));this.el=new ua({style:Ma({},b,{rich:d,text:a,textBackgroundColor:c.get("backgroundColor"),textBorderRadius:c.get("borderRadius"),textFill:c.get("textStyle.color"),
textPadding:c.get("padding"),textLineHeight:g}),z:c.get("z")});this._zr.add(this.el);var h=this;this.el.on("mouseover",function(){h._enterable&&(clearTimeout(h._hideTimeout),h._show=!0);h._inContent=!0});this.el.on("mouseout",function(){h._enterable&&h._show&&h.hideLater(h._hideDelay);h._inContent=!1})},setEnterable:function(a){this._enterable=a},getSize:function(){var a=this.el.getBoundingRect();return[a.width,a.height]},moveTo:function(a,b){if(this.el){var c=this._styleCoord;Sq(c,this._zr,a,b);
this.el.attr("position",[c[0],c[1]])}},hide:function(){this.el&&this.el.hide();this._show=!1},hideLater:function(a){!this._show||this._inContent&&this._enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(H(this.hide,this),a)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout);this.el&&this._zr.remove(this.el)},getOuterSize:function(){var a=this.getSize();return{width:a[0],height:a[1]}}};var Nh=new ma({shape:{x:-1,y:-1,width:2,
height:2}});Gb({type:"tooltip",init:function(a,b){if(!Q.node){a=a.getComponent("tooltip");var c=a.get("renderMode");this._renderMode=sn(c);"html"===this._renderMode?(b=new Dk(b.getDom(),b,{appendToBody:a.get("appendToBody",!0)}),this._newLine="\x3cbr/\x3e"):(b=new Ek(b),this._newLine="\n");this._tooltipContent=b}},render:function(a,b,c){Q.node||(this.group.removeAll(),this._tooltipModel=a,this._ecModel=b,this._api=c,this._lastDataByCoordSys=null,this._alwaysShowContent=a.get("alwaysShowContent"),
b=this._tooltipContent,b.update(a),b.setEnterable(a.get("enterable")),this._initGlobalListener(),this._keepShow())},_initGlobalListener:function(){var a=this._tooltipModel.get("triggerOn");Hq("itemTooltip",this._api,H(function(b,c,d){"none"!==a&&(0<=a.indexOf(b)?this._tryShow(c,d):"leave"===b&&this._hide(d))},this))},_keepShow:function(){var a=this._tooltipModel,b=this._ecModel,c=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==a.get("triggerOn")){var d=this;clearTimeout(this._refreshUpdateTimeout);
this._refreshUpdateTimeout=setTimeout(function(){!c.isDisposed()&&d.manuallyShowTip(a,b,c,{x:d._lastX,y:d._lastY})})}},manuallyShowTip:function(a,b,c,d){if(d.from!==this.uid&&!Q.node){var e=d.dispatchAction||H(c.dispatchAction,c);this._ticket="";var f=d.dataByCoordSys;d.tooltip&&null!=d.x&&null!=d.y?(Nh.position=[d.x,d.y],Nh.update(),Nh.tooltip=d.tooltip,this._tryShow({offsetX:d.x,offsetY:d.y,target:Nh},e)):f?this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,dataByCoordSys:d.dataByCoordSys,
tooltipOption:d.tooltipOption},e):null!=d.seriesIndex?this._manuallyAxisShowTip(a,b,c,d)||(a=Fs(d,b),b=a.point[0],c=a.point[1],null!=b&&null!=c&&this._tryShow({offsetX:b,offsetY:c,position:d.position,target:a.el},e)):null!=d.x&&null!=d.y&&(c.dispatchAction({type:"updateAxisPointer",x:d.x,y:d.y}),this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,target:c.getZr().findHover(d.x,d.y).target},e))}},manuallyHideTip:function(a,b,c,d){a=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&
a.hideLater(this._tooltipModel.get("hideDelay"));this._lastX=this._lastY=null;d.from!==this.uid&&this._hide(d.dispatchAction||H(c.dispatchAction,c))},_manuallyAxisShowTip:function(a,b,c,d){var e=d.seriesIndex,f=d.dataIndex,g=b.getComponent("axisPointer").coordSysAxesInfo;if(null!=e&&null!=f&&null!=g&&(b=b.getSeriesByIndex(e))&&(g=b.getData(),a=Fk([g.getItemModel(f),b,(b.coordinateSystem||{}).model,a]),"axis"===a.get("trigger")))return c.dispatchAction({type:"updateAxisPointer",seriesIndex:e,dataIndex:f,
position:d.position}),!0},_tryShow:function(a,b){var c=a.target;if(this._tooltipModel){this._lastX=a.offsetX;this._lastY=a.offsetY;var d=a.dataByCoordSys;d&&d.length?this._showAxisTooltip(d,a):c&&null!=c.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(a,c,b)):c&&c.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(a,c,b)):(this._lastDataByCoordSys=null,this._hide(b))}},_showOrMove:function(a,b){a=a.get("showDelay");b=H(b,this);clearTimeout(this._showTimout);
0<a?this._showTimout=setTimeout(b,a):b()},_showAxisTooltip:function(a,b){var c=this._ecModel,d=[b.offsetX,b.offsetY],e=[],f=[],g=Fk([b.tooltipOption,this._tooltipModel]),h=this._renderMode,k=this._newLine,l={};y(a,function(n){y(n.dataByAxis,function(p){var q=c.getComponent(p.axisDim+"Axis",p.axisIndex),t=p.value,r=[];if(q&&null!=t){var u=Nq(t,q.axis,c,p.seriesDataIndices,p.valueLabelOpt);y(p.seriesDataIndices,function(v){var w=c.getSeriesByIndex(v.seriesIndex);v=v.dataIndexInside;var x=w&&w.getDataParams(v);
x.axisDim=p.axisDim;x.axisIndex=p.axisIndex;x.axisType=p.axisType;x.axisId=p.axisId;x.axisValue=jk(q.axis,t);x.axisValueLabel=u;x&&(f.push(x),w=w.formatTooltip(v,!0,null,h),M(w)?(v=w.html,R(l,w.markers)):v=w,r.push(v))});"html"!==h?e.push(r.join(k)):e.push((u?Na(u)+k:"")+r.join(k))}})},this);e.reverse();e=e.join(this._newLine+this._newLine);var m=b.position;this._showOrMove(g,function(){this._updateContentNotChangedOnAxis(a)?this._updatePosition(g,m,d[0],d[1],this._tooltipContent,f):this._showTooltipContent(g,
e,f,Math.random(),d[0],d[1],m,void 0,l)})},_showSeriesItemTooltip:function(a,b,c){var d=b.seriesIndex,e=this._ecModel.getSeriesByIndex(d),f=b.dataModel||e,g=b.dataIndex,h=b.dataType;b=f.getData(h);var k=Fk([b.getItemModel(g),f,e&&(e.coordinateSystem||{}).model,this._tooltipModel]);e=k.get("trigger");if(null==e||"item"===e){var l=f.getDataParams(g,h);e=f.formatTooltip(g,!1,h,this._renderMode);if(M(e)){var m=e.html;var n=e.markers}else m=e,n=null;var p="item_"+f.name+"_"+g;this._showOrMove(k,function(){this._showTooltipContent(k,
m,l,p,a.offsetX,a.offsetY,a.position,a.target,n)});c({type:"showTip",dataIndexInside:g,dataIndex:b.getRawIndex(g),seriesIndex:d,from:this.uid})}},_showComponentItemTooltip:function(a,b,c){var d=b.tooltip;"string"===typeof d&&(d={content:d,formatter:d});var e=new ka(d,this._tooltipModel,this._ecModel),f=e.get("content"),g=Math.random();this._showOrMove(e,function(){this._showTooltipContent(e,f,e.get("formatterParams")||{},g,a.offsetX,a.offsetY,a.position,b)});c({type:"showTip",from:this.uid})},_showTooltipContent:function(a,
b,c,d,e,f,g,h,k){this._ticket="";if(a.get("showContent")&&a.get("show")){var l=this._tooltipContent,m=a.get("formatter");g=g||a.get("position");m&&"string"===typeof m?b=Bj(m,c,!0):"function"===typeof m&&(b=H(function(n,p){n===this._ticket&&(l.setContent(p,k,a),this._updatePosition(a,g,e,f,l,c,h))},this),this._ticket=d,b=m(c,d,b));l.setContent(b,k,a);l.show(a);this._updatePosition(a,g,e,f,l,c,h)}},_updatePosition:function(a,b,c,d,e,f,g){var h=this._api.getWidth(),k=this._api.getHeight();b=b||a.get("position");
var l=e.getSize(),m=a.get("align"),n=a.get("verticalAlign"),p=g&&g.getBoundingRect().clone();g&&p.applyTransform(g.transform);"function"===typeof b&&(b=b([c,d],f,e.el,p,{viewSize:[h,k],contentSize:l.slice()}));if(F(b))c=J(b[0],h),d=J(b[1],k);else if(M(b))b.width=l[0],b.height=l[1],m=Db(b,{width:h,height:k}),c=m.x,d=m.y,n=m=null;else{if("string"===typeof b&&g){c=l[0];d=l[1];g=f=0;var q=p.width,t=p.height;switch(b){case "inside":f=p.x+q/2-c/2;g=p.y+t/2-d/2;break;case "top":f=p.x+q/2-c/2;g=p.y-d-5;break;
case "bottom":f=p.x+q/2-c/2;g=p.y+t+5;break;case "left":f=p.x-c-5;g=p.y+t/2-d/2;break;case "right":f=p.x+q+5,g=p.y+t/2-d/2}b=[f,g]}else b=c,p=d,c=m?null:20,d=n?null:20,g=e.getOuterSize(),f=g.width,g=g.height,null!=c&&(b=b+f+c>h?b-(f+c):b+c),null!=d&&(p=p+g+d>k?p-(g+d):p+d),b=[b,p];c=b[0];d=b[1]}m&&(c-="center"===m||"middle"===m?l[0]/2:"right"===m?l[0]:0);n&&(d-="center"===n||"middle"===n?l[1]/2:"bottom"===n?l[1]:0);a.get("confine")&&(a=c,l=d,n=e.getOuterSize(),m=n.width,n=n.height,a=Math.min(a+m,
h)-m,l=Math.min(l+n,k)-n,a=Math.max(a,0),l=Math.max(l,0),b=[a,l],c=b[0],d=b[1]);e.moveTo(c,d)},_updateContentNotChangedOnAxis:function(a){var b=this._lastDataByCoordSys,c=!!b&&b.length===a.length;c&&y(b,function(d,e){d=d.dataByAxis||{};var f=(a[e]||{}).dataByAxis||[];(c&=d.length===f.length)&&y(d,function(g,h){h=f[h]||{};var k=g.seriesDataIndices||[],l=h.seriesDataIndices||[];(c&=g.value===h.value&&g.axisType===h.axisType&&g.axisId===h.axisId&&k.length===l.length)&&y(k,function(m,n){n=l[n];c&=m.seriesIndex===
n.seriesIndex&&m.dataIndex===n.dataIndex})})});this._lastDataByCoordSys=a;return!!c},_hide:function(a){this._lastDataByCoordSys=null;a({type:"hideTip",from:this.uid})},dispose:function(a,b){Q.node||(this._tooltipContent.dispose(),Ak("itemTooltip",b))}});ta({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){});ta({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});var Oh=cc({type:"marker",dependencies:["series","grid","polar","geo"],init:function(a,
b,c){if(D&&"marker"===this.type)throw Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(a,c);this._mergeOption(a,c,!1,!0)},isAnimationEnabled:function(){if(Q.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},mergeOption:function(a,b){this._mergeOption(a,b,!1,!1)},_mergeOption:function(a,b,c,d){var e=this.constructor,f=this.mainType+"Model";c||b.eachSeries(function(g){var h=g.get(this.mainType,
!0),k=g[f];h&&h.data?(k?k._mergeOption(h,b,!0):(d&&Zg(h),y(h.data,function(l){l instanceof Array?(Zg(l[0]),Zg(l[1])):Zg(l)}),k=new e(h,this,b),S(k,{mainType:this.mainType,seriesIndex:g.seriesIndex,name:g.name,createdBySelf:!0}),k.__hostSeries=g),g[f]=k):g[f]=null},this)},formatTooltip:function(a,b,c,d){var e=this.getData();b=this.getRawValue(a);c=F(b)?E(b,Wd).join(", "):Wd(b);a=e.getName(a);e=Na(this.name);d="html"===d?"\x3cbr/\x3e":"\n";if(null!=b||a)e+=d;a&&(e+=Na(a),null!=b&&(e+=" : "));null!=
b&&(e+=Na(c));return e},getData:function(){return this._data},setData:function(a){this._data=a}});fa(Oh,Ll);Oh.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var Uq=ba,Ik={min:O(Gk,"min"),max:O(Gk,"max"),average:O(Gk,"average")},em=Gb({type:"marker",init:function(){this.markerGroupMap=U()},render:function(a,b,c){a=this.markerGroupMap;a.each(function(e){e.__keep=
!1});var d=this.type+"Model";b.eachSeries(function(e){var f=e[d];f&&this.renderSeries(e,f,b,c)},this);a.each(function(e){!e.__keep&&this.group.remove(e.group)},this)},renderSeries:function(){}});em.extend({type:"markPoint",updateTransform:function(a,b,c){b.eachSeries(function(d){var e=d.markPointModel;e&&(Wq(e.getData(),d,c),this.markerGroupMap.get(d.id).updateLayout(e))},this)},renderSeries:function(a,b,c,d){c=a.coordinateSystem;var e=a.id,f=a.getData(),g=this.markerGroupMap;e=g.get(e)||g.set(e,
new qk);var h=aw(c,a,b);b.setData(h);Wq(b.getData(),a,d);h.each(function(k){var l=h.getItemModel(k),m=l.getShallow("symbol"),n=l.getShallow("symbolSize"),p=l.getShallow("symbolRotate"),q=va(m),t=va(n),r=va(p);if(q||t||r){var u=b.getRawValue(k),v=b.getDataParams(k);q&&(m=m(u,v));t&&(n=n(u,v));r&&(p=p(u,v))}h.setItemVisual(k,{symbol:m,symbolSize:n,symbolRotate:p,color:l.get("itemStyle.color")||f.getVisual("color")})});e.updateData(h);this.group.add(e.group);h.eachItemGraphicEl(function(k){k.traverse(function(l){l.dataModel=
b})});e.__keep=!0;e.group.silent=b.get("silent")||a.get("silent")}});Fb(function(a){a.markPoint=a.markPoint||{}});Oh.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});var Hs=tb.prototype,fm=El.prototype,cw=yc({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,
y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(a,b){this[Jk(b)?"_buildPathLine":"_buildPathCurve"](a,b)},_buildPathLine:Hs.buildPath,_buildPathCurve:fm.buildPath,pointAt:function(a){return this[Jk(this.shape)?"_pointAtLine":"_pointAtCurve"](a)},_pointAtLine:Hs.pointAt,_pointAtCurve:fm.pointAt,tangentAt:function(a){var b=this.shape;a=Jk(b)?[b.x2-b.x1,b.y2-b.y1]:this._tangentAtCurve(a);return Mf(a,a)},_tangentAtCurve:fm.tangentAt}),gm=["fromSymbol","toSymbol"],Oc=Lk.prototype;Oc.beforeUpdate=
function(){var a=this.childOfName("fromSymbol"),b=this.childOfName("toSymbol"),c=this.childOfName("label");if(a||b||!c.ignore){for(var d=1,e=this.parent;e;)e.scale&&(d/=e.scale[0]),e=e.parent;var f=this.childOfName("line");if(this.__dirty||f.__dirty){var g=f.shape.percent;e=f.pointAt(0);var h=f.pointAt(g),k=Kf([],h,e);Mf(k,k);if(a){a.attr("position",e);var l=a.__specifiedRotation;null==l?(l=f.tangentAt(0),a.attr("rotation",Math.PI/2-Math.atan2(l[1],l[0]))):a.attr("rotation",l);a.attr("scale",[d*g,
d*g])}b&&(b.attr("position",h),l=b.__specifiedRotation,null==l?(l=f.tangentAt(1),b.attr("rotation",-Math.PI/2-Math.atan2(l[1],l[0]))):b.attr("rotation",l),b.attr("scale",[d*g,d*g]));if(!c.ignore){c.attr("position",h);l=c.__labelDistance;a=l[0]*d;b=l[1]*d;var m=g/2;l=f.tangentAt(m);g=[l[1],-l[0]];f=f.pointAt(m);0<g[1]&&(g[0]=-g[0],g[1]=-g[1]);g=0>l[0]?-1:1;"start"!==c.__position&&"end"!==c.__position&&(m=-Math.atan2(l[1],l[0]),h[0]<e[0]&&(m=Math.PI+m),c.attr("rotation",m));switch(c.__position){case "insideStartTop":case "insideMiddleTop":case "insideEndTop":case "middle":var n=
-b;m="bottom";break;case "insideStartBottom":case "insideMiddleBottom":case "insideEndBottom":n=b;m="top";break;default:n=0,m="middle"}switch(c.__position){case "end":var p=[k[0]*a+h[0],k[1]*b+h[1]];var q=.8<k[0]?"left":-.8>k[0]?"right":"center";m=.8<k[1]?"top":-.8>k[1]?"bottom":"middle";break;case "start":p=[-k[0]*a+e[0],-k[1]*b+e[1]];q=.8<k[0]?"right":-.8>k[0]?"left":"center";m=.8<k[1]?"bottom":-.8>k[1]?"top":"middle";break;case "insideStartTop":case "insideStart":case "insideStartBottom":p=[a*
g+e[0],e[1]+n];q=0>l[0]?"right":"left";var t=[-a*g,-n];break;case "insideMiddleTop":case "insideMiddle":case "insideMiddleBottom":case "middle":p=[f[0],f[1]+n];q="center";t=[0,-n];break;case "insideEndTop":case "insideEnd":case "insideEndBottom":p=[-a*g+h[0],h[1]+n],q=0<=l[0]?"right":"left",t=[a*g,-n]}c.attr({style:{textVerticalAlign:c.__verticalAlign||m,textAlign:c.__textAlign||q},position:p,scale:[d,d],origin:t})}}}};Oc._createLine=function(a,b,c){var d=a.hostModel,e=a.getItemLayout(b);e=bw(e);
e.shape.percent=0;zc(e,{shape:{percent:1}},d,b);this.add(e);d=new ua({name:"label",lineLabelOriginalOpacity:1});this.add(d);y(gm,function(f){var g=Xq(f,a,b);this.add(g);this["_"+f+"Type"]=a.getItemVisual(b,f)},this);this._updateCommonStl(a,b,c)};Oc.updateData=function(a,b,c){var d=a.hostModel,e=this.childOfName("line"),f=a.getItemLayout(b),g={shape:{}};Kk(g.shape,f);oa(e,g,d,b);y(gm,function(h){var k=a.getItemVisual(b,h),l="_"+h+"Type";this[l]!==k&&(this.remove(this.childOfName(h)),h=Xq(h,a,b),this.add(h));
this[l]=k},this);this._updateCommonStl(a,b,c)};Oc._updateCommonStl=function(a,b,c){var d=a.hostModel,e=this.childOfName("line"),f=c&&c.lineStyle,g=c&&c.hoverLineStyle,h=c&&c.labelModel,k=c&&c.hoverLabelModel;if(!c||a.hasItemOption)k=a.getItemModel(b),f=k.getModel("lineStyle").getLineStyle(),g=k.getModel("emphasis.lineStyle").getLineStyle(),h=k.getModel("label"),k=k.getModel("emphasis.label");var l=a.getItemVisual(b,"color"),m=Bd(a.getItemVisual(b,"opacity"),f.opacity,1);e.useStyle(T({strokeNoScale:!0,
fill:"none",stroke:l,opacity:m},f));e.hoverStyle=g;y(gm,function(q){if(q=this.childOfName(q))q.setColor(l),q.setStyle({opacity:m})},this);e=h.getShallow("show");f=k.getShallow("show");g=this.childOfName("label");if(e||f){var n=l||"#000";var p=d.getFormattedLabel(b,"normal",a.dataType);null==p&&(p=d.getRawValue(b),p=null==p?a.getName(b):isFinite(p)?da(p):p)}c=e?p:null;a=f?Fa(d.getFormattedLabel(b,"emphasis",a.dataType),p):null;b=g.style;if(null!=c||null!=a)Ma(g.style,h,{text:c},{autoColor:n}),g.__textAlign=
b.textAlign,g.__verticalAlign=b.textVerticalAlign,g.__position=h.get("position")||"middle",h=h.get("distance"),F(h)||(h=[h,h]),g.__labelDistance=h;g.hoverStyle=null!=a?{text:a,textFill:k.getTextColor(!0),fontStyle:k.getShallow("fontStyle"),fontWeight:k.getShallow("fontWeight"),fontSize:k.getShallow("fontSize"),fontFamily:k.getShallow("fontFamily")}:{text:null};g.ignore=!e&&!f;db(this)};Oc.highlight=function(){this.trigger("emphasis")};Oc.downplay=function(){this.trigger("normal")};Oc.updateLayout=
function(a,b){this.setLinePoints(a.getItemLayout(b))};Oc.setLinePoints=function(a){var b=this.childOfName("line");Kk(b.shape,a);b.dirty()};Ba(Lk,P);var Ad=Yq.prototype;Ad.isPersistent=function(){return!0};Ad.updateData=function(a){var b=this,c=b.group,d=b._lineData;b._lineData=a;d||c.removeAll();var e=Zq(a);a.diff(d).add(function(f){var g=a.getItemLayout(f);Mk(g)&&(g=new b._ctor(a,f,e),a.setItemGraphicEl(f,g),b.group.add(g))}).update(function(f,g){g=d.getItemGraphicEl(g);Mk(a.getItemLayout(f))?(g?
g.updateData(a,f,e):g=new b._ctor(a,f,e),a.setItemGraphicEl(f,g),b.group.add(g)):b.group.remove(g)}).remove(function(f){c.remove(d.getItemGraphicEl(f))}).execute()};Ad.updateLayout=function(){var a=this._lineData;a&&a.eachItemGraphicEl(function(b,c){b.updateLayout(a,c)},this)};Ad.incrementalPrepareUpdate=function(a){this._seriesScope=Zq(a);this._lineData=null;this.group.removeAll()};Ad.incrementalUpdate=function(a,b){function c(f){f.isGroup||f.animators&&0<f.animators.length||(f.incremental=f.useHoverLayer=
!0)}for(var d=a.start;d<a.end;d++){var e=b.getItemLayout(d);Mk(e)&&(e=new this._ctor(b,d,this._seriesScope),e.traverse(c),this.group.add(e),b.setItemGraphicEl(d,e))}};Ad.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};Ad._clearIncremental=function(){var a=this._incremental;a&&a.clearDisplaybles()};var fw=function(a,b,c,d){var e=a.getData(),f=d.type;if(!F(d)&&("min"===f||"max"===f||"average"===f||"median"===f||null!=d.xAxis||null!=d.yAxis)){if(null!=d.yAxis||
null!=d.xAxis)b=b.getAxis(null!=d.yAxis?"y":"x"),e=Ea(d.yAxis,d.xAxis);else{var g=Tq(d,e,b,a);b=g.valueAxis;g=bk(e,g.valueDataDim);e=Hk(e,g,f)}b="x"===b.dim?0:1;var h=1-b;g=N(d);var k={};g.type=null;g.coord=[];k.coord=[];g.coord[h]=-Infinity;k.coord[h]=Infinity;c=c.get("precision");0<=c&&"number"===typeof e&&(e=+e.toFixed(Math.min(c,20)));g.coord[b]=k.coord[b]=e;d=[g,k,{type:f,valueIndex:d.valueIndex,value:e}]}d=[qf(a,d[0]),qf(a,d[1]),S({},d[2])];d[2].type=d[2].type||"";R(d[2],d[0]);R(d[2],d[1]);
return d};em.extend({type:"markLine",updateTransform:function(a,b,c){b.eachSeries(function(d){var e=d.markLineModel;if(e){var f=e.getData(),g=e.__from,h=e.__to;g.each(function(k){Nk(g,k,!0,d,c);Nk(h,k,!1,d,c)});f.each(function(k){f.setItemLayout(k,[g.getItemLayout(k),h.getItemLayout(k)])});this.markerGroupMap.get(d.id).updateLayout()}},this)},renderSeries:function(a,b,c,d){function e(q,t,r){var u=q.getItemModel(t);Nk(q,t,r,a,d);q.setItemVisual(t,{symbolRotate:u.get("symbolRotate"),symbolSize:u.get("symbolSize")||
p[r?0:1],symbol:u.get("symbol",!0)||n[r?0:1],color:u.get("itemStyle.color")||g.getVisual("color")})}c=a.coordinateSystem;var f=a.id,g=a.getData(),h=this.markerGroupMap;f=h.get(f)||h.set(f,new Yq);this.group.add(f.group);c=ew(c,a,b);var k=c.from,l=c.to,m=c.line;b.__from=k;b.__to=l;b.setData(m);var n=b.get("symbol"),p=b.get("symbolSize");F(n)||(n=[n,n]);"number"===typeof p&&(p=[p,p]);c.from.each(function(q){e(k,q,!0);e(l,q,!1)});m.each(function(q){var t=m.getItemModel(q).get("lineStyle.color");m.setItemVisual(q,
{color:t||k.getItemVisual(q,"color")});m.setItemLayout(q,[k.getItemLayout(q),l.getItemLayout(q)]);m.setItemVisual(q,{fromSymbolRotate:k.getItemVisual(q,"symbolRotate"),fromSymbolSize:k.getItemVisual(q,"symbolSize"),fromSymbol:k.getItemVisual(q,"symbol"),toSymbolRotate:l.getItemVisual(q,"symbolRotate"),toSymbolSize:l.getItemVisual(q,"symbolSize"),toSymbol:l.getItemVisual(q,"symbol")})});f.updateData(m);c.line.eachItemGraphicEl(function(q,t){q.traverse(function(r){r.dataModel=b})});f.__keep=!0;f.group.silent=
b.get("silent")||a.get("silent")}});Fb(function(a){a.markLine=a.markLine||{}});Oh.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});var iw=function(a,b,c,d){b=qf(a,d[0]);a=qf(a,d[1]);d=b.coord;c=a.coord;d[0]=Ea(d[0],-Infinity);d[1]=Ea(d[1],-Infinity);c[0]=Ea(c[0],Infinity);c[1]=Ea(c[1],Infinity);d=Uh([{},b,a]);d.coord=[b.coord,a.coord];d.x0=b.x;d.y0=b.y;d.x1=
a.x;d.y1=a.y;return d},hm=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];em.extend({type:"markArea",updateTransform:function(a,b,c){b.eachSeries(function(d){var e=d.markAreaModel;if(e){var f=e.getData();f.each(function(g){var h=E(hm,function(k){return br(f,g,k,d,c)});f.setItemLayout(g,h);f.getItemGraphicEl(g).setShape("points",h)})}},this)},renderSeries:function(a,b,c,d){var e=a.coordinateSystem;c=a.id;var f=a.getData(),g=this.markerGroupMap,h=g.get(c)||g.set(c,{group:new P});this.group.add(h.group);
h.__keep=!0;var k=hw(e,a,b);b.setData(k);k.each(function(l){var m=E(hm,function(p){return br(k,l,p,a,d)}),n=!0;y(hm,function(p){if(n){var q=k.get(p[0],l);p=k.get(p[1],l);(Hc(q)||e.getAxis("x").containData(q))&&(Hc(p)||e.getAxis("y").containData(p))&&(n=!1)}});k.setItemLayout(l,{points:m,allClipped:n});k.setItemVisual(l,{color:f.getVisual("color")})});k.diff(h.__data).add(function(l){var m=k.getItemLayout(l);m.allClipped||(m=new ne({shape:{points:m.points}}),k.setItemGraphicEl(l,m),h.group.add(m))}).update(function(l,
m){m=h.__data.getItemGraphicEl(m);var n=k.getItemLayout(l);n.allClipped?m&&h.group.remove(m):(m?oa(m,{shape:{points:n.points}},b,l):m=new ne({shape:{points:n.points}}),k.setItemGraphicEl(l,m),h.group.add(m))}).remove(function(l){l=h.__data.getItemGraphicEl(l);h.group.remove(l)}).execute();k.eachItemGraphicEl(function(l,m){var n=k.getItemModel(m),p=n.getModel("label"),q=n.getModel("emphasis.label"),t=k.getItemVisual(m,"color");l.useStyle(T(n.getModel("itemStyle").getItemStyle(),{fill:oi(t,.4),stroke:t}));
l.hoverStyle=n.getModel("emphasis.itemStyle").getItemStyle();Td(l.style,l.hoverStyle,p,q,{labelFetcher:b,labelDataIndex:m,defaultText:k.getName(m)||"",isRectText:!0,autoColor:t});db(l,{});l.dataModel=b});h.__data=k;h.group.silent=b.get("silent")||a.get("silent")}});Fb(function(a){a.markArea=a.markArea||{}});ea.registerSubTypeDefaulter("timeline",function(){return"slider"});ta({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(a,b){var c=b.getComponent("timeline");c&&
null!=a.currentIndex&&(c.setCurrentIndex(a.currentIndex),!c.get("loop",!0)&&c.isIndexMax()&&c.setPlayState(!1));b.resetOption("timeline");return T({currentIndex:c.option.currentIndex},a)});ta({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(a,b){(b=b.getComponent("timeline"))&&null!=a.playState&&b.setPlayState(a.playState)});var Is=ea.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",
bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2E3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(a,b,c){this.mergeDefaultAndTheme(a,c);this._initData()},mergeOption:function(a){Is.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(a){null==a&&(a=this.option.currentIndex);var b=this._data.count();this.option.loop?a=(a%b+b)%b:(a>=b&&(a=b-1),0>a&&(a=0));this.option.currentIndex=a},getCurrentIndex:function(){return this.option.currentIndex},
isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(a){this.option.autoPlay=!!a},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var a=this.option,b=a.data||[];a=a.axisType;var c=this._names=[];if("category"===a){var d=[];y(b,function(e,f){var g=De(e);M(e)?(e=N(e),e.value=f):e=f;d.push(e);ja(g)||null!=g&&!isNaN(g)||(g="");c.push(g+"")});b=d}(this._data=new Ya([{name:"value",type:{category:"ordinal",time:"time"}[a]||"number"}],
this)).initData(b,c)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}}),jy=Is.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",
borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",
stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",
prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},
data:[]}});fa(jy,Ll);var ky=Eb.extend({type:"timeline"}),Ph=function(a,b,c,d){xd.call(this,a,b,c);this.type=d||"value";this.model=null};Ph.prototype={constructor:Ph,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}};Ba(Ph,xd);var im=Math.PI;ky.extend({type:"timeline.slider",init:function(a,b){this.api=b},render:function(a,b,c,d){this.model=a;this.api=c;this.ecModel=b;this.group.removeAll();if(a.get("show",!0)){var e=
this._layout(a,c),f=this._createGroup("mainGroup");b=this._createGroup("labelGroup");var g=this._axis=this._createAxis(e,a);a.formatTooltip=function(h){return Na(g.scale.getLabel(h))};y(["AxisLine","AxisTick","Control","CurrentPointer"],function(h){this["_render"+h](e,f,g,a)},this);this._renderAxisLabel(e,b,g,a);this._position(e,a)}this._doPlayStop()},remove:function(){this._clearTimer();this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(a,b){var c=a.get("label.position"),
d=a.get("orient");var e=Db(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()},a.get("padding"));null==c||"auto"===c?c="horizontal"===d?e.y+e.height/2<b.getHeight()/2?"-":"+":e.x+e.width/2<b.getWidth()/2?"+":"-":isNaN(c)&&(c={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[d][c]);b={horizontal:"center",vertical:0<=c||"+"===c?"left":"right"};var f={horizontal:0<=c||"+"===c?"top":"bottom",vertical:"middle"},g={horizontal:0,vertical:im/2},h="vertical"===d?e.height:e.width,
k=a.getModel("controlStyle"),l=k.get("show",!0),m=l?k.get("itemSize"):0,n=l?k.get("itemGap"):0,p=m+n,q=a.get("label.rotate")||0;q=q*im/180;var t,r,u,v=k.get("position",!0),w=l&&k.get("showPlayBtn",!0),x=l&&k.get("showPrevBtn",!0);k=l&&k.get("showNextBtn",!0);l=0;var z=h;"left"===v||"bottom"===v?(w&&(t=[0,0],l+=p),x&&(r=[l,0],l+=p)):(w&&(t=[z-m,0],z-=p),x&&(r=[0,0],l+=p));k&&(u=[z-m,0],z-=p);p=[l,z];a.get("inverse")&&p.reverse();return{viewRect:e,mainLength:h,orient:d,rotation:g[d],labelRotation:q,
labelPosOpt:c,labelAlign:a.get("label.align")||b[d],labelBaseline:a.get("label.verticalAlign")||a.get("label.baseline")||f[d],playPosition:t,prevBtnPosition:r,nextBtnPosition:u,axisExtent:p,controlSize:m,controlGap:n}},_position:function(a,b){function c(p){var q=p.position;p.origin=[m[0][0]-q[0],m[1][0]-q[1]]}function d(p){return[[p.x,p.x+p.width],[p.y,p.y+p.height]]}function e(p,q,t,r,u){p[r]+=t[r][u]-q[r][u]}b=this._mainGroup;var f=this._labelGroup,g=a.viewRect;if("vertical"===a.orient){var h=hc(),
k=g.x,l=g.y+g.height;Dd(h,h,[-k,-l]);Ae(h,h,-im/2);Dd(h,h,[k,l]);g=g.clone();g.applyTransform(h)}var m=d(g);g=d(b.getBoundingRect());h=d(f.getBoundingRect());k=b.position;l=f.position;l[0]=k[0]=m[0][0];var n=a.labelPosOpt;isNaN(n)?(n="+"===n?0:1,e(k,g,m,1,n),e(l,h,m,1,1-n)):(e(k,g,m,1,0<=n?0:1),l[1]=k[1]+n);b.attr("position",k);f.attr("position",l);b.rotation=f.rotation=a.rotation;c(b);c(f)},_createAxis:function(a,b){var c=b.getData(),d=b.get("axisType"),e=hk(b,d);e.getTicks=function(){return c.mapArray(["value"],
function(g){return g})};var f=c.getDataExtent("value");e.setExtent(f[0],f[1]);e.niceTicks();a=new Ph("value",e,a.axisExtent,d);a.model=b;return a},_createGroup:function(a){a=this["_"+a]=new P;this.group.add(a);return a},_renderAxisLine:function(a,b,c,d){a=c.getExtent();d.get("lineStyle.show")&&b.add(new tb({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:S({lineCap:"round"},d.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(a,b,c,d){var e=d.getData();a=c.scale.getTicks();
y(a,function(f){var g=c.dataToCoord(f),h=e.getItemModel(f),k=h.getModel("itemStyle"),l=h.getModel("emphasis.itemStyle");g={position:[g,0],onclick:H(this._changeTimeline,this,f)};k=dr(h,k,b,g);db(k,l.getItemStyle());h.get("tooltip")?(k.dataIndex=f,k.dataModel=d):k.dataIndex=k.dataModel=null},this)},_renderAxisLabel:function(a,b,c,d){if(c.getLabelModel().get("show")){var e=d.getData();d=c.getViewLabels();y(d,function(f){var g=f.tickValue,h=e.getItemModel(g),k=h.getModel("label");h=h.getModel("emphasis.label");
var l=c.dataToCoord(f.tickValue);g=new ua({position:[l,0],rotation:a.labelRotation-a.rotation,onclick:H(this._changeTimeline,this,g),silent:!1});Ma(g.style,k,{text:f.formattedLabel,textAlign:a.labelAlign,textVerticalAlign:a.labelBaseline});b.add(g);db(g,Ma({},h))},this)}},_renderControl:function(a,b,c,d){function e(n,p,q,t){if(n){var r=l;q={position:n,origin:[f/2,0],rotation:t?-g:0,rectHover:!0,style:h,onclick:q};n=q.style;p=Ue(d.get(p),q||{},new aa(r[0],r[1],r[2],r[3]));n&&p.setStyle(n);b.add(p);
db(p,k)}}var f=a.controlSize,g=a.rotation,h=d.getModel("controlStyle").getItemStyle(),k=d.getModel("emphasis.controlStyle").getItemStyle(),l=[0,-f/2,f,f];c=d.getPlayState();var m=d.get("inverse",!0);e(a.nextBtnPosition,"controlStyle.nextIcon",H(this._changeTimeline,this,m?"-":"+"));e(a.prevBtnPosition,"controlStyle.prevIcon",H(this._changeTimeline,this,m?"+":"-"));e(a.playPosition,"controlStyle."+(c?"stopIcon":"playIcon"),H(this._handlePlayClick,this,!c),!0)},_renderCurrentPointer:function(a,b,c,
d){a=d.getData();var e=d.getCurrentIndex();a=a.getItemModel(e).getModel("checkpointStyle");var f=this;this._currentPointer=dr(a,a,this._mainGroup,{},this._currentPointer,{onCreate:function(g){g.draggable=!0;g.drift=H(f._handlePointerDrag,f);g.ondragend=H(f._handlePointerDragend,f);er(g,e,c,d,!0)},onUpdate:function(g){er(g,e,c,d)}})},_handlePlayClick:function(a){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},_handlePointerDrag:function(a,b,c){this._clearTimer();
this._pointerChangeTimeline([c.offsetX,c.offsetY])},_handlePointerDragend:function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},_pointerChangeTimeline:function(a,b){a=this._toAxisCoord(a)[0];var c=fd(this._axis.getExtent().slice());a>c[1]&&(a=c[1]);a<c[0]&&(a=c[0]);this._currentPointer.position[0]=a;this._currentPointer.dirty();a=this._findNearestTick(a);c=this.model;(b||a!==c.getCurrentIndex()&&c.get("realtime"))&&this._changeTimeline(a)},_doPlayStop:function(){function a(){var b=this.model;
this._changeTimeline(b.getCurrentIndex()+(b.get("rewind",!0)?-1:1))}this._clearTimer();this.model.getPlayState()&&(this._timer=setTimeout(H(a,this),this.model.get("playInterval")))},_toAxisCoord:function(a){var b=this._mainGroup.getLocalTransform();return Ud(a,b,!0)},_findNearestTick:function(a){var b=this.model.getData(),c=Infinity,d,e=this._axis;b.each(["value"],function(f,g){f=e.dataToCoord(f);f=Math.abs(f-a);f<c&&(c=f,d=g)});return d},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),
this._timer=null)},_changeTimeline:function(a){var b=this.model.getCurrentIndex();"+"===a?a=b+1:"-"===a&&(a=b-1);this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})}});Fb(function(a){a=a&&a.timeline;F(a)||(a=a?[a]:[]);y(a,function(b){b&&jw(b)})});ea.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var ly=["cartesian2d","polar","singleAxis"],Pc=function(a,b){a=a.slice();var c=E(a,Dj);b=(b||[]).slice();var d=E(b,Dj);return function(e,f){y(a,function(g,h){h={name:g,
capital:c[h]};for(var k=0;k<b.length;k++)h[b[k]]=g+d[k];e.call(f,h)})}}("x y z radius angle single".split(" "),["axisIndex","axis","index","id"]),bh=function(a,b,c,d,e,f){a=a||0;var g=c[1]-c[0];null!=e&&(e=je(e,[0,g]));null!=f&&(f=Math.max(f,null!=e?e:0));"all"===d&&(d=Math.abs(b[1]-b[0]),d=je(d,[0,g]),e=f=je(d,[e,f]),d=0);b[0]=je(b[0],c);b[1]=je(b[1],c);g=Ok(b,d);b[d]+=a;a=e||0;c=c.slice();0>g.sign?c[0]+=a:c[1]-=a;b[d]=je(b[d],c);c=Ok(b,d);null!=e&&(c.sign!==g.sign||c.span<e)&&(b[1-d]=b[d]+g.sign*
e);c=Ok(b,d);null!=f&&c.span>f&&(b[1-d]=b[d]+c.sign*f);return b},od=y,jm=function(a,b,c,d){this._dimName=a;this._axisIndex=b;this.ecModel=d;this._dataZoomModel=c};jm.prototype={constructor:jm,hostedBy:function(a){return this._dataZoomModel===a},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var a=[],b=this.ecModel;b.eachSeries(function(c){if(0<=ba(ly,c.get("coordinateSystem"))){var d=
this._dimName;d=b.queryComponents({mainType:d+"Axis",index:c.get(d+"AxisIndex"),id:c.get(d+"AxisId")})[0];this._axisIndex===(d&&d.componentIndex)&&a.push(c)}},this);return a},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var a=this._dimName,b=this.ecModel,c=this.getAxisModel();if("x"===a||"y"===a){var d="gridIndex";a="x"===a?"y":"x"}else d="polarIndex",a="angle"===a?"radius":"angle";var e;b.eachComponent(a+"Axis",function(f){(f.get(d)||
0)===(c.get(d)||0)&&(e=f)});return e},getMinMaxSpan:function(){return N(this._minMaxSpan)},calculateDataWindow:function(a){function b(m,n,p,q,t){var r=t?"Span":"ValueSpan";bh(0,m,p,"all",l["min"+r],l["max"+r]);for(r=0;2>r;r++)n[r]=ia(m[r],p,q,!0),t&&(n[r]=d.parse(n[r]))}var c=this._dataExtent,d=this.getAxisModel().axis.scale,e=this._dataZoomModel.getRangePropMode(),f=[0,100],g=[],h=[],k;od(["start","end"],function(m,n){var p=a[m];m=a[m+"Value"];"percent"===e[n]?(null==p&&(p=f[n]),m=d.parse(ia(p,f,
c))):(k=!0,m=null==m?c[n]:d.parse(m),p=ia(m,c,f));h[n]=m;g[n]=p});fd(h);fd(g);var l=this._minMaxSpan;k?b(h,g,c,f,!1):b(g,h,f,c,!0);return{valueWindow:h,percentWindow:g}},reset:function(a){if(a===this._dataZoomModel){var b=this.getTargetSeriesModels();this._dataExtent=lw(this,this._dimName,b);nw(this);a=this.calculateDataWindow(a.settledOption);this._valueWindow=a.valueWindow;this._percentWindow=a.percentWindow;fr(this)}},restore:function(a){a===this._dataZoomModel&&(this._valueWindow=this._percentWindow=
null,fr(this,!0))},filterData:function(a,b){if(a===this._dataZoomModel){var c=this._dimName;b=this.getTargetSeriesModels();var d=a.get("filterMode"),e=this._valueWindow;"none"!==d&&od(b,function(f){var g=f.getData(),h=g.mapDimension(c,!0);h.length&&("weakFilter"===d?g.filterSelf(function(k){for(var l,m,n,p=0;p<h.length;p++){var q=g.get(h[p],k),t=!isNaN(q),r=q<e[0];q=q>e[1];if(t&&!r&&!q)return!0;t&&(n=!0);r&&(l=!0);q&&(m=!0)}return n&&l&&m}):od(h,function(k){if("empty"===d)f.setData(g=g.map(k,function(m){return m>=
e[0]&&m<=e[1]?m:NaN}));else{var l={};l[k]=e;g.selectRange(l)}}),od(h,function(k){g.setApproximateExtent(e,k)}))})}}};var pd=y,Js=cc({type:"dataZoom",dependencies:"xAxis yAxis zAxis radiusAxis angleAxis singleAxis series".split(" "),defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(a,b,c){this._dataIntervalByAxis=
{};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=!0;this._rangePropMode=["percent","percent"];this.settledOption=b=gr(a);this.mergeDefaultAndTheme(a,c);this.doInit(b)},mergeOption:function(a){var b=gr(a);R(this.option,a,!0);R(this.settledOption,b,!0);this.doInit(b)},doInit:function(a){var b=this.option;Q.canvasSupported||(b.realtime=!1);this._setDefaultThrottle(a);hr(this,a);var c=this.settledOption;pd([["start","startValue"],["end","endValue"]],function(d,e){"value"===
this._rangePropMode[e]&&(b[d[0]]=c[d[0]]=null)},this);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(b,c,d,e){d=this.dependentModels[b.axis][c];e=d.__dzAxisProxy||(d.__dzAxisProxy=new jm(b.name,c,this,e));a[b.name+"_"+c]=e},this)},_resetTarget:function(){var a=this.option,b=this._judgeAutoMode();Pc(function(c){c=c.axisIndex;a[c]=Ua(a[c])},this);"axisIndex"===b?this._autoSetAxisIndex():
"orient"===b&&this._autoSetOrient()},_judgeAutoMode:function(){var a=this.option,b=!1;Pc(function(d){null!=a[d.axisIndex]&&(b=!0)},this);var c=a.orient;if(null==c&&b)return"orient";if(!b)return null==c&&(a.orient="horizontal"),"axisIndex"},_autoSetAxisIndex:function(){var a=!0,b=this.get("orient",!0),c=this.option,d=this.dependentModels;if(a){var e="vertical"===b?"y":"x";d[e+"Axis"].length?(c[e+"AxisIndex"]=[0],a=!1):pd(d.singleAxis,function(f){a&&f.get("orient",!0)===b&&(c.singleAxisIndex=[f.componentIndex],
a=!1)})}a&&Pc(function(f){if(a){var g=[],h=this.dependentModels[f.axis];if(h.length&&!g.length)for(var k=0,l=h.length;k<l;k++)"category"===h[k].get("type")&&g.push(k);c[f.axisIndex]=g;g.length&&(a=!1)}},this);a&&this.ecModel.eachSeries(function(f){this._isSeriesHasAllAxesTypeOf(f,"value")&&Pc(function(g){var h=c[g.axisIndex],k=f.get(g.axisIndex),l=f.get(g.axisId),m=f.ecModel.queryComponents({mainType:g.axis,index:k,id:l})[0];if(D&&!m)throw Error(g.axis+' "'+Ea(k,l,0)+'" not found');k=m.componentIndex;
0>ba(h,k)&&h.push(k)})},this)},_autoSetOrient:function(){var a;this.eachTargetAxis(function(b){!a&&(a=b.name)},this);this.option.orient="y"===a?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(a,b){var c=!0;Pc(function(d){var e=a.get(d.axisIndex);(d=this.dependentModels[d.axis][e])&&d.get("type")===b||(c=!1)},this);return c},_setDefaultThrottle:function(a){a.hasOwnProperty("throttle")&&(this._autoThrottle=!1);this._autoThrottle&&(a=this.ecModel.option,this.option.throttle=a.animation&&
0<a.animationDurationUpdate?100:20)},getFirstTargetAxisModel:function(){var a;Pc(function(b){if(null==a){var c=this.get(b.axisIndex);c.length&&(a=this.dependentModels[b.axis][c[0]])}},this);return a},eachTargetAxis:function(a,b){var c=this.ecModel;Pc(function(d){pd(this.get(d.axisIndex),function(e){a.call(b,d,e,this,c)},this)},this)},getAxisProxy:function(a,b){return this._axisProxies[a+"_"+b]},getAxisModel:function(a,b){return(a=this.getAxisProxy(a,b))&&a.getAxisModel()},setRawRange:function(a){var b=
this.option,c=this.settledOption;pd([["start","startValue"],["end","endValue"]],function(d){if(null!=a[d[0]]||null!=a[d[1]])b[d[0]]=c[d[0]]=a[d[0]],b[d[1]]=c[d[1]]=a[d[1]]},this);hr(this,a)},setCalculatedRange:function(a){var b=this.option;pd(["start","startValue","end","endValue"],function(c){b[c]=a[c]})},getPercentRange:function(){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataPercentWindow()},getValueRange:function(a,b){if(null==a&&null==b){if(a=this.findRepresentativeAxisProxy())return a.getDataValueWindow()}else return this.getAxisProxy(a,
b).getDataValueWindow()},findRepresentativeAxisProxy:function(a){if(a)return a.__dzAxisProxy;a=this._axisProxies;for(var b in a)if(a.hasOwnProperty(b)&&a[b].hostedBy(this))return a[b];for(b in a)if(a.hasOwnProperty(b)&&!a[b].hostedBy(this))return a[b]},getRangePropMode:function(){return this._rangePropMode.slice()}}),Ks=Eb.extend({type:"dataZoom",render:function(a,b,c,d){this.dataZoomModel=a;this.ecModel=b;this.api=c},getTargetCoordInfo:function(){var a=this.ecModel,b={};this.dataZoomModel.eachTargetAxis(function(c,
d){if(c=a.getComponent(c.axis,d))if(d=c.getCoordSysModel()){for(var e=b[d.mainType]||(b[d.mainType]=[]),f,g=0;g<e.length;g++)if(e[g].model===d){f=e[g];break}f||e.push(f={model:d,axisModels:[],coordIndex:d.componentIndex});f.axisModels.push(c)}},this);return b}});Js.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},
areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});var Qh=ma,my=["line","bar","candlestick","scatter"],km=Ks.extend({type:"dataZoom.slider",
init:function(a,b){this._displayables={};this.api=b},render:function(a,b,c,d){km.superApply(this,"render",arguments);Jg(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate");this._orient=a.get("orient");!1===this.dataZoomModel.get("show")?this.group.removeAll():(d&&"dataZoom"===d.type&&d.from===this.uid||this._buildView(),this._updateView())},remove:function(){km.superApply(this,"remove",arguments);gp(this,"_dispatchZoomAction")},dispose:function(){km.superApply(this,"dispose",
arguments);gp(this,"_dispatchZoomAction")},_buildView:function(){var a=this.group;a.removeAll();this._resetLocation();this._resetInterval();var b=this._displayables.barGroup=new P;this._renderBackground();this._renderHandle();this._renderDataShadow();a.add(b);this._positionGroup()},_resetLocation:function(){var a=this.dataZoomModel,b=this.api,c=this._findCoordRect();b={width:b.getWidth(),height:b.getHeight()};var d="horizontal"===this._orient?{right:b.width-c.x-c.width,top:b.height-30-7,width:c.width,
height:30}:{right:7,top:c.y,width:30,height:c.height},e=Yd({},a.option);y(["right","top","width","height"],function(f){"ph"===e[f]&&(e[f]=d[f])});a=Db(e,b,a.padding);this._location={x:a.x,y:a.y};this._size=[a.width,a.height];"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var a=this.group,b=this._location,c=this._orient,d=this.dataZoomModel.getFirstTargetAxisModel();d=d&&d.get("inverse");var e=this._displayables.barGroup,f=(this._dataShadowInfo||{}).otherAxisInverse;e.attr("horizontal"!==
c||d?"horizontal"===c&&d?{scale:f?[-1,1]:[-1,-1]}:"vertical"!==c||d?{scale:f?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:f?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:f?[1,1]:[1,-1]});c=a.getBoundingRect([e]);a.attr("position",[b.x-c.x,b.y-c.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var a=this._size,b=this._displayables.barGroup;b.add(new Qh({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:this.dataZoomModel.get("backgroundColor")},z2:-40}));b.add(new Qh({shape:{x:0,
y:0,width:a[0],height:a[1]},style:{fill:"transparent"},z2:0,onclick:H(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var a=this._dataShadowInfo=this._prepareDataShadowInfo();if(a){var b=this._size,c=a.series,d=c.getRawData();a=c.getShadowDim?c.getShadowDim():a.otherDim;if(null!=a){var e=d.getDataExtent(a);c=.3*(e[1]-e[0]);e=[e[0]-c,e[1]+c];var f=[0,b[1]],g=[[b[0],0],[0,0]],h=[],k=b[0]/(d.count()-1),l=0,m=Math.round(d.count()/b[0]),n;d.each([a],function(p,q){if(0<m&&q%m)l+=k;else{var t=
null==p||isNaN(p)||""===p;p=t?0:ia(p,e,f,!0);t&&!n&&q?(g.push([g[g.length-1][0],0]),h.push([h[h.length-1][0],0])):!t&&n&&(g.push([l,0]),h.push([l,0]));g.push([l,p]);h.push([l,p]);l+=k;n=t}});b=this.dataZoomModel;this._displayables.barGroup.add(new ne({shape:{points:g},style:T({fill:b.get("dataBackgroundColor")},b.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20}));this._displayables.barGroup.add(new nf({shape:{points:h},style:b.getModel("dataBackground.lineStyle").getLineStyle(),
silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var a=this.dataZoomModel,b=a.get("showDataShadow");if(!1!==b){var c,d=this.ecModel;a.eachTargetAxis(function(e,f){var g=a.getAxisProxy(e.name,f).getTargetSeriesModels();y(g,function(h){if(!(c||!0!==b&&0>ba(my,h.get("type")))){var k=d.getComponent(e.axis,f).axis;var l={x:"y",y:"x",radius:"angle",angle:"radius"}[e.name];var m=h.coordinateSystem;if(null!=l&&m.getOtherAxis)var n=m.getOtherAxis(k).inverse;l=h.getData().mapDimension(l);c={thisAxis:k,
series:h,thisDim:e.name,otherDim:l,otherAxisInverse:n}}},this)},this);return c}},_renderHandle:function(){var a=this._displayables,b=a.handles=[],c=a.handleLabels=[],d=this._displayables.barGroup,e=this._size,f=this.dataZoomModel;d.add(a.filler=new Qh({draggable:!0,cursor:ir(this._orient),drift:H(this._onDragMove,this,"all"),ondragstart:H(this._showDataInfo,this,!0),ondragend:H(this._onDragEnd,this),onmouseover:H(this._showDataInfo,this,!0),onmouseout:H(this._showDataInfo,this,!1),style:{fill:f.get("fillerColor"),
textPosition:"inside"}}));d.add(new Qh({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{stroke:f.get("dataBackgroundColor")||f.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}}));y([0,1],function(g){var h=Ue(f.get("handleIcon"),{cursor:ir(this._orient),draggable:!0,drift:H(this._onDragMove,this,g),ondragend:H(this._onDragEnd,this),onmouseover:H(this._showDataInfo,this,!0),onmouseout:H(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),k=h.getBoundingRect();this._handleHeight=
J(f.get("handleSize"),this._size[1]);this._handleWidth=k.width/k.height*this._handleHeight;h.setStyle(f.getModel("handleStyle").getItemStyle());k=f.get("handleColor");null!=k&&(h.style.fill=k);d.add(b[g]=h);h=f.textStyleModel;this.group.add(c[g]=new ua({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:h.getTextColor(),textFont:h.getFont()},z2:10}))},this)},_resetInterval:function(){var a=this._range=this.dataZoomModel.getPercentRange(),b=this._getViewExtent();
this._handleEnds=[ia(a[0],[0,100],b,!0),ia(a[1],[0,100],b,!0)]},_updateInterval:function(a,b){var c=this.dataZoomModel,d=this._handleEnds,e=this._getViewExtent(),f=c.findRepresentativeAxisProxy().getMinMaxSpan(),g=[0,100];bh(b,d,e,c.get("zoomLock")?"all":a,null!=f.minSpan?ia(f.minSpan,g,e,!0):null,null!=f.maxSpan?ia(f.maxSpan,g,e,!0):null);a=this._range;d=this._range=fd([ia(d[0],e,g,!0),ia(d[1],e,g,!0)]);return!a||a[0]!==d[0]||a[1]!==d[1]},_updateView:function(a){var b=this._displayables,c=this._handleEnds,
d=fd(c.slice()),e=this._size;y([0,1],function(f){var g=this._handleHeight;b.handles[f].attr({scale:[g/2,g/2],position:[c[f],e[1]/2-g/2]})},this);b.filler.setShape({x:d[0],y:0,width:d[1]-d[0],height:e[1]});this._updateDataInfo(a)},_updateDataInfo:function(a){function b(m){var n=xg(d.handles[m].parent,this.group),p=vj(0===m?"right":"left",n),q=this._handleWidth/2+5;n=Ud([l[m]+(0===m?-q:q),this._size[1]/2],n);e[m].setStyle({x:n[0],y:n[1],textVerticalAlign:"horizontal"===f?"middle":p,textAlign:"horizontal"===
f?p:"center",text:g[m]})}var c=this.dataZoomModel,d=this._displayables,e=d.handleLabels,f=this._orient,g=["",""];if(c.get("showDetail")){var h=c.findRepresentativeAxisProxy();if(h){c=h.getAxisModel().axis;var k=this._range;a=a?h.calculateDataWindow({start:k[0],end:k[1]}).valueWindow:h.getDataValueWindow();g=[this._formatLabel(a[0],c),this._formatLabel(a[1],c)]}}var l=fd(this._handleEnds.slice());b.call(this,0);b.call(this,1)},_formatLabel:function(a,b){var c=this.dataZoomModel,d=c.get("labelFormatter");
c=c.get("labelPrecision");if(null==c||"auto"===c)c=b.getPixelPrecision();b=null==a||isNaN(a)?"":"category"===b.type||"time"===b.type?b.scale.getLabel(Math.round(a)):a.toFixed(Math.min(c,20));return va(d)?d(a,b):ja(d)?d.replace("{value}",b):b},_showDataInfo:function(a){a=this._dragging||a;var b=this._displayables.handleLabels;b[0].attr("invisible",!a);b[1].attr("invisible",!a)},_onDragMove:function(a,b,c,d){this._dragging=!0;ye(d.event);d=this._displayables.barGroup.getLocalTransform();b=Ud([b,c],
d,!0);a=this._updateInterval(a,b[0]);b=this.dataZoomModel.get("realtime");this._updateView(!b);a&&b&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1;this._showDataInfo(!1);!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(a){var b=this._size;a=this._displayables.barGroup.transformCoordToLocal(a.offsetX,a.offsetY);0>a[0]||a[0]>b[0]||0>a[1]||a[1]>b[1]||(b=this._handleEnds,b=this._updateInterval("all",a[0]-(b[0]+b[1])/2),this._updateView(),
b&&this._dispatchZoomAction())},_dispatchZoomAction:function(){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})},_findCoordRect:function(){y(this.getTargetCoordInfo(),function(d){!c&&d.length&&(d=d[0].model.coordinateSystem,c=d.getRect&&d.getRect())});if(!c){var a=this.api.getWidth(),b=this.api.getHeight();var c={x:.2*a,y:.2*b,width:.6*a,height:.6*b}}return c}});kd({getTargetSeries:function(a){var b=U();a.eachComponent("dataZoom",
function(c){c.eachTargetAxis(function(d,e,f){d=f.getAxisProxy(d.name,e);y(d.getTargetSeriesModels(),function(g){b.set(g.uid,g)})})});return b},modifyOutputEnd:!0,overallReset:function(a,b){a.eachComponent("dataZoom",function(c){c.eachTargetAxis(function(d,e,f){f.getAxisProxy(d.name,e).reset(f,b)});c.eachTargetAxis(function(d,e,f){f.getAxisProxy(d.name,e).filterData(f,b)})});a.eachComponent("dataZoom",function(c){var d=c.findRepresentativeAxisProxy(),e=d.getDataPercentWindow();d=d.getDataValueWindow();
c.setCalculatedRange({start:e[0],end:e[1],startValue:d[0],endValue:d[1]})})}});ta("dataZoom",function(a,b){var c=kw(H(b.eachComponent,b,"dataZoom"),Pc,function(e,f){return e.get(f.axisIndex)}),d=[];b.eachComponent({mainType:"dataZoom",query:a},function(e,f){d.push.apply(d,c(e).nodes)});y(d,function(e,f){e.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})});Js.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,
moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});ta({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});fa(jr,wa);var Ls=Ks.extend({type:"dataZoom.inside",init:function(a,b){},render:function(a,b,c,d){Ls.superApply(this,"render",arguments);this._range=a.getPercentRange();y(this.getTargetCoordInfo(),function(e,f){var g=E(e,function(h){h=h.model;return h.type+"\x00_"+h.id});y(e,function(h){var k=h.model,l={};y(["pan","zoom","scrollMove"],function(m){l[m]=H(ny[m],this,
h,f)},this);tw(c,{coordId:k.type+"\x00_"+k.id,allCoordIds:g,containsPoint:function(m,n,p){return k.coordinateSystem.containPoint([n,p])},dataZoomId:a.id,dataZoomModel:a,getRange:l})},this)},this)},dispose:function(){xw(this.api,this.dataZoomModel.id);Ls.superApply(this,"dispose",arguments);this._range=null}}),ny={zoom:function(a,b,c,d){var e=this._range,f=e.slice(),g=a.axisModels[0];if(g&&(a=lm[b](null,[d.originX,d.originY],g,c,a),a=(0<a.signal?a.pixelStart+a.pixelLength-a.pixel:a.pixel-a.pixelStart)/
a.pixelLength*(f[1]-f[0])+f[0],d=Math.max(1/d.scale,0),f[0]=(f[0]-a)*d+a,f[1]=(f[1]-a)*d+a,d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan(),bh(0,f,[0,100],0,d.minSpan,d.maxSpan),this._range=f,e[0]!==f[0]||e[1]!==f[1]))return f},pan:mr(function(a,b,c,d,e,f){b=lm[d]([f.oldX,f.oldY],[f.newX,f.newY],b,e,c);return b.signal*(a[1]-a[0])*b.pixel/b.pixelLength}),scrollMove:mr(function(a,b,c,d,e,f){return lm[d]([0,0],[f.scrollDelta,f.scrollDelta],b,e,c).signal*(a[1]-a[0])*f.scrollDelta})},
lm={grid:function(a,b,c,d,e){c=c.axis;d={};e=e.model.coordinateSystem.getRect();a=a||[0,0];"x"===c.dim?(d.pixel=b[0]-a[0],d.pixelLength=e.width,d.pixelStart=e.x,d.signal=c.inverse?1:-1):(d.pixel=b[1]-a[1],d.pixelLength=e.height,d.pixelStart=e.y,d.signal=c.inverse?-1:1);return d},polar:function(a,b,c,d,e){d=c.axis;var f={};e=e.model.coordinateSystem;var g=e.getRadiusAxis().getExtent(),h=e.getAngleAxis().getExtent();a=a?e.pointToCoord(a):[0,0];b=e.pointToCoord(b);"radiusAxis"===c.mainType?(f.pixel=
b[0]-a[0],f.pixelLength=g[1]-g[0],f.pixelStart=g[0],f.signal=d.inverse?1:-1):(f.pixel=b[1]-a[1],f.pixelLength=h[1]-h[0],f.pixelStart=h[0],f.signal=d.inverse?-1:1);return f},singleAxis:function(a,b,c,d,e){c=c.axis;e=e.model.coordinateSystem.getRect();d={};a=a||[0,0];"horizontal"===c.orient?(d.pixel=b[0]-a[0],d.pixelLength=e.width,d.pixelStart=e.x,d.signal=c.inverse?1:-1):(d.pixel=b[1]-a[1],d.pixelLength=e.height,d.pixelStart=e.y,d.signal=c.inverse?-1:1);return d}},oy=["rect","polygon","keep","clear"],
tf=y,Ms=M,xa=function(a){var b=a.mappingMethod,c=a.type;a=this.option=N(a);this.type=c;this.mappingMethod=b;this._normalizeData=py[b];c=Gf[c];this.applyVisual=c.applyVisual;this.getColorMapper=c.getColorMapper;this._doMap=c._doMap[b];"piecewise"===b?(Qk(a),zw(a)):"category"===b?a.categories?Aw(a):Qk(a,!0):(W("linear"!==b||a.dataExtent),Qk(a))};xa.prototype={constructor:xa,mapValueToVisual:function(a){var b=this._normalizeData(a);return this._doMap(b,a)},getNormalizer:function(){return H(this._normalizeData,
this)}};var Gf=xa.visualHandlers={color:{applyVisual:dh("color"),getColorMapper:function(){var a=this.option;return H("category"===a.mappingMethod?function(b,c){!c&&(b=this._normalizeData(b));return eh.call(this,b)}:function(b,c,d){var e=!!d;!c&&(b=this._normalizeData(b));d=Ce(b,a.parsedVisual,d);return e?d:Qb(d,"rgba")},this)},_doMap:{linear:function(a){return Qb(Ce(a,this.option.parsedVisual),"rgba")},category:eh,piecewise:function(a,b){b=Sk.call(this,b);null==b&&(b=Qb(Ce(a,this.option.parsedVisual),
"rgba"));return b},fixed:qd}},colorHue:ch(function(a,b){return Pf(a,b)}),colorSaturation:ch(function(a,b){return Pf(a,null,b)}),colorLightness:ch(function(a,b){return Pf(a,null,null,b)}),colorAlpha:ch(function(a,b){return oi(a,b)}),opacity:{applyVisual:dh("opacity"),_doMap:Rk([0,1])},liftZ:{applyVisual:dh("liftZ"),_doMap:{linear:qd,category:qd,piecewise:qd,fixed:qd}},symbol:{applyVisual:function(a,b,c){a=this.mapValueToVisual(a);if(ja(a))c("symbol",a);else if(Ms(a))for(var d in a)a.hasOwnProperty(d)&&
c(d,a[d])},_doMap:{linear:or,category:eh,piecewise:function(a,b){b=Sk.call(this,b);null==b&&(b=or.call(this,a));return b},fixed:qd}},symbolSize:{applyVisual:dh("symbolSize"),_doMap:Rk([0,1])}},py={linear:function(a){return ia(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var b=this.option.pieceList;a=xa.findPieceIndex(a,b,!0);if(null!=a)return ia(a,[0,b.length-1],[0,1],!0)},category:function(a){a=this.option.categories?this.option.categoryMap[a]:a;return null==a?-1:a},fixed:Za};xa.listVisualTypes=
function(){var a=[];y(Gf,function(b,c){a.push(c)});return a};xa.addVisualHandler=function(a,b){Gf[a]=b};xa.isValidType=function(a){return Gf.hasOwnProperty(a)};xa.eachVisual=function(a,b,c){M(a)?y(a,b,c):b.call(c,a)};xa.mapVisual=function(a,b,c){var d,e=F(a)?[]:M(a)?{}:(d=!0,null);xa.eachVisual(a,function(f,g){f=b.call(c,f,g);d?e=f:e[g]=f});return e};xa.retrieveVisuals=function(a){var b={},c;a&&tf(Gf,function(d,e){a.hasOwnProperty(e)&&(b[e]=a[e],c=!0)});return c?b:null};xa.prepareVisualTypes=function(a){if(Ms(a)){var b=
[];tf(a,function(c,d){b.push(d)});a=b}else if(F(a))a=a.slice();else return[];a.sort(function(c,d){return"color"===d&&"color"!==c&&0===c.indexOf("color")?1:-1});return a};xa.dependsOn=function(a,b){return"color"===b?!(!a||0!==a.indexOf(b)):a===b};xa.findPieceIndex=function(a,b,c){function d(m,n){m=Math.abs(m-a);m<f&&(f=m,e=n)}for(var e,f=Infinity,g=0,h=b.length;g<h;g++){var k=b[g].value;if(null!=k){if(k===a||"string"===typeof k&&k===a+"")return g;c&&d(k,g)}}g=0;for(h=b.length;g<h;g++){var l=b[g];k=
l.interval;l=l.close;if(k){if(-Infinity===k[0]){if(fh(l[1],a,k[1]))return g}else if(Infinity===k[1]){if(fh(l[0],k[0],a))return g}else if(fh(l[0],k[0],a)&&fh(l[1],a,k[1]))return g;c&&d(k[0],g);c&&d(k[1],g)}}if(c)return Infinity===a?b.length-1:-Infinity===a?0:e};var qr=y,Uk={lineX:rr(0),lineY:rr(1),rect:{point:function(a,b,c){return a&&c.boundingRect.contain(a[0],a[1])},rect:function(a,b,c){return a&&c.boundingRect.intersect(a)}},polygon:{point:function(a,b,c){return a&&c.boundingRect.contain(a[0],
a[1])&&md(c.range,a[0],a[1])},rect:function(a,b,c){b=c.range;if(!a||1>=b.length)return!1;c=a.x;var d=a.y,e=a.width,f=a.height,g=b[0];if(md(b,c,d)||md(b,c+e,d)||md(b,c,d+f)||md(b,c+e,d+f)||aa.create(a).contain(g[0],g[1])||Ve(c,d,c+e,d,b)||Ve(c,d,c,d+f,b)||Ve(c+e,d,c+e,d+f,b)||Ve(c,d+f,c+e,d+f,b))return!0}}},Hw={axisPointer:1,tooltip:1,brush:1},Ic=y,gh=ba,mm=["dataToPoint","pointToData"],tr="grid xAxis yAxis geo graph polar radiusAxis angleAxis bmap".split(" "),qe=sr.prototype;qe.setOutputRanges=function(a,
b){this.matchOutputRanges(a,b,function(c,d,e){(c.coordRanges||(c.coordRanges=[])).push(d);c.coordRange||(c.coordRange=d,d=nm[c.brushType](0,e,d),c.__rangeOffset={offset:Ns[c.brushType](d.values,c.range,[1,1]),xyMinMax:d.xyMinMax})})};qe.matchOutputRanges=function(a,b,c){Ic(a,function(d){var e=this.findTargetInfo(d,b);e&&!0!==e&&y(e.coordSyses,function(f){var g=nm[d.brushType](1,f,d.range);c(d,g.values,f,b)})},this)};qe.setInputRanges=function(a,b){Ic(a,function(c){var d=this.findTargetInfo(c,b);D&&
(W(!d||!0===d||c.coordRange,"coordRange must be specified when coord index specified."),W(!d||!0!==d||c.range,"range must be specified in global brush."));c.range=c.range||[];if(d&&!0!==d){c.panelId=d.panelId;var e=nm[c.brushType](0,d.coordSys,c.coordRange),f=c.__rangeOffset;if(f){d=Ns;var g=d[c.brushType],h=e.values,k=f.offset;f=f.xyMinMax;e=wr(e.xyMinMax);f=wr(f);e=[e[0]/f[0],e[1]/f[1]];isNaN(e[0])&&(e[0]=1);isNaN(e[1])&&(e[1]=1);d=g.call(d,h,k,e)}else d=e.values;c.range=d}},this)};qe.makePanelOpts=
function(a,b){return E(this._targetInfoList,function(c){var d=c.getPanelRect();return{panelId:c.panelId,defaultBrushType:b&&b(c),clipPath:Ew(d),isTargetByCursor:Gw(d,a,c.coordSysModel),getLinearBrushOtherExtent:Fw(d)}})};qe.controlSeries=function(a,b,c){a=this.findTargetInfo(a,c);return!0===a||a&&0<=gh(a.coordSyses,b.coordinateSystem)};qe.findTargetInfo=function(a,b){var c=this._targetInfoList;b=Ee(b,a,{includeMainTypes:tr});for(var d=0;d<c.length;d++){var e=c[d],f=a.panelId;if(f){if(e.panelId===
f)return e}else for(d=0;d<Os.length;d++)if(Os[d](b,e))return e}return!0};var Iw={grid:function(a,b){var c=a.xAxisModels,d=a.yAxisModels;a=a.gridModels;var e=U(),f={},g={};if(c||d||a)Ic(c,function(h){h=h.axis.grid.model;e.set(h.id,h);f[h.id]=!0}),Ic(d,function(h){h=h.axis.grid.model;e.set(h.id,h);g[h.id]=!0}),Ic(a,function(h){e.set(h.id,h);f[h.id]=!0;g[h.id]=!0}),e.each(function(h){var k=[];Ic(h.coordinateSystem.getCartesians(),function(l,m){(0<=gh(c,l.getAxis("x").model)||0<=gh(d,l.getAxis("y").model))&&
k.push(l)});b.push({panelId:"grid--"+h.id,gridModel:h,coordSysModel:h,coordSys:k[0],coordSyses:k,getPanelRect:Ps.grid,xAxisDeclared:f[h.id],yAxisDeclared:g[h.id]})})},geo:function(a,b){Ic(a.geoModels,function(c){var d=c.coordinateSystem;b.push({panelId:"geo--"+c.id,geoModel:c,coordSysModel:c,coordSys:d,coordSyses:[d],getPanelRect:Ps.geo})})}},Os=[function(a,b){var c=a.xAxisModel,d=a.yAxisModel;a=a.gridModel;!a&&c&&(a=c.axis.grid.model);!a&&d&&(a=d.axis.grid.model);return a&&a===b.gridModel},function(a,
b){return(a=a.geoModel)&&a===b.geoModel}],Ps={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var a=this.coordSys,b=a.getBoundingRect().clone();b.applyTransform(xg(a));return b}},nm={lineX:O(ur,0),lineY:O(ur,1),rect:function(a,b,c){var d=b[mm[a]]([c[0][0],c[1][0]]);a=b[mm[a]]([c[0][1],c[1][1]]);d=[Tk([d[0],a[0]]),Tk([d[1],a[1]])];return{values:d,xyMinMax:d}},polygon:function(a,b,c){var d=[[Infinity,-Infinity],[Infinity,-Infinity]];return{values:E(c,function(e){e=b[mm[a]](e);
d[0][0]=Math.min(d[0][0],e[0]);d[1][0]=Math.min(d[1][0],e[1]);d[0][1]=Math.max(d[0][1],e[0]);d[1][1]=Math.max(d[1][1],e[1]);return e}),xyMinMax:d}}},Ns={lineX:O(vr,0),lineY:O(vr,1),rect:function(a,b,c){return[[a[0][0]-c[0]*b[0][0],a[0][1]-c[0]*b[0][1]],[a[1][0]-c[1]*b[1][0],a[1][1]-c[1]*b[1][1]]]},polygon:function(a,b,c){return E(a,function(d,e){return[d[0]-c[0]*b[e][0],d[1]-c[1]*b[e][1]]})}},Qs=["inBrush","outOfBrush"],Rs=wd.VISUAL.BRUSH;ce(Rs,function(a,b,c){a.eachComponent({mainType:"brush"},function(d){c&&
"takeGlobalCursor"===c.type&&d.setBrushOption("brush"===c.key?c.brushOption:{brushType:!1})});xr(a)});de(Rs,function(a,b,c){var d=[],e,f;a.eachComponent({mainType:"brush"},function(g,h){function k(z){return"all"===q||t[z]}function l(z,A){var B=z.coordinateSystem;v|=B.hasAxisBrushed();k(A)&&B.eachActiveState(z.getData(),function(K,V){"active"===K&&(r[V]=1)})}function m(z,A,B){var K=zr(z);if(K&&!Lw(g,A)&&(y(w,function(C){K[C.brushType]&&g.brushTargetManager.controlSeries(C,z,a)&&B.push(C);v|=!!B.length}),
k(A)&&B.length)){var V=z.getData();V.each(function(C){yr(K,B,V,C)&&(r[C]=1)})}}var n={brushId:g.id,brushIndex:h,brushName:g.name,areas:N(g.areas),selected:[]};d.push(n);var p=g.option,q=p.brushLink,t=[],r=[],u=[],v=0;h||(e=p.throttleType,f=p.throttleDelay);var w=E(g.areas,function(z){return Mw(T({boundingRect:qy[z.brushType](z)},z))}),x=Bw(g.option,Qs,function(z){z.mappingMethod="fixed"});F(q)&&y(q,function(z){t[z]=1});a.eachSeries(function(z,A){var B=u[A]=[];"parallel"===z.subType?l(z,A,B):m(z,A,
B)});a.eachSeries(function(z,A){var B={seriesId:z.id,seriesIndex:A,seriesName:z.name,dataIndex:[]};n.selected.push(B);var K=zr(z),V=u[A],C=z.getData();z=k(A)?function(ha){return r[ha]?(B.dataIndex.push(C.getRawIndex(ha)),"inBrush"):"outOfBrush"}:function(ha){return yr(K,V,C,ha)?(B.dataIndex.push(C.getRawIndex(ha)),"inBrush"):"outOfBrush"};(k(A)?v:V.length)&&Dw(Qs,x,C,z)})});Jw(b,e,f,d,c)});var qy={lineX:Za,lineY:Za,rect:function(a){return Ar(a.range)},polygon:function(a){a=a.range;for(var b=0,c=a.length;b<
c;b++){var d=d||[[Infinity,-Infinity],[Infinity,-Infinity]];var e=a[b];e[0]<d[0][0]&&(d[0][0]=e[0]);e[0]>d[0][1]&&(d[0][1]=e[0]);e[1]<d[1][0]&&(d[1][0]=e[1]);e[1]>d[1][1]&&(d[1][1]=e[1])}return d&&Ar(d)}},ry=["#ddd"];cc({type:"brush",dependencies:"geo grid xAxis yAxis parallel series".split(" "),defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",
borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1E4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(a,b){var c=this.option;!b&&Cw(c,a,["inBrush","outOfBrush"]);a=c.inBrush=c.inBrush||{};c.outOfBrush=c.outOfBrush||{color:ry};a.hasOwnProperty("liftZ")||(a.liftZ=5)},setAreas:function(a){D&&(W(F(a)),y(a,function(b){W(b.brushType,"Illegal areas")}));a&&(this.areas=E(a,function(b){return Br(this.option,b)},this))},setBrushOption:function(a){this.brushOption=
Br(this.option,a);this.brushType=this.brushOption.brushType}});var Jc=O,Ib=y,Rw=E,vf=Math.min,ke=Math.max,Vw=Math.pow,Tw={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Sw={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Ss={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},Nw=0;hh.prototype={constructor:hh,enableBrush:function(a){D&&W(this._mounted);if(this._brushType){var b=this._zr,c=this._uid,d=ah(b);d.globalPan===
c&&(d.globalPan=null);Qw(b,this._handlers);this._brushType=this._brushOption=null}a.brushType&&(b=this._zr,this._enableGlobalPan||(c=this._uid,ah(b).globalPan=c),Pw(b,this._handlers),this._brushType=a.brushType,this._brushOption=R(N(Ss),a,!0));return this},setPanels:function(a){if(a&&a.length){var b=this._panels={};y(a,function(c){b[c.panelId]=N(c)})}else this._panels=null;return this},mount:function(a){a=a||{};D&&(this._mounted=!0);this._enableGlobalPan=a.enableGlobalPan;var b=this.group;this._zr.add(b);
b.attr({position:a.position||[0,0],rotation:a.rotation||0,scale:a.scale||[1,1]});this._transform=b.getLocalTransform();return this},eachCover:function(a,b){Ib(this._covers,a,b)},updateCovers:function(a){function b(h,k){return(null!=h.id?h.id:"\x00-brush-index-"+k)+"-"+h.brushType}function c(h,k){var l=a[h];null!=k&&d[k]===g?e[h]=d[k]:(h=e[h]=null!=k?(d[k].__brushOption=l,d[k]):Er(f,Cr(f,l)),Vk(f,h))}D&&W(this._mounted);a=E(a,function(h){return R(N(Ss),h,!0)});var d=this._covers,e=this._covers=[],
f=this,g=this._creatingCover;(new Sg(d,a,function(h,k){return b(h.__brushOption,k)},b)).add(c).update(c).remove(function(h){d[h]!==g&&f.group.remove(d[h])}).execute();return this},unmount:function(){if(!D||this._mounted)return this.enableBrush(!1),Xk(this),this._zr.remove(this.group),D&&(this._mounted=!1),this},dispose:function(){this.unmount();this.off()}};fa(hh,wa);var Ow={mousedown:function(a){if(this._dragging)Or(this,a);else if(!a.target||!a.target.draggable){bl(a);var b=this.group.transformCoordToLocal(a.offsetX,
a.offsetY);this._creatingCover=null;if(this._creatingPanel=Wk(this,a,b))this._dragging=!0,this._track=[b.slice()]}},mousemove:function(a){var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);a:{var c;if(c=this._brushType)c=this._zr,c=!(0>a||a>c.getWidth()||void 0>c.getHeight());if(c){c=this._zr;var d=this._covers,e=Wk(this,a,b);if(!this._dragging)for(var f=0;f<d.length;f++){var g=d[f].__brushOption;if(e&&(!0===e||g.panelId===e.panelId)&&rd[g.brushType].contain(d[f],b[0],b[1]))break a}e&&c.setCursorStyle("crosshair")}}this._dragging&&
(bl(a),(a=Mr(this,a,b,!1))&&sd(this,a))},mouseup:function(a){Or(this,a)}},rd={lineX:Pr(0),lineY:Pr(1),rect:{createCover:function(a,b){return Hr(Jc(Kr,function(c){return c},function(c){return c}),a,b,"w e n s se sw ne nw".split(" "))},getCreatingRange:function(a){a=Gr(a);return Jr(a[1][0],a[1][1],a[0][0],a[0][1])},updateCoverShape:function(a,b,c,d){Ir(a,b,c,d)},updateCommon:Zk,contain:cl},polygon:{createCover:function(a,b){a=new P;a.add(new nf({name:"main",style:Yk(b),silent:!0}));return a},getCreatingRange:function(a){return a},
endCreating:function(a,b){b.remove(b.childAt(0));b.add(new ne({name:"main",draggable:!0,drift:Jc(Uw,a,b),ondragend:Jc(sd,a,{isEnd:!0})}))},updateCoverShape:function(a,b,c,d){b.childAt(0).setShape({points:al(a,b,c)})},updateCommon:Zk,contain:cl}};Gb({type:"brush",init:function(a,b){this.ecModel=a;this.api=b;(this._brushController=new hh(b.getZr())).on("brush",H(this._onBrush,this)).mount()},render:function(a){this.model=a;return dl.apply(this,arguments)},updateTransform:function(a,b){xr(b);return dl.apply(this,
arguments)},updateView:dl,dispose:function(){this._brushController.dispose()},_onBrush:function(a,b){var c=this.model.id;this.model.brushTargetManager.setOutputRanges(a,this.ecModel);b.isEnd&&!b.removeOnClick||this.api.dispatchAction({type:"brush",brushId:c,areas:N(a),$from:c});b.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:c,areas:N(a),$from:c})}});ta({type:"brush",event:"brush"},function(a,b){b.eachComponent({mainType:"brush",query:a},function(c){c.setAreas(a.areas)})});ta({type:"brushSelect",
event:"brushSelected",update:"none"},function(){});ta({type:"brushEnd",event:"brushEnd",update:"none"},function(){});Qr.defaultOption={show:!0,type:"rect polygon lineX lineY keep clear".split(" "),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",
lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",
clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:N({rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"})};var Rh=Qr.prototype;Rh.render=Rh.updateView=function(a,b,c){var d,e,f;b.eachComponent({mainType:"brush"},
function(g){d=g.brushType;e=g.brushOption.brushMode||"single";f|=g.areas.length});this._brushType=d;this._brushMode=e;y(a.get("type",!0),function(g){a.setIconStatus(g,("keep"===g?"multiple"===e:"clear"===g?f:g===d)?"emphasis":"normal")})};Rh.getIcons=function(){var a=this.model,b=a.get("icon",!0),c={};y(a.get("type",!0),function(d){b[d]&&(c[d]=b[d])});return c};Rh.onclick=function(a,b,c){a=this._brushType;var d=this._brushMode;"clear"===c?(b.dispatchAction({type:"axisAreaSelect",intervals:[]}),b.dispatchAction({type:"brush",
command:"clear",areas:[]})):b.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===c?a:a===c?!1:c,brushMode:"keep"===c?"multiple"===d?"single":"multiple":d}})};Fb(function(a,b){var c=a&&a.brush;F(c)||(c=c?[c]:[]);if(c.length){var d=[];y(c,function(e){e=e.hasOwnProperty("toolbox")?e.toolbox:[];e instanceof Array&&(d=d.concat(e))});c=a&&a.toolbox;F(c)&&(c=c[0]);c||(c={feature:{}},a.toolbox=[c]);a=c.feature||(c.feature={});a=a.brush||(a.brush={});a=a.type||(a.type=[]);
a.push.apply(a,d);yw(a);b&&!a.length&&a.push.apply(a,oy)}});var Sr={path:null,compoundPath:null,group:P,image:Sb,text:ua};Fb(function(a){var b=a.graphic;F(b)?a.graphic=b[0]&&b[0].elements?[a.graphic[0]]:[{elements:b}]:b&&!b.elements&&(a.graphic=[{elements:[b]}])});var sy=cc({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(a){var b=this.option.elements;this.option.elements=null;sy.superApply(this,"mergeOption",arguments);this.option.elements=b},
optionUpdated:function(a,b){var c=this.option;a=(b?c:a).elements;var d=c.elements=b?[]:c.elements;b=[];this._flatten(a,b);b=Oi(d,b);qn(b);var e=this._elOptionsToUpdate=[];y(b,function(f,g){var h=f.option;D&&W(M(h)||f.exist,"Empty graphic option definition");if(h){e.push(h);var k=f.exist;h.id=f.keyInfo.id;!h.type&&k&&(h.type=k.type);null==h.parentId&&((f=h.parentOption)?h.parentId=f.id:k&&(h.parentId=k.parentId));h.parentOption=null;k=S({},h);f=d[g];var l=h.$action||"merge";"merge"===l?f?(D&&(l=h.type,
W(!l||f.type===l,'Please set $action: "replace" to change `type`')),R(f,k,!0),hd(f,k,{ignoreSize:!0}),Yd(h,f)):d[g]=k:"replace"===l?d[g]=k:"remove"===l&&f&&(d[g]=null);if(g=d[g])g.hv=h.hv=[Tr(h,["left","right"]),Tr(h,["top","bottom"])],"group"===g.type&&(null==g.width&&(g.width=h.width=0),null==g.height&&(g.height=h.height=0))}},this);for(b=d.length-1;0<=b;b--)null==d[b]?d.splice(b,1):delete d[b].$action},_flatten:function(a,b,c){y(a,function(d){if(d){c&&(d.parentOption=c);b.push(d);var e=d.children;
"group"===d.type&&e&&this._flatten(e,b,d);delete d.children}},this)},useElOptionsToUpdate:function(){var a=this._elOptionsToUpdate;this._elOptionsToUpdate=null;return a}});Gb({type:"graphic",init:function(a,b){this._elMap=U()},render:function(a,b,c){a!==this._lastGraphicModel&&this._clear();this._lastGraphicModel=a;this._updateElements(a);this._relocate(a,c)},_updateElements:function(a){var b=a.useElOptionsToUpdate();if(b){var c=this._elMap,d=this.group;y(b,function(e){var f=e.$action,g=e.id,h=c.get(g),
k=e.parentId;k=null!=k?c.get(k):d;var l=e.style;"text"===e.type&&l&&(e.hv&&e.hv[1]&&(l.textVerticalAlign=l.textBaseline=null),!l.hasOwnProperty("textFill")&&l.fill&&(l.textFill=l.fill),!l.hasOwnProperty("textStroke")&&l.stroke&&(l.textStroke=l.stroke));l=Ww(e);D&&h&&W(k===h.parent,"Changing parent is not supported.");f&&"merge"!==f?"replace"===f?(ih(h,c),Rr(g,k,l,c)):"remove"===f&&ih(h,c):h?h.attr(l):Rr(g,k,l,c);if(f=c.get(g))f.__ecGraphicWidthOption=e.width,f.__ecGraphicHeightOption=e.height,e=f.eventData,
f.silent||f.ignore||e||(e=f.eventData={componentType:"graphic",componentIndex:a.componentIndex,name:f.name}),e&&(e.info=f.info)})}},_relocate:function(a,b){a=a.option.elements;var c=this.group,d=this._elMap,e=b.getWidth();b=b.getHeight();for(var f=0;f<a.length;f++){var g=a[f],h=d.get(g.id);if(h&&h.isGroup){var k=h.parent,l=k===c;h.__ecGraphicWidth=J(h.__ecGraphicWidthOption,l?e:k.__ecGraphicWidth)||0;h.__ecGraphicHeight=J(h.__ecGraphicHeightOption,l?b:k.__ecGraphicHeight)||0}}for(f=a.length-1;0<=
f;f--)if(g=a[f],h=d.get(g.id)){k=h.parent;l=void 0;var m=g,n=k===c?{width:e,height:b}:{width:k.__ecGraphicWidth,height:k.__ecGraphicHeight};l={hv:g.hv,boundingMode:g.bounding};var p=!l||!l.hv||l.hv[0];g=!l||!l.hv||l.hv[1];k=l&&l.boundingMode||"all";if(p||g){if("raw"===k)l="group"===h.type?new aa(0,0,+m.width||0,+m.height||0):h.getBoundingRect();else if(l=h.getBoundingRect(),h.needLocalTransform()){var q=h.getLocalTransform();l=l.clone();l.applyTransform(q)}m=Db(T({width:l.width,height:l.height},m),
n,null);n=h.position;p=p?m.x-l.x:0;l=g?m.y-l.y:0;h.attr("position","raw"===k?[p,l]:[n[0]+p,n[1]+l])}}},_clear:function(){var a=this._elMap;a.each(function(b){ih(b,a)});this._elMap=U()},dispose:function(){this._clear()}});L.version="4.9.0";L.dependencies=Ql;L.PRIORITY=wd;L.init=function(a,b,c){if(D){if(43.2<Ql.zrender.replace(".","")-0)throw Error("zrender/src 4.3.2 is too old for ECharts 4.9.0. Current version need ZRender "+Ql.zrender+"+");if(!a)throw Error("Initialize failed: invalid dom.");}var d=
Uj(a);if(d)return D&&console.warn("There is a chart instance already initialized on the dom."),d;D&&(!te(a)||"CANVAS"===a.nodeName.toUpperCase()||(a.clientWidth||c&&null!=c.width)&&(a.clientHeight||c&&null!=c.height)||console.warn("Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload."));b=new af(a,b,c);b.id="ec_"+zx++;jd[b.id]=b;rn(a,Vj,b.id);Ru(b);return b};L.connect=function(a){if(F(a)){var b=
a;a=null;sa(b,function(c){null!=c.group&&(a=c.group)});a=a||"g_"+Ax++;sa(b,function(c){c.group=a})}Rg[a]=!0;return a};L.disConnect=up;L.disconnect=up;L.dispose=function(a){"string"===typeof a?a=jd[a]:a instanceof af||(a=Uj(a));a instanceof af&&!a.isDisposed()&&a.dispose()};L.getInstanceByDom=Uj;L.getInstanceById=function(a){return jd[a]};L.registerTheme=function(a,b){Mg[a]=b};L.registerPreprocessor=Fb;L.registerProcessor=kd;L.registerPostUpdate=function(a){tp.push(a)};L.registerAction=ta;L.registerCoordinateSystem=
function(a,b){ac.register(a,b)};L.getCoordinateSystemDimensions=function(a){if(a=ac.get(a))return a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice()};L.registerLayout=ce;L.registerVisual=de;L.registerLoading=function(a,b){Bh[a]=b};L.extendComponentModel=cc;L.extendComponentView=Gb;L.extendSeriesModel=xp;L.extendChartView=yp;L.setCanvasCreator=function(a){om("createCanvas",a)};L.registerMap=function(a,b,c){ls.registerMap(a,b,c)};L.getMap=function(a){return(a=ls.retrieveMap(a))&&a[0]&&{geoJson:a[0].geoJSON,
specialAreas:a[0].specialAreas}};L.dataTool={};L.zrender=ex;L.number=nx;L.format=ox;L.throttle=Ig;L.helper=Lx;L.matrix=ax;L.vector=Zw;L.color=bx;L.parseGeoJSON=ps;L.parseGeoJson=ps;L.util=rs;L.graphic=ss;L.List=Ya;L.Model=ka;L.Axis=xd;L.env=Q});